var yM=Object.defineProperty;var bM=(e,t,r)=>t in e?yM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var px=(e,t,r)=>bM(e,typeof t!="symbol"?t+"":t,r);function LC(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wM(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),r}var gx={exports:{}},Fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function jM(){if(j_)return Fc;j_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:o}}return Fc.Fragment=t,Fc.jsx=r,Fc.jsxs=r,Fc}var N_;function NM(){return N_||(N_=1,gx.exports=jM()),gx.exports}var n=NM(),xx={exports:{}},qc={},vx={exports:{}},yx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function _M(){return __||(__=1,(function(e){function t(P,X){var K=P.length;P.push(X);e:for(;0<K;){var he=K-1>>>1,V=P[he];if(0<s(V,X))P[he]=X,P[K]=V,K=he;else break e}}function r(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var X=P[0],K=P.pop();if(K!==X){P[0]=K;e:for(var he=0,V=P.length,R=V>>>1;he<R;){var H=2*(he+1)-1,ee=P[H],de=H+1,je=P[de];if(0>s(ee,K))de<V&&0>s(je,ee)?(P[he]=je,P[de]=K,he=de):(P[he]=ee,P[H]=K,he=H);else if(de<V&&0>s(je,K))P[he]=je,P[de]=K,he=de;else break e}}return X}function s(P,X){var K=P.sortIndex-X.sortIndex;return K!==0?K:P.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],f=[],m=1,g=null,x=3,y=!1,N=!1,_=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(P){for(var X=r(f);X!==null;){if(X.callback===null)a(f);else if(X.startTime<=P)a(f),X.sortIndex=X.expirationTime,t(h,X);else break;X=r(f)}}function C(P){if(_=!1,T(P),!N)if(r(h)!==null)N=!0,O||(O=!0,se());else{var X=r(f);X!==null&&be(C,X.startTime-P)}}var O=!1,M=-1,L=5,z=-1;function G(){return w?!0:!(e.unstable_now()-z<L)}function F(){if(w=!1,O){var P=e.unstable_now();z=P;var X=!0;try{e:{N=!1,_&&(_=!1,k(M),M=-1),y=!0;var K=x;try{t:{for(T(P),g=r(h);g!==null&&!(g.expirationTime>P&&G());){var he=g.callback;if(typeof he=="function"){g.callback=null,x=g.priorityLevel;var V=he(g.expirationTime<=P);if(P=e.unstable_now(),typeof V=="function"){g.callback=V,T(P),X=!0;break t}g===r(h)&&a(h),T(P)}else a(h);g=r(h)}if(g!==null)X=!0;else{var R=r(f);R!==null&&be(C,R.startTime-P),X=!1}}break e}finally{g=null,x=K,y=!1}X=void 0}}finally{X?se():O=!1}}}var se;if(typeof S=="function")se=function(){S(F)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,xe=J.port2;J.port1.onmessage=F,se=function(){xe.postMessage(null)}}else se=function(){E(F,0)};function be(P,X){M=E(function(){P(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(P){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var K=x;x=X;try{return P()}finally{x=K}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(P,X){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=x;x=P;try{return X()}finally{x=K}},e.unstable_scheduleCallback=function(P,X,K){var he=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?he+K:he):K=he,P){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,P={id:m++,callback:X,priorityLevel:P,startTime:K,expirationTime:V,sortIndex:-1},K>he?(P.sortIndex=K,t(f,P),r(h)===null&&P===r(f)&&(_?(k(M),M=-1):_=!0,be(C,K-he))):(P.sortIndex=V,t(h,P),N||y||(N=!0,O||(O=!0,se()))),P},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(P){var X=x;return function(){var K=x;x=X;try{return P.apply(this,arguments)}finally{x=K}}}})(yx)),yx}var E_;function EM(){return E_||(E_=1,vx.exports=_M()),vx.exports}var bx={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function SM(){if(S_)return Ge;S_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function E(R,H,ee){this.props=R,this.context=H,this.refs=w,this.updater=ee||N}E.prototype.isReactComponent={},E.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=E.prototype;function S(R,H,ee){this.props=R,this.context=H,this.refs=w,this.updater=ee||N}var T=S.prototype=new k;T.constructor=S,_(T,E.prototype),T.isPureReactComponent=!0;var C=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(R,H,ee){var de=ee.ref;return{$$typeof:e,type:R,key:H,ref:de!==void 0?de:null,props:ee}}function G(R,H){return z(R.type,H,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function se(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return H[ee]})}var J=/\/+/g;function xe(R,H){return typeof R=="object"&&R!==null&&R.key!=null?se(""+R.key):H.toString(36)}function be(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(O,O):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function P(R,H,ee,de,je){var I=typeof R;(I==="undefined"||I==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(I){case"bigint":case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case e:case t:me=!0;break;case m:return me=R._init,P(me(R._payload),H,ee,de,je)}}if(me)return je=je(R),me=de===""?"."+xe(R,0):de,C(je)?(ee="",me!=null&&(ee=me.replace(J,"$&/")+"/"),P(je,H,ee,"",function(Se){return Se})):je!=null&&(F(je)&&(je=G(je,ee+(je.key==null||R&&R.key===je.key?"":(""+je.key).replace(J,"$&/")+"/")+me)),H.push(je)),1;me=0;var Ce=de===""?".":de+":";if(C(R))for(var ne=0;ne<R.length;ne++)de=R[ne],I=Ce+xe(de,ne),me+=P(de,H,ee,I,je);else if(ne=y(R),typeof ne=="function")for(R=ne.call(R),ne=0;!(de=R.next()).done;)de=de.value,I=Ce+xe(de,ne++),me+=P(de,H,ee,I,je);else if(I==="object"){if(typeof R.then=="function")return P(be(R),H,ee,de,je);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function X(R,H,ee){if(R==null)return R;var de=[],je=0;return P(R,de,"","",function(I){return H.call(ee,I,je++)}),de}function K(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var he=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},V={map:X,forEach:function(R,H,ee){X(R,function(){H.apply(this,arguments)},ee)},count:function(R){var H=0;return X(R,function(){H++}),H},toArray:function(R){return X(R,function(H){return H})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ge.Activity=g,Ge.Children=V,Ge.Component=E,Ge.Fragment=r,Ge.Profiler=s,Ge.PureComponent=S,Ge.StrictMode=a,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},Ge.cache=function(R){return function(){return R.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(R,H,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var de=_({},R.props),je=R.key;if(H!=null)for(I in H.key!==void 0&&(je=""+H.key),H)!L.call(H,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&H.ref===void 0||(de[I]=H[I]);var I=arguments.length-2;if(I===1)de.children=ee;else if(1<I){for(var me=Array(I),Ce=0;Ce<I;Ce++)me[Ce]=arguments[Ce+2];de.children=me}return z(R.type,je,de)},Ge.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Ge.createElement=function(R,H,ee){var de,je={},I=null;if(H!=null)for(de in H.key!==void 0&&(I=""+H.key),H)L.call(H,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(je[de]=H[de]);var me=arguments.length-2;if(me===1)je.children=ee;else if(1<me){for(var Ce=Array(me),ne=0;ne<me;ne++)Ce[ne]=arguments[ne+2];je.children=Ce}if(R&&R.defaultProps)for(de in me=R.defaultProps,me)je[de]===void 0&&(je[de]=me[de]);return z(R,I,je)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(R){return{$$typeof:d,render:R}},Ge.isValidElement=F,Ge.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:K}},Ge.memo=function(R,H){return{$$typeof:f,type:R,compare:H===void 0?null:H}},Ge.startTransition=function(R){var H=M.T,ee={};M.T=ee;try{var de=R(),je=M.S;je!==null&&je(ee,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(O,he)}catch(I){he(I)}finally{H!==null&&ee.types!==null&&(H.types=ee.types),M.T=H}},Ge.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ge.use=function(R){return M.H.use(R)},Ge.useActionState=function(R,H,ee){return M.H.useActionState(R,H,ee)},Ge.useCallback=function(R,H){return M.H.useCallback(R,H)},Ge.useContext=function(R){return M.H.useContext(R)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(R,H){return M.H.useDeferredValue(R,H)},Ge.useEffect=function(R,H){return M.H.useEffect(R,H)},Ge.useEffectEvent=function(R){return M.H.useEffectEvent(R)},Ge.useId=function(){return M.H.useId()},Ge.useImperativeHandle=function(R,H,ee){return M.H.useImperativeHandle(R,H,ee)},Ge.useInsertionEffect=function(R,H){return M.H.useInsertionEffect(R,H)},Ge.useLayoutEffect=function(R,H){return M.H.useLayoutEffect(R,H)},Ge.useMemo=function(R,H){return M.H.useMemo(R,H)},Ge.useOptimistic=function(R,H){return M.H.useOptimistic(R,H)},Ge.useReducer=function(R,H,ee){return M.H.useReducer(R,H,ee)},Ge.useRef=function(R){return M.H.useRef(R)},Ge.useState=function(R){return M.H.useState(R)},Ge.useSyncExternalStore=function(R,H,ee){return M.H.useSyncExternalStore(R,H,ee)},Ge.useTransition=function(){return M.H.useTransition()},Ge.version="19.2.0",Ge}var k_;function Ml(){return k_||(k_=1,bx.exports=SM()),bx.exports}var wx={exports:{}},Er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function kM(){if(C_)return Er;C_=1;var e=Ml();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Er.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,m)},Er.flushSync=function(h){var f=c.T,m=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=f,a.p=m,a.d.f()}},Er.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},Er.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Er.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=d(m,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:y}):m==="script"&&a.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Er.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},Er.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=d(m,f.crossOrigin);a.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Er.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},Er.requestFormReset=function(h){a.d.r(h)},Er.unstable_batchedUpdates=function(h,f){return h(f)},Er.useFormState=function(h,f,m){return c.H.useFormState(h,f,m)},Er.useFormStatus=function(){return c.H.useHostTransitionStatus()},Er.version="19.2.0",Er}var A_;function UC(){if(A_)return wx.exports;A_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wx.exports=kM(),wx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function CM(){if(T_)return qc;T_=1;var e=EM(),t=Ml(),r=UC();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(a(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,p=l;;){var b=u.return;if(b===null)break;var j=b.alternate;if(j===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===j.child){for(j=b.child;j;){if(j===u)return h(b),i;if(j===p)return h(b),l;j=j.sibling}throw Error(a(188))}if(u.return!==p.return)u=b,p=j;else{for(var A=!1,D=b.child;D;){if(D===u){A=!0,u=b,p=j;break}if(D===p){A=!0,p=b,u=j;break}D=D.sibling}if(!A){for(D=j.child;D;){if(D===u){A=!0,u=j,p=b;break}if(D===p){A=!0,p=j,u=b;break}D=D.sibling}if(!A)throw Error(a(189))}}if(u.alternate!==p)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case S:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case T:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return l=i.displayName||null,l!==null?l:xe(i.type)||"Memo";case L:l=i._payload,i=i._init;try{return xe(i(l))}catch{}}return null}var be=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},he=[],V=-1;function R(i){return{current:i}}function H(i){0>V||(i.current=he[V],he[V]=null,V--)}function ee(i,l){V++,he[V]=i.current,i.current=l}var de=R(null),je=R(null),I=R(null),me=R(null);function Ce(i,l){switch(ee(I,l),ee(je,i),ee(de,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?GN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=GN(l),i=VN(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(de),ee(de,i)}function ne(){H(de),H(je),H(I)}function Se(i){i.memoizedState!==null&&ee(me,i);var l=de.current,u=VN(l,i.type);l!==u&&(ee(je,i),ee(de,u))}function q(i){je.current===i&&(H(de),H(je)),me.current===i&&(H(me),Uc._currentValue=K)}var ie,$;function ce(i){if(ie===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||"",$=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+i+$}var ye=!1;function le(i,l){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(oe){var re=oe}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(oe){re=oe}i.call(ve.prototype)}}else{try{throw Error()}catch(oe){re=oe}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=p.DetermineComponentFrameRoot(),A=j[0],D=j[1];if(A&&D){var U=A.split(`
`),Z=D.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<Z.length&&!Z[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===Z.length)for(p=U.length-1,b=Z.length-1;1<=p&&0<=b&&U[p]!==Z[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==Z[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==Z[b]){var fe=`
`+U[p].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=p&&0<=b);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ce(u):""}function Ne(i,l){switch(i.tag){case 26:case 27:case 5:return ce(i.type);case 16:return ce("Lazy");case 13:return i.child!==l&&l!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return le(i.type,!1);case 11:return le(i.type.render,!1);case 1:return le(i.type,!0);case 31:return ce("Activity");default:return""}}function Ae(i){try{var l="",u=null;do l+=Ne(i,u),u=i,i=i.return;while(i);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var we=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,Fe=e.unstable_shouldYield,ke=e.unstable_requestPaint,He=e.unstable_now,Ze=e.unstable_getCurrentPriorityLevel,pt=e.unstable_ImmediatePriority,Vt=e.unstable_UserBlockingPriority,Ct=e.unstable_NormalPriority,Tn=e.unstable_LowPriority,Ql=e.unstable_IdlePriority,Xu=e.log,Ku=e.unstable_setDisableYieldValue,js=null,Nr=null;function Ga(i){if(typeof Xu=="function"&&Ku(i),Nr&&typeof Nr.setStrictMode=="function")try{Nr.setStrictMode(js,i)}catch{}}var _r=Math.clz32?Math.clz32:Zu,Ju=Math.log,Qu=Math.LN2;function Zu(i){return i>>>=0,i===0?32:31-(Ju(i)/Qu|0)|0}var pi=256,gi=262144,xi=4194304;function fn(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,l,u){var p=i.pendingLanes;if(p===0)return 0;var b=0,j=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var D=p&134217727;return D!==0?(p=D&~j,p!==0?b=fn(p):(A&=D,A!==0?b=fn(A):u||(u=D&~i,u!==0&&(b=fn(u))))):(D=p&~j,D!==0?b=fn(D):A!==0?b=fn(A):u||(u=p&~i,u!==0&&(b=fn(u)))),b===0?0:l!==0&&l!==b&&(l&j)===0&&(j=b&-b,u=l&-l,j>=u||j===32&&(u&4194048)!==0)?l:b}function Ns(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function ed(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function te(){var i=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),i}function Dt(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Lt(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ap(i,l,u,p,b,j){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,U=i.expirationTimes,Z=i.hiddenUpdates;for(u=A&~u;0<u;){var fe=31-_r(u),ve=1<<fe;D[fe]=0,U[fe]=-1;var re=Z[fe];if(re!==null)for(Z[fe]=null,fe=0;fe<re.length;fe++){var oe=re[fe];oe!==null&&(oe.lane&=-536870913)}u&=~ve}p!==0&&kw(i,p,0),j!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=j&~(A&~l))}function kw(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-_r(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|u&261930}function Cw(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var p=31-_r(u),b=1<<p;b&l|i[p]&l&&(i[p]|=l),u&=~b}}function Aw(i,l){var u=l&-l;return u=(u&42)!==0?1:np(u),(u&(i.suspendedLanes|l))!==0?0:u}function np(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function sp(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Tw(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:p_(i.type))}function Ow(i,l){var u=X.p;try{return X.p=i,l()}finally{X.p=u}}var _s=Math.random().toString(36).slice(2),cr="__reactFiber$"+_s,qr="__reactProps$"+_s,po="__reactContainer$"+_s,ip="__reactEvents$"+_s,lP="__reactListeners$"+_s,cP="__reactHandles$"+_s,Rw="__reactResources$"+_s,Zl="__reactMarker$"+_s;function op(i){delete i[cr],delete i[qr],delete i[ip],delete i[lP],delete i[cP]}function go(i){var l=i[cr];if(l)return l;for(var u=i.parentNode;u;){if(l=u[po]||u[cr]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=ZN(i);i!==null;){if(u=i[cr])return u;i=ZN(i)}return l}i=u,u=i.parentNode}return null}function xo(i){if(i=i[cr]||i[po]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function ec(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function vo(i){var l=i[Rw];return l||(l=i[Rw]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function tr(i){i[Zl]=!0}var Dw=new Set,Pw={};function yi(i,l){yo(i,l),yo(i+"Capture",l)}function yo(i,l){for(Pw[i]=l,i=0;i<l.length;i++)Dw.add(l[i])}var uP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mw={},Iw={};function dP(i){return we.call(Iw,i)?!0:we.call(Mw,i)?!1:uP.test(i)?Iw[i]=!0:(Mw[i]=!0,!1)}function td(i,l,u){if(dP(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function rd(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function On(i,l,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+p)}}function _a(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lw(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hP(i,l,u){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,j=p.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(A){u=""+A,j.call(this,A)}}),Object.defineProperty(i,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function lp(i){if(!i._valueTracker){var l=Lw(i)?"checked":"value";i._valueTracker=hP(i,l,""+i[l])}}function Uw(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return i&&(p=Lw(i)?i.checked?"true":"false":i.value),i=p,i!==u?(l.setValue(i),!0):!1}function ad(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fP=/[\n"\\]/g;function Ea(i){return i.replace(fP,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function cp(i,l,u,p,b,j,A,D){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),l!=null?A==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+_a(l)):i.value!==""+_a(l)&&(i.value=""+_a(l)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),l!=null?up(i,A,_a(l)):u!=null?up(i,A,_a(u)):p!=null&&i.removeAttribute("value"),b==null&&j!=null&&(i.defaultChecked=!!j),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+_a(D):i.removeAttribute("name")}function $w(i,l,u,p,b,j,A,D){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),l!=null||u!=null){if(!(j!=="submit"&&j!=="reset"||l!=null)){lp(i);return}u=u!=null?""+_a(u):"",l=l!=null?""+_a(l):u,D||l===i.value||(i.value=l),i.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=D?i.checked:!!p,i.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),lp(i)}function up(i,l,u){l==="number"&&ad(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function bo(i,l,u,p){if(i=i.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=l.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&p&&(i[u].defaultSelected=!0)}else{for(u=""+_a(u),l=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function Bw(i,l,u){if(l!=null&&(l=""+_a(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+_a(u):""}function zw(i,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(a(92));if(be(p)){if(1<p.length)throw Error(a(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=_a(l),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p),lp(i)}function wo(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var mP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fw(i,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,u):typeof u!="number"||u===0||mP.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function qw(i,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&u[b]!==p&&Fw(i,b,p)}else for(var j in l)l.hasOwnProperty(j)&&Fw(i,j,l[j])}function dp(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nd(i){return gP.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Rn(){}var hp=null;function fp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jo=null,No=null;function Hw(i){var l=xo(i);if(l&&(i=l.stateNode)){var u=i[qr]||null;e:switch(i=l.stateNode,l.type){case"input":if(cp(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ea(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==i&&p.form===i.form){var b=p[qr]||null;if(!b)throw Error(a(90));cp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===i.form&&Uw(p)}break e;case"textarea":Bw(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&bo(i,!!u.multiple,l,!1)}}}var mp=!1;function Gw(i,l,u){if(mp)return i(l,u);mp=!0;try{var p=i(l);return p}finally{if(mp=!1,(jo!==null||No!==null)&&(Gd(),jo&&(l=jo,i=No,No=jo=null,Hw(l),i)))for(l=0;l<i.length;l++)Hw(i[l])}}function tc(i,l){var u=i.stateNode;if(u===null)return null;var p=u[qr]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=!1;if(Dn)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){pp=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{pp=!1}var Es=null,gp=null,sd=null;function Vw(){if(sd)return sd;var i,l=gp,u=l.length,p,b="value"in Es?Es.value:Es.textContent,j=b.length;for(i=0;i<u&&l[i]===b[i];i++);var A=u-i;for(p=1;p<=A&&l[u-p]===b[j-p];p++);return sd=b.slice(i,1<p?1-p:void 0)}function id(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function od(){return!0}function Yw(){return!1}function Hr(i){function l(u,p,b,j,A){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=j,this.target=A,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(j):j[D]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?od:Yw,this.isPropagationStopped=Yw,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),l}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=Hr(bi),ac=g({},bi,{view:0,detail:0}),xP=Hr(ac),xp,vp,nc,cd=g({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nc&&(nc&&i.type==="mousemove"?(xp=i.screenX-nc.screenX,vp=i.screenY-nc.screenY):vp=xp=0,nc=i),xp)},movementY:function(i){return"movementY"in i?i.movementY:vp}}),Ww=Hr(cd),vP=g({},cd,{dataTransfer:0}),yP=Hr(vP),bP=g({},ac,{relatedTarget:0}),yp=Hr(bP),wP=g({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),jP=Hr(wP),NP=g({},bi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_P=Hr(NP),EP=g({},bi,{data:0}),Xw=Hr(EP),SP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=CP[i])?!!l[i]:!1}function bp(){return AP}var TP=g({},ac,{key:function(i){if(i.key){var l=SP[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=id(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kP[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(i){return i.type==="keypress"?id(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?id(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),OP=Hr(TP),RP=g({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=Hr(RP),DP=g({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),PP=Hr(DP),MP=g({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=Hr(MP),LP=g({},cd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),UP=Hr(LP),$P=g({},bi,{newState:0,oldState:0}),BP=Hr($P),zP=[9,13,27,32],wp=Dn&&"CompositionEvent"in window,sc=null;Dn&&"documentMode"in document&&(sc=document.documentMode);var FP=Dn&&"TextEvent"in window&&!sc,Jw=Dn&&(!wp||sc&&8<sc&&11>=sc),Qw=" ",Zw=!1;function ej(i,l){switch(i){case"keyup":return zP.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _o=!1;function qP(i,l){switch(i){case"compositionend":return tj(l);case"keypress":return l.which!==32?null:(Zw=!0,Qw);case"textInput":return i=l.data,i===Qw&&Zw?null:i;default:return null}}function HP(i,l){if(_o)return i==="compositionend"||!wp&&ej(i,l)?(i=Vw(),sd=gp=Es=null,_o=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Jw&&l.locale!=="ko"?null:l.data;default:return null}}var GP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rj(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!GP[i.type]:l==="textarea"}function aj(i,l,u,p){jo?No?No.push(p):No=[p]:jo=p,l=Qd(l,"onChange"),0<l.length&&(u=new ld("onChange","change",null,u,p),i.push({event:u,listeners:l}))}var ic=null,oc=null;function VP(i){$N(i,0)}function ud(i){var l=ec(i);if(Uw(l))return i}function nj(i,l){if(i==="change")return l}var sj=!1;if(Dn){var jp;if(Dn){var Np="oninput"in document;if(!Np){var ij=document.createElement("div");ij.setAttribute("oninput","return;"),Np=typeof ij.oninput=="function"}jp=Np}else jp=!1;sj=jp&&(!document.documentMode||9<document.documentMode)}function oj(){ic&&(ic.detachEvent("onpropertychange",lj),oc=ic=null)}function lj(i){if(i.propertyName==="value"&&ud(oc)){var l=[];aj(l,oc,i,fp(i)),Gw(VP,l)}}function YP(i,l,u){i==="focusin"?(oj(),ic=l,oc=u,ic.attachEvent("onpropertychange",lj)):i==="focusout"&&oj()}function WP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ud(oc)}function XP(i,l){if(i==="click")return ud(l)}function KP(i,l){if(i==="input"||i==="change")return ud(l)}function JP(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var na=typeof Object.is=="function"?Object.is:JP;function lc(i,l){if(na(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!we.call(l,b)||!na(i[b],l[b]))return!1}return!0}function cj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uj(i,l){var u=cj(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=l&&p>=l)return{node:u,offset:l-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cj(u)}}function dj(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?dj(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function hj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ad(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=ad(i.document)}return l}function _p(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var QP=Dn&&"documentMode"in document&&11>=document.documentMode,Eo=null,Ep=null,cc=null,Sp=!1;function fj(i,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sp||Eo==null||Eo!==ad(p)||(p=Eo,"selectionStart"in p&&_p(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cc&&lc(cc,p)||(cc=p,p=Qd(Ep,"onSelect"),0<p.length&&(l=new ld("onSelect","select",null,l,u),i.push({event:l,listeners:p}),l.target=Eo)))}function wi(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var So={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},kp={},mj={};Dn&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function ji(i){if(kp[i])return kp[i];if(!So[i])return i;var l=So[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in mj)return kp[i]=l[u];return i}var pj=ji("animationend"),gj=ji("animationiteration"),xj=ji("animationstart"),ZP=ji("transitionrun"),e3=ji("transitionstart"),t3=ji("transitioncancel"),vj=ji("transitionend"),yj=new Map,Cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cp.push("scrollEnd");function Va(i,l){yj.set(i,l),yi(l,[i])}var dd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Sa=[],ko=0,Ap=0;function hd(){for(var i=ko,l=Ap=ko=0;l<i;){var u=Sa[l];Sa[l++]=null;var p=Sa[l];Sa[l++]=null;var b=Sa[l];Sa[l++]=null;var j=Sa[l];if(Sa[l++]=null,p!==null&&b!==null){var A=p.pending;A===null?b.next=b:(b.next=A.next,A.next=b),p.pending=b}j!==0&&bj(u,b,j)}}function fd(i,l,u,p){Sa[ko++]=i,Sa[ko++]=l,Sa[ko++]=u,Sa[ko++]=p,Ap|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Tp(i,l,u,p){return fd(i,l,u,p),md(i)}function Ni(i,l){return fd(i,null,null,l),md(i)}function bj(i,l,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var b=!1,j=i.return;j!==null;)j.childLanes|=u,p=j.alternate,p!==null&&(p.childLanes|=u),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(b=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,b&&l!==null&&(b=31-_r(u),i=j.hiddenUpdates,p=i[b],p===null?i[b]=[l]:p.push(l),l.lane=u|536870912),j):null}function md(i){if(50<Oc)throw Oc=0,$g=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Co={};function r3(i,l,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,l,u,p){return new r3(i,l,u,p)}function Op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pn(i,l){var u=i.alternate;return u===null?(u=sa(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function wj(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function pd(i,l,u,p,b,j){var A=0;if(p=i,typeof i=="function")Op(i)&&(A=1);else if(typeof i=="string")A=oM(i,u,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=sa(31,u,l,b),i.elementType=z,i.lanes=j,i;case _:return _i(u.children,b,j,l);case w:A=8,b|=24;break;case E:return i=sa(12,u,l,b|2),i.elementType=E,i.lanes=j,i;case C:return i=sa(13,u,l,b),i.elementType=C,i.lanes=j,i;case O:return i=sa(19,u,l,b),i.elementType=O,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:A=10;break e;case k:A=9;break e;case T:A=11;break e;case M:A=14;break e;case L:A=16,p=null;break e}A=29,u=Error(a(130,i===null?"null":typeof i,"")),p=null}return l=sa(A,u,l,b),l.elementType=i,l.type=p,l.lanes=j,l}function _i(i,l,u,p){return i=sa(7,i,p,l),i.lanes=u,i}function Rp(i,l,u){return i=sa(6,i,null,l),i.lanes=u,i}function jj(i){var l=sa(18,null,null,0);return l.stateNode=i,l}function Dp(i,l,u){return l=sa(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Nj=new WeakMap;function ka(i,l){if(typeof i=="object"&&i!==null){var u=Nj.get(i);return u!==void 0?u:(l={value:i,source:l,stack:Ae(l)},Nj.set(i,l),l)}return{value:i,source:l,stack:Ae(l)}}var Ao=[],To=0,gd=null,uc=0,Ca=[],Aa=0,Ss=null,mn=1,pn="";function Mn(i,l){Ao[To++]=uc,Ao[To++]=gd,gd=i,uc=l}function _j(i,l,u){Ca[Aa++]=mn,Ca[Aa++]=pn,Ca[Aa++]=Ss,Ss=i;var p=mn;i=pn;var b=32-_r(p)-1;p&=~(1<<b),u+=1;var j=32-_r(l)+b;if(30<j){var A=b-b%5;j=(p&(1<<A)-1).toString(32),p>>=A,b-=A,mn=1<<32-_r(l)+b|u<<b|p,pn=j+i}else mn=1<<j|u<<b|p,pn=i}function Pp(i){i.return!==null&&(Mn(i,1),_j(i,1,0))}function Mp(i){for(;i===gd;)gd=Ao[--To],Ao[To]=null,uc=Ao[--To],Ao[To]=null;for(;i===Ss;)Ss=Ca[--Aa],Ca[Aa]=null,pn=Ca[--Aa],Ca[Aa]=null,mn=Ca[--Aa],Ca[Aa]=null}function Ej(i,l){Ca[Aa++]=mn,Ca[Aa++]=pn,Ca[Aa++]=Ss,mn=l.id,pn=l.overflow,Ss=i}var ur=null,bt=null,Qe=!1,ks=null,Ta=!1,Ip=Error(a(519));function Cs(i){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(ka(l,i)),Ip}function Sj(i){var l=i.stateNode,u=i.type,p=i.memoizedProps;switch(l[cr]=i,l[qr]=p,u){case"dialog":Xe("cancel",l),Xe("close",l);break;case"iframe":case"object":case"embed":Xe("load",l);break;case"video":case"audio":for(u=0;u<Dc.length;u++)Xe(Dc[u],l);break;case"source":Xe("error",l);break;case"img":case"image":case"link":Xe("error",l),Xe("load",l);break;case"details":Xe("toggle",l);break;case"input":Xe("invalid",l),$w(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Xe("invalid",l);break;case"textarea":Xe("invalid",l),zw(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||qN(l.textContent,u)?(p.popover!=null&&(Xe("beforetoggle",l),Xe("toggle",l)),p.onScroll!=null&&Xe("scroll",l),p.onScrollEnd!=null&&Xe("scrollend",l),p.onClick!=null&&(l.onclick=Rn),l=!0):l=!1,l||Cs(i,!0)}function kj(i){for(ur=i.return;ur;)switch(ur.tag){case 5:case 31:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:ur=ur.return}}function Oo(i){if(i!==ur)return!1;if(!Qe)return kj(i),Qe=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||ex(i.type,i.memoizedProps)),u=!u),u&&bt&&Cs(i),kj(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));bt=QN(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));bt=QN(i)}else l===27?(l=bt,Fs(i.type)?(i=sx,sx=null,bt=i):bt=l):bt=ur?Ra(i.stateNode.nextSibling):null;return!0}function Ei(){bt=ur=null,Qe=!1}function Lp(){var i=ks;return i!==null&&(Wr===null?Wr=i:Wr.push.apply(Wr,i),ks=null),i}function dc(i){ks===null?ks=[i]:ks.push(i)}var Up=R(null),Si=null,In=null;function As(i,l,u){ee(Up,l._currentValue),l._currentValue=u}function Ln(i){i._currentValue=Up.current,H(Up)}function $p(i,l,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===u)break;i=i.return}}function Bp(i,l,u,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var j=b.dependencies;if(j!==null){var A=b.child;j=j.firstContext;e:for(;j!==null;){var D=j;j=b;for(var U=0;U<l.length;U++)if(D.context===l[U]){j.lanes|=u,D=j.alternate,D!==null&&(D.lanes|=u),$p(j.return,u,i),p||(A=null);break e}j=D.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(a(341));A.lanes|=u,j=A.alternate,j!==null&&(j.lanes|=u),$p(A,u,i),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function Ro(i,l,u,p){i=null;for(var b=l,j=!1;b!==null;){if(!j){if((b.flags&524288)!==0)j=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var D=b.type;na(b.pendingProps.value,A.value)||(i!==null?i.push(D):i=[D])}}else if(b===me.current){if(A=b.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Uc):i=[Uc])}b=b.return}i!==null&&Bp(l,i,u,p),l.flags|=262144}function xd(i){for(i=i.firstContext;i!==null;){if(!na(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ki(i){Si=i,In=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function dr(i){return Cj(Si,i)}function vd(i,l){return Si===null&&ki(i),Cj(i,l)}function Cj(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},In===null){if(i===null)throw Error(a(308));In=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else In=In.next=l;return u}var a3=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},n3=e.unstable_scheduleCallback,s3=e.unstable_NormalPriority,Ut={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zp(){return{controller:new a3,data:new Map,refCount:0}}function hc(i){i.refCount--,i.refCount===0&&n3(s3,function(){i.controller.abort()})}var fc=null,Fp=0,Do=0,Po=null;function i3(i,l){if(fc===null){var u=fc=[];Fp=0,Do=Gg(),Po={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Fp++,l.then(Aj,Aj),l}function Aj(){if(--Fp===0&&fc!==null){Po!==null&&(Po.status="fulfilled");var i=fc;fc=null,Do=0,Po=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function o3(i,l){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var Tj=P.S;P.S=function(i,l){fN=He(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&i3(i,l),Tj!==null&&Tj(i,l)};var Ci=R(null);function qp(){var i=Ci.current;return i!==null?i:gt.pooledCache}function yd(i,l){l===null?ee(Ci,Ci.current):ee(Ci,l.pool)}function Oj(){var i=qp();return i===null?null:{parent:Ut._currentValue,pool:i}}var Mo=Error(a(460)),Hp=Error(a(474)),bd=Error(a(542)),wd={then:function(){}};function Rj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dj(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Rn,Rn),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Mj(i),i;default:if(typeof l.status=="string")l.then(Rn,Rn);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Mj(i),i}throw Ti=l,Mo}}function Ai(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ti=u,Mo):u}}var Ti=null;function Pj(){if(Ti===null)throw Error(a(459));var i=Ti;return Ti=null,i}function Mj(i){if(i===Mo||i===bd)throw Error(a(483))}var Io=null,mc=0;function jd(i){var l=mc;return mc+=1,Io===null&&(Io=[]),Dj(Io,i,l)}function pc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Nd(i,l){throw l.$$typeof===x?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Ij(i){function l(W,B){if(i){var Q=W.deletions;Q===null?(W.deletions=[B],W.flags|=16):Q.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)l(W,B),B=B.sibling;return null}function p(W){for(var B=new Map;W!==null;)W.key!==null?B.set(W.key,W):B.set(W.index,W),W=W.sibling;return B}function b(W,B){return W=Pn(W,B),W.index=0,W.sibling=null,W}function j(W,B,Q){return W.index=Q,i?(Q=W.alternate,Q!==null?(Q=Q.index,Q<B?(W.flags|=67108866,B):Q):(W.flags|=67108866,B)):(W.flags|=1048576,B)}function A(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function D(W,B,Q,ge){return B===null||B.tag!==6?(B=Rp(Q,W.mode,ge),B.return=W,B):(B=b(B,Q),B.return=W,B)}function U(W,B,Q,ge){var $e=Q.type;return $e===_?fe(W,B,Q.props.children,ge,Q.key):B!==null&&(B.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===L&&Ai($e)===B.type)?(B=b(B,Q.props),pc(B,Q),B.return=W,B):(B=pd(Q.type,Q.key,Q.props,null,W.mode,ge),pc(B,Q),B.return=W,B)}function Z(W,B,Q,ge){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Dp(Q,W.mode,ge),B.return=W,B):(B=b(B,Q.children||[]),B.return=W,B)}function fe(W,B,Q,ge,$e){return B===null||B.tag!==7?(B=_i(Q,W.mode,ge,$e),B.return=W,B):(B=b(B,Q),B.return=W,B)}function ve(W,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Rp(""+B,W.mode,Q),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return Q=pd(B.type,B.key,B.props,null,W.mode,Q),pc(Q,B),Q.return=W,Q;case N:return B=Dp(B,W.mode,Q),B.return=W,B;case L:return B=Ai(B),ve(W,B,Q)}if(be(B)||se(B))return B=_i(B,W.mode,Q,null),B.return=W,B;if(typeof B.then=="function")return ve(W,jd(B),Q);if(B.$$typeof===S)return ve(W,vd(W,B),Q);Nd(W,B)}return null}function re(W,B,Q,ge){var $e=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return $e!==null?null:D(W,B,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===$e?U(W,B,Q,ge):null;case N:return Q.key===$e?Z(W,B,Q,ge):null;case L:return Q=Ai(Q),re(W,B,Q,ge)}if(be(Q)||se(Q))return $e!==null?null:fe(W,B,Q,ge,null);if(typeof Q.then=="function")return re(W,B,jd(Q),ge);if(Q.$$typeof===S)return re(W,B,vd(W,Q),ge);Nd(W,Q)}return null}function oe(W,B,Q,ge,$e){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return W=W.get(Q)||null,D(B,W,""+ge,$e);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return W=W.get(ge.key===null?Q:ge.key)||null,U(B,W,ge,$e);case N:return W=W.get(ge.key===null?Q:ge.key)||null,Z(B,W,ge,$e);case L:return ge=Ai(ge),oe(W,B,Q,ge,$e)}if(be(ge)||se(ge))return W=W.get(Q)||null,fe(B,W,ge,$e,null);if(typeof ge.then=="function")return oe(W,B,Q,jd(ge),$e);if(ge.$$typeof===S)return oe(W,B,Q,vd(B,ge),$e);Nd(B,ge)}return null}function Re(W,B,Q,ge){for(var $e=null,et=null,Pe=B,Ye=B=0,Je=null;Pe!==null&&Ye<Q.length;Ye++){Pe.index>Ye?(Je=Pe,Pe=null):Je=Pe.sibling;var tt=re(W,Pe,Q[Ye],ge);if(tt===null){Pe===null&&(Pe=Je);break}i&&Pe&&tt.alternate===null&&l(W,Pe),B=j(tt,B,Ye),et===null?$e=tt:et.sibling=tt,et=tt,Pe=Je}if(Ye===Q.length)return u(W,Pe),Qe&&Mn(W,Ye),$e;if(Pe===null){for(;Ye<Q.length;Ye++)Pe=ve(W,Q[Ye],ge),Pe!==null&&(B=j(Pe,B,Ye),et===null?$e=Pe:et.sibling=Pe,et=Pe);return Qe&&Mn(W,Ye),$e}for(Pe=p(Pe);Ye<Q.length;Ye++)Je=oe(Pe,W,Ye,Q[Ye],ge),Je!==null&&(i&&Je.alternate!==null&&Pe.delete(Je.key===null?Ye:Je.key),B=j(Je,B,Ye),et===null?$e=Je:et.sibling=Je,et=Je);return i&&Pe.forEach(function(Ys){return l(W,Ys)}),Qe&&Mn(W,Ye),$e}function ze(W,B,Q,ge){if(Q==null)throw Error(a(151));for(var $e=null,et=null,Pe=B,Ye=B=0,Je=null,tt=Q.next();Pe!==null&&!tt.done;Ye++,tt=Q.next()){Pe.index>Ye?(Je=Pe,Pe=null):Je=Pe.sibling;var Ys=re(W,Pe,tt.value,ge);if(Ys===null){Pe===null&&(Pe=Je);break}i&&Pe&&Ys.alternate===null&&l(W,Pe),B=j(Ys,B,Ye),et===null?$e=Ys:et.sibling=Ys,et=Ys,Pe=Je}if(tt.done)return u(W,Pe),Qe&&Mn(W,Ye),$e;if(Pe===null){for(;!tt.done;Ye++,tt=Q.next())tt=ve(W,tt.value,ge),tt!==null&&(B=j(tt,B,Ye),et===null?$e=tt:et.sibling=tt,et=tt);return Qe&&Mn(W,Ye),$e}for(Pe=p(Pe);!tt.done;Ye++,tt=Q.next())tt=oe(Pe,W,Ye,tt.value,ge),tt!==null&&(i&&tt.alternate!==null&&Pe.delete(tt.key===null?Ye:tt.key),B=j(tt,B,Ye),et===null?$e=tt:et.sibling=tt,et=tt);return i&&Pe.forEach(function(vM){return l(W,vM)}),Qe&&Mn(W,Ye),$e}function dt(W,B,Q,ge){if(typeof Q=="object"&&Q!==null&&Q.type===_&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var $e=Q.key;B!==null;){if(B.key===$e){if($e=Q.type,$e===_){if(B.tag===7){u(W,B.sibling),ge=b(B,Q.props.children),ge.return=W,W=ge;break e}}else if(B.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===L&&Ai($e)===B.type){u(W,B.sibling),ge=b(B,Q.props),pc(ge,Q),ge.return=W,W=ge;break e}u(W,B);break}else l(W,B);B=B.sibling}Q.type===_?(ge=_i(Q.props.children,W.mode,ge,Q.key),ge.return=W,W=ge):(ge=pd(Q.type,Q.key,Q.props,null,W.mode,ge),pc(ge,Q),ge.return=W,W=ge)}return A(W);case N:e:{for($e=Q.key;B!==null;){if(B.key===$e)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){u(W,B.sibling),ge=b(B,Q.children||[]),ge.return=W,W=ge;break e}else{u(W,B);break}else l(W,B);B=B.sibling}ge=Dp(Q,W.mode,ge),ge.return=W,W=ge}return A(W);case L:return Q=Ai(Q),dt(W,B,Q,ge)}if(be(Q))return Re(W,B,Q,ge);if(se(Q)){if($e=se(Q),typeof $e!="function")throw Error(a(150));return Q=$e.call(Q),ze(W,B,Q,ge)}if(typeof Q.then=="function")return dt(W,B,jd(Q),ge);if(Q.$$typeof===S)return dt(W,B,vd(W,Q),ge);Nd(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(u(W,B.sibling),ge=b(B,Q),ge.return=W,W=ge):(u(W,B),ge=Rp(Q,W.mode,ge),ge.return=W,W=ge),A(W)):u(W,B)}return function(W,B,Q,ge){try{mc=0;var $e=dt(W,B,Q,ge);return Io=null,$e}catch(Pe){if(Pe===Mo||Pe===bd)throw Pe;var et=sa(29,Pe,null,W.mode);return et.lanes=ge,et.return=W,et}finally{}}}var Oi=Ij(!0),Lj=Ij(!1),Ts=!1;function Gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rs(i,l,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(at&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=md(i),bj(i,null,u),l}return fd(i,p,l,u),md(i)}function gc(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,Cw(i,u)}}function Yp(i,l){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};j===null?b=j=A:j=j.next=A,u=u.next}while(u!==null);j===null?b=j=l:j=j.next=l}else b=j=l;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:j,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Wp=!1;function xc(){if(Wp){var i=Po;if(i!==null)throw i}}function vc(i,l,u,p){Wp=!1;var b=i.updateQueue;Ts=!1;var j=b.firstBaseUpdate,A=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var U=D,Z=U.next;U.next=null,A===null?j=Z:A.next=Z,A=U;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,D=fe.lastBaseUpdate,D!==A&&(D===null?fe.firstBaseUpdate=Z:D.next=Z,fe.lastBaseUpdate=U))}if(j!==null){var ve=b.baseState;A=0,fe=Z=U=null,D=j;do{var re=D.lane&-536870913,oe=re!==D.lane;if(oe?(Ke&re)===re:(p&re)===re){re!==0&&re===Do&&(Wp=!0),fe!==null&&(fe=fe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Re=i,ze=D;re=l;var dt=u;switch(ze.tag){case 1:if(Re=ze.payload,typeof Re=="function"){ve=Re.call(dt,ve,re);break e}ve=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ze.payload,re=typeof Re=="function"?Re.call(dt,ve,re):Re,re==null)break e;ve=g({},ve,re);break e;case 2:Ts=!0}}re=D.callback,re!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=b.callbacks,oe===null?b.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},fe===null?(Z=fe=oe,U=ve):fe=fe.next=oe,A|=re;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;oe=D,D=oe.next,oe.next=null,b.lastBaseUpdate=oe,b.shared.pending=null}}while(!0);fe===null&&(U=ve),b.baseState=U,b.firstBaseUpdate=Z,b.lastBaseUpdate=fe,j===null&&(b.shared.lanes=0),Ls|=A,i.lanes=A,i.memoizedState=ve}}function Uj(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function $j(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Uj(u[i],l)}var Lo=R(null),_d=R(0);function Bj(i,l){i=Vn,ee(_d,i),ee(Lo,l),Vn=i|l.baseLanes}function Xp(){ee(_d,Vn),ee(Lo,Lo.current)}function Kp(){Vn=_d.current,H(Lo),H(_d)}var ia=R(null),Oa=null;function Ds(i){var l=i.alternate;ee(Pt,Pt.current&1),ee(ia,i),Oa===null&&(l===null||Lo.current!==null||l.memoizedState!==null)&&(Oa=i)}function Jp(i){ee(Pt,Pt.current),ee(ia,i),Oa===null&&(Oa=i)}function zj(i){i.tag===22?(ee(Pt,Pt.current),ee(ia,i),Oa===null&&(Oa=i)):Ps()}function Ps(){ee(Pt,Pt.current),ee(ia,ia.current)}function oa(i){H(ia),Oa===i&&(Oa=null),H(Pt)}var Pt=R(0);function Ed(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ax(u)||nx(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Un=0,Ve=null,ct=null,$t=null,Sd=!1,Uo=!1,Ri=!1,kd=0,yc=0,$o=null,l3=0;function At(){throw Error(a(321))}function Qp(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!na(i[u],l[u]))return!1;return!0}function Zp(i,l,u,p,b,j){return Un=j,Ve=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,P.H=i===null||i.memoizedState===null?_1:mg,Ri=!1,j=u(p,b),Ri=!1,Uo&&(j=qj(l,u,p,b)),Fj(i),j}function Fj(i){P.H=jc;var l=ct!==null&&ct.next!==null;if(Un=0,$t=ct=Ve=null,Sd=!1,yc=0,$o=null,l)throw Error(a(300));i===null||Bt||(i=i.dependencies,i!==null&&xd(i)&&(Bt=!0))}function qj(i,l,u,p){Ve=i;var b=0;do{if(Uo&&($o=null),yc=0,Uo=!1,25<=b)throw Error(a(301));if(b+=1,$t=ct=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}P.H=E1,j=l(u,p)}while(Uo);return j}function c3(){var i=P.H,l=i.useState()[0];return l=typeof l.then=="function"?bc(l):l,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Ve.flags|=1024),l}function eg(){var i=kd!==0;return kd=0,i}function tg(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function rg(i){if(Sd){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Sd=!1}Un=0,$t=ct=Ve=null,Uo=!1,yc=kd=0,$o=null}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ve.memoizedState=$t=i:$t=$t.next=i,$t}function Mt(){if(ct===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var l=$t===null?Ve.memoizedState:$t.next;if(l!==null)$t=l,ct=i;else{if(i===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},$t===null?Ve.memoizedState=$t=i:$t=$t.next=i}return $t}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(i){var l=yc;return yc+=1,$o===null&&($o=[]),i=Dj($o,i,l),l=Ve,($t===null?l.memoizedState:$t.next)===null&&(l=l.alternate,P.H=l===null||l.memoizedState===null?_1:mg),i}function Ad(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bc(i);if(i.$$typeof===S)return dr(i)}throw Error(a(438,String(i)))}function ag(i){var l=null,u=Ve.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=Ve.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Cd(),Ve.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),p=0;p<i;p++)u[p]=G;return l.index++,u}function $n(i,l){return typeof l=="function"?l(i):l}function Td(i){var l=Mt();return ng(l,ct,i)}function ng(i,l,u){var p=i.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=u;var b=i.baseQueue,j=p.pending;if(j!==null){if(b!==null){var A=b.next;b.next=j.next,j.next=A}l.baseQueue=b=j,p.pending=null}if(j=i.baseState,b===null)i.memoizedState=j;else{l=b.next;var D=A=null,U=null,Z=l,fe=!1;do{var ve=Z.lane&-536870913;if(ve!==Z.lane?(Ke&ve)===ve:(Un&ve)===ve){var re=Z.revertLane;if(re===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ve===Do&&(fe=!0);else if((Un&re)===re){Z=Z.next,re===Do&&(fe=!0);continue}else ve={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(D=U=ve,A=j):U=U.next=ve,Ve.lanes|=re,Ls|=re;ve=Z.action,Ri&&u(j,ve),j=Z.hasEagerState?Z.eagerState:u(j,ve)}else re={lane:ve,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(D=U=re,A=j):U=U.next=re,Ve.lanes|=ve,Ls|=ve;Z=Z.next}while(Z!==null&&Z!==l);if(U===null?A=j:U.next=D,!na(j,i.memoizedState)&&(Bt=!0,fe&&(u=Po,u!==null)))throw u;i.memoizedState=j,i.baseState=A,i.baseQueue=U,p.lastRenderedState=j}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function sg(i){var l=Mt(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=u.dispatch,b=u.pending,j=l.memoizedState;if(b!==null){u.pending=null;var A=b=b.next;do j=i(j,A.action),A=A.next;while(A!==b);na(j,l.memoizedState)||(Bt=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),u.lastRenderedState=j}return[j,p]}function Hj(i,l,u){var p=Ve,b=Mt(),j=Qe;if(j){if(u===void 0)throw Error(a(407));u=u()}else u=l();var A=!na((ct||b).memoizedState,u);if(A&&(b.memoizedState=u,Bt=!0),b=b.queue,lg(Yj.bind(null,p,b,i),[i]),b.getSnapshot!==l||A||$t!==null&&$t.memoizedState.tag&1){if(p.flags|=2048,Bo(9,{destroy:void 0},Vj.bind(null,p,b,u,l),null),gt===null)throw Error(a(349));j||(Un&127)!==0||Gj(p,l,u)}return u}function Gj(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ve.updateQueue,l===null?(l=Cd(),Ve.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Vj(i,l,u,p){l.value=u,l.getSnapshot=p,Wj(l)&&Xj(i)}function Yj(i,l,u){return u(function(){Wj(l)&&Xj(i)})}function Wj(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!na(i,u)}catch{return!0}}function Xj(i){var l=Ni(i,2);l!==null&&Xr(l,i,2)}function ig(i){var l=Rr();if(typeof i=="function"){var u=i;if(i=u(),Ri){Ga(!0);try{u()}finally{Ga(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:i},l}function Kj(i,l,u,p){return i.baseState=u,ng(i,ct,typeof p=="function"?p:$n)}function u3(i,l,u,p,b){if(Dd(i))throw Error(a(485));if(i=l.action,i!==null){var j={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){j.listeners.push(A)}};P.T!==null?u(!0):j.isTransition=!1,p(j),u=l.pending,u===null?(j.next=l.pending=j,Jj(l,j)):(j.next=u.next,l.pending=u.next=j)}}function Jj(i,l){var u=l.action,p=l.payload,b=i.state;if(l.isTransition){var j=P.T,A={};P.T=A;try{var D=u(b,p),U=P.S;U!==null&&U(A,D),Qj(i,l,D)}catch(Z){og(i,l,Z)}finally{j!==null&&A.types!==null&&(j.types=A.types),P.T=j}}else try{j=u(b,p),Qj(i,l,j)}catch(Z){og(i,l,Z)}}function Qj(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Zj(i,l,p)},function(p){return og(i,l,p)}):Zj(i,l,u)}function Zj(i,l,u){l.status="fulfilled",l.value=u,e1(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,Jj(i,u)))}function og(i,l,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,e1(l),l=l.next;while(l!==p)}i.action=null}function e1(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function t1(i,l){return l}function r1(i,l){if(Qe){var u=gt.formState;if(u!==null){e:{var p=Ve;if(Qe){if(bt){t:{for(var b=bt,j=Ta;b.nodeType!==8;){if(!j){b=null;break t}if(b=Ra(b.nextSibling),b===null){b=null;break t}}j=b.data,b=j==="F!"||j==="F"?b:null}if(b){bt=Ra(b.nextSibling),p=b.data==="F!";break e}}Cs(p)}p=!1}p&&(l=u[0])}}return u=Rr(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t1,lastRenderedState:l},u.queue=p,u=w1.bind(null,Ve,p),p.dispatch=u,p=ig(!1),j=fg.bind(null,Ve,!1,p.queue),p=Rr(),b={state:l,dispatch:null,action:i,pending:null},p.queue=b,u=u3.bind(null,Ve,b,j,u),b.dispatch=u,p.memoizedState=i,[l,u,!1]}function a1(i){var l=Mt();return n1(l,ct,i)}function n1(i,l,u){if(l=ng(i,l,t1)[0],i=Td($n)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=bc(l)}catch(A){throw A===Mo?bd:A}else p=l;l=Mt();var b=l.queue,j=b.dispatch;return u!==l.memoizedState&&(Ve.flags|=2048,Bo(9,{destroy:void 0},d3.bind(null,b,u),null)),[p,j,i]}function d3(i,l){i.action=l}function s1(i){var l=Mt(),u=ct;if(u!==null)return n1(l,u,i);Mt(),l=l.memoizedState,u=Mt();var p=u.queue.dispatch;return u.memoizedState=i,[l,p,!1]}function Bo(i,l,u,p){return i={tag:i,create:u,deps:p,inst:l,next:null},l=Ve.updateQueue,l===null&&(l=Cd(),Ve.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,l.lastEffect=i),i}function i1(){return Mt().memoizedState}function Od(i,l,u,p){var b=Rr();Ve.flags|=i,b.memoizedState=Bo(1|l,{destroy:void 0},u,p===void 0?null:p)}function Rd(i,l,u,p){var b=Mt();p=p===void 0?null:p;var j=b.memoizedState.inst;ct!==null&&p!==null&&Qp(p,ct.memoizedState.deps)?b.memoizedState=Bo(l,j,u,p):(Ve.flags|=i,b.memoizedState=Bo(1|l,j,u,p))}function o1(i,l){Od(8390656,8,i,l)}function lg(i,l){Rd(2048,8,i,l)}function h3(i){Ve.flags|=4;var l=Ve.updateQueue;if(l===null)l=Cd(),Ve.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function l1(i){var l=Mt().memoizedState;return h3({ref:l,nextImpl:i}),function(){if((at&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function c1(i,l){return Rd(4,2,i,l)}function u1(i,l){return Rd(4,4,i,l)}function d1(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function h1(i,l,u){u=u!=null?u.concat([i]):null,Rd(4,4,d1.bind(null,l,i),u)}function cg(){}function f1(i,l){var u=Mt();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&Qp(l,p[1])?p[0]:(u.memoizedState=[i,l],i)}function m1(i,l){var u=Mt();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&Qp(l,p[1]))return p[0];if(p=i(),Ri){Ga(!0);try{i()}finally{Ga(!1)}}return u.memoizedState=[p,l],p}function ug(i,l,u){return u===void 0||(Un&1073741824)!==0&&(Ke&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=pN(),Ve.lanes|=i,Ls|=i,u)}function p1(i,l,u,p){return na(u,l)?u:Lo.current!==null?(i=ug(i,u,p),na(i,l)||(Bt=!0),i):(Un&42)===0||(Un&1073741824)!==0&&(Ke&261930)===0?(Bt=!0,i.memoizedState=u):(i=pN(),Ve.lanes|=i,Ls|=i,l)}function g1(i,l,u,p,b){var j=X.p;X.p=j!==0&&8>j?j:8;var A=P.T,D={};P.T=D,fg(i,!1,l,u);try{var U=b(),Z=P.S;if(Z!==null&&Z(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var fe=o3(U,p);wc(i,l,fe,ua(i))}else wc(i,l,p,ua(i))}catch(ve){wc(i,l,{then:function(){},status:"rejected",reason:ve},ua())}finally{X.p=j,A!==null&&D.types!==null&&(A.types=D.types),P.T=A}}function f3(){}function dg(i,l,u,p){if(i.tag!==5)throw Error(a(476));var b=x1(i).queue;g1(i,b,l,K,u===null?f3:function(){return v1(i),u(p)})}function x1(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:K},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function v1(i){var l=x1(i);l.next===null&&(l=i.alternate.memoizedState),wc(i,l.next.queue,{},ua())}function hg(){return dr(Uc)}function y1(){return Mt().memoizedState}function b1(){return Mt().memoizedState}function m3(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=ua();i=Os(u);var p=Rs(l,i,u);p!==null&&(Xr(p,l,u),gc(p,l,u)),l={cache:zp()},i.payload=l;return}l=l.return}}function p3(i,l,u){var p=ua();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dd(i)?j1(l,u):(u=Tp(i,l,u,p),u!==null&&(Xr(u,i,p),N1(u,l,p)))}function w1(i,l,u){var p=ua();wc(i,l,u,p)}function wc(i,l,u,p){var b={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Dd(i))j1(l,b);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var A=l.lastRenderedState,D=j(A,u);if(b.hasEagerState=!0,b.eagerState=D,na(D,A))return fd(i,l,b,0),gt===null&&hd(),!1}catch{}finally{}if(u=Tp(i,l,b,p),u!==null)return Xr(u,i,p),N1(u,l,p),!0}return!1}function fg(i,l,u,p){if(p={lane:2,revertLane:Gg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Dd(i)){if(l)throw Error(a(479))}else l=Tp(i,u,p,2),l!==null&&Xr(l,i,2)}function Dd(i){var l=i.alternate;return i===Ve||l!==null&&l===Ve}function j1(i,l){Uo=Sd=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function N1(i,l,u){if((u&4194048)!==0){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,Cw(i,u)}}var jc={readContext:dr,use:Ad,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};jc.useEffectEvent=At;var _1={readContext:dr,use:Ad,useCallback:function(i,l){return Rr().memoizedState=[i,l===void 0?null:l],i},useContext:dr,useEffect:o1,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,Od(4194308,4,d1.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Od(4194308,4,i,l)},useInsertionEffect:function(i,l){Od(4,2,i,l)},useMemo:function(i,l){var u=Rr();l=l===void 0?null:l;var p=i();if(Ri){Ga(!0);try{i()}finally{Ga(!1)}}return u.memoizedState=[p,l],p},useReducer:function(i,l,u){var p=Rr();if(u!==void 0){var b=u(l);if(Ri){Ga(!0);try{u(l)}finally{Ga(!1)}}}else b=l;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=p3.bind(null,Ve,i),[p.memoizedState,i]},useRef:function(i){var l=Rr();return i={current:i},l.memoizedState=i},useState:function(i){i=ig(i);var l=i.queue,u=w1.bind(null,Ve,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:cg,useDeferredValue:function(i,l){var u=Rr();return ug(u,i,l)},useTransition:function(){var i=ig(!1);return i=g1.bind(null,Ve,i.queue,!0,!1),Rr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var p=Ve,b=Rr();if(Qe){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),gt===null)throw Error(a(349));(Ke&127)!==0||Gj(p,l,u)}b.memoizedState=u;var j={value:u,getSnapshot:l};return b.queue=j,o1(Yj.bind(null,p,j,i),[i]),p.flags|=2048,Bo(9,{destroy:void 0},Vj.bind(null,p,j,u,l),null),u},useId:function(){var i=Rr(),l=gt.identifierPrefix;if(Qe){var u=pn,p=mn;u=(p&~(1<<32-_r(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=kd++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=l3++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:hg,useFormState:r1,useActionState:r1,useOptimistic:function(i){var l=Rr();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=fg.bind(null,Ve,!0,u),u.dispatch=l,[i,l]},useMemoCache:ag,useCacheRefresh:function(){return Rr().memoizedState=m3.bind(null,Ve)},useEffectEvent:function(i){var l=Rr(),u={impl:i};return l.memoizedState=u,function(){if((at&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},mg={readContext:dr,use:Ad,useCallback:f1,useContext:dr,useEffect:lg,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:m1,useReducer:Td,useRef:i1,useState:function(){return Td($n)},useDebugValue:cg,useDeferredValue:function(i,l){var u=Mt();return p1(u,ct.memoizedState,i,l)},useTransition:function(){var i=Td($n)[0],l=Mt().memoizedState;return[typeof i=="boolean"?i:bc(i),l]},useSyncExternalStore:Hj,useId:y1,useHostTransitionStatus:hg,useFormState:a1,useActionState:a1,useOptimistic:function(i,l){var u=Mt();return Kj(u,ct,i,l)},useMemoCache:ag,useCacheRefresh:b1};mg.useEffectEvent=l1;var E1={readContext:dr,use:Ad,useCallback:f1,useContext:dr,useEffect:lg,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:u1,useMemo:m1,useReducer:sg,useRef:i1,useState:function(){return sg($n)},useDebugValue:cg,useDeferredValue:function(i,l){var u=Mt();return ct===null?ug(u,i,l):p1(u,ct.memoizedState,i,l)},useTransition:function(){var i=sg($n)[0],l=Mt().memoizedState;return[typeof i=="boolean"?i:bc(i),l]},useSyncExternalStore:Hj,useId:y1,useHostTransitionStatus:hg,useFormState:s1,useActionState:s1,useOptimistic:function(i,l){var u=Mt();return ct!==null?Kj(u,ct,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:ag,useCacheRefresh:b1};E1.useEffectEvent=l1;function pg(i,l,u,p){l=i.memoizedState,u=u(p,l),u=u==null?l:g({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var gg={enqueueSetState:function(i,l,u){i=i._reactInternals;var p=ua(),b=Os(p);b.payload=l,u!=null&&(b.callback=u),l=Rs(i,b,p),l!==null&&(Xr(l,i,p),gc(l,i,p))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var p=ua(),b=Os(p);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=Rs(i,b,p),l!==null&&(Xr(l,i,p),gc(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=ua(),p=Os(u);p.tag=2,l!=null&&(p.callback=l),l=Rs(i,p,u),l!==null&&(Xr(l,i,u),gc(l,i,u))}};function S1(i,l,u,p,b,j,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,j,A):l.prototype&&l.prototype.isPureReactComponent?!lc(u,p)||!lc(b,j):!0}function k1(i,l,u,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==i&&gg.enqueueReplaceState(l,l.state,null)}function Di(i,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(i=i.defaultProps){u===l&&(u=g({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function C1(i){dd(i)}function A1(i){console.error(i)}function T1(i){dd(i)}function Pd(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function O1(i,l,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function xg(i,l,u){return u=Os(u),u.tag=3,u.payload={element:null},u.callback=function(){Pd(i,l)},u}function R1(i){return i=Os(i),i.tag=3,i}function D1(i,l,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var j=p.value;i.payload=function(){return b(j)},i.callback=function(){O1(l,u,p)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){O1(l,u,p),typeof b!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function g3(i,l,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&Ro(l,u,b,!0),u=ia.current,u!==null){switch(u.tag){case 31:case 13:return Oa===null?Vd():u.alternate===null&&Tt===0&&(Tt=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===wd?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),Fg(i,p,b)),!1;case 22:return u.flags|=65536,p===wd?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),Fg(i,p,b)),!1}throw Error(a(435,u.tag))}return Fg(i,p,b),Vd(),!1}if(Qe)return l=ia.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==Ip&&(i=Error(a(422),{cause:p}),dc(ka(i,u)))):(p!==Ip&&(l=Error(a(423),{cause:p}),dc(ka(l,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=ka(p,u),b=xg(i.stateNode,p,b),Yp(i,b),Tt!==4&&(Tt=2)),!1;var j=Error(a(520),{cause:p});if(j=ka(j,u),Tc===null?Tc=[j]:Tc.push(j),Tt!==4&&(Tt=2),l===null)return!0;p=ka(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=xg(u.stateNode,p,i),Yp(u,i),!1;case 1:if(l=u.type,j=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Us===null||!Us.has(j))))return u.flags|=65536,b&=-b,u.lanes|=b,b=R1(b),D1(b,i,u,p),Yp(u,b),!1}u=u.return}while(u!==null);return!1}var vg=Error(a(461)),Bt=!1;function hr(i,l,u,p){l.child=i===null?Lj(l,null,u,p):Oi(l,i.child,u,p)}function P1(i,l,u,p,b){u=u.render;var j=l.ref;if("ref"in p){var A={};for(var D in p)D!=="ref"&&(A[D]=p[D])}else A=p;return ki(l),p=Zp(i,l,u,A,j,b),D=eg(),i!==null&&!Bt?(tg(i,l,b),Bn(i,l,b)):(Qe&&D&&Pp(l),l.flags|=1,hr(i,l,p,b),l.child)}function M1(i,l,u,p,b){if(i===null){var j=u.type;return typeof j=="function"&&!Op(j)&&j.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=j,I1(i,l,j,p,b)):(i=pd(u.type,null,p,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(j=i.child,!Sg(i,b)){var A=j.memoizedProps;if(u=u.compare,u=u!==null?u:lc,u(A,p)&&i.ref===l.ref)return Bn(i,l,b)}return l.flags|=1,i=Pn(j,p),i.ref=l.ref,i.return=l,l.child=i}function I1(i,l,u,p,b){if(i!==null){var j=i.memoizedProps;if(lc(j,p)&&i.ref===l.ref)if(Bt=!1,l.pendingProps=p=j,Sg(i,b))(i.flags&131072)!==0&&(Bt=!0);else return l.lanes=i.lanes,Bn(i,l,b)}return yg(i,l,u,p,b)}function L1(i,l,u,p){var b=p.children,j=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(j=j!==null?j.baseLanes|u:u,i!==null){for(p=l.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~j}else p=0,l.child=null;return U1(i,l,j,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&yd(l,j!==null?j.cachePool:null),j!==null?Bj(l,j):Xp(),zj(l);else return p=l.lanes=536870912,U1(i,l,j!==null?j.baseLanes|u:u,u,p)}else j!==null?(yd(l,j.cachePool),Bj(l,j),Ps(),l.memoizedState=null):(i!==null&&yd(l,null),Xp(),Ps());return hr(i,l,b,u),l.child}function Nc(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function U1(i,l,u,p,b){var j=qp();return j=j===null?null:{parent:Ut._currentValue,pool:j},l.memoizedState={baseLanes:u,cachePool:j},i!==null&&yd(l,null),Xp(),zj(l),i!==null&&Ro(i,l,p,!0),l.childLanes=b,null}function Md(i,l){return l=Ld({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function $1(i,l,u){return Oi(l,i.child,null,u),i=Md(l,l.pendingProps),i.flags|=2,oa(l),l.memoizedState=null,i}function x3(i,l,u){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Qe){if(p.mode==="hidden")return i=Md(l,p),l.lanes=536870912,Nc(null,i);if(Jp(l),(i=bt)?(i=JN(i,Ta),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Ss!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},u=jj(i),u.return=l,l.child=u,ur=l,bt=null)):i=null,i===null)throw Cs(l);return l.lanes=536870912,null}return Md(l,p)}var j=i.memoizedState;if(j!==null){var A=j.dehydrated;if(Jp(l),b)if(l.flags&256)l.flags&=-257,l=$1(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(a(558));else if(Bt||Ro(i,l,u,!1),b=(u&i.childLanes)!==0,Bt||b){if(p=gt,p!==null&&(A=Aw(p,u),A!==0&&A!==j.retryLane))throw j.retryLane=A,Ni(i,A),Xr(p,i,A),vg;Vd(),l=$1(i,l,u)}else i=j.treeContext,bt=Ra(A.nextSibling),ur=l,Qe=!0,ks=null,Ta=!1,i!==null&&Ej(l,i),l=Md(l,p),l.flags|=4096;return l}return i=Pn(i.child,{mode:p.mode,children:p.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Id(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function yg(i,l,u,p,b){return ki(l),u=Zp(i,l,u,p,void 0,b),p=eg(),i!==null&&!Bt?(tg(i,l,b),Bn(i,l,b)):(Qe&&p&&Pp(l),l.flags|=1,hr(i,l,u,b),l.child)}function B1(i,l,u,p,b,j){return ki(l),l.updateQueue=null,u=qj(l,p,u,b),Fj(i),p=eg(),i!==null&&!Bt?(tg(i,l,j),Bn(i,l,j)):(Qe&&p&&Pp(l),l.flags|=1,hr(i,l,u,j),l.child)}function z1(i,l,u,p,b){if(ki(l),l.stateNode===null){var j=Co,A=u.contextType;typeof A=="object"&&A!==null&&(j=dr(A)),j=new u(p,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=gg,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=p,j.state=l.memoizedState,j.refs={},Gp(l),A=u.contextType,j.context=typeof A=="object"&&A!==null?dr(A):Co,j.state=l.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(pg(l,u,A,p),j.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(A=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),A!==j.state&&gg.enqueueReplaceState(j,j.state,null),vc(l,p,j,b),xc(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){j=l.stateNode;var D=l.memoizedProps,U=Di(u,D);j.props=U;var Z=j.context,fe=u.contextType;A=Co,typeof fe=="object"&&fe!==null&&(A=dr(fe));var ve=u.getDerivedStateFromProps;fe=typeof ve=="function"||typeof j.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(D||Z!==A)&&k1(l,j,p,A),Ts=!1;var re=l.memoizedState;j.state=re,vc(l,p,j,b),xc(),Z=l.memoizedState,D||re!==Z||Ts?(typeof ve=="function"&&(pg(l,u,ve,p),Z=l.memoizedState),(U=Ts||S1(l,u,U,p,re,Z,A))?(fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Z),j.props=p,j.state=Z,j.context=A,p=U):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{j=l.stateNode,Vp(i,l),A=l.memoizedProps,fe=Di(u,A),j.props=fe,ve=l.pendingProps,re=j.context,Z=u.contextType,U=Co,typeof Z=="object"&&Z!==null&&(U=dr(Z)),D=u.getDerivedStateFromProps,(Z=typeof D=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(A!==ve||re!==U)&&k1(l,j,p,U),Ts=!1,re=l.memoizedState,j.state=re,vc(l,p,j,b),xc();var oe=l.memoizedState;A!==ve||re!==oe||Ts||i!==null&&i.dependencies!==null&&xd(i.dependencies)?(typeof D=="function"&&(pg(l,u,D,p),oe=l.memoizedState),(fe=Ts||S1(l,u,fe,p,re,oe,U)||i!==null&&i.dependencies!==null&&xd(i.dependencies))?(Z||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,oe,U),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,oe,U)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=oe),j.props=p,j.state=oe,j.context=U,p=fe):(typeof j.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(l.flags|=1024),p=!1)}return j=p,Id(i,l),p=(l.flags&128)!==0,j||p?(j=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,i!==null&&p?(l.child=Oi(l,i.child,null,b),l.child=Oi(l,null,u,b)):hr(i,l,u,b),l.memoizedState=j.state,i=l.child):i=Bn(i,l,b),i}function F1(i,l,u,p){return Ei(),l.flags|=256,hr(i,l,u,p),l.child}var bg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wg(i){return{baseLanes:i,cachePool:Oj()}}function jg(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=ca),i}function q1(i,l,u){var p=l.pendingProps,b=!1,j=(l.flags&128)!==0,A;if((A=j)||(A=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),A&&(b=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,i===null){if(Qe){if(b?Ds(l):Ps(),(i=bt)?(i=JN(i,Ta),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:Ss!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},u=jj(i),u.return=l,l.child=u,ur=l,bt=null)):i=null,i===null)throw Cs(l);return nx(i)?l.lanes=32:l.lanes=536870912,null}var D=p.children;return p=p.fallback,b?(Ps(),b=l.mode,D=Ld({mode:"hidden",children:D},b),p=_i(p,b,u,null),D.return=l,p.return=l,D.sibling=p,l.child=D,p=l.child,p.memoizedState=wg(u),p.childLanes=jg(i,A,u),l.memoizedState=bg,Nc(null,p)):(Ds(l),Ng(l,D))}var U=i.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(j)l.flags&256?(Ds(l),l.flags&=-257,l=_g(i,l,u)):l.memoizedState!==null?(Ps(),l.child=i.child,l.flags|=128,l=null):(Ps(),D=p.fallback,b=l.mode,p=Ld({mode:"visible",children:p.children},b),D=_i(D,b,u,null),D.flags|=2,p.return=l,D.return=l,p.sibling=D,l.child=p,Oi(l,i.child,null,u),p=l.child,p.memoizedState=wg(u),p.childLanes=jg(i,A,u),l.memoizedState=bg,l=Nc(null,p));else if(Ds(l),nx(D)){if(A=D.nextSibling&&D.nextSibling.dataset,A)var Z=A.dgst;A=Z,p=Error(a(419)),p.stack="",p.digest=A,dc({value:p,source:null,stack:null}),l=_g(i,l,u)}else if(Bt||Ro(i,l,u,!1),A=(u&i.childLanes)!==0,Bt||A){if(A=gt,A!==null&&(p=Aw(A,u),p!==0&&p!==U.retryLane))throw U.retryLane=p,Ni(i,p),Xr(A,i,p),vg;ax(D)||Vd(),l=_g(i,l,u)}else ax(D)?(l.flags|=192,l.child=i.child,l=null):(i=U.treeContext,bt=Ra(D.nextSibling),ur=l,Qe=!0,ks=null,Ta=!1,i!==null&&Ej(l,i),l=Ng(l,p.children),l.flags|=4096);return l}return b?(Ps(),D=p.fallback,b=l.mode,U=i.child,Z=U.sibling,p=Pn(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,Z!==null?D=Pn(Z,D):(D=_i(D,b,u,null),D.flags|=2),D.return=l,p.return=l,p.sibling=D,l.child=p,Nc(null,p),p=l.child,D=i.child.memoizedState,D===null?D=wg(u):(b=D.cachePool,b!==null?(U=Ut._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=Oj(),D={baseLanes:D.baseLanes|u,cachePool:b}),p.memoizedState=D,p.childLanes=jg(i,A,u),l.memoizedState=bg,Nc(i.child,p)):(Ds(l),u=i.child,i=u.sibling,u=Pn(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,i!==null&&(A=l.deletions,A===null?(l.deletions=[i],l.flags|=16):A.push(i)),l.child=u,l.memoizedState=null,u)}function Ng(i,l){return l=Ld({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ld(i,l){return i=sa(22,i,null,l),i.lanes=0,i}function _g(i,l,u){return Oi(l,i.child,null,u),i=Ng(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function H1(i,l,u){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),$p(i.return,l,u)}function Eg(i,l,u,p,b,j){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b,treeForkCount:j}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=u,A.tailMode=b,A.treeForkCount=j)}function G1(i,l,u){var p=l.pendingProps,b=p.revealOrder,j=p.tail;p=p.children;var A=Pt.current,D=(A&2)!==0;if(D?(A=A&1|2,l.flags|=128):A&=1,ee(Pt,A),hr(i,l,p,u),p=Qe?uc:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H1(i,u,l);else if(i.tag===19)H1(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=l.child,b=null;u!==null;)i=u.alternate,i!==null&&Ed(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),Eg(l,!1,b,u,j,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&Ed(i)===null){l.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}Eg(l,!0,u,null,j,p);break;case"together":Eg(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Bn(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Ls|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Ro(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=Pn(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Pn(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function Sg(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&xd(i)))}function v3(i,l,u){switch(l.tag){case 3:Ce(l,l.stateNode.containerInfo),As(l,Ut,i.memoizedState.cache),Ei();break;case 27:case 5:Se(l);break;case 4:Ce(l,l.stateNode.containerInfo);break;case 10:As(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Jp(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ds(l),l.flags|=128,null):(u&l.child.childLanes)!==0?q1(i,l,u):(Ds(l),i=Bn(i,l,u),i!==null?i.sibling:null);Ds(l);break;case 19:var b=(i.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(Ro(i,l,u,!1),p=(u&l.childLanes)!==0),b){if(p)return G1(i,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ee(Pt,Pt.current),p)break;return null;case 22:return l.lanes=0,L1(i,l,u,l.pendingProps);case 24:As(l,Ut,i.memoizedState.cache)}return Bn(i,l,u)}function V1(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Bt=!0;else{if(!Sg(i,u)&&(l.flags&128)===0)return Bt=!1,v3(i,l,u);Bt=(i.flags&131072)!==0}else Bt=!1,Qe&&(l.flags&1048576)!==0&&_j(l,uc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(i=Ai(l.elementType),l.type=i,typeof i=="function")Op(i)?(p=Di(i,p),l.tag=1,l=z1(null,l,i,p,u)):(l.tag=0,l=yg(null,l,i,p,u));else{if(i!=null){var b=i.$$typeof;if(b===T){l.tag=11,l=P1(null,l,i,p,u);break e}else if(b===M){l.tag=14,l=M1(null,l,i,p,u);break e}}throw l=xe(i)||i,Error(a(306,l,""))}}return l;case 0:return yg(i,l,l.type,l.pendingProps,u);case 1:return p=l.type,b=Di(p,l.pendingProps),z1(i,l,p,b,u);case 3:e:{if(Ce(l,l.stateNode.containerInfo),i===null)throw Error(a(387));p=l.pendingProps;var j=l.memoizedState;b=j.element,Vp(i,l),vc(l,p,null,u);var A=l.memoizedState;if(p=A.cache,As(l,Ut,p),p!==j.cache&&Bp(l,[Ut],u,!0),xc(),p=A.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=F1(i,l,p,u);break e}else if(p!==b){b=ka(Error(a(424)),l),dc(b),l=F1(i,l,p,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(bt=Ra(i.firstChild),ur=l,Qe=!0,ks=null,Ta=!0,u=Lj(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ei(),p===b){l=Bn(i,l,u);break e}hr(i,l,p,u)}l=l.child}return l;case 26:return Id(i,l),i===null?(u=a_(l.type,null,l.pendingProps,null))?l.memoizedState=u:Qe||(u=l.type,i=l.pendingProps,p=Zd(I.current).createElement(u),p[cr]=l,p[qr]=i,fr(p,u,i),tr(p),l.stateNode=p):l.memoizedState=a_(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Se(l),i===null&&Qe&&(p=l.stateNode=e_(l.type,l.pendingProps,I.current),ur=l,Ta=!0,b=bt,Fs(l.type)?(sx=b,bt=Ra(p.firstChild)):bt=b),hr(i,l,l.pendingProps.children,u),Id(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Qe&&((b=p=bt)&&(p=W3(p,l.type,l.pendingProps,Ta),p!==null?(l.stateNode=p,ur=l,bt=Ra(p.firstChild),Ta=!1,b=!0):b=!1),b||Cs(l)),Se(l),b=l.type,j=l.pendingProps,A=i!==null?i.memoizedProps:null,p=j.children,ex(b,j)?p=null:A!==null&&ex(b,A)&&(l.flags|=32),l.memoizedState!==null&&(b=Zp(i,l,c3,null,null,u),Uc._currentValue=b),Id(i,l),hr(i,l,p,u),l.child;case 6:return i===null&&Qe&&((i=u=bt)&&(u=X3(u,l.pendingProps,Ta),u!==null?(l.stateNode=u,ur=l,bt=null,i=!0):i=!1),i||Cs(l)),null;case 13:return q1(i,l,u);case 4:return Ce(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Oi(l,null,p,u):hr(i,l,p,u),l.child;case 11:return P1(i,l,l.type,l.pendingProps,u);case 7:return hr(i,l,l.pendingProps,u),l.child;case 8:return hr(i,l,l.pendingProps.children,u),l.child;case 12:return hr(i,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,As(l,l.type,p.value),hr(i,l,p.children,u),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,ki(l),b=dr(b),p=p(b),l.flags|=1,hr(i,l,p,u),l.child;case 14:return M1(i,l,l.type,l.pendingProps,u);case 15:return I1(i,l,l.type,l.pendingProps,u);case 19:return G1(i,l,u);case 31:return x3(i,l,u);case 22:return L1(i,l,u,l.pendingProps);case 24:return ki(l),p=dr(Ut),i===null?(b=qp(),b===null&&(b=gt,j=zp(),b.pooledCache=j,j.refCount++,j!==null&&(b.pooledCacheLanes|=u),b=j),l.memoizedState={parent:p,cache:b},Gp(l),As(l,Ut,b)):((i.lanes&u)!==0&&(Vp(i,l),vc(l,null,null,u),xc()),b=i.memoizedState,j=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),As(l,Ut,p)):(p=j.cache,As(l,Ut,p),p!==b.cache&&Bp(l,[Ut],u,!0))),hr(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function zn(i){i.flags|=4}function kg(i,l,u,p,b){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(yN())i.flags|=8192;else throw Ti=wd,Hp}else i.flags&=-16777217}function Y1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!l_(l))if(yN())i.flags|=8192;else throw Ti=wd,Hp}function Ud(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?te():536870912,i.lanes|=l,Ho|=l)}function _c(i,l){if(!Qe)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function wt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(l)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=u,l}function y3(i,l,u){var p=l.pendingProps;switch(Mp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(l),null;case 1:return wt(l),null;case 3:return u=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ln(Ut),ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Oo(l)?zn(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Lp())),wt(l),null;case 26:var b=l.type,j=l.memoizedState;return i===null?(zn(l),j!==null?(wt(l),Y1(l,j)):(wt(l),kg(l,b,null,p,u))):j?j!==i.memoizedState?(zn(l),wt(l),Y1(l,j)):(wt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==p&&zn(l),wt(l),kg(l,b,i,p,u)),null;case 27:if(q(l),u=I.current,b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&zn(l);else{if(!p){if(l.stateNode===null)throw Error(a(166));return wt(l),null}i=de.current,Oo(l)?Sj(l):(i=e_(b,p,u),l.stateNode=i,zn(l))}return wt(l),null;case 5:if(q(l),b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&zn(l);else{if(!p){if(l.stateNode===null)throw Error(a(166));return wt(l),null}if(j=de.current,Oo(l))Sj(l);else{var A=Zd(I.current);switch(j){case 1:j=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:j=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":j=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":j=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":j=A.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?j.multiple=!0:p.size&&(j.size=p.size);break;default:j=typeof p.is=="string"?A.createElement(b,{is:p.is}):A.createElement(b)}}j[cr]=l,j[qr]=p;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)j.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=j;e:switch(fr(j,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&zn(l)}}return wt(l),kg(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&zn(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(a(166));if(i=I.current,Oo(l)){if(i=l.stateNode,u=l.memoizedProps,p=null,b=ur,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[cr]=l,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||qN(i.nodeValue,u)),i||Cs(l,!0)}else i=Zd(i).createTextNode(p),i[cr]=l,l.stateNode=i}return wt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(p=Oo(l),u!==null){if(i===null){if(!p)throw Error(a(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[cr]=l}else Ei(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wt(l),i=!1}else u=Lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(oa(l),l):(oa(l),null);if((l.flags&128)!==0)throw Error(a(558))}return wt(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Oo(l),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(a(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[cr]=l}else Ei(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wt(l),b=!1}else b=Lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(oa(l),l):(oa(l),null)}return oa(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,i=i!==null&&i.memoizedState!==null,u&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),j=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(j=p.memoizedState.cachePool.pool),j!==b&&(p.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Ud(l,l.updateQueue),wt(l),null);case 4:return ne(),i===null&&Xg(l.stateNode.containerInfo),wt(l),null;case 10:return Ln(l.type),wt(l),null;case 19:if(H(Pt),p=l.memoizedState,p===null)return wt(l),null;if(b=(l.flags&128)!==0,j=p.rendering,j===null)if(b)_c(p,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=Ed(i),j!==null){for(l.flags|=128,_c(p,!1),i=j.updateQueue,l.updateQueue=i,Ud(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)wj(u,i),u=u.sibling;return ee(Pt,Pt.current&1|2),Qe&&Mn(l,p.treeForkCount),l.child}i=i.sibling}p.tail!==null&&He()>qd&&(l.flags|=128,b=!0,_c(p,!1),l.lanes=4194304)}else{if(!b)if(i=Ed(j),i!==null){if(l.flags|=128,b=!0,i=i.updateQueue,l.updateQueue=i,Ud(l,i),_c(p,!0),p.tail===null&&p.tailMode==="hidden"&&!j.alternate&&!Qe)return wt(l),null}else 2*He()-p.renderingStartTime>qd&&u!==536870912&&(l.flags|=128,b=!0,_c(p,!1),l.lanes=4194304);p.isBackwards?(j.sibling=l.child,l.child=j):(i=p.last,i!==null?i.sibling=j:l.child=j,p.last=j)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=He(),i.sibling=null,u=Pt.current,ee(Pt,b?u&1|2:u&1),Qe&&Mn(l,p.treeForkCount),i):(wt(l),null);case 22:case 23:return oa(l),Kp(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(wt(l),l.subtreeFlags&6&&(l.flags|=8192)):wt(l),u=l.updateQueue,u!==null&&Ud(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),i!==null&&H(Ci),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ln(Ut),wt(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function b3(i,l){switch(Mp(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ln(Ut),ne(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return q(l),null;case 31:if(l.memoizedState!==null){if(oa(l),l.alternate===null)throw Error(a(340));Ei()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(oa(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Ei()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return H(Pt),null;case 4:return ne(),null;case 10:return Ln(l.type),null;case 22:case 23:return oa(l),Kp(),i!==null&&H(Ci),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ln(Ut),null;case 25:return null;default:return null}}function W1(i,l){switch(Mp(l),l.tag){case 3:Ln(Ut),ne();break;case 26:case 27:case 5:q(l);break;case 4:ne();break;case 31:l.memoizedState!==null&&oa(l);break;case 13:oa(l);break;case 19:H(Pt);break;case 10:Ln(l.type);break;case 22:case 23:oa(l),Kp(),i!==null&&H(Ci);break;case 24:Ln(Ut)}}function Ec(i,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&i)===i){p=void 0;var j=u.create,A=u.inst;p=j(),A.destroy=p}u=u.next}while(u!==b)}}catch(D){st(l,l.return,D)}}function Ms(i,l,u){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var j=b.next;p=j;do{if((p.tag&i)===i){var A=p.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,b=l;var U=u,Z=D;try{Z()}catch(fe){st(b,U,fe)}}}p=p.next}while(p!==j)}}catch(fe){st(l,l.return,fe)}}function X1(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{$j(l,u)}catch(p){st(i,i.return,p)}}}function K1(i,l,u){u.props=Di(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){st(i,l,p)}}function Sc(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(b){st(i,l,b)}}function gn(i,l){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){st(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){st(i,l,b)}else u.current=null}function J1(i){var l=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){st(i,i.return,b)}}function Cg(i,l,u){try{var p=i.stateNode;F3(p,i.type,u,l),p[qr]=l}catch(b){st(i,i.return,b)}}function Q1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function Ag(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Q1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tg(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Rn));else if(p!==4&&(p===27&&Fs(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(Tg(i,l,u),i=i.sibling;i!==null;)Tg(i,l,u),i=i.sibling}function $d(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(p!==4&&(p===27&&Fs(i.type)&&(u=i.stateNode),i=i.child,i!==null))for($d(i,l,u),i=i.sibling;i!==null;)$d(i,l,u),i=i.sibling}function Z1(i){var l=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);fr(l,p,u),l[cr]=i,l[qr]=u}catch(j){st(i,i.return,j)}}var Fn=!1,zt=!1,Og=!1,eN=typeof WeakSet=="function"?WeakSet:Set,rr=null;function w3(i,l){if(i=i.containerInfo,Qg=ih,i=hj(i),_p(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var A=0,D=-1,U=-1,Z=0,fe=0,ve=i,re=null;t:for(;;){for(var oe;ve!==u||b!==0&&ve.nodeType!==3||(D=A+b),ve!==j||p!==0&&ve.nodeType!==3||(U=A+p),ve.nodeType===3&&(A+=ve.nodeValue.length),(oe=ve.firstChild)!==null;)re=ve,ve=oe;for(;;){if(ve===i)break t;if(re===u&&++Z===b&&(D=A),re===j&&++fe===p&&(U=A),(oe=ve.nextSibling)!==null)break;ve=re,re=ve.parentNode}ve=oe}u=D===-1||U===-1?null:{start:D,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Zg={focusedElem:i,selectionRange:u},ih=!1,rr=l;rr!==null;)if(l=rr,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,rr=i;else for(;rr!==null;){switch(l=rr,j=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,u=l,b=j.memoizedProps,j=j.memoizedState,p=u.stateNode;try{var Re=Di(u.type,b);i=p.getSnapshotBeforeUpdate(Re,j),p.__reactInternalSnapshotBeforeUpdate=i}catch(ze){st(u,u.return,ze)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)rx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,rr=i;break}rr=l.return}}function tN(i,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Hn(i,u),p&4&&Ec(5,u);break;case 1:if(Hn(i,u),p&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(A){st(u,u.return,A)}else{var b=Di(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(A){st(u,u.return,A)}}p&64&&X1(u),p&512&&Sc(u,u.return);break;case 3:if(Hn(i,u),p&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{$j(i,l)}catch(A){st(u,u.return,A)}}break;case 27:l===null&&p&4&&Z1(u);case 26:case 5:Hn(i,u),l===null&&p&4&&J1(u),p&512&&Sc(u,u.return);break;case 12:Hn(i,u);break;case 31:Hn(i,u),p&4&&nN(i,u);break;case 13:Hn(i,u),p&4&&sN(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=T3.bind(null,u),K3(i,u))));break;case 22:if(p=u.memoizedState!==null||Fn,!p){l=l!==null&&l.memoizedState!==null||zt,b=Fn;var j=zt;Fn=p,(zt=l)&&!j?Gn(i,u,(u.subtreeFlags&8772)!==0):Hn(i,u),Fn=b,zt=j}break;case 30:break;default:Hn(i,u)}}function rN(i){var l=i.alternate;l!==null&&(i.alternate=null,rN(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&op(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,Gr=!1;function qn(i,l,u){for(u=u.child;u!==null;)aN(i,l,u),u=u.sibling}function aN(i,l,u){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(js,u)}catch{}switch(u.tag){case 26:zt||gn(u,l),qn(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zt||gn(u,l);var p=_t,b=Gr;Fs(u.type)&&(_t=u.stateNode,Gr=!1),qn(i,l,u),Mc(u.stateNode),_t=p,Gr=b;break;case 5:zt||gn(u,l);case 6:if(p=_t,b=Gr,_t=null,qn(i,l,u),_t=p,Gr=b,_t!==null)if(Gr)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(u.stateNode)}catch(j){st(u,l,j)}else try{_t.removeChild(u.stateNode)}catch(j){st(u,l,j)}break;case 18:_t!==null&&(Gr?(i=_t,XN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Qo(i)):XN(_t,u.stateNode));break;case 4:p=_t,b=Gr,_t=u.stateNode.containerInfo,Gr=!0,qn(i,l,u),_t=p,Gr=b;break;case 0:case 11:case 14:case 15:Ms(2,u,l),zt||Ms(4,u,l),qn(i,l,u);break;case 1:zt||(gn(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&K1(u,l,p)),qn(i,l,u);break;case 21:qn(i,l,u);break;case 22:zt=(p=zt)||u.memoizedState!==null,qn(i,l,u),zt=p;break;default:qn(i,l,u)}}function nN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Qo(i)}catch(u){st(l,l.return,u)}}}function sN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qo(i)}catch(u){st(l,l.return,u)}}function j3(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new eN),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new eN),l;default:throw Error(a(435,i.tag))}}function Bd(i,l){var u=j3(i);l.forEach(function(p){if(!u.has(p)){u.add(p);var b=O3.bind(null,i,p);p.then(b,b)}})}function Vr(i,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],j=i,A=l,D=A;e:for(;D!==null;){switch(D.tag){case 27:if(Fs(D.type)){_t=D.stateNode,Gr=!1;break e}break;case 5:_t=D.stateNode,Gr=!1;break e;case 3:case 4:_t=D.stateNode.containerInfo,Gr=!0;break e}D=D.return}if(_t===null)throw Error(a(160));aN(j,A,b),_t=null,Gr=!1,j=b.alternate,j!==null&&(j.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)iN(l,i),l=l.sibling}var Ya=null;function iN(i,l){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vr(l,i),Yr(i),p&4&&(Ms(3,i,i.return),Ec(3,i),Ms(5,i,i.return));break;case 1:Vr(l,i),Yr(i),p&512&&(zt||u===null||gn(u,u.return)),p&64&&Fn&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=Ya;if(Vr(l,i),Yr(i),p&512&&(zt||u===null||gn(u,u.return)),p&4){var j=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":j=b.getElementsByTagName("title")[0],(!j||j[Zl]||j[cr]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=b.createElement(p),b.head.insertBefore(j,b.querySelector("head > title"))),fr(j,p,u),j[cr]=i,tr(j),p=j;break e;case"link":var A=i_("link","href",b).get(p+(u.href||""));if(A){for(var D=0;D<A.length;D++)if(j=A[D],j.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&j.getAttribute("rel")===(u.rel==null?null:u.rel)&&j.getAttribute("title")===(u.title==null?null:u.title)&&j.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(D,1);break t}}j=b.createElement(p),fr(j,p,u),b.head.appendChild(j);break;case"meta":if(A=i_("meta","content",b).get(p+(u.content||""))){for(D=0;D<A.length;D++)if(j=A[D],j.getAttribute("content")===(u.content==null?null:""+u.content)&&j.getAttribute("name")===(u.name==null?null:u.name)&&j.getAttribute("property")===(u.property==null?null:u.property)&&j.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&j.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(D,1);break t}}j=b.createElement(p),fr(j,p,u),b.head.appendChild(j);break;default:throw Error(a(468,p))}j[cr]=i,tr(j),p=j}i.stateNode=p}else o_(b,i.type,i.stateNode);else i.stateNode=s_(b,p,i.memoizedProps);else j!==p?(j===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):j.count--,p===null?o_(b,i.type,i.stateNode):s_(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Cg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Vr(l,i),Yr(i),p&512&&(zt||u===null||gn(u,u.return)),u!==null&&p&4&&Cg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Vr(l,i),Yr(i),p&512&&(zt||u===null||gn(u,u.return)),i.flags&32){b=i.stateNode;try{wo(b,"")}catch(Re){st(i,i.return,Re)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,Cg(i,b,u!==null?u.memoizedProps:b)),p&1024&&(Og=!0);break;case 6:if(Vr(l,i),Yr(i),p&4){if(i.stateNode===null)throw Error(a(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(Re){st(i,i.return,Re)}}break;case 3:if(rh=null,b=Ya,Ya=eh(l.containerInfo),Vr(l,i),Ya=b,Yr(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Qo(l.containerInfo)}catch(Re){st(i,i.return,Re)}Og&&(Og=!1,oN(i));break;case 4:p=Ya,Ya=eh(i.stateNode.containerInfo),Vr(l,i),Yr(i),Ya=p;break;case 12:Vr(l,i),Yr(i);break;case 31:Vr(l,i),Yr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Bd(i,p)));break;case 13:Vr(l,i),Yr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Fd=He()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Bd(i,p)));break;case 22:b=i.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,Z=Fn,fe=zt;if(Fn=Z||b,zt=fe||U,Vr(l,i),zt=fe,Fn=Z,Yr(i),p&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(u===null||U||Fn||zt||Pi(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){U=u=l;try{if(j=U.stateNode,b)A=j.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{D=U.stateNode;var ve=U.memoizedProps.style,re=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Re){st(U,U.return,Re)}}}else if(l.tag===6){if(u===null){U=l;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(Re){st(U,U.return,Re)}}}else if(l.tag===18){if(u===null){U=l;try{var oe=U.stateNode;b?KN(oe,!0):KN(U.stateNode,!1)}catch(Re){st(U,U.return,Re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Bd(i,u))));break;case 19:Vr(l,i),Yr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Bd(i,p)));break;case 30:break;case 21:break;default:Vr(l,i),Yr(i)}}function Yr(i){var l=i.flags;if(l&2){try{for(var u,p=i.return;p!==null;){if(Q1(p)){u=p;break}p=p.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var b=u.stateNode,j=Ag(i);$d(i,j,b);break;case 5:var A=u.stateNode;u.flags&32&&(wo(A,""),u.flags&=-33);var D=Ag(i);$d(i,D,A);break;case 3:case 4:var U=u.stateNode.containerInfo,Z=Ag(i);Tg(i,Z,U);break;default:throw Error(a(161))}}catch(fe){st(i,i.return,fe)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function oN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;oN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Hn(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)tN(i,l.alternate,l),l=l.sibling}function Pi(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Ms(4,l,l.return),Pi(l);break;case 1:gn(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&K1(l,l.return,u),Pi(l);break;case 27:Mc(l.stateNode);case 26:case 5:gn(l,l.return),Pi(l);break;case 22:l.memoizedState===null&&Pi(l);break;case 30:Pi(l);break;default:Pi(l)}i=i.sibling}}function Gn(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=i,j=l,A=j.flags;switch(j.tag){case 0:case 11:case 15:Gn(b,j,u),Ec(4,j);break;case 1:if(Gn(b,j,u),p=j,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Z){st(p,p.return,Z)}if(p=j,b=p.updateQueue,b!==null){var D=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)Uj(U[b],D)}catch(Z){st(p,p.return,Z)}}u&&A&64&&X1(j),Sc(j,j.return);break;case 27:Z1(j);case 26:case 5:Gn(b,j,u),u&&p===null&&A&4&&J1(j),Sc(j,j.return);break;case 12:Gn(b,j,u);break;case 31:Gn(b,j,u),u&&A&4&&nN(b,j);break;case 13:Gn(b,j,u),u&&A&4&&sN(b,j);break;case 22:j.memoizedState===null&&Gn(b,j,u),Sc(j,j.return);break;case 30:break;default:Gn(b,j,u)}l=l.sibling}}function Rg(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&hc(u))}function Dg(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&hc(i))}function Wa(i,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)lN(i,l,u,p),l=l.sibling}function lN(i,l,u,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Wa(i,l,u,p),b&2048&&Ec(9,l);break;case 1:Wa(i,l,u,p);break;case 3:Wa(i,l,u,p),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&hc(i)));break;case 12:if(b&2048){Wa(i,l,u,p),i=l.stateNode;try{var j=l.memoizedProps,A=j.id,D=j.onPostCommit;typeof D=="function"&&D(A,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){st(l,l.return,U)}}else Wa(i,l,u,p);break;case 31:Wa(i,l,u,p);break;case 13:Wa(i,l,u,p);break;case 23:break;case 22:j=l.stateNode,A=l.alternate,l.memoizedState!==null?j._visibility&2?Wa(i,l,u,p):kc(i,l):j._visibility&2?Wa(i,l,u,p):(j._visibility|=2,zo(i,l,u,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&Rg(A,l);break;case 24:Wa(i,l,u,p),b&2048&&Dg(l.alternate,l);break;default:Wa(i,l,u,p)}}function zo(i,l,u,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var j=i,A=l,D=u,U=p,Z=A.flags;switch(A.tag){case 0:case 11:case 15:zo(j,A,D,U,b),Ec(8,A);break;case 23:break;case 22:var fe=A.stateNode;A.memoizedState!==null?fe._visibility&2?zo(j,A,D,U,b):kc(j,A):(fe._visibility|=2,zo(j,A,D,U,b)),b&&Z&2048&&Rg(A.alternate,A);break;case 24:zo(j,A,D,U,b),b&&Z&2048&&Dg(A.alternate,A);break;default:zo(j,A,D,U,b)}l=l.sibling}}function kc(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,p=l,b=p.flags;switch(p.tag){case 22:kc(u,p),b&2048&&Rg(p.alternate,p);break;case 24:kc(u,p),b&2048&&Dg(p.alternate,p);break;default:kc(u,p)}l=l.sibling}}var Cc=8192;function Fo(i,l,u){if(i.subtreeFlags&Cc)for(i=i.child;i!==null;)cN(i,l,u),i=i.sibling}function cN(i,l,u){switch(i.tag){case 26:Fo(i,l,u),i.flags&Cc&&i.memoizedState!==null&&lM(u,Ya,i.memoizedState,i.memoizedProps);break;case 5:Fo(i,l,u);break;case 3:case 4:var p=Ya;Ya=eh(i.stateNode.containerInfo),Fo(i,l,u),Ya=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Cc,Cc=16777216,Fo(i,l,u),Cc=p):Fo(i,l,u));break;default:Fo(i,l,u)}}function uN(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Ac(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];rr=p,hN(p,i)}uN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dN(i),i=i.sibling}function dN(i){switch(i.tag){case 0:case 11:case 15:Ac(i),i.flags&2048&&Ms(9,i,i.return);break;case 3:Ac(i);break;case 12:Ac(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,zd(i)):Ac(i);break;default:Ac(i)}}function zd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];rr=p,hN(p,i)}uN(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Ms(8,l,l.return),zd(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,zd(l));break;default:zd(l)}i=i.sibling}}function hN(i,l){for(;rr!==null;){var u=rr;switch(u.tag){case 0:case 11:case 15:Ms(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:hc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,rr=p;else e:for(u=i;rr!==null;){p=rr;var b=p.sibling,j=p.return;if(rN(p),p===u){rr=null;break e}if(b!==null){b.return=j,rr=b;break e}rr=j}}}var N3={getCacheForType:function(i){var l=dr(Ut),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return dr(Ut).controller.signal}},_3=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,We=null,Ke=0,nt=0,la=null,Is=!1,qo=!1,Pg=!1,Vn=0,Tt=0,Ls=0,Mi=0,Mg=0,ca=0,Ho=0,Tc=null,Wr=null,Ig=!1,Fd=0,fN=0,qd=1/0,Hd=null,Us=null,Yt=0,$s=null,Go=null,Yn=0,Lg=0,Ug=null,mN=null,Oc=0,$g=null;function ua(){return(at&2)!==0&&Ke!==0?Ke&-Ke:P.T!==null?Gg():Tw()}function pN(){if(ca===0)if((Ke&536870912)===0||Qe){var i=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),ca=i}else ca=536870912;return i=ia.current,i!==null&&(i.flags|=32),ca}function Xr(i,l,u){(i===gt&&(nt===2||nt===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),Bs(i,Ke,ca,!1)),Lt(i,u),((at&2)===0||i!==gt)&&(i===gt&&((at&2)===0&&(Mi|=u),Tt===4&&Bs(i,Ke,ca,!1)),xn(i))}function gN(i,l,u){if((at&6)!==0)throw Error(a(327));var p=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Ns(i,l),b=p?k3(i,l):zg(i,l,!0),j=p;do{if(b===0){qo&&!p&&Bs(i,l,0,!1);break}else{if(u=i.current.alternate,j&&!E3(u)){b=zg(i,l,!1),j=!1;continue}if(b===2){if(j=l,i.errorRecoveryDisabledLanes&j)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var D=i;b=Tc;var U=D.current.memoizedState.isDehydrated;if(U&&(Vo(D,A).flags|=256),A=zg(D,A,!1),A!==2){if(Pg&&!U){D.errorRecoveryDisabledLanes|=j,Mi|=j,b=4;break e}j=Wr,Wr=b,j!==null&&(Wr===null?Wr=j:Wr.push.apply(Wr,j))}b=A}if(j=!1,b!==2)continue}}if(b===1){Vo(i,0),Bs(i,l,0,!0);break}e:{switch(p=i,j=b,j){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Bs(p,l,ca,!Is);break e;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(b=Fd+300-He(),10<b)){if(Bs(p,l,ca,!Is),vi(p,0,!0)!==0)break e;Yn=l,p.timeoutHandle=YN(xN.bind(null,p,u,Wr,Hd,Ig,l,ca,Mi,Ho,Is,j,"Throttled",-0,0),b);break e}xN(p,u,Wr,Hd,Ig,l,ca,Mi,Ho,Is,j,null,-0,0)}}break}while(!0);xn(i)}function xN(i,l,u,p,b,j,A,D,U,Z,fe,ve,re,oe){if(i.timeoutHandle=-1,ve=l.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},cN(l,j,ve);var Re=(j&62914560)===j?Fd-He():(j&4194048)===j?fN-He():0;if(Re=cM(ve,Re),Re!==null){Yn=j,i.cancelPendingCommit=Re(EN.bind(null,i,l,j,u,p,b,A,D,U,fe,ve,null,re,oe)),Bs(i,j,A,!Z);return}}EN(i,l,j,u,p,b,A,D,U)}function E3(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],j=b.getSnapshot;b=b.value;try{if(!na(j(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Bs(i,l,u,p){l&=~Mg,l&=~Mi,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var b=l;0<b;){var j=31-_r(b),A=1<<j;p[j]=-1,b&=~A}u!==0&&kw(i,u,l)}function Gd(){return(at&6)===0?(Rc(0),!1):!0}function Bg(){if(We!==null){if(nt===0)var i=We.return;else i=We,In=Si=null,rg(i),Io=null,mc=0,i=We;for(;i!==null;)W1(i.alternate,i),i=i.return;We=null}}function Vo(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,G3(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Yn=0,Bg(),gt=i,We=u=Pn(i.current,null),Ke=l,nt=0,la=null,Is=!1,qo=Ns(i,l),Pg=!1,Ho=ca=Mg=Mi=Ls=Tt=0,Wr=Tc=null,Ig=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var b=31-_r(p),j=1<<b;l|=i[b],p&=~j}return Vn=l,hd(),u}function vN(i,l){Ve=null,P.H=jc,l===Mo||l===bd?(l=Pj(),nt=3):l===Hp?(l=Pj(),nt=4):nt=l===vg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,la=l,We===null&&(Tt=1,Pd(i,ka(l,i.current)))}function yN(){var i=ia.current;return i===null?!0:(Ke&4194048)===Ke?Oa===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?i===Oa:!1}function bN(){var i=P.H;return P.H=jc,i===null?jc:i}function wN(){var i=P.A;return P.A=N3,i}function Vd(){Tt=4,Is||(Ke&4194048)!==Ke&&ia.current!==null||(qo=!0),(Ls&134217727)===0&&(Mi&134217727)===0||gt===null||Bs(gt,Ke,ca,!1)}function zg(i,l,u){var p=at;at|=2;var b=bN(),j=wN();(gt!==i||Ke!==l)&&(Hd=null,Vo(i,l)),l=!1;var A=Tt;e:do try{if(nt!==0&&We!==null){var D=We,U=la;switch(nt){case 8:Bg(),A=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(l=!0);var Z=nt;if(nt=0,la=null,Yo(i,D,U,Z),u&&qo){A=0;break e}break;default:Z=nt,nt=0,la=null,Yo(i,D,U,Z)}}S3(),A=Tt;break}catch(fe){vN(i,fe)}while(!0);return l&&i.shellSuspendCounter++,In=Si=null,at=p,P.H=b,P.A=j,We===null&&(gt=null,Ke=0,hd()),A}function S3(){for(;We!==null;)jN(We)}function k3(i,l){var u=at;at|=2;var p=bN(),b=wN();gt!==i||Ke!==l?(Hd=null,qd=He()+500,Vo(i,l)):qo=Ns(i,l);e:do try{if(nt!==0&&We!==null){l=We;var j=la;t:switch(nt){case 1:nt=0,la=null,Yo(i,l,j,1);break;case 2:case 9:if(Rj(j)){nt=0,la=null,NN(l);break}l=function(){nt!==2&&nt!==9||gt!==i||(nt=7),xn(i)},j.then(l,l);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Rj(j)?(nt=0,la=null,NN(l)):(nt=0,la=null,Yo(i,l,j,7));break;case 5:var A=null;switch(We.tag){case 26:A=We.memoizedState;case 5:case 27:var D=We;if(A?l_(A):D.stateNode.complete){nt=0,la=null;var U=D.sibling;if(U!==null)We=U;else{var Z=D.return;Z!==null?(We=Z,Yd(Z)):We=null}break t}}nt=0,la=null,Yo(i,l,j,5);break;case 6:nt=0,la=null,Yo(i,l,j,6);break;case 8:Bg(),Tt=6;break e;default:throw Error(a(462))}}C3();break}catch(fe){vN(i,fe)}while(!0);return In=Si=null,P.H=p,P.A=b,at=u,We!==null?0:(gt=null,Ke=0,hd(),Tt)}function C3(){for(;We!==null&&!Fe();)jN(We)}function jN(i){var l=V1(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,l===null?Yd(i):We=l}function NN(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=B1(u,l,l.pendingProps,l.type,void 0,Ke);break;case 11:l=B1(u,l,l.pendingProps,l.type.render,l.ref,Ke);break;case 5:rg(l);default:W1(u,l),l=We=wj(l,Vn),l=V1(u,l,Vn)}i.memoizedProps=i.pendingProps,l===null?Yd(i):We=l}function Yo(i,l,u,p){In=Si=null,rg(l),Io=null,mc=0;var b=l.return;try{if(g3(i,b,l,u,Ke)){Tt=1,Pd(i,ka(u,i.current)),We=null;return}}catch(j){if(b!==null)throw We=b,j;Tt=1,Pd(i,ka(u,i.current)),We=null;return}l.flags&32768?(Qe||p===1?i=!0:qo||(Ke&536870912)!==0?i=!1:(Is=i=!0,(p===2||p===9||p===3||p===6)&&(p=ia.current,p!==null&&p.tag===13&&(p.flags|=16384))),_N(l,i)):Yd(l)}function Yd(i){var l=i;do{if((l.flags&32768)!==0){_N(l,Is);return}i=l.return;var u=y3(l.alternate,l,Vn);if(u!==null){We=u;return}if(l=l.sibling,l!==null){We=l;return}We=l=i}while(l!==null);Tt===0&&(Tt=5)}function _N(i,l){do{var u=b3(i.alternate,i);if(u!==null){u.flags&=32767,We=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){We=i;return}We=i=u}while(i!==null);Tt=6,We=null}function EN(i,l,u,p,b,j,A,D,U){i.cancelPendingCommit=null;do Wd();while(Yt!==0);if((at&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(j=l.lanes|l.childLanes,j|=Ap,ap(i,u,j,A,D,U),i===gt&&(We=gt=null,Ke=0),Go=l,$s=i,Yn=u,Lg=j,Ug=b,mN=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,R3(Ct,function(){return TN(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=P.T,P.T=null,b=X.p,X.p=2,A=at,at|=4;try{w3(i,l,u)}finally{at=A,X.p=b,P.T=p}}Yt=1,SN(),kN(),CN()}}function SN(){if(Yt===1){Yt=0;var i=$s,l=Go,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var p=X.p;X.p=2;var b=at;at|=4;try{iN(l,i);var j=Zg,A=hj(i.containerInfo),D=j.focusedElem,U=j.selectionRange;if(A!==D&&D&&D.ownerDocument&&dj(D.ownerDocument.documentElement,D)){if(U!==null&&_p(D)){var Z=U.start,fe=U.end;if(fe===void 0&&(fe=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(fe,D.value.length);else{var ve=D.ownerDocument||document,re=ve&&ve.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Re=D.textContent.length,ze=Math.min(U.start,Re),dt=U.end===void 0?ze:Math.min(U.end,Re);!oe.extend&&ze>dt&&(A=dt,dt=ze,ze=A);var W=uj(D,ze),B=uj(D,dt);if(W&&B&&(oe.rangeCount!==1||oe.anchorNode!==W.node||oe.anchorOffset!==W.offset||oe.focusNode!==B.node||oe.focusOffset!==B.offset)){var Q=ve.createRange();Q.setStart(W.node,W.offset),oe.removeAllRanges(),ze>dt?(oe.addRange(Q),oe.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),oe.addRange(Q))}}}}for(ve=[],oe=D;oe=oe.parentNode;)oe.nodeType===1&&ve.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ve.length;D++){var ge=ve[D];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}ih=!!Qg,Zg=Qg=null}finally{at=b,X.p=p,P.T=u}}i.current=l,Yt=2}}function kN(){if(Yt===2){Yt=0;var i=$s,l=Go,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var p=X.p;X.p=2;var b=at;at|=4;try{tN(i,l.alternate,l)}finally{at=b,X.p=p,P.T=u}}Yt=3}}function CN(){if(Yt===4||Yt===3){Yt=0,ke();var i=$s,l=Go,u=Yn,p=mN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Yt=5:(Yt=0,Go=$s=null,AN(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Us=null),sp(u),l=l.stateNode,Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(js,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=P.T,b=X.p,X.p=2,P.T=null;try{for(var j=i.onRecoverableError,A=0;A<p.length;A++){var D=p[A];j(D.value,{componentStack:D.stack})}}finally{P.T=l,X.p=b}}(Yn&3)!==0&&Wd(),xn(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===$g?Oc++:(Oc=0,$g=i):Oc=0,Rc(0)}}function AN(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,hc(l)))}function Wd(){return SN(),kN(),CN(),TN()}function TN(){if(Yt!==5)return!1;var i=$s,l=Lg;Lg=0;var u=sp(Yn),p=P.T,b=X.p;try{X.p=32>u?32:u,P.T=null,u=Ug,Ug=null;var j=$s,A=Yn;if(Yt=0,Go=$s=null,Yn=0,(at&6)!==0)throw Error(a(331));var D=at;if(at|=4,dN(j.current),lN(j,j.current,A,u),at=D,Rc(0,!1),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(js,j)}catch{}return!0}finally{X.p=b,P.T=p,AN(i,l)}}function ON(i,l,u){l=ka(u,l),l=xg(i.stateNode,l,2),i=Rs(i,l,2),i!==null&&(Lt(i,2),xn(i))}function st(i,l,u){if(i.tag===3)ON(i,i,u);else for(;l!==null;){if(l.tag===3){ON(l,i,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Us===null||!Us.has(p))){i=ka(u,i),u=R1(2),p=Rs(l,u,2),p!==null&&(D1(u,p,l,i),Lt(p,2),xn(p));break}}l=l.return}}function Fg(i,l,u){var p=i.pingCache;if(p===null){p=i.pingCache=new _3;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(u)||(Pg=!0,b.add(u),i=A3.bind(null,i,l,u),l.then(i,i))}function A3(i,l,u){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,gt===i&&(Ke&u)===u&&(Tt===4||Tt===3&&(Ke&62914560)===Ke&&300>He()-Fd?(at&2)===0&&Vo(i,0):Mg|=u,Ho===Ke&&(Ho=0)),xn(i)}function RN(i,l){l===0&&(l=te()),i=Ni(i,l),i!==null&&(Lt(i,l),xn(i))}function T3(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),RN(i,u)}function O3(i,l){var u=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(l),RN(i,u)}function R3(i,l){return pe(i,l)}var Xd=null,Wo=null,qg=!1,Kd=!1,Hg=!1,zs=0;function xn(i){i!==Wo&&i.next===null&&(Wo===null?Xd=Wo=i:Wo=Wo.next=i),Kd=!0,qg||(qg=!0,P3())}function Rc(i,l){if(!Hg&&Kd){Hg=!0;do for(var u=!1,p=Xd;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var j=0;else{var A=p.suspendedLanes,D=p.pingedLanes;j=(1<<31-_r(42|i)+1)-1,j&=b&~(A&~D),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(u=!0,IN(p,j))}else j=Ke,j=vi(p,p===gt?j:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(j&3)===0||Ns(p,j)||(u=!0,IN(p,j));p=p.next}while(u);Hg=!1}}function D3(){DN()}function DN(){Kd=qg=!1;var i=0;zs!==0&&H3()&&(i=zs);for(var l=He(),u=null,p=Xd;p!==null;){var b=p.next,j=PN(p,l);j===0?(p.next=null,u===null?Xd=b:u.next=b,b===null&&(Wo=u)):(u=p,(i!==0||(j&3)!==0)&&(Kd=!0)),p=b}Yt!==0&&Yt!==5||Rc(i),zs!==0&&(zs=0)}function PN(i,l){for(var u=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var A=31-_r(j),D=1<<A,U=b[A];U===-1?((D&u)===0||(D&p)!==0)&&(b[A]=ed(D,l)):U<=l&&(i.expiredLanes|=D),j&=~D}if(l=gt,u=Ke,u=vi(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===l&&(nt===2||nt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&De(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ns(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(p!==null&&De(p),sp(u)){case 2:case 8:u=Vt;break;case 32:u=Ct;break;case 268435456:u=Ql;break;default:u=Ct}return p=MN.bind(null,i),u=pe(u,p),i.callbackPriority=l,i.callbackNode=u,l}return p!==null&&p!==null&&De(p),i.callbackPriority=2,i.callbackNode=null,2}function MN(i,l){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Wd()&&i.callbackNode!==u)return null;var p=Ke;return p=vi(i,i===gt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(gN(i,p,l),PN(i,He()),i.callbackNode!=null&&i.callbackNode===u?MN.bind(null,i):null)}function IN(i,l){if(Wd())return null;gN(i,l,!0)}function P3(){V3(function(){(at&6)!==0?pe(pt,D3):DN()})}function Gg(){if(zs===0){var i=Do;i===0&&(i=pi,pi<<=1,(pi&261888)===0&&(pi=256)),zs=i}return zs}function LN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:nd(""+i)}function UN(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function M3(i,l,u,p,b){if(l==="submit"&&u&&u.stateNode===b){var j=LN((b[qr]||null).action),A=p.submitter;A&&(l=(l=A[qr]||null)?LN(l.formAction):A.getAttribute("formAction"),l!==null&&(j=l,A=null));var D=new ld("action","action",null,p,b);i.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(zs!==0){var U=A?UN(b,A):new FormData(b);dg(u,{pending:!0,data:U,method:b.method,action:j},null,U)}}else typeof j=="function"&&(D.preventDefault(),U=A?UN(b,A):new FormData(b),dg(u,{pending:!0,data:U,method:b.method,action:j},j,U))},currentTarget:b}]})}}for(var Vg=0;Vg<Cp.length;Vg++){var Yg=Cp[Vg],I3=Yg.toLowerCase(),L3=Yg[0].toUpperCase()+Yg.slice(1);Va(I3,"on"+L3)}Va(pj,"onAnimationEnd"),Va(gj,"onAnimationIteration"),Va(xj,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(ZP,"onTransitionRun"),Va(e3,"onTransitionStart"),Va(t3,"onTransitionCancel"),Va(vj,"onTransitionEnd"),yo("onMouseEnter",["mouseout","mouseover"]),yo("onMouseLeave",["mouseout","mouseover"]),yo("onPointerEnter",["pointerout","pointerover"]),yo("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function $N(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],b=p.event;p=p.listeners;e:{var j=void 0;if(l)for(var A=p.length-1;0<=A;A--){var D=p[A],U=D.instance,Z=D.currentTarget;if(D=D.listener,U!==j&&b.isPropagationStopped())break e;j=D,b.currentTarget=Z;try{j(b)}catch(fe){dd(fe)}b.currentTarget=null,j=U}else for(A=0;A<p.length;A++){if(D=p[A],U=D.instance,Z=D.currentTarget,D=D.listener,U!==j&&b.isPropagationStopped())break e;j=D,b.currentTarget=Z;try{j(b)}catch(fe){dd(fe)}b.currentTarget=null,j=U}}}}function Xe(i,l){var u=l[ip];u===void 0&&(u=l[ip]=new Set);var p=i+"__bubble";u.has(p)||(BN(l,i,2,!1),u.add(p))}function Wg(i,l,u){var p=0;l&&(p|=4),BN(u,i,p,l)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Xg(i){if(!i[Jd]){i[Jd]=!0,Dw.forEach(function(u){u!=="selectionchange"&&(U3.has(u)||Wg(u,!1,i),Wg(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Jd]||(l[Jd]=!0,Wg("selectionchange",!1,l))}}function BN(i,l,u,p){switch(p_(l)){case 2:var b=hM;break;case 8:b=fM;break;default:b=ux}u=b.bind(null,l,u,i),b=void 0,!pp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(l,u,{capture:!0,passive:b}):i.addEventListener(l,u,!0):b!==void 0?i.addEventListener(l,u,{passive:b}):i.addEventListener(l,u,!1)}function Kg(i,l,u,p,b){var j=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var D=p.stateNode.containerInfo;if(D===b)break;if(A===4)for(A=p.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;D!==null;){if(A=go(D),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){p=j=A;continue e}D=D.parentNode}}p=p.return}Gw(function(){var Z=j,fe=fp(u),ve=[];e:{var re=yj.get(i);if(re!==void 0){var oe=ld,Re=i;switch(i){case"keypress":if(id(u)===0)break e;case"keydown":case"keyup":oe=OP;break;case"focusin":Re="focus",oe=yp;break;case"focusout":Re="blur",oe=yp;break;case"beforeblur":case"afterblur":oe=yp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=yP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=PP;break;case pj:case gj:case xj:oe=jP;break;case vj:oe=IP;break;case"scroll":case"scrollend":oe=xP;break;case"wheel":oe=UP;break;case"copy":case"cut":case"paste":oe=_P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Kw;break;case"toggle":case"beforetoggle":oe=BP}var ze=(l&4)!==0,dt=!ze&&(i==="scroll"||i==="scrollend"),W=ze?re!==null?re+"Capture":null:re;ze=[];for(var B=Z,Q;B!==null;){var ge=B;if(Q=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||Q===null||W===null||(ge=tc(B,W),ge!=null&&ze.push(Pc(B,ge,Q))),dt)break;B=B.return}0<ze.length&&(re=new oe(re,Re,null,u,fe),ve.push({event:re,listeners:ze}))}}if((l&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",re&&u!==hp&&(Re=u.relatedTarget||u.fromElement)&&(go(Re)||Re[po]))break e;if((oe||re)&&(re=fe.window===fe?fe:(re=fe.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Re=u.relatedTarget||u.toElement,oe=Z,Re=Re?go(Re):null,Re!==null&&(dt=o(Re),ze=Re.tag,Re!==dt||ze!==5&&ze!==27&&ze!==6)&&(Re=null)):(oe=null,Re=Z),oe!==Re)){if(ze=Ww,ge="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ze=Kw,ge="onPointerLeave",W="onPointerEnter",B="pointer"),dt=oe==null?re:ec(oe),Q=Re==null?re:ec(Re),re=new ze(ge,B+"leave",oe,u,fe),re.target=dt,re.relatedTarget=Q,ge=null,go(fe)===Z&&(ze=new ze(W,B+"enter",Re,u,fe),ze.target=Q,ze.relatedTarget=dt,ge=ze),dt=ge,oe&&Re)t:{for(ze=$3,W=oe,B=Re,Q=0,ge=W;ge;ge=ze(ge))Q++;ge=0;for(var $e=B;$e;$e=ze($e))ge++;for(;0<Q-ge;)W=ze(W),Q--;for(;0<ge-Q;)B=ze(B),ge--;for(;Q--;){if(W===B||B!==null&&W===B.alternate){ze=W;break t}W=ze(W),B=ze(B)}ze=null}else ze=null;oe!==null&&zN(ve,re,oe,ze,!1),Re!==null&&dt!==null&&zN(ve,dt,Re,ze,!0)}}e:{if(re=Z?ec(Z):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var et=nj;else if(rj(re))if(sj)et=KP;else{et=WP;var Pe=YP}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?Z&&dp(Z.elementType)&&(et=nj):et=XP;if(et&&(et=et(i,Z))){aj(ve,et,u,fe);break e}Pe&&Pe(i,re,Z),i==="focusout"&&Z&&re.type==="number"&&Z.memoizedProps.value!=null&&up(re,"number",re.value)}switch(Pe=Z?ec(Z):window,i){case"focusin":(rj(Pe)||Pe.contentEditable==="true")&&(Eo=Pe,Ep=Z,cc=null);break;case"focusout":cc=Ep=Eo=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,fj(ve,u,fe);break;case"selectionchange":if(QP)break;case"keydown":case"keyup":fj(ve,u,fe)}var Ye;if(wp)e:{switch(i){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else _o?ej(i,u)&&(Je="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(Jw&&u.locale!=="ko"&&(_o||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&_o&&(Ye=Vw()):(Es=fe,gp="value"in Es?Es.value:Es.textContent,_o=!0)),Pe=Qd(Z,Je),0<Pe.length&&(Je=new Xw(Je,i,null,u,fe),ve.push({event:Je,listeners:Pe}),Ye?Je.data=Ye:(Ye=tj(u),Ye!==null&&(Je.data=Ye)))),(Ye=FP?qP(i,u):HP(i,u))&&(Je=Qd(Z,"onBeforeInput"),0<Je.length&&(Pe=new Xw("onBeforeInput","beforeinput",null,u,fe),ve.push({event:Pe,listeners:Je}),Pe.data=Ye)),M3(ve,i,Z,u,fe)}$N(ve,l)})}function Pc(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Qd(i,l){for(var u=l+"Capture",p=[];i!==null;){var b=i,j=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||j===null||(b=tc(i,u),b!=null&&p.unshift(Pc(i,b,j)),b=tc(i,l),b!=null&&p.push(Pc(i,b,j))),i.tag===3)return p;i=i.return}return[]}function $3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zN(i,l,u,p,b){for(var j=l._reactName,A=[];u!==null&&u!==p;){var D=u,U=D.alternate,Z=D.stateNode;if(D=D.tag,U!==null&&U===p)break;D!==5&&D!==26&&D!==27||Z===null||(U=Z,b?(Z=tc(u,j),Z!=null&&A.unshift(Pc(u,Z,U))):b||(Z=tc(u,j),Z!=null&&A.push(Pc(u,Z,U)))),u=u.return}A.length!==0&&i.push({event:l,listeners:A})}var B3=/\r\n?/g,z3=/\u0000|\uFFFD/g;function FN(i){return(typeof i=="string"?i:""+i).replace(B3,`
`).replace(z3,"")}function qN(i,l){return l=FN(l),FN(i)===l}function ut(i,l,u,p,b,j){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||wo(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&wo(i,""+p);break;case"className":rd(i,"class",p);break;case"tabIndex":rd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":rd(i,u,p);break;case"style":qw(i,p,j);break;case"data":if(l!=="object"){rd(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=nd(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(u==="formAction"?(l!=="input"&&ut(i,l,"name",b.name,b,null),ut(i,l,"formEncType",b.formEncType,b,null),ut(i,l,"formMethod",b.formMethod,b,null),ut(i,l,"formTarget",b.formTarget,b,null)):(ut(i,l,"encType",b.encType,b,null),ut(i,l,"method",b.method,b,null),ut(i,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=nd(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Rn);break;case"onScroll":p!=null&&Xe("scroll",i);break;case"onScrollEnd":p!=null&&Xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=nd(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":Xe("beforetoggle",i),Xe("toggle",i),td(i,"popover",p);break;case"xlinkActuate":On(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":On(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":On(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":On(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":On(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":On(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":On(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":On(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":On(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":td(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=pP.get(u)||u,td(i,u,p))}}function Jg(i,l,u,p,b,j){switch(u){case"style":qw(i,p,j);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof p=="string"?wo(i,p):(typeof p=="number"||typeof p=="bigint")&&wo(i,""+p);break;case"onScroll":p!=null&&Xe("scroll",i);break;case"onScrollEnd":p!=null&&Xe("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pw.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),j=i[qr]||null,j=j!=null?j[u]:null,typeof j=="function"&&i.removeEventListener(l,j,b),typeof p=="function")){typeof j!="function"&&j!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,p,b);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):td(i,u,p)}}}function fr(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",i),Xe("load",i);var p=!1,b=!1,j;for(j in u)if(u.hasOwnProperty(j)){var A=u[j];if(A!=null)switch(j){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ut(i,l,j,A,u,null)}}b&&ut(i,l,"srcSet",u.srcSet,u,null),p&&ut(i,l,"src",u.src,u,null);return;case"input":Xe("invalid",i);var D=j=A=b=null,U=null,Z=null;for(p in u)if(u.hasOwnProperty(p)){var fe=u[p];if(fe!=null)switch(p){case"name":b=fe;break;case"type":A=fe;break;case"checked":U=fe;break;case"defaultChecked":Z=fe;break;case"value":j=fe;break;case"defaultValue":D=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,l));break;default:ut(i,l,p,fe,u,null)}}$w(i,j,D,U,Z,A,b,!1);return;case"select":Xe("invalid",i),p=A=j=null;for(b in u)if(u.hasOwnProperty(b)&&(D=u[b],D!=null))switch(b){case"value":j=D;break;case"defaultValue":A=D;break;case"multiple":p=D;default:ut(i,l,b,D,u,null)}l=j,u=A,i.multiple=!!p,l!=null?bo(i,!!p,l,!1):u!=null&&bo(i,!!p,u,!0);return;case"textarea":Xe("invalid",i),j=b=p=null;for(A in u)if(u.hasOwnProperty(A)&&(D=u[A],D!=null))switch(A){case"value":p=D;break;case"defaultValue":b=D;break;case"children":j=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(91));break;default:ut(i,l,A,D,u,null)}zw(i,p,b,j);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(p=u[U],p!=null))switch(U){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ut(i,l,U,p,u,null)}return;case"dialog":Xe("beforetoggle",i),Xe("toggle",i),Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":Xe("load",i);break;case"video":case"audio":for(p=0;p<Dc.length;p++)Xe(Dc[p],i);break;case"image":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"embed":case"source":case"link":Xe("error",i),Xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(p=u[Z],p!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ut(i,l,Z,p,u,null)}return;default:if(dp(l)){for(fe in u)u.hasOwnProperty(fe)&&(p=u[fe],p!==void 0&&Jg(i,l,fe,p,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(p=u[D],p!=null&&ut(i,l,D,p,u,null))}function F3(i,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,j=null,A=null,D=null,U=null,Z=null,fe=null;for(oe in u){var ve=u[oe];if(u.hasOwnProperty(oe)&&ve!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":U=ve;default:p.hasOwnProperty(oe)||ut(i,l,oe,null,p,ve)}}for(var re in p){var oe=p[re];if(ve=u[re],p.hasOwnProperty(re)&&(oe!=null||ve!=null))switch(re){case"type":j=oe;break;case"name":b=oe;break;case"checked":Z=oe;break;case"defaultChecked":fe=oe;break;case"value":A=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,l));break;default:oe!==ve&&ut(i,l,re,oe,p,ve)}}cp(i,A,D,U,Z,fe,j,b);return;case"select":oe=A=D=re=null;for(j in u)if(U=u[j],u.hasOwnProperty(j)&&U!=null)switch(j){case"value":break;case"multiple":oe=U;default:p.hasOwnProperty(j)||ut(i,l,j,null,p,U)}for(b in p)if(j=p[b],U=u[b],p.hasOwnProperty(b)&&(j!=null||U!=null))switch(b){case"value":re=j;break;case"defaultValue":D=j;break;case"multiple":A=j;default:j!==U&&ut(i,l,b,j,p,U)}l=D,u=A,p=oe,re!=null?bo(i,!!u,re,!1):!!p!=!!u&&(l!=null?bo(i,!!u,l,!0):bo(i,!!u,u?[]:"",!1));return;case"textarea":oe=re=null;for(D in u)if(b=u[D],u.hasOwnProperty(D)&&b!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ut(i,l,D,null,p,b)}for(A in p)if(b=p[A],j=u[A],p.hasOwnProperty(A)&&(b!=null||j!=null))switch(A){case"value":re=b;break;case"defaultValue":oe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==j&&ut(i,l,A,b,p,j)}Bw(i,re,oe);return;case"option":for(var Re in u)if(re=u[Re],u.hasOwnProperty(Re)&&re!=null&&!p.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:ut(i,l,Re,null,p,re)}for(U in p)if(re=p[U],oe=u[U],p.hasOwnProperty(U)&&re!==oe&&(re!=null||oe!=null))switch(U){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:ut(i,l,U,re,p,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in u)re=u[ze],u.hasOwnProperty(ze)&&re!=null&&!p.hasOwnProperty(ze)&&ut(i,l,ze,null,p,re);for(Z in p)if(re=p[Z],oe=u[Z],p.hasOwnProperty(Z)&&re!==oe&&(re!=null||oe!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,l));break;default:ut(i,l,Z,re,p,oe)}return;default:if(dp(l)){for(var dt in u)re=u[dt],u.hasOwnProperty(dt)&&re!==void 0&&!p.hasOwnProperty(dt)&&Jg(i,l,dt,void 0,p,re);for(fe in p)re=p[fe],oe=u[fe],!p.hasOwnProperty(fe)||re===oe||re===void 0&&oe===void 0||Jg(i,l,fe,re,p,oe);return}}for(var W in u)re=u[W],u.hasOwnProperty(W)&&re!=null&&!p.hasOwnProperty(W)&&ut(i,l,W,null,p,re);for(ve in p)re=p[ve],oe=u[ve],!p.hasOwnProperty(ve)||re===oe||re==null&&oe==null||ut(i,l,ve,re,p,oe)}function HN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var b=u[p],j=b.transferSize,A=b.initiatorType,D=b.duration;if(j&&D&&HN(A)){for(A=0,D=b.responseEnd,p+=1;p<u.length;p++){var U=u[p],Z=U.startTime;if(Z>D)break;var fe=U.transferSize,ve=U.initiatorType;fe&&HN(ve)&&(U=U.responseEnd,A+=fe*(U<D?1:(D-Z)/(U-Z)))}if(--p,l+=8*(j+A)/(b.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qg=null,Zg=null;function Zd(i){return i.nodeType===9?i:i.ownerDocument}function GN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VN(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function ex(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var tx=null;function H3(){var i=window.event;return i&&i.type==="popstate"?i===tx?!1:(tx=i,!0):(tx=null,!1)}var YN=typeof setTimeout=="function"?setTimeout:void 0,G3=typeof clearTimeout=="function"?clearTimeout:void 0,WN=typeof Promise=="function"?Promise:void 0,V3=typeof queueMicrotask=="function"?queueMicrotask:typeof WN<"u"?function(i){return WN.resolve(null).then(i).catch(Y3)}:YN;function Y3(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function XN(i,l){var u=l,p=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(p===0){i.removeChild(b),Qo(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Mc(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Mc(u);for(var j=u.firstChild;j;){var A=j.nextSibling,D=j.nodeName;j[Zl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&j.rel.toLowerCase()==="stylesheet"||u.removeChild(j),j=A}}else u==="body"&&Mc(i.ownerDocument.body);u=b}while(u);Qo(l)}function KN(i,l){var u=i;i=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=p}while(u)}function rx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":rx(u),op(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function W3(i,l,u,p){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Zl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var j=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=Ra(i.nextSibling),i===null)break}return null}function X3(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ra(i.nextSibling),i===null))return null;return i}function JN(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ra(i.nextSibling),i===null))return null;return i}function ax(i){return i.data==="$?"||i.data==="$~"}function nx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function K3(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Ra(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var sx=null;function QN(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Ra(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function ZN(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function e_(i,l,u){switch(l=Zd(u),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Mc(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);op(i)}var Da=new Map,t_=new Set;function eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Wn=X.d;X.d={f:J3,r:Q3,D:Z3,C:eM,L:tM,m:rM,X:nM,S:aM,M:sM};function J3(){var i=Wn.f(),l=Gd();return i||l}function Q3(i){var l=xo(i);l!==null&&l.tag===5&&l.type==="form"?v1(l):Wn.r(i)}var Xo=typeof document>"u"?null:document;function r_(i,l,u){var p=Xo;if(p&&typeof l=="string"&&l){var b=Ea(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),t_.has(b)||(t_.add(b),i={rel:i,crossOrigin:u,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),fr(l,"link",i),tr(l),p.head.appendChild(l)))}}function Z3(i){Wn.D(i),r_("dns-prefetch",i,null)}function eM(i,l){Wn.C(i,l),r_("preconnect",i,l)}function tM(i,l,u){Wn.L(i,l,u);var p=Xo;if(p&&i&&l){var b='link[rel="preload"][as="'+Ea(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Ea(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Ea(u.imageSizes)+'"]')):b+='[href="'+Ea(i)+'"]';var j=b;switch(l){case"style":j=Ko(i);break;case"script":j=Jo(i)}Da.has(j)||(i=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Da.set(j,i),p.querySelector(b)!==null||l==="style"&&p.querySelector(Ic(j))||l==="script"&&p.querySelector(Lc(j))||(l=p.createElement("link"),fr(l,"link",i),tr(l),p.head.appendChild(l)))}}function rM(i,l){Wn.m(i,l);var u=Xo;if(u&&i){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Ea(p)+'"][href="'+Ea(i)+'"]',j=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Jo(i)}if(!Da.has(j)&&(i=g({rel:"modulepreload",href:i},l),Da.set(j,i),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Lc(j)))return}p=u.createElement("link"),fr(p,"link",i),tr(p),u.head.appendChild(p)}}}function aM(i,l,u){Wn.S(i,l,u);var p=Xo;if(p&&i){var b=vo(p).hoistableStyles,j=Ko(i);l=l||"default";var A=b.get(j);if(!A){var D={loading:0,preload:null};if(A=p.querySelector(Ic(j)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Da.get(j))&&ix(i,u);var U=A=p.createElement("link");tr(U),fr(U,"link",i),U._p=new Promise(function(Z,fe){U.onload=Z,U.onerror=fe}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,th(A,l,p)}A={type:"stylesheet",instance:A,count:1,state:D},b.set(j,A)}}}function nM(i,l){Wn.X(i,l);var u=Xo;if(u&&i){var p=vo(u).hoistableScripts,b=Jo(i),j=p.get(b);j||(j=u.querySelector(Lc(b)),j||(i=g({src:i,async:!0},l),(l=Da.get(b))&&ox(i,l),j=u.createElement("script"),tr(j),fr(j,"link",i),u.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function sM(i,l){Wn.M(i,l);var u=Xo;if(u&&i){var p=vo(u).hoistableScripts,b=Jo(i),j=p.get(b);j||(j=u.querySelector(Lc(b)),j||(i=g({src:i,async:!0,type:"module"},l),(l=Da.get(b))&&ox(i,l),j=u.createElement("script"),tr(j),fr(j,"link",i),u.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function a_(i,l,u,p){var b=(b=I.current)?eh(b):null;if(!b)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Ko(u.href),u=vo(b).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ko(u.href);var j=vo(b).hoistableStyles,A=j.get(i);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,A),(j=b.querySelector(Ic(i)))&&!j._p&&(A.instance=j,A.state.loading=5),Da.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Da.set(i,u),j||iM(b,i,u,A.state))),l&&p===null)throw Error(a(528,""));return A}if(l&&p!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Jo(u),u=vo(b).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Ko(i){return'href="'+Ea(i)+'"'}function Ic(i){return'link[rel="stylesheet"]['+i+"]"}function n_(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function iM(i,l,u,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),fr(l,"link",u),tr(l),i.head.appendChild(l))}function Jo(i){return'[src="'+Ea(i)+'"]'}function Lc(i){return"script[async]"+i}function s_(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+Ea(u.href)+'"]');if(p)return l.instance=p,tr(p),p;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),tr(p),fr(p,"style",b),th(p,u.precedence,i),l.instance=p;case"stylesheet":b=Ko(u.href);var j=i.querySelector(Ic(b));if(j)return l.state.loading|=4,l.instance=j,tr(j),j;p=n_(u),(b=Da.get(b))&&ix(p,b),j=(i.ownerDocument||i).createElement("link"),tr(j);var A=j;return A._p=new Promise(function(D,U){A.onload=D,A.onerror=U}),fr(j,"link",p),l.state.loading|=4,th(j,u.precedence,i),l.instance=j;case"script":return j=Jo(u.src),(b=i.querySelector(Lc(j)))?(l.instance=b,tr(b),b):(p=u,(b=Da.get(j))&&(p=g({},u),ox(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),tr(b),fr(b,"link",p),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,th(p,u.precedence,i));return l.instance}function th(i,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,j=b,A=0;A<p.length;A++){var D=p[A];if(D.dataset.precedence===l)j=D;else if(j!==b)break}j?j.parentNode.insertBefore(i,j.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function ix(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function ox(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var rh=null;function i_(i,l,u){if(rh===null){var p=new Map,b=rh=new Map;b.set(u,p)}else b=rh,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var j=u[b];if(!(j[Zl]||j[cr]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var A=j.getAttribute(l)||"";A=i+A;var D=p.get(A);D?D.push(j):p.set(A,[j])}}return p}function o_(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function oM(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function l_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function lM(i,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Ko(p.href),j=l.querySelector(Ic(b));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=ah.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=j,tr(j);return}j=l.ownerDocument||l,p=n_(p),(b=Da.get(b))&&ix(p,b),j=j.createElement("link"),tr(j);var A=j;A._p=new Promise(function(D,U){A.onload=D,A.onerror=U}),fr(j,"link",p),u.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=ah.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var lx=0;function cM(i,l){return i.stylesheets&&i.count===0&&sh(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var p=setTimeout(function(){if(i.stylesheets&&sh(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+l);0<i.imgBytes&&lx===0&&(lx=62500*q3());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&sh(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>lx?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nh=null;function sh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nh=new Map,l.forEach(uM,i),nh=null,ah.call(i))}function uM(i,l){if(!(l.state.loading&4)){var u=nh.get(i);if(u)var p=u.get(null);else{u=new Map,nh.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<b.length;j++){var A=b[j];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),p=A)}p&&u.set(null,p)}b=l.instance,A=b.getAttribute("data-precedence"),j=u.get(A)||p,j===p&&u.set(null,b),u.set(A,b),this.count++,p=ah.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),j?j.parentNode.insertBefore(b,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var Uc={$$typeof:S,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function dM(i,l,u,p,b,j,A,D,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=j,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function c_(i,l,u,p,b,j,A,D,U,Z,fe,ve){return i=new dM(i,l,u,A,U,Z,fe,ve,D),l=1,j===!0&&(l|=24),j=sa(3,null,null,l),i.current=j,j.stateNode=i,l=zp(),l.refCount++,i.pooledCache=l,l.refCount++,j.memoizedState={element:p,isDehydrated:u,cache:l},Gp(j),i}function u_(i){return i?(i=Co,i):Co}function d_(i,l,u,p,b,j){b=u_(b),p.context===null?p.context=b:p.pendingContext=b,p=Os(l),p.payload={element:u},j=j===void 0?null:j,j!==null&&(p.callback=j),u=Rs(i,p,l),u!==null&&(Xr(u,i,l),gc(u,i,l))}function h_(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function cx(i,l){h_(i,l),(i=i.alternate)&&h_(i,l)}function f_(i){if(i.tag===13||i.tag===31){var l=Ni(i,67108864);l!==null&&Xr(l,i,67108864),cx(i,67108864)}}function m_(i){if(i.tag===13||i.tag===31){var l=ua();l=np(l);var u=Ni(i,l);u!==null&&Xr(u,i,l),cx(i,l)}}var ih=!0;function hM(i,l,u,p){var b=P.T;P.T=null;var j=X.p;try{X.p=2,ux(i,l,u,p)}finally{X.p=j,P.T=b}}function fM(i,l,u,p){var b=P.T;P.T=null;var j=X.p;try{X.p=8,ux(i,l,u,p)}finally{X.p=j,P.T=b}}function ux(i,l,u,p){if(ih){var b=dx(p);if(b===null)Kg(i,l,p,oh,u),g_(i,p);else if(pM(b,i,l,u,p))p.stopPropagation();else if(g_(i,p),l&4&&-1<mM.indexOf(i)){for(;b!==null;){var j=xo(b);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var A=fn(j.pendingLanes);if(A!==0){var D=j;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var U=1<<31-_r(A);D.entanglements[1]|=U,A&=~U}xn(j),(at&6)===0&&(qd=He()+500,Rc(0))}}break;case 31:case 13:D=Ni(j,2),D!==null&&Xr(D,j,2),Gd(),cx(j,2)}if(j=dx(p),j===null&&Kg(i,l,p,oh,u),j===b)break;b=j}b!==null&&p.stopPropagation()}else Kg(i,l,p,null,u)}}function dx(i){return i=fp(i),hx(i)}var oh=null;function hx(i){if(oh=null,i=go(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return oh=i,null}function p_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case pt:return 2;case Vt:return 8;case Ct:case Tn:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var fx=!1,qs=null,Hs=null,Gs=null,$c=new Map,Bc=new Map,Vs=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(i,l){switch(i){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":$c.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(l.pointerId)}}function zc(i,l,u,p,b,j){return i===null||i.nativeEvent!==j?(i={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:j,targetContainers:[b]},l!==null&&(l=xo(l),l!==null&&f_(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function pM(i,l,u,p,b){switch(l){case"focusin":return qs=zc(qs,i,l,u,p,b),!0;case"dragenter":return Hs=zc(Hs,i,l,u,p,b),!0;case"mouseover":return Gs=zc(Gs,i,l,u,p,b),!0;case"pointerover":var j=b.pointerId;return $c.set(j,zc($c.get(j)||null,i,l,u,p,b)),!0;case"gotpointercapture":return j=b.pointerId,Bc.set(j,zc(Bc.get(j)||null,i,l,u,p,b)),!0}return!1}function x_(i){var l=go(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,Ow(i.priority,function(){m_(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,Ow(i.priority,function(){m_(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=dx(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);hp=p,u.target.dispatchEvent(p),hp=null}else return l=xo(u),l!==null&&f_(l),i.blockedOn=u,!1;l.shift()}return!0}function v_(i,l,u){lh(i)&&u.delete(l)}function gM(){fx=!1,qs!==null&&lh(qs)&&(qs=null),Hs!==null&&lh(Hs)&&(Hs=null),Gs!==null&&lh(Gs)&&(Gs=null),$c.forEach(v_),Bc.forEach(v_)}function ch(i,l){i.blockedOn===l&&(i.blockedOn=null,fx||(fx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gM)))}var uh=null;function y_(i){uh!==i&&(uh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uh===i&&(uh=null);for(var l=0;l<i.length;l+=3){var u=i[l],p=i[l+1],b=i[l+2];if(typeof p!="function"){if(hx(p||u)===null)continue;break}var j=xo(u);j!==null&&(i.splice(l,3),l-=3,dg(j,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function Qo(i){function l(U){return ch(U,i)}qs!==null&&ch(qs,i),Hs!==null&&ch(Hs,i),Gs!==null&&ch(Gs,i),$c.forEach(l),Bc.forEach(l);for(var u=0;u<Vs.length;u++){var p=Vs[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Vs.length&&(u=Vs[0],u.blockedOn===null);)x_(u),u.blockedOn===null&&Vs.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],j=u[p+1],A=b[qr]||null;if(typeof j=="function")A||y_(u);else if(A){var D=null;if(j&&j.hasAttribute("formAction")){if(b=j,A=j[qr]||null)D=A.formAction;else if(hx(b)!==null)continue}else D=A.action;typeof D=="function"?u[p+1]=D:(u.splice(p,3),p-=3),y_(u)}}}function b_(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function mx(i){this._internalRoot=i}dh.prototype.render=mx.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,p=ua();d_(u,p,i,l,null,null)},dh.prototype.unmount=mx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;d_(i.current,2,null,i,null,null),Gd(),l[po]=null}};function dh(i){this._internalRoot=i}dh.prototype.unstable_scheduleHydration=function(i){if(i){var l=Tw();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Vs.length&&l!==0&&l<Vs[u].priority;u++);Vs.splice(u,0,i),u===0&&x_(i)}};var w_=t.version;if(w_!=="19.2.0")throw Error(a(527,w_,"19.2.0"));X.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var xM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{js=hh.inject(xM),Nr=hh}catch{}}return qc.createRoot=function(i,l){if(!s(i))throw Error(a(299));var u=!1,p="",b=C1,j=A1,A=T1;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError)),l=c_(i,1,!1,null,null,u,p,null,b,j,A,b_),i[po]=l.current,Xg(i),new mx(l)},qc.hydrateRoot=function(i,l,u){if(!s(i))throw Error(a(299));var p=!1,b="",j=C1,A=A1,D=T1,U=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(j=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),l=c_(i,1,!0,l,u??null,p,b,U,j,A,D,b_),l.context=u_(null),u=l.current,p=ua(),p=np(p),b=Os(p),b.callback=null,Rs(u,b,p),u=p,l.current.lanes=u,Lt(l,u),xn(l),i[po]=l.current,Xg(i),new dh(l)},qc.version="19.2.0",qc}var O_;function AM(){if(O_)return xx.exports;O_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xx.exports=CM(),xx.exports}var TM=AM();const OM=on(TM);var v=Ml();const nr=on(v),Dy=LC({__proto__:null,default:nr},[v]);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R_="popstate";function RM(e={}){function t(a,s){let{pathname:o,search:c,hash:d}=a.location;return gv("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:du(s)}return PM(t,r,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ba(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DM(){return Math.random().toString(36).substring(2,10)}function D_(e,t){return{usr:e.state,key:e.key,idx:t}}function gv(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Il(t):t,state:r,key:t&&t.key||a||DM()}}function du({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Il(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function PM(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,d="POP",h=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function g(){d="POP";let w=m(),E=w==null?null:w-f;f=w,h&&h({action:d,location:_.location,delta:E})}function x(w,E){d="PUSH";let k=gv(_.location,w,E);f=m()+1;let S=D_(k,f),T=_.createHref(k);try{c.pushState(S,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(T)}o&&h&&h({action:d,location:_.location,delta:1})}function y(w,E){d="REPLACE";let k=gv(_.location,w,E);f=m();let S=D_(k,f),T=_.createHref(k);c.replaceState(S,"",T),o&&h&&h({action:d,location:_.location,delta:0})}function N(w){return MM(w)}let _={get action(){return d},get location(){return e(s,c)},listen(w){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(R_,g),h=w,()=>{s.removeEventListener(R_,g),h=null}},createHref(w){return t(s,w)},createURL:N,encodeLocation(w){let E=N(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:y,go(w){return c.go(w)}};return _}function MM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),St(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:du(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function $C(e,t,r="/"){return IM(e,t,r,!1)}function IM(e,t,r,a){let s=typeof t=="string"?Il(t):t,o=ns(s.pathname||"/",r);if(o==null)return null;let c=BC(e);LM(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=WM(o);d=VM(c[h],f,a)}return d}function BC(e,t=[],r=[],a="",s=!1){let o=(c,d,h=s,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&h)return;St(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let g=es([a,m.relativePath]),x=r.concat(m);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BC(c.children,t,x,g,h)),!(c.path==null&&!c.index)&&t.push({path:g,score:HM(g,c.index),routesMeta:x})};return e.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let f of zC(c.path))o(c,d,!0,f)}),t}function zC(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=zC(a.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function LM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GM(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var UM=/^:[\w-]+$/,$M=3,BM=2,zM=1,FM=10,qM=-2,P_=e=>e==="*";function HM(e,t){let r=e.split("/"),a=r.length;return r.some(P_)&&(a+=qM),t&&(a+=BM),r.filter(s=>!P_(s)).reduce((s,o)=>s+(UM.test(o)?$M:o===""?zM:FM),a)}function GM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function VM(e,t,r=!1){let{routesMeta:a}=e,s={},o="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],f=d===a.length-1,m=o==="/"?t:t.slice(o.length)||"/",g=Zh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),x=h.route;if(!g&&f&&r&&!a[a.length-1].route.index&&(g=Zh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:es([o,g.pathname]),pathnameBase:ZM(es([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=es([o,g.pathnameBase]))}return c}function Zh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=YM(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((f,{paramName:m,isOptional:g},x)=>{if(m==="*"){let N=d[x]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const y=d[x];return g&&!y?f[m]=void 0:f[m]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function YM(e,t=!1,r=!0){ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function WM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ba(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ns(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var XM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KM=e=>XM.test(e);function JM(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Il(e):e,o;if(r)if(KM(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),ba(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?o=M_(r.substring(1),"/"):o=M_(r,t)}else o=t;return{pathname:o,search:eI(a),hash:tI(s)}}function M_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jx(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Py(e){let t=QM(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function My(e,t,r,a=!1){let s;typeof e=="string"?s=Il(e):(s={...e},St(!s.pathname||!s.pathname.includes("?"),jx("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),jx("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),jx("#","search","hash",s)));let o=e===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=r;else{let g=t.length-1;if(!a&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}d=g>=0?t[g]:"/"}let h=JM(s,d),f=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var es=e=>e.join("/").replace(/\/\/+/g,"/"),ZM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FC=["POST","PUT","PATCH","DELETE"];new Set(FC);var aI=["GET",...FC];new Set(aI);var Ll=v.createContext(null);Ll.displayName="DataRouter";var tm=v.createContext(null);tm.displayName="DataRouterState";v.createContext(!1);var qC=v.createContext({isTransitioning:!1});qC.displayName="ViewTransition";var nI=v.createContext(new Map);nI.displayName="Fetchers";var sI=v.createContext(null);sI.displayName="Await";var ln=v.createContext(null);ln.displayName="Navigation";var Au=v.createContext(null);Au.displayName="Location";var qa=v.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var Iy=v.createContext(null);Iy.displayName="RouteError";function iI(e,{relative:t}={}){St(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=v.useContext(ln),{hash:s,pathname:o,search:c}=Tu(e,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:es([r,o])),a.createHref({pathname:d,search:c,hash:s})}function Ul(){return v.useContext(Au)!=null}function ja(){return St(Ul(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Au).location}var HC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GC(e){v.useContext(ln).static||v.useLayoutEffect(e)}function mt(){let{isDataRoute:e}=v.useContext(qa);return e?bI():oI()}function oI(){St(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Ll),{basename:t,navigator:r}=v.useContext(ln),{matches:a}=v.useContext(qa),{pathname:s}=ja(),o=JSON.stringify(Py(a)),c=v.useRef(!1);return GC(()=>{c.current=!0}),v.useCallback((h,f={})=>{if(ba(c.current,HC),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=My(h,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:es([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,o,s,e])}var VC=v.createContext(null);function uo(){return v.useContext(VC)}function lI(e){let t=v.useContext(qa).outlet;return v.useMemo(()=>t&&v.createElement(VC.Provider,{value:e},t),[t,e])}function ta(){let{matches:e}=v.useContext(qa),t=e[e.length-1];return t?t.params:{}}function Tu(e,{relative:t}={}){let{matches:r}=v.useContext(qa),{pathname:a}=ja(),s=JSON.stringify(Py(r));return v.useMemo(()=>My(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function cI(e,t){return YC(e,t)}function YC(e,t,r,a,s){var k;St(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(ln),{matches:c}=v.useContext(qa),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",m=d?d.pathnameBase:"/",g=d&&d.route;{let S=g&&g.path||"";WC(f,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=ja(),y;if(t){let S=typeof t=="string"?Il(t):t;St(m==="/"||((k=S.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=x;let N=y.pathname||"/",_=N;if(m!=="/"){let S=m.replace(/^\//,"").split("/");_="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=$C(e,{pathname:_});ba(g||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ba(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=mI(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:es([m,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:es([m,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,r,a,s);return t&&E?v.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function uI(){let e=yI(),t=rI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,c)}var dI=v.createElement(uI,null),hI=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(qa.Provider,{value:this.props.routeContext},v.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fI({routeContext:e,match:t,children:r}){let a=v.useContext(Ll);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(qa.Provider,{value:e},r)}function mI(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r==null?void 0:r.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);St(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:x,errors:y}=r,N=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||N){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=r&&a?(m,g)=>{var x,y;a(m,{location:r.location,params:((y=(x=r.matches)==null?void 0:x[0])==null?void 0:y.params)??{},errorInfo:g})}:void 0;return o.reduceRight((m,g,x)=>{let y,N=!1,_=null,w=null;r&&(y=c&&g.route.id?c[g.route.id]:void 0,_=g.route.errorElement||dI,d&&(h<0&&x===0?(WC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,w=null):h===x&&(N=!0,w=g.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,x+1)),k=()=>{let S;return y?S=_:N?S=w:g.route.Component?S=v.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=m,v.createElement(fI,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:r!=null},children:S})};return r&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?v.createElement(hI,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):k()},null)}function Ly(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pI(e){let t=v.useContext(Ll);return St(t,Ly(e)),t}function gI(e){let t=v.useContext(tm);return St(t,Ly(e)),t}function xI(e){let t=v.useContext(qa);return St(t,Ly(e)),t}function Uy(e){let t=xI(e),r=t.matches[t.matches.length-1];return St(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function vI(){return Uy("useRouteId")}function yI(){var a;let e=v.useContext(Iy),t=gI("useRouteError"),r=Uy("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function bI(){let{router:e}=pI("useNavigate"),t=Uy("useNavigate"),r=v.useRef(!1);return GC(()=>{r.current=!0}),v.useCallback(async(s,o={})=>{ba(r.current,HC),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var I_={};function WC(e,t,r){!t&&!I_[e]&&(I_[e]=!0,ba(!1,r))}v.memo(wI);function wI({routes:e,future:t,state:r,unstable_onError:a}){return YC(e,void 0,r,a,t)}function Fh({to:e,replace:t,state:r,relative:a}){St(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(ln);ba(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(qa),{pathname:c}=ja(),d=mt(),h=My(e,Py(o),c,a==="path"),f=JSON.stringify(h);return v.useEffect(()=>{d(JSON.parse(f),{replace:t,state:r,relative:a})},[d,f,a,t,r]),null}function jI(e){return lI(e.context)}function Le(e){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NI({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:o=!1}){St(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof r=="string"&&(r=Il(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:x="default"}=r,y=v.useMemo(()=>{let N=ns(h,c);return N==null?null:{location:{pathname:N,search:f,hash:m,state:g,key:x},navigationType:a}},[c,h,f,m,g,x,a]);return ba(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(ln.Provider,{value:d},v.createElement(Au.Provider,{children:t,value:y}))}function Nx({children:e,location:t}){return cI(xv(e),t)}function xv(e,t=[]){let r=[];return v.Children.forEach(e,(a,s)=>{if(!v.isValidElement(a))return;let o=[...t,s];if(a.type===v.Fragment){r.push.apply(r,xv(a.props.children,o));return}St(a.type===Le,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=xv(a.props.children,o)),r.push(c)}),r}var qh="get",Hh="application/x-www-form-urlencoded";function rm(e){return e!=null&&typeof e.tagName=="string"}function _I(e){return rm(e)&&e.tagName.toLowerCase()==="button"}function EI(e){return rm(e)&&e.tagName.toLowerCase()==="form"}function SI(e){return rm(e)&&e.tagName.toLowerCase()==="input"}function kI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CI(e,t){return e.button===0&&(!t||t==="_self")&&!kI(e)}function vv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function AI(e,t){let r=vv(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}var fh=null;function TI(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var OI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _x(e){return e!=null&&!OI.has(e)?(ba(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hh}"`),null):e}function RI(e,t){let r,a,s,o,c;if(EI(e)){let d=e.getAttribute("action");a=d?ns(d,t):null,r=e.getAttribute("method")||qh,s=_x(e.getAttribute("enctype"))||Hh,o=new FormData(e)}else if(_I(e)||SI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(a=h?ns(h,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||qh,s=_x(e.getAttribute("formenctype"))||_x(d.getAttribute("enctype"))||Hh,o=new FormData(d,e),!TI()){let{name:f,type:m,value:g}=e;if(m==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,g)}}else{if(rm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qh,a=null,s=Hh,c=e}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DI(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&ns(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function PI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function II(e,t,r){let a=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let c=await PI(o,r);return c.links?c.links():[]}return[]}));return BI(a.flat(1).filter(MI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function L_(e,t,r,a,s,o){let c=(h,f)=>r[f]?h.route.id!==r[f].route.id:!0,d=(h,f)=>{var m;return r[f].pathname!==h.pathname||((m=r[f].route.path)==null?void 0:m.endsWith("*"))&&r[f].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?t.filter((h,f)=>{var g;let m=a.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function LI(e,t,{includeHydrateFallback:r}={}){return UI(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function UI(e){return[...new Set(e)]}function $I(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function BI(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let o=JSON.stringify($I(s));return r.has(o)||(r.add(o),a.push({key:o,link:s})),a},[])}function XC(){let e=v.useContext(Ll);return $y(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zI(){let e=v.useContext(tm);return $y(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var By=v.createContext(void 0);By.displayName="FrameworkContext";function KC(){let e=v.useContext(By);return $y(e,"You must render this element inside a <HydratedRouter> element"),e}function FI(e,t){let r=v.useContext(By),[a,s]=v.useState(!1),[o,c]=v.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=t,x=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let _=E=>{E.forEach(k=>{c(k.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let y=()=>{s(!0)},N=()=>{s(!1),c(!1)};return r?e!=="intent"?[o,x,{}]:[o,x,{onFocus:Hc(d,y),onBlur:Hc(h,N),onMouseEnter:Hc(f,y),onMouseLeave:Hc(m,N),onTouchStart:Hc(g,y)}]:[!1,x,{}]}function Hc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function qI({page:e,...t}){let{router:r}=XC(),a=v.useMemo(()=>$C(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?v.createElement(GI,{page:e,matches:a,...t}):null}function HI(e){let{manifest:t,routeModules:r}=KC(),[a,s]=v.useState([]);return v.useEffect(()=>{let o=!1;return II(e,t,r).then(c=>{o||s(c)}),()=>{o=!0}},[e,t,r]),a}function GI({page:e,matches:t,...r}){let a=ja(),{manifest:s,routeModules:o}=KC(),{basename:c}=XC(),{loaderData:d,matches:h}=zI(),f=v.useMemo(()=>L_(e,t,h,s,a,"data"),[e,t,h,s,a]),m=v.useMemo(()=>L_(e,t,h,s,a,"assets"),[e,t,h,s,a]),g=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let N=new Set,_=!1;if(t.forEach(E=>{var S;let k=s.routes[E.route.id];!k||!k.hasLoader||(!f.some(T=>T.route.id===E.route.id)&&E.route.id in d&&((S=o[E.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?_=!0:N.add(E.route.id))}),N.size===0)return[];let w=DI(e,c,"data");return _&&N.size>0&&w.searchParams.set("_routes",t.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[c,d,a,s,f,t,e,o]),x=v.useMemo(()=>LI(m,s),[m,s]),y=HI(m);return v.createElement(v.Fragment,null,g.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),x.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),y.map(({key:N,link:_})=>v.createElement("link",{key:N,nonce:r.nonce,..._})))}function VI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var JC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JC&&(window.__reactRouterVersion="7.9.6")}catch{}function YI({basename:e,children:t,window:r}){let a=v.useRef();a.current==null&&(a.current=RM({window:r,v5Compat:!0}));let s=a.current,[o,c]=v.useState({action:s.action,location:s.location}),d=v.useCallback(h=>{v.startTransition(()=>c(h))},[c]);return v.useLayoutEffect(()=>s.listen(d),[s,d]),v.createElement(NI,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=v.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:m,viewTransition:g,...x},y){let{basename:N}=v.useContext(ln),_=typeof f=="string"&&QC.test(f),w,E=!1;if(typeof f=="string"&&_&&(w=f,JC))try{let z=new URL(window.location.href),G=f.startsWith("//")?new URL(z.protocol+f):new URL(f),F=ns(G.pathname,N);G.origin===z.origin&&F!=null?f=F+G.search+G.hash:E=!0}catch{ba(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=iI(f,{relative:s}),[S,T,C]=FI(a,x),O=JI(f,{replace:c,state:d,target:h,preventScrollReset:m,relative:s,viewTransition:g});function M(z){t&&t(z),z.defaultPrevented||O(z)}let L=v.createElement("a",{...x,...C,href:w||k,onClick:E||o?t:M,ref:VI(y,T),target:h,"data-discover":!_&&r==="render"?"true":void 0});return S&&!_?v.createElement(v.Fragment,null,L,v.createElement(qI,{page:k})):L});Cr.displayName="Link";var WI=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:d,children:h,...f},m){let g=Tu(c,{relative:f.relative}),x=ja(),y=v.useContext(tm),{navigator:N,basename:_}=v.useContext(ln),w=y!=null&&rL(g)&&d===!0,E=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,k=x.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&_&&(S=ns(S,_)||S);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=k===E||!s&&k.startsWith(E)&&k.charAt(T)==="/",O=S!=null&&(S===E||!s&&S.startsWith(E)&&S.charAt(E.length)==="/"),M={isActive:C,isPending:O,isTransitioning:w},L=C?t:void 0,z;typeof a=="function"?z=a(M):z=[a,C?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(M):o;return v.createElement(Cr,{...f,"aria-current":L,className:z,ref:m,style:G,to:c,viewTransition:d},typeof h=="function"?h(M):h)});WI.displayName="NavLink";var XI=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:o,method:c=qh,action:d,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...x},y)=>{let N=eL(),_=tL(d,{relative:f}),w=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&QC.test(d),k=S=>{if(h&&h(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,C=(T==null?void 0:T.getAttribute("formmethod"))||c;N(T||S.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:s,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return v.createElement("form",{ref:y,method:w,action:_,onSubmit:a?h:k,...x,"data-discover":!E&&e==="render"?"true":void 0})});XI.displayName="Form";function KI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(e){let t=v.useContext(Ll);return St(t,KI(e)),t}function JI(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=mt(),h=ja(),f=Tu(e,{relative:o});return v.useCallback(m=>{if(CI(m,t)){m.preventDefault();let g=r!==void 0?r:du(h)===du(f);d(e,{replace:g,state:a,preventScrollReset:s,relative:o,viewTransition:c})}},[h,d,f,r,a,t,e,s,o,c])}function eA(e){ba(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(vv(e)),r=v.useRef(!1),a=ja(),s=v.useMemo(()=>AI(a.search,r.current?null:t.current),[a.search]),o=mt(),c=v.useCallback((d,h)=>{const f=vv(typeof d=="function"?d(new URLSearchParams(s)):d);r.current=!0,o("?"+f,h)},[o,s]);return[s,c]}var QI=0,ZI=()=>`__${String(++QI)}__`;function eL(){let{router:e}=ZC("useSubmit"),{basename:t}=v.useContext(ln),r=vI();return v.useCallback(async(a,s={})=>{let{action:o,method:c,encType:d,formData:h,body:f}=RI(a,t);if(s.navigate===!1){let m=s.fetcherKey||ZI();await e.fetch(m,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function tL(e,{relative:t}={}){let{basename:r}=v.useContext(ln),a=v.useContext(qa);St(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Tu(e||".",{relative:t})},c=ja();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let m=d.toString();o.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:es([r,o.pathname])),du(o)}function rL(e,{relative:t}={}){let r=v.useContext(qC);St(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ZC("useViewTransitionState"),s=Tu(e,{relative:t});if(!r.isTransitioning)return!1;let o=ns(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=ns(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Zh(s.pathname,c)!=null||Zh(s.pathname,o)!=null}var am=UC();const aL=on(am);var yv=function(e,t){return yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},yv(e,t)};function tA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ma=function(){return Ma=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ma.apply(this,arguments)};function di(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function rA(e,t,r,a){var s=arguments.length,o=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,a);else for(var d=e.length-1;d>=0;d--)(c=e[d])&&(o=(s<3?c(o):s>3?c(t,r,o):c(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function aA(e,t){return function(r,a){t(r,a,e)}}function nA(e,t,r,a,s,o){function c(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var d=a.kind,h=d==="getter"?"get":d==="setter"?"set":"value",f=!t&&e?a.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,a.name):{}),g,x=!1,y=r.length-1;y>=0;y--){var N={};for(var _ in a)N[_]=_==="access"?{}:a[_];for(var _ in a.access)N.access[_]=a.access[_];N.addInitializer=function(E){if(x)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(E||null))};var w=(0,r[y])(d==="accessor"?{get:m.get,set:m.set}:m[h],N);if(d==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(g=c(w.get))&&(m.get=g),(g=c(w.set))&&(m.set=g),(g=c(w.init))&&s.unshift(g)}else(g=c(w))&&(d==="field"?s.unshift(g):m[h]=g)}f&&Object.defineProperty(f,a.name,m),x=!0}function sA(e,t,r){for(var a=arguments.length>2,s=0;s<t.length;s++)r=a?t[s].call(e,r):t[s].call(e);return a?r:void 0}function iA(e){return typeof e=="symbol"?e:"".concat(e)}function oA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function lA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Me(e,t,r,a){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(a.next(m))}catch(g){c(g)}}function h(m){try{f(a.throw(m))}catch(g){c(g)}}function f(m){m.done?o(m.value):s(m.value).then(d,h)}f((a=a.apply(e,t||[])).next())})}function cA(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(m){return h([f,m])}}function h(f){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(r=0)),r;)try{if(a=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],s=0}finally{a=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var nm=Object.create?(function(e,t,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,s)}):(function(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]});function uA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nm(t,e,r)}function ef(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),s,o=[],c;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(d){c={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return o}function dA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zy(arguments[t]));return e}function hA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],c=0,d=o.length;c<d;c++,s++)a[s]=o[c];return a}function Fy(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}function Nl(e){return this instanceof Nl?(this.v=e,this):new Nl(e)}function fA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(y){return function(N){return Promise.resolve(N).then(y,g)}}function d(y,N){a[y]&&(s[y]=function(_){return new Promise(function(w,E){o.push([y,_,w,E])>1||h(y,_)})},N&&(s[y]=N(s[y])))}function h(y,N){try{f(a[y](N))}catch(_){x(o[0][3],_)}}function f(y){y.value instanceof Nl?Promise.resolve(y.value.v).then(m,g):x(o[0][2],y)}function m(y){h("next",y)}function g(y){h("throw",y)}function x(y,N){y(N),o.shift(),o.length&&h(o[0][0],o[0][1])}}function mA(e){var t,r;return t={},a("next"),a("throw",function(s){throw s}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(s,o){t[s]=e[s]?function(c){return(r=!r)?{value:Nl(e[s](c)),done:!1}:o?o(c):c}:o}}function pA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ef=="function"?ef(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(o){r[o]=e[o]&&function(c){return new Promise(function(d,h){c=e[o](c),s(d,h,c.done,c.value)})}}function s(o,c,d,h){Promise.resolve(h).then(function(f){o({value:f,done:d})},c)}}function gA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var nL=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},bv=function(e){return bv=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},bv(e)};function xA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=bv(e),a=0;a<r.length;a++)r[a]!=="default"&&nm(t,e,r[a]);return nL(t,e),t}function vA(e){return e&&e.__esModule?e:{default:e}}function yA(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function bA(e,t,r,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function wA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function jA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}var sL=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function NA(e){function t(o){e.error=e.hasError?new sL(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,a=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&a===1)return a=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(o).then(s,function(c){return t(c),s()})}else a|=1}catch(c){t(c)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _A(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,s,o,c){return a?t?".jsx":".js":s&&(!o||!c)?r:s+o+"."+c.toLowerCase()+"js"}):e}const iL={__extends:tA,__assign:Ma,__rest:di,__decorate:rA,__param:aA,__esDecorate:nA,__runInitializers:sA,__propKey:iA,__setFunctionName:oA,__metadata:lA,__awaiter:Me,__generator:cA,__createBinding:nm,__exportStar:uA,__values:ef,__read:zy,__spread:dA,__spreadArrays:hA,__spreadArray:Fy,__await:Nl,__asyncGenerator:fA,__asyncDelegator:mA,__asyncValues:pA,__makeTemplateObject:gA,__importStar:xA,__importDefault:vA,__classPrivateFieldGet:yA,__classPrivateFieldSet:bA,__classPrivateFieldIn:wA,__addDisposableResource:jA,__disposeResources:NA,__rewriteRelativeImportExtension:_A},oL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jA,get __assign(){return Ma},__asyncDelegator:mA,__asyncGenerator:fA,__asyncValues:pA,__await:Nl,__awaiter:Me,__classPrivateFieldGet:yA,__classPrivateFieldIn:wA,__classPrivateFieldSet:bA,__createBinding:nm,__decorate:rA,__disposeResources:NA,__esDecorate:nA,__exportStar:uA,__extends:tA,__generator:cA,__importDefault:vA,__importStar:xA,__makeTemplateObject:gA,__metadata:lA,__param:aA,__propKey:iA,__read:zy,__rest:di,__rewriteRelativeImportExtension:_A,__runInitializers:sA,__setFunctionName:oA,__spread:dA,__spreadArray:Fy,__spreadArrays:hA,__values:ef,default:iL},Symbol.toStringTag,{value:"Module"})),lL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sm extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class EA extends sm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wv extends sm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jv extends sm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tf||(tf={}));class cL{constructor(t,{headers:r={},customFetch:a,region:s=tf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=lL(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Me(this,arguments,void 0,function*(r,a={}){var s;let o,c;try{const{headers:d,method:h,body:f,signal:m,timeout:g}=a;let x={},{region:y}=a;y||(y=this.region);const N=new URL(`${this.url}/${r}`);y&&y!=="any"&&(x["x-region"]=y,N.searchParams.set("forceFunctionRegion",y));let _;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(x["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(x["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;let w=m;g&&(c=new AbortController,o=setTimeout(()=>c.abort(),g),m?(w=c.signal,m.addEventListener("abort",()=>c.abort())):w=c.signal);const E=yield this.fetch(N.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:_,signal:w}).catch(C=>{throw new EA(C)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new wv(E);if(!E.ok)throw new jv(E);let S=((s=E.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return S==="application/json"?T=yield E.json():S==="application/octet-stream"||S==="application/pdf"?T=yield E.blob():S==="text/event-stream"?T=E:S==="multipart/form-data"?T=yield E.formData():T=yield E.text(),{data:T,error:null,response:E}}catch(d){return{data:null,error:d,response:d instanceof jv||d instanceof wv?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var Sr={};const $l=wM(oL);var mh={},ph={},gh={},xh={},vh={},yh={},U_;function SA(){if(U_)return yh;U_=1,Object.defineProperty(yh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yh.default=e,yh}var $_;function kA(){if($_)return vh;$_=1,Object.defineProperty(vh,"__esModule",{value:!0});const t=$l.__importDefault(SA());class r{constructor(s){var o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,g,x;let y=null,N=null,_=null,w=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const C=await h.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?N=C:N=JSON.parse(C))}const S=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),T=(g=h.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&T&&T.length>1&&(_=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(y={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,_=null,w=406,E="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const S=await h.text();try{y=JSON.parse(S),Array.isArray(y)&&h.status===404&&(N=[],y=null,w=200,E="OK")}catch{h.status===404&&S===""?(w=204,E="No Content"):y={message:S}}if(y&&this.isMaybeSingle&&(!((x=y==null?void 0:y.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,w=200,E="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:N,count:_,status:w,statusText:E}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,m,g,x,y,N;let _="";const w=h==null?void 0:h.cause;if(w){const E=(f=w==null?void 0:w.message)!==null&&f!==void 0?f:"",k=(m=w==null?void 0:w.code)!==null&&m!==void 0?m:"";_=`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,_+=`

Caused by: ${(x=w==null?void 0:w.name)!==null&&x!==void 0?x:"Error"}: ${E}`,k&&(_+=` (${k})`),w!=null&&w.stack&&(_+=`
${w.stack}`)}else _=(y=h==null?void 0:h.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(N=h==null?void 0:h.name)!==null&&N!==void 0?N:"FetchError"}: ${h==null?void 0:h.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,o)}returns(){return this}overrideTypes(){return this}}return vh.default=r,vh}var B_;function CA(){if(B_)return xh;B_=1,Object.defineProperty(xh,"__esModule",{value:!0});const t=$l.__importDefault(kA());class r extends t.default{select(s){let o=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var m;const g=[s?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return xh.default=r,xh}var z_;function qy(){if(z_)return gh;z_=1,Object.defineProperty(gh,"__esModule",{value:!0});const t=$l.__importDefault(CA()),r=new RegExp("[,()]");class a extends t.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:d,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${f}fts${m}.${c}`),this}match(o){return Object.entries(o).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(o,c,d){return this.url.searchParams.append(o,`not.${c}.${d}`),this}or(o,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,d){return this.url.searchParams.append(o,`${c}.${d}`),this}}return gh.default=a,gh}var F_;function AA(){if(F_)return ph;F_=1,Object.defineProperty(ph,"__esModule",{value:!0});const t=$l.__importDefault(qy());class r{constructor(s,{headers:o={},schema:c,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(s,o){const{head:c=!1,count:d}=o??{},h=c?"HEAD":"GET";let f=!1;const m=(s??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ph.default=r,ph}var q_;function uL(){if(q_)return mh;q_=1,Object.defineProperty(mh,"__esModule",{value:!0});const e=$l,t=e.__importDefault(AA()),r=e.__importDefault(qy());class a{constructor(o,{headers:c={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:h=!1,count:f}={}){var m;let g;const x=new URL(`${this.url}/rpc/${o}`);let y;d||h?(g=d?"HEAD":"GET",Object.entries(c).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{x.searchParams.append(_,w)})):(g="POST",y=c);const N=new Headers(this.headers);return f&&N.set("Prefer",`count=${f}`),new r.default({method:g,url:x,headers:N,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return mh.default=a,mh}var H_;function dL(){if(H_)return Sr;H_=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.PostgrestError=Sr.PostgrestBuilder=Sr.PostgrestTransformBuilder=Sr.PostgrestFilterBuilder=Sr.PostgrestQueryBuilder=Sr.PostgrestClient=void 0;const e=$l,t=e.__importDefault(uL());Sr.PostgrestClient=t.default;const r=e.__importDefault(AA());Sr.PostgrestQueryBuilder=r.default;const a=e.__importDefault(qy());Sr.PostgrestFilterBuilder=a.default;const s=e.__importDefault(CA());Sr.PostgrestTransformBuilder=s.default;const o=e.__importDefault(kA());Sr.PostgrestBuilder=o.default;const c=e.__importDefault(SA());return Sr.PostgrestError=c.default,Sr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},Sr}var TA=dL();const OA=on(TA),hL=LC({__proto__:null,default:OA},[TA]),{PostgrestClient:fL,PostgrestQueryBuilder:tne,PostgrestFilterBuilder:rne,PostgrestTransformBuilder:ane,PostgrestBuilder:nne,PostgrestError:mL}=OA||hL;class RA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pL="2.84.0",gL=`realtime-js/${pL}`,DA="1.0.0",xL="2.0.0",G_=DA,Nv=1e4,vL=1e3,yL=100;var Gi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gi||(Gi={}));var Wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wt||(Wt={}));var Ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ja||(Ja={}));var _v;(function(e){e.websocket="websocket"})(_v||(_v={}));var Vi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vi||(Vi={}));class bL{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a,s,o;const c=t.topic,d=(r=t.ref)!==null&&r!==void 0?r:"",h=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),g=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+f.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(x),N=0;y.setUint8(N++,this.KINDS.userBroadcastPush),y.setUint8(N++,h.length),y.setUint8(N++,d.length),y.setUint8(N++,c.length),y.setUint8(N++,f.length),y.setUint8(N++,this.BINARY_ENCODING),Array.from(h,w=>y.setUint8(N++,w.charCodeAt(0))),Array.from(d,w=>y.setUint8(N++,w.charCodeAt(0))),Array.from(c,w=>y.setUint8(N++,w.charCodeAt(0))),Array.from(f,w=>y.setUint8(N++,w.charCodeAt(0)));var _=new Uint8Array(x.byteLength+m.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(m),x.byteLength),_.buffer}_encodeJsonUserBroadcastPush(t){var r,a,s,o;const c=t.topic,d=(r=t.ref)!==null&&r!==void 0?r:"",h=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},x=new TextEncoder().encode(JSON.stringify(m)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+f.length,N=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(N),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,h.length),_.setUint8(w++,d.length),_.setUint8(w++,c.length),_.setUint8(w++,f.length),_.setUint8(w++,this.JSON_ENCODING),Array.from(h,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(d,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(c,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(f,k=>_.setUint8(w++,k.charCodeAt(0)));var E=new Uint8Array(N.byteLength+x.byteLength);return E.set(new Uint8Array(N),0),E.set(new Uint8Array(x),N.byteLength),E.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[s,o,c,d,h]=a;return r({join_ref:s,ref:o,topic:c,event:d,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,a){const s=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const f=a.decode(t.slice(h,h+s));h=h+s;const m=a.decode(t.slice(h,h+o));h=h+o;const g=a.decode(t.slice(h,h+c));h=h+c;const x=t.slice(h,t.byteLength),y=d===this.JSON_ENCODING?JSON.parse(a.decode(x)):x,N={type:this.BROADCAST_EVENT,event:m,payload:y};return c>0&&(N.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class PA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vt||(vt={}));const V_=(e,t,r={})=>{var a;const s=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((o,c)=>(o[c]=wL(c,e,t,s),o),{}):{}},wL=(e,t,r,a)=>{const s=t.find(d=>d.name===e),o=s==null?void 0:s.type,c=r[e];return o&&!a.includes(o)?MA(o,c):Ev(c)},MA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return EL(t,r)}switch(e){case vt.bool:return jL(t);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return NL(t);case vt.json:case vt.jsonb:return _L(t);case vt.timestamp:return SL(t);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return Ev(t);default:return Ev(t)}},Ev=e=>e,jL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_L=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},EL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>MA(t,d))}return e},SL=e=>typeof e=="string"?e.replace(" ","T"):e,IA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ex{constructor(t,r,a={},s=Nv){this.channel=t,this.event=r,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sv||(Sv={}));class pl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pl.syncState(this.state,s,o,c),this.pendingDiffs.forEach(h=>{this.state=pl.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pl.syncDiff(this.state,s,o,c),d())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,s){const o=this.cloneDeep(t),c=this.transformState(r),d={},h={};return this.map(o,(f,m)=>{c[f]||(h[f]=m)}),this.map(c,(f,m)=>{const g=o[f];if(g){const x=m.map(w=>w.presence_ref),y=g.map(w=>w.presence_ref),N=m.filter(w=>y.indexOf(w.presence_ref)<0),_=g.filter(w=>x.indexOf(w.presence_ref)<0);N.length>0&&(d[f]=N),_.length>0&&(h[f]=_)}else d[f]=m}),this.syncDiff(o,{joins:d,leaves:h},a,s)}static syncDiff(t,r,a,s){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(o,(d,h)=>{var f;const m=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(h),m.length>0){const g=t[d].map(y=>y.presence_ref),x=m.filter(y=>g.indexOf(y.presence_ref)<0);t[d].unshift(...x)}a(d,m,h)}),this.map(c,(d,h)=>{let f=t[d];if(!f)return;const m=h.map(g=>g.presence_ref);f=f.filter(g=>m.indexOf(g.presence_ref)<0),t[d]=f,s(d,f,h),f.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const s=t[a];return"metas"in s?r[a]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[a]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kv||(kv={}));var gl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gl||(gl={}));var vn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class im{constructor(t,r={config:{}},a){var s,o;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ex(this,Ja.join,this.params,this.timeout),this.rejoinTimer=new PA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ja.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new pl(this),this.broadcastEndpointURL=IA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[gl.PRESENCE]&&this.bindings[gl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},x={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(vn.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(vn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var N;if(this.socket.setAuth(),y===void 0){t==null||t(vn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(N=_==null?void 0:_.length)!==null&&N!==void 0?N:0,E=[];for(let k=0;k<w;k++){const S=_[k],{filter:{event:T,schema:C,table:O,filter:M}}=S,L=y&&y[k];if(L&&L.event===T&&L.schema===C&&L.table===O&&L.filter===M)E.push(Object.assign(Object.assign({},S),{id:L.id}));else{this.unsubscribe(),this.state=Wt.errored,t==null||t(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(vn.SUBSCRIBED);return}}).receive("error",y=>{this.state=Wt.errored,t==null||t(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Wt.joined&&t===gl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const f=await d.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,h;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ja.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Ex(this,Ja.leave,{},t),a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const s=new AbortController,o=setTimeout(()=>s.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),c}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ex(this,t,r,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>yL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var s,o;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:f,join:m}=Ja;if(a&&[d,h,f,m].indexOf(c)>=0&&a!==this._joinRef())return;let x=this._onMessage(c,r,a);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var N,_,w;return((N=y.filter)===null||N===void 0?void 0:N.event)==="*"||((w=(_=y.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(y=>y.callback(x,a)):(o=this.bindings[c])===null||o===void 0||o.filter(y=>{var N,_,w,E,k,S;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const T=y.id,C=(N=y.filter)===null||N===void 0?void 0:N.event;return T&&((_=r.ids)===null||_===void 0?void 0:_.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(k=(E=y==null?void 0:y.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return T==="*"||T===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:_,table:w,commit_timestamp:E,type:k,errors:S}=N;x=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:E,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(N))}y.callback(x,a)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:a};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&im.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ja.close,{},t)}_onError(t){this._on(Ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=V_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=V_(t.columns,t.old_record)),r}}const Sx=()=>{},bh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kL=[1e3,2e3,5e3,1e4],CL=1e4,AL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LA{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nv,this.transport=null,this.heartbeatIntervalMs=bh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sx,this.ref=0,this.reconnectTimer=null,this.vsn=G_,this.logger=Sx,this.conn=null,this.sendBuffer=[],this.serializer=new bL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_v.websocket}`,this.httpEndpoint=IA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return Vi.Connecting;case Gi.open:return Vi.Open;case Gi.closing:return Vi.Closing;default:return Vi.Closed}}isConnected(){return this.connectionState()===Vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===a);if(s)return s;{const o=new im(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:a,payload:s,ref:o}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${a} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:o,ref:c}=r,d=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${a} ${s} ${d}`.trim(),o),this.channels.filter(f=>f._isMember(a)).forEach(f=>f._trigger(s,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gi.open||this.conn.readyState===Gi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${a}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([AL],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:gL};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Ja.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new PA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,s,o,c,d,h,f,m,g,x,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Nv,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:bh.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Sx,this.vsn=(h=t==null?void 0:t.vsn)!==null&&h!==void 0?h:G_,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(N=>kL[N-1]||CL),this.vsn){case DA:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((N,_)=>_(JSON.stringify(N))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((N,_)=>_(JSON.parse(N)));break;case xL:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Hy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TL extends Hy{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cv extends Hy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OL=()=>Response,Av=e=>{if(Array.isArray(e))return e.map(r=>Av(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Av(a)}),t},RL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},DL=(e,t,r)=>Me(void 0,void 0,void 0,function*(){const a=yield OL();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,c=(s==null?void 0:s.statusCode)||o+"";t(new TL(kx(s),o,c))}).catch(s=>{t(new Cv(kx(s),s))}):t(new Cv(kx(e),e))}),PL=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?s:(RL(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ou(e,t,r,a,s,o){return Me(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,PL(t,a,s,o)).then(h=>{if(!h.ok)throw h;return a!=null&&a.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>DL(h,d,a))})})}function hu(e,t,r,a){return Me(this,void 0,void 0,function*(){return Ou(e,"GET",t,r,a)})}function Ka(e,t,r,a,s){return Me(this,void 0,void 0,function*(){return Ou(e,"POST",t,a,s,r)})}function Tv(e,t,r,a,s){return Me(this,void 0,void 0,function*(){return Ou(e,"PUT",t,a,s,r)})}function ML(e,t,r,a){return Me(this,void 0,void 0,function*(){return Ou(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Vy(e,t,r,a,s){return Me(this,void 0,void 0,function*(){return Ou(e,"DELETE",t,a,s,r)})}class IL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}var UA;class LL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[UA]="BlobDownloadBuilder",this.promise=null}asStream(){return new IL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}UA=Symbol.toStringTag;const UL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $L{constructor(t,r={},a,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=Gy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,s){return Me(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Y_),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(h))):(o=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),g=yield(t=="PUT"?Tv:Ka)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(kt(o))return{data:null,error:o};throw o}})}upload(t,r,a){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,s){return Me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const f=Object.assign({upsert:Y_.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",f.cacheControl)):(h=a,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const g=yield Tv(this.fetch,d.toString(),h,{headers:m});return{data:{path:o,fullPath:g.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(kt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return Me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Ka(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new Hy("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}update(t,r,a){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return Me(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kt(s))return{data:null,error:s};throw s}})}copy(t,r,a){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,a){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Ka(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,a){return Me(this,void 0,void 0,function*(){try{const s=yield Ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=o?`?${o}`:"",d=this._getFinalPath(t),h=()=>hu(this.fetch,`${this.url}/${s}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new LL(h,this.shouldThrowOnError)}info(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield hu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Av(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}exists(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ML(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a)&&a instanceof Cv){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&s.push(h);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${f}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}list(t,r,a){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UL),r),{prefix:t||""});return{data:yield Ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kt(s))return{data:null,error:s};throw s}})}listV2(t,r){return Me(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Ka(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $A="2.84.0",BA={"X-Client-Info":`storage-js/${$A}`};class BL{constructor(t,r={},a,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},BA),r),this.fetch=Gy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield hu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}createBucket(t){return Me(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Ka(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Me(this,void 0,void 0,function*(){try{return{data:yield Tv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class zL{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},BA),r),this.fetch=Gy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const a=r.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield hu(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}}const Yy={"X-Client-Info":`storage-js/${$A}`,"Content-Type":"application/json"};class zA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pa(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Cx extends zA{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FL extends zA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var W_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(W_||(W_={}));const Wy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},X_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HL=(e,t,r)=>Me(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||s+"";t(new Cx(X_(c),s,d))}).catch(()=>{const c=s+"",d=o.statusText||`HTTP ${s} error`;t(new Cx(d,s,c))});else{const c=s+"",d=o.statusText||`HTTP ${s} error`;t(new Cx(d,s,c))}}else t(new FL(X_(e),e))}),GL=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(qL(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),r)):s};function VL(e,t,r,a,s,o){return Me(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,GL(t,a,s,o)).then(h=>{if(!h.ok)throw h;if(a!=null&&a.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>HL(h,d,a))})})}function ga(e,t,r,a,s){return Me(this,void 0,void 0,function*(){return VL(e,"POST",t,a,s,r)})}class YL{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yy),r),this.fetch=Wy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Me(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pa(a))return{data:null,error:a};throw a}})}listIndexes(t){return Me(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Me(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pa(a))return{data:null,error:a};throw a}})}}class WL{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yy),r),this.fetch=Wy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ga(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}getVectors(t){return Me(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}listVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ga(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}queryVectors(t){return Me(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Me(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ga(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}}class XL{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yy),r),this.fetch=Wy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}getBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}listBuckets(){return Me(this,arguments,void 0,function*(t={}){try{return{data:yield ga(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Me(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}})}}class KL extends XL{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new JL(this.url,this.headers,t,this.fetch)}}class JL extends YL{constructor(t,r,a,s){super(t,r,s),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Me(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new QL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class QL extends WL{constructor(t,r,a,s,o){super(t,r,o),this.vectorBucketName=a,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Me(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ZL extends BL{constructor(t,r={},a,s){super(t,r,a,s)}from(t){return new $L(this.url,this.headers,t,this.fetch)}get vectors(){return new KL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zL(this.url+"/iceberg",this.headers,this.fetch)}}const eU="2.84.0";let ru="";typeof Deno<"u"?ru="deno":typeof document<"u"?ru="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ru="react-native":ru="node";const tU={"X-Client-Info":`supabase-js-${ru}/${eU}`},rU={headers:tU},aU={schema:"public"},nU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sU={},iU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oU=()=>Headers,lU=(e,t,r)=>{const a=iU(r),s=oU();return async(o,c)=>{var d;const h=(d=await t())!==null&&d!==void 0?d:e;let f=new s(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),a(o,Object.assign(Object.assign({},c),{headers:f}))}};function cU(e){return e.endsWith("/")?e:e+"/"}function uU(e,t){var r,a;const{db:s,auth:o,realtime:c,global:d}=e,{db:h,auth:f,realtime:m,global:g}=t,x={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(a=d==null?void 0:d.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function dU(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cU(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const FA="2.84.0",cl=30*1e3,Ov=3,Ax=Ov*cl,hU="http://localhost:9999",fU="supabase.auth.token",mU={"X-Client-Info":`gotrue-js/${FA}`},Rv="X-Supabase-Api-Version",qA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gU=600*1e3;class _l extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HA extends _l{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function GA(e){return Ie(e)&&e.name==="AuthApiError"}class ei extends _l{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hs extends _l{constructor(t,r,a,s){super(t,a,s),this.name=r,this.status=a}}class Kr extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VA(e){return Ie(e)&&e.name==="AuthSessionMissingError"}class Ui extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class au extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nu extends hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YA(e){return Ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class Dv extends hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rf extends hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gh(e){return Ie(e)&&e.name==="AuthRetryableFetchError"}class Pv extends hs{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class af extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K_=` 	
\r=`.split(""),xU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<K_.length;t+=1)e[K_[t].charCodeAt(0)]=-2;for(let t=0;t<nf.length;t+=1)e[nf[t].charCodeAt(0)]=t;return e})();function J_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(nf[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(nf[a]),t.queuedBits-=6}}function WA(e,t,r){const a=xU[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q_(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{bU(c,a,r)};for(let c=0;c<e.length;c+=1)WA(e.charCodeAt(c),s,o);return t.join("")}function vU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yU(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}vU(a,t)}}function bU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xl(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)WA(e.charCodeAt(s),r,a);return new Uint8Array(t)}function wU(e){const t=[];return yU(e,r=>t.push(r)),new Uint8Array(t)}function Yi(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>J_(s,r,a)),J_(null,r,a),t.join("")}function jU(e){return Math.round(Date.now()/1e3)+e}function NU(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},XA=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function _U(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((a,s)=>{t[s]=a}),t}const KA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ul=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Li=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ws=async(e,t)=>{await e.removeItem(t)};class om{constructor(){this.promise=new om.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}om.promiseConstructor=Promise;function Tx(e){const t=e.split(".");if(t.length!==3)throw new af("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!pU.test(t[a]))throw new af("JWT not in base64url format");return{header:JSON.parse(Q_(t[0])),payload:JSON.parse(Q_(t[1])),signature:xl(t[2]),raw:{header:t[0],payload:t[1]}}}async function SU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kU(e,t){return new Promise((a,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!t(o,null,c)){a(c);return}}catch(c){if(!t(o,c)){s(c);return}}})()})}function CU(e){return("0"+e.toString(16)).substr(-2)}function AU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,CU).join("")}async function TU(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(a);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function OU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await TU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zo(e,t,r=!1){const a=AU();let s=a;r&&(s+="/PASSWORD_RECOVERY"),await ul(e,`${t}-code-verifier`,s);const o=await OU(a);return[o,a===o?"plain":"s256"]}const RU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DU(e){const t=e.headers.get(Rv);if(!t||!t.match(RU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function MU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function el(e){if(!IU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ox(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LU(e,t){return new Proxy(e,{get:(r,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,s)}})}function Z_(e){return JSON.parse(JSON.stringify(e))}const $i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UU=[502,503,504];async function eE(e){var t;if(!EU(e))throw new rf($i(e),0);if(UU.includes(e.status))throw new rf($i(e),e.status);let r;try{r=await e.json()}catch(o){throw new ei($i(o),o)}let a;const s=DU(e);if(s&&s.getTime()>=qA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Pv($i(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Pv($i(r),e.status,r.weak_password.reasons);throw new HA($i(r),e.status||500,a)}const $U=(e,t,r,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),r))};async function qe(e,t,r,a){var s;const o=Object.assign({},a==null?void 0:a.headers);o[Rv]||(o[Rv]=qA["2024-01-01"].name),a!=null&&a.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await BU(e,t,r+d,{headers:o,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(h):{data:Object.assign({},h),error:null}}async function BU(e,t,r,a,s,o){const c=$U(t,a,s,o);let d;try{d=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new rf($i(h),0)}if(d.ok||await eE(d),a!=null&&a.noResolveJson)return d;try{return await d.json()}catch(h){await eE(h)}}function Xa(e){var t;let r=null;qU(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=jU(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function tE(e){const t=Xa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ti(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zU(e){return{data:e,error:null}}function FU(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:o}=e,c=di(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:o},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function rE(e){return e}function qU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vh=["global","local","others"];class JA{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=KA(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Vh[0]){if(Vh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vh.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ti})}catch(a){if(Ie(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=di(t,["options"]),s=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ti})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,s,o,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rE});if(m.error)throw m.error;const g=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(N.split(";")[1].split("=")[1]);f[`${w}Page`]=_}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ie(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){el(t);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ti})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){el(t);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ti})}catch(a){if(Ie(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){el(t);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ti})}catch(a){if(Ie(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){el(t.userId);try{const{data:r,error:a}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:a}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){el(t.userId),el(t.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,s,o,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rE});if(m.error)throw m.error;const g=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(N.split(";")[1].split("=")[1]);f[`${w}Page`]=_}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ie(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}function aE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Bi={debug:!!(globalThis&&XA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZA extends QA{}async function eT(e,t,r){Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function HU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function GU(e){return parseInt(e,16)}function VU(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function YU(e){var t;const{chainId:r,domain:a,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:m,uri:g,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=tT(e.address),N=m?`${m}://${a}`:a,_=e.statement?`${e.statement}
`:"",w=`${N} wants you to sign in with your Ethereum account:
${y}

${_}`;let E=`URI: ${g}
Version: ${x}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(E+=`
Expiration Time: ${s.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),h&&(E+=`
Request ID: ${h}`),f){let k=`
Resources:`;for(const S of f){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);k+=`
- ${S}`}E+=k}return`${w}
${E}`}class Ft extends Error{constructor({message:t,code:r,cause:a,name:s}){var o;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=s??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class sf extends Ft{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function WU({error:e,options:t}){var r,a,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(rT(c)){if(o.rp.id!==c)return new Ft({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function XU({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(rT(a)){if(r.rpId!==a)return new Ft({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class KU{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JU=new KU;function QU(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,s=di(e,["challenge","user","excludeCredentials"]),o=xl(t).buffer,c=Object.assign(Object.assign({},r),{id:xl(r.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:o,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const f=a[h];d.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:xl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function ZU(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=di(e,["challenge","allowCredentials"]),s=xl(t).buffer,o=Object.assign(Object.assign({},a),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},d),{id:xl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function e6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function t6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yi(new Uint8Array(s.authenticatorData)),clientDataJSON:Yi(new Uint8Array(s.clientDataJSON)),signature:Yi(new Uint8Array(s.signature)),userHandle:s.userHandle?Yi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nE(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function r6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sf("Browser returned unexpected credential type",t)}:{data:null,error:new sf("Empty credential response",t)}}catch(t){return{data:null,error:WU({error:t,options:e})}}}async function a6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sf("Browser returned unexpected credential type",t)}:{data:null,error:new sf("Empty credential response",t)}}catch(t){return{data:null,error:XU({error:t,options:e})}}}const n6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function of(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(r(c))a[o]=c;else if(t(c)){const d=a[o];t(d)?a[o]=of(d,c):a[o]=of(c)}else a[o]=c}return a}function i6(e,t){return of(n6,e,t||{})}function o6(e,t){return of(s6,e,t||{})}class l6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:s},o){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:d};const h=s??JU.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${a}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=i6(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:m,error:g}=await r6({publicKey:f,signal:h});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=o6(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:m,error:g}=await a6(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return Ie(c)?{data:null,error:c}:{data:null,error:new ei("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new _l("rpId is required for WebAuthn authentication")};try{if(!nE())return{data:null,error:new ei("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:o});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return Ie(c)?{data:null,error:c}:{data:null,error:new ei("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new _l("rpId is required for WebAuthn registration")};try{if(!nE())return{data:null,error:new ei("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:d};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Ie(c)?{data:null,error:c}:{data:null,error:new ei("Unexpected error in register",c)}}}}HU();const c6={url:hU,storageKey:fU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sE(e,t,r){return await r()}const tl={};class El{get jwks(){var t,r;return(r=(t=tl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=tl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},c6),t);if(this.storageKey=o.storageKey,this.instanceID=(r=El.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,El.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&pr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new JA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=KA(o.fetch),this.lock=o.lock||sE,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:pr()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=eT:this.lock=sE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:XA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aE(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=aE(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(pr()&&(r=_U(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),pr()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),YA(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ie(r)?this._returnResult({error:r}):this._returnResult({error:new ei("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,s;try{const o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xa}),{data:c,error:d}=o;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(Ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,a,s;try{let o;if("email"in t){const{email:m,password:g,options:x}=t;let y=null,N=null;this.flowType==="pkce"&&([y,N]=await Zo(this.storage,this.storageKey)),o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:g,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:N},xform:Xa})}else if("phone"in t){const{phone:m,password:g,options:x}=t;o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Xa})}else throw new au("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(Ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:d}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:tE})}else if("phone"in t){const{phone:o,password:c,options:d}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:tE})}else throw new au("You must provide either an email or phone number and a password");const{data:a,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const o=new Ui;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,s,o,c,d,h,f,m,g,x;let y,N;if("message"in t)y=t.message,N=t.signature;else{const{chain:_,wallet:w,statement:E,options:k}=t;let S;if(pr())if(typeof w=="object")S=w;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")S=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=tT(C[0]);let M=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!M){const z=await S.request({method:"eth_chainId"});M=GU(z)}const L={domain:T.host,address:O,statement:E,uri:T.href,version:"1",chainId:M,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=YU(L),N=await S.request({method:"personal_sign",params:[VU(y),O]})}try{const{data:_,error:w}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:N},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Xa});if(w)throw w;if(!_||!_.session||!_.user){const E=new Ui;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(Ie(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,a,s,o,c,d,h,f,m,g,x,y;let N,_;if("message"in t)N=t.message,_=t.signature;else{const{chain:w,wallet:E,statement:k,options:S}=t;let T;if(pr())if(typeof E=="object")T=E;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))T=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const C=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const O=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),k?{statement:k}:null));let M;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")M=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)M=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)N=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(a=S==null?void 0:S.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((f=S==null?void 0:S.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((g=(m=S==null?void 0:S.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...S.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const O=await T.signMessage(new TextEncoder().encode(N),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=O}}try{const{data:w,error:E}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Yi(_)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Xa});if(E)throw E;if(!w||!w.session||!w.user){const k=new Ui;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(Ie(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Li(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(r??"").split("/");try{const{data:o,error:c}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Xa});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const d=new Ui;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(Ie(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:a,token:s,access_token:o,nonce:c}=t,d=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xa}),{data:h,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const m=new Ui;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,s,o,c;try{if("email"in t){const{email:d,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Zo(this.storage,this.storageKey));const{error:g}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:h}=t,{data:f,error:m}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new au("You must provide either an email or phone number.")}catch(d){if(Ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,a;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Xa});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,a,s,o,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Zo(this.storage,this.storageKey));const f=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:zU});return!((o=f.data)===null||o===void 0)&&o.url&&pr()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(Ie(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Kr;const{error:s}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:o}=t,{error:c}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:s,options:o}=t,{data:c,error:d}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new au("You must provide either an email or phone number and a type")}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ax:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await Li(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Ox()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=LU(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ti}):await this._useSession(async r=>{var a,s,o;const{data:c,error:d}=r;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ti})})}catch(r){if(Ie(r))return VA(r)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:s,error:o}=a;if(o)throw o;if(!s.session)throw new Kr;const c=s.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Zo(this.storage,this.storageKey));const{data:f,error:m}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:ti});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(Ie(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const r=Date.now()/1e3;let a=r,s=!0,o=null;const{payload:c}=Tx(t.access_token);if(c.exp&&(a=c.exp,s=a<=r),s){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!pr())throw new nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Dv("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=t;if(!o||!d||!c||!f)throw new nu("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let x=m+g;h&&(x=parseInt(h));const y=x-m;y*1e3<=cl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const N=x-g;m-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,m):m-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,x,m);const{data:_,error:w}=await this._getUser(o);if(w)throw w;const E={provider_token:a,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:x,refresh_token:c,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(a){if(Ie(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const c=(a=s.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(GA(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=NU(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,s;try{const{data:{session:o},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Zo(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Ie(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:s}=await this._useSession(async o=>{var c,d,h,f,m;const{data:g,error:x}=o;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Ie(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:c,provider:d,token:h,access_token:f,nonce:m}=t,g=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o==null?void 0:o.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Xa}),{data:x,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ui}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:y}))}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,s;const{data:o,error:c}=r;if(c)throw c;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await kU(async s=>(s>0&&await SU(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xa})),(s,o)=>{const c=200*Math.pow(2,s);return o&&Gh(o)&&Date.now()+c-a<cl})}catch(a){if(this._debug(r,"error",a),Ie(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),pr()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Li(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Li(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await ul(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Ox()}else if(s&&!s.user&&!s.user){const c=await Li(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await Ws(this.storage,this.storageKey+"-user"),await ul(this.storage,this.storageKey,s)):s.user=Ox()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ax;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Ax}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Gh(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(s.access_token);!d&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new om;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new Kr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Ie(o)){const c={data:null,error:o};return Gh(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await ul(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Z_(s);await ul(this.storage,this.storageKey,o)}else{const s=Z_(r);await ul(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await Ws(this.storage,this.storageKey+"-code-verifier"),await Ws(this.storage,this.storageKey+"-user"),this.userStorage&&await Ws(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/cl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cl}ms, refresh threshold is ${Ov} ticks`),s<=Ov&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const s=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await Zo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(d.toString())}if(a!=null&&a.queryParams){const o=new URLSearchParams(a.queryParams);s.push(o.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,s;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:f}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&h.type==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?e6(t.webauthn.credential_response):t6(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:QU(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ZU(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tx(a.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Kr})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Kr});const c=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Ie(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Kr});const c=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&pr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Ie(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Kr})})}catch(t){if(Ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Kr})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(d=>d.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(d=>d.kid===t),a&&this.jwks_cached_at+gU>s)return a;const{data:o,error:c}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,a=o.keys.find(d=>d.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:y,error:N}=await this.getSession();if(N||!y.session)return this._returnResult({data:null,error:N});a=y.session.access_token}const{header:s,payload:o,signature:c,raw:{header:d,payload:h}}=Tx(a);r!=null&&r.allowExpired||PU(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:o,header:s,signature:c},error:null}}const m=MU(s.alg),g=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,wU(`${d}.${h}`)))throw new af("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(a){if(Ie(a))return this._returnResult({data:null,error:a});throw a}}}El.nextInstanceID={};const aT=El;class u6 extends aT{constructor(t){super(t)}}class nT{constructor(t,r,a){var s,o,c;this.supabaseUrl=t,this.supabaseKey=r;const d=dU(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:aU,realtime:sU,auth:Object.assign(Object.assign({},nU),{storageKey:h}),global:rU},m=uU(a??{},f);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=lU(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new fL(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new ZL(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new cL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:s,userStorage:o,storageKey:c,flowType:d,lock:h,debug:f,throwOnError:m},g,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u6({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:s,userStorage:o,flowType:d,lock:h,debug:f,throwOnError:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new LA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sT=(e,t,r)=>new nT(e,t,r);function d6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}d6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h6=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:HA,AuthClient:aT,AuthError:_l,AuthImplicitGrantRedirectError:nu,AuthInvalidCredentialsError:au,AuthInvalidJwtError:af,AuthInvalidTokenResponseError:Ui,AuthPKCEGrantCodeExchangeError:Dv,AuthRetryableFetchError:rf,AuthSessionMissingError:Kr,AuthUnknownError:ei,AuthWeakPasswordError:Pv,CustomAuthError:hs,get FunctionRegion(){return tf},FunctionsError:sm,FunctionsFetchError:EA,FunctionsHttpError:jv,FunctionsRelayError:wv,GoTrueAdminApi:JA,GoTrueClient:El,NavigatorLockAcquireTimeoutError:ZA,PostgrestError:mL,get REALTIME_LISTEN_TYPES(){return gl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return kv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Sv},get REALTIME_SUBSCRIBE_STATES(){return vn},RealtimeChannel:im,RealtimeClient:LA,RealtimePresence:pl,SIGN_OUT_SCOPES:Vh,SupabaseClient:nT,WebSocketFactory:RA,createClient:sT,isAuthApiError:GA,isAuthError:Ie,isAuthImplicitGrantRedirectError:YA,isAuthRetryableFetchError:Gh,isAuthSessionMissingError:VA,lockInternals:Bi,navigatorLock:eT},Symbol.toStringTag,{value:"Module"})),Gc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},fu=e=>{if(typeof window<"u"){const t=e.includes("URL")?"installer_supabase_url":e.includes("ANON")?"installer_supabase_anon_key":e.includes("SERVICE")?"installer_supabase_service_key":null;if(t){const r=window.localStorage.getItem(t);if(r)return r}}if(typeof import.meta<"u"&&Gc){if(Gc[e])return Gc[e];const t=e.replace("VITE_","");if(Gc[t])return Gc[t]}},iT=fu("VITE_SUPABASE_URL")||fu("NEXT_PUBLIC_SUPABASE_URL"),oT=fu("VITE_SUPABASE_ANON_KEY")||fu("NEXT_PUBLIC_SUPABASE_ANON_KEY"),iE=fu("SUPABASE_SERVICE_ROLE_KEY"),f6=iT||"https://placeholder.supabase.co",m6=typeof window>"u"&&iE?iE:oT||"placeholder-key";(!iT||!oT)&&console.warn("[Supabase] Credenciais no encontradas. O app pode estar em modo de Instalao.");const p6={getItem:e=>typeof window>"u"?null:window.localStorage.getItem(e),setItem:(e,t)=>{typeof window>"u"||window.localStorage.setItem(e,t)},removeItem:e=>{typeof window>"u"||window.localStorage.removeItem(e)}},g6=typeof window>"u"?{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}:{auth:{persistSession:!0,storage:p6,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}},global:{fetch:(...e)=>fetch(...e)}},Y=sT(f6,m6,g6),lf=`instance_${Math.random().toString(36).slice(2,9)}`;console.log("[Supabase Service] Initialized client:",lf);class x6{constructor(){this._cachedUser=null}setUser(t){this._cachedUser=t}async getUser(){if(this._cachedUser)return console.log("[StorageService] getUser: Returning cached user",this._cachedUser.id),this._cachedUser;try{console.log("[StorageService] getUser: No cache, fetching session...");const t=Y.auth.getSession(),r=new Promise(d=>setTimeout(()=>d({data:{session:null},error:{message:"Timeout getting session"}}),2e3)),{data:{session:a},error:s}=await Promise.race([t,r]);if(a!=null&&a.user)return console.log("[StorageService] getUser: Session found",a.user.id),this._cachedUser=a.user,a.user;s&&console.warn("storageService: getSession warning/timeout",s.message||s);const{data:{user:o},error:c}=await Y.auth.getUser();return o?(console.log("[StorageService] getUser: Server user found",o.id),this._cachedUser=o,o):(console.warn("[StorageService] getUser: NO USER FOUND ANYWHERE"),null)}catch(t){return console.error("storageService: getUser exception",t),this._cachedUser||null}}async getProducts(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("products").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return a?(console.error("Error fetching products:",a.message),[]):(r||[]).map(s=>({id:s.id,name:s.name,description:s.description,active:s.active,imageUrl:s.image_url,price_real:s.price_real,price_fake:s.price_fake,sku:s.sku,category:s.category,redirect_link:s.redirect_link,is_order_bump:s.is_order_bump,is_upsell:s.is_upsell,visible_in_member_area:s.visible_in_member_area,for_sale:s.for_sale,member_area_action:s.member_area_action,member_area_checkout_id:s.member_area_checkout_id}))}async getProductsByIds(t){if(!t||t.length===0)return[];const{data:r,error:a}=await Y.from("products").select("*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))").in("id",t).eq("active",!0);return a?(console.error("Error fetching products by IDs:",a.message),[]):(r||[]).map(s=>{var o;return{id:s.id,name:s.name,description:s.description,active:s.active,imageUrl:s.image_url,price_real:s.price_real,price_fake:s.price_fake,sku:s.sku,category:s.category,redirect_link:s.redirect_link,is_order_bump:s.is_order_bump,is_upsell:s.is_upsell,visible_in_member_area:s.visible_in_member_area,for_sale:s.for_sale,member_area_action:s.member_area_action,member_area_checkout_id:s.member_area_checkout_id,checkout_url:s.member_area_action==="checkout"&&s.checkouts?`https://${((o=s.checkouts.domains)==null?void 0:o.domain)||"checkout.supercheckout.com"}/${s.checkouts.custom_url_slug}`:s.redirect_link}})}async getMemberAreaProducts(t){const{data:r,error:a}=await Y.from("tracks").select("id").eq("member_area_id",t).eq("type","products");if(a)return console.error("Error fetching tracks for products:",a.message),[];if(!r||r.length===0)return[];const s=r.map(m=>m.id),{data:o,error:c}=await Y.from("track_items").select("item_id").in("track_id",s);if(c)return console.error("Error fetching track items:",c.message),[];if(!o||o.length===0)return[];const d=[...new Set(o.map(m=>m.item_id))],{data:h,error:f}=await Y.from("products").select("*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))").in("id",d).eq("active",!0).order("created_at",{ascending:!1});return f?(console.error("Error fetching member area products:",f.message),[]):(h||[]).map(m=>{var g;return{id:m.id,name:m.name,description:m.description,active:m.active,imageUrl:m.image_url,price_real:m.price_real,price_fake:m.price_fake,sku:m.sku,category:m.category,is_order_bump:m.is_order_bump,is_upsell:m.is_upsell,visible_in_member_area:m.visible_in_member_area,for_sale:m.for_sale,member_area_action:m.member_area_action,member_area_checkout_id:m.member_area_checkout_id,redirect_link:m.member_area_action==="checkout"&&m.checkouts?`https://${((g=m.checkouts.domains)==null?void 0:g.domain)||"checkout.supercheckout.com"}/${m.checkouts.custom_url_slug}`:m.redirect_link}})}async createProduct(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={id:t.id,user_id:r.id,name:t.name,description:t.description,active:t.active,image_url:t.imageUrl,price:t.price_real,price_real:t.price_real,price_fake:t.price_fake,sku:t.sku,category:t.category,redirect_link:t.redirect_link,is_order_bump:t.is_order_bump,is_upsell:t.is_upsell,visible_in_member_area:t.visible_in_member_area,for_sale:t.for_sale,member_area_action:t.member_area_action,member_area_checkout_id:t.member_area_checkout_id||null},{data:s,error:o}=await Y.from("products").insert(a).select().single();if(o)throw console.error("Error creating product:",o.message),o;return s}async updateProduct(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={name:t.name,description:t.description,active:t.active,image_url:t.imageUrl,price:t.price_real,price_real:t.price_real,price_fake:t.price_fake,sku:t.sku,category:t.category,redirect_link:t.redirect_link,is_order_bump:t.is_order_bump,is_upsell:t.is_upsell,visible_in_member_area:t.visible_in_member_area,for_sale:t.for_sale,member_area_action:t.member_area_action,member_area_checkout_id:t.member_area_checkout_id||null},{data:s,error:o}=await Y.from("products").update(a).eq("id",t.id).eq("user_id",r.id).select().single();if(o)throw console.error("Error updating product:",o.message),o;return s}async deleteProduct(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");console.log("Tentando deletar arquivos da pasta:",t);let a=`${t}`,{data:s,error:o}=await Y.storage.from("products").list(a);if(o)console.error("Erro ao listar:",o);else if(!s||s.length===0){console.warn("Nenhum arquivo encontrado na pasta (Caminho pode estar errado ou pasta vazia)."),console.log("Tentando caminho legado: products/"+t),a=`products/${t}`;const d=await Y.storage.from("products").list(a);s=d.data,o=d.error,o?console.error("Erro ao listar caminho legado:",o):s&&s.length>0?console.log("Arquivos encontrados no caminho legado:",s):console.warn("Nenhum arquivo encontrado tambm no caminho legado.")}else console.log("Arquivos encontrados:",s);if(s&&s.length>0){const d=s.map(f=>`${a}/${f.name}`);console.log("Tentando remover arquivos:",d);const{error:h}=await Y.storage.from("products").remove(d);h?console.error("Erro ao remover arquivos (Provavel erro de RLS/Permisso):",h):console.log("Arquivos removidos com sucesso")}const{error:c}=await Y.from("products").delete().eq("id",t).eq("user_id",r.id);if(c)throw console.error("Error deleting product:",c.message),c}extractPathFromUrl(t){try{const a=t.split("/products/");return a.length===2?a[1]:null}catch(r){return console.error("Error extracting path from URL:",r),null}}async uploadProductImage(t,r){if(!await this.getUser())throw new Error("No user logged in");const s=t.name.split(".").pop(),o=`${r}/${Date.now()}.${s}`,{error:c}=await Y.storage.from("products").upload(o,t);if(c)throw console.error("Error uploading image:",c.message),c;const{data:d}=Y.storage.from("products").getPublicUrl(o);return d.publicUrl}async uploadCheckoutBanner(t,r){if(!await this.getUser())throw new Error("No user logged in");const s=t.name.split(".").pop(),o=`${r}/${Date.now()}.${s}`,{error:c}=await Y.storage.from("checkouts").upload(o,t);if(c)throw console.error("Error uploading banner:",c.message),c;const{data:d}=Y.storage.from("checkouts").getPublicUrl(o);return d.publicUrl}async saveProducts(t){console.warn("saveProducts is deprecated. Use createProduct/updateProduct instead.");const r=await this.getUser();if(!r)return;const a=t.map(c=>({id:c.id.startsWith("prod_")?void 0:c.id,user_id:r.id,name:c.name,description:c.description,active:c.active,image_url:c.imageUrl,price_real:c.price_real,price_fake:c.price_fake,sku:c.sku,category:c.category,redirect_link:c.redirect_link,is_order_bump:c.is_order_bump,is_upsell:c.is_upsell})),{data:s,error:o}=await Y.from("products").upsert(a,{onConflict:"id",ignoreDuplicates:!1}).select();o&&console.error("Error saving products (bulk):",o.message)}async getOffers(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("offers").select("*").eq("user_id",t.id);return a?(console.error("Error fetching offers:",a.message),[]):r}async createOffer(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={user_id:r.id,name:t.name,product_id:t.product_id,price:t.price,payment_type:t.payment_type,recurrence_type:t.recurrence_type,active:t.active},{data:s,error:o}=await Y.from("offers").insert(a).select().single();if(o)throw console.error("Error creating offer:",o.message),o;return s}async updateOffer(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={name:t.name,product_id:t.product_id,price:t.price,payment_type:t.payment_type,recurrence_type:t.recurrence_type,active:t.active},{data:s,error:o}=await Y.from("offers").update(a).eq("id",t.id).eq("user_id",r.id).select().single();if(o)throw console.error("Error updating offer:",o.message),o;return s}async deleteOffer(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{error:a}=await Y.from("offers").delete().eq("id",t).eq("user_id",r.id);if(a)throw console.error("Error deleting offer:",a.message),a}async saveOffers(t){console.warn("saveOffers is deprecated");const r=await this.getUser();if(!r)return;const{data:a,error:s}=await Y.from("offers").upsert(t.map(o=>({...o,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();s&&console.error("Error saving offers:",s.message,s)}async getCheckouts(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("checkouts").select("*").eq("user_id",t.id);return a?(console.error("Error fetching checkouts:",a.message),[]):r}async createCheckout(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={id:t.id,user_id:r.id,name:t.name,offer_id:t.offer_id,domain_id:t.domain_id,gateway_id:t.gateway_id,product_id:t.product_id,custom_url_slug:t.custom_url_slug,order_bump_ids:t.order_bump_ids,upsell_product_id:t.upsell_product_id,config:t.config,active:t.active},{data:s,error:o}=await Y.from("checkouts").insert(a).select().single();if(o)throw console.error("Error creating checkout:",o.message),o;return s}async getCheckoutByDomainAndSlug(t,r){let a=Y.from("checkouts").select("*").eq("domain_id",t).eq("active",!0);r&&(a=a.eq("custom_url_slug",r));const{data:s,error:o}=await a.limit(1).maybeSingle();return o?(console.error("Error fetching checkout by domain/slug:",o.message),null):s}async updateCheckout(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={name:t.name,offer_id:t.offer_id,domain_id:t.domain_id,gateway_id:t.gateway_id,product_id:t.product_id,custom_url_slug:t.custom_url_slug,order_bump_ids:t.order_bump_ids,upsell_product_id:t.upsell_product_id,config:t.config,active:t.active},{data:s,error:o}=await Y.from("checkouts").update(a).eq("id",t.id).eq("user_id",r.id).select().single();if(o)throw console.error("Error updating checkout:",o.message),o;return s}async deleteCheckout(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");console.log("Iniciando excluso do checkout:",t);const{data:a,error:s}=await Y.storage.from("checkouts").list(t);if(s)console.error("Erro ao listar arquivos do checkout:",s);else if(a&&a.length>0){const c=a.map(h=>`${t}/${h.name}`);console.log("Removendo arquivos do checkout:",c);const{error:d}=await Y.storage.from("checkouts").remove(c);d?console.error("Erro ao remover arquivos do checkout:",d):console.log("Arquivos do checkout removidos com sucesso.")}else console.log("Nenhum arquivo encontrado para este checkout.");const{error:o}=await Y.from("checkouts").delete().eq("id",t).eq("user_id",r.id);if(o)throw console.error("Error deleting checkout:",o.message),o}async saveCheckouts(t){console.warn("saveCheckouts is deprecated");const r=await this.getUser();if(!r)return;const a=t.map(c=>({...c,user_id:r.id})),{data:s,error:o}=await Y.from("checkouts").upsert(a,{onConflict:"id",ignoreDuplicates:!1}).select();o&&console.error("Error saving checkouts:",o.message,o)}async getPublicCheckout(t){let{data:r,error:a}=await Y.from("checkouts").select("*").eq("id",t).eq("active",!0).maybeSingle();if(!r){const{data:s,error:o}=await Y.from("checkouts").select("*").eq("custom_url_slug",t).eq("active",!0).maybeSingle();r=s,a=o}return a?(console.error("Error fetching public checkout:",a.message),null):r}async getPublicProduct(t){const{data:r,error:a}=await Y.from("products").select("*").eq("id",t).single();return a?(console.error("Error fetching public product:",a.message),null):{id:r.id,name:r.name,description:r.description,active:r.active,imageUrl:r.image_url,price_real:r.price_real,price_fake:r.price_fake,sku:r.sku,category:r.category,redirect_link:r.redirect_link,is_order_bump:r.is_order_bump,is_upsell:r.is_upsell,visible_in_member_area:r.visible_in_member_area,for_sale:r.for_sale,member_area_action:r.member_area_action,member_area_checkout_id:r.member_area_checkout_id}}async getMemberAreaBySlug(t){const{data:r,error:a}=await Y.from("member_areas").select("*").eq("slug",t).single();return a?(console.error("Error fetching member area:",a.message),null):r}async getPublicGateway(t){const{data:r,error:a}=await Y.from("gateways").select("*").eq("id",t).single();return a?(console.error("Error fetching public gateway:",a.message),null):r}async getMemberAreaByDomain(t){const{data:r,error:a}=await Y.from("member_areas").select("*").eq("domain_id",t).single();return a?(a.code!=="PGRST116"&&console.error("Error fetching member area by domain:",a.message),null):r}async getDomains(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("domains").select("*").eq("user_id",t.id);return a?(console.error("Error fetching domains:",a.message),[]):r}async getDomainByHostname(t){const{data:r,error:a}=await Y.from("domains").select("*").eq("domain",t).single();return a?(a.code!=="PGRST116"&&console.error("Error fetching domain by hostname:",a.message),null):r}async getDomainUsage(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{data:a,error:s}=await Y.from("checkouts").select("id, name").eq("domain_id",t).eq("user_id",r.id);if(s)throw s;const{data:o,error:c}=await Y.from("member_areas").select("id, name").eq("domain_id",t).eq("owner_id",r.id);if(c)throw c;return{checkouts:a||[],memberAreas:o||[]}}async getCheckoutUsage(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{data:a,error:s}=await Y.from("products").select("id, name").eq("member_area_checkout_id",t).eq("user_id",r.id);if(s)throw s;const{data:o,error:c}=await Y.from("domains").select("id, domain").eq("checkout_id",t).eq("user_id",r.id);if(c)throw c;return{products:a||[],domains:o||[]}}async createDomain(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={user_id:r.id,domain:t.domain,status:t.status,type:t.type,checkout_id:t.checkout_id,usage:t.usage||"system"},{data:s,error:o}=await Y.from("domains").insert(a).select().single();if(o)throw console.error("Error creating domain:",o.message),o;return s}async deleteDomain(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{error:a}=await Y.from("domains").delete().eq("id",t).eq("user_id",r.id);if(a)throw console.error("Error deleting domain:",a.message),a}async saveDomains(t){console.warn("saveDomains is deprecated. Use createDomain instead.");const r=await this.getUser();if(!r)return;const a=t.filter(c=>!c.id.startsWith("dom_"));if(a.length===0)return;const{data:s,error:o}=await Y.from("domains").upsert(a.map(c=>({...c,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();o&&console.error("Error saving domains:",o.message,o)}async getGateways(){const t=await this.getUser();if(console.log("[StorageService] getGateways called. User:",(t==null?void 0:t.id)||"NO USER"),!t)return console.warn("[StorageService] getGateways: No user, returning empty array"),[];const{data:r,error:a}=await Y.from("gateways").select("*").eq("user_id",t.id);return a?(console.error("[StorageService] Error fetching gateways:",a.message),[]):(console.log("[StorageService] getGateways: Found",(r==null?void 0:r.length)||0,"gateways"),r)}async createGateway(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={user_id:r.id,name:t.name,provider:t.name,public_key:t.public_key,private_key:t.private_key,webhook_secret:t.webhook_secret,active:t.active},{data:s,error:o}=await Y.from("gateways").insert(a).select().single();if(o)throw console.error("Error creating gateway:",o.message),o;return s}async updateGateway(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={name:t.name,provider:t.name,public_key:t.public_key,private_key:t.private_key,webhook_secret:t.webhook_secret,active:t.active},{data:s,error:o}=await Y.from("gateways").update(a).eq("id",t.id).eq("user_id",r.id).select().single();if(o)throw console.error("Error updating gateway:",o.message),o;return s}async saveGateways(t){console.warn("saveGateways is deprecated. Use createGateway/updateGateway instead.");const r=await this.getUser();if(!r){console.error("No user logged in");return}const{data:a,error:s}=await Y.from("gateways").upsert(t.map(o=>({...o,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();s?console.error("Error saving gateways:",s.message,s):console.log("Gateways saved successfully:",a)}async getOrders(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(a)return console.error("Error getting orders:",a.message),[];const{data:s}=await Y.from("checkouts").select("id, product_id"),{data:o}=await Y.from("products").select("id, name");return r.map(c=>{let d=c.items;if(!d||!Array.isArray(d)||d.length===0){const h=s==null?void 0:s.find(g=>g.id===c.checkout_id),f=o==null?void 0:o.find(g=>g.id===(h==null?void 0:h.product_id));d=[{name:(f==null?void 0:f.name)||"Produto",price:c.total,quantity:1}]}return{...c,amount:c.total,items:d}})}async saveOrders(t){if(t.length===0)return;const r=t[0];let a=null;const s=await this.getUser();if(s)a=s.id;else if(r.checkout_id){const{data:d}=await Y.from("checkouts").select("user_id").eq("id",r.checkout_id).single();d&&(a=d.user_id)}const o=t.map(d=>{const{amount:h,...f}=d;return{...f,total:h,items:d.items,user_id:a}}),{error:c}=await Y.from("orders").upsert(o);if(c)throw console.error("Error saving order:",c.message),new Error(`Failed to save order: ${c.message}`)}async createOrder(t){let r=null;const a=await this.getUser();if(a)r=a.id;else if(t.checkout_id){const{data:h}=await Y.from("checkouts").select("user_id").eq("id",t.checkout_id).single();h&&(r=h.user_id)}const{amount:s,...o}=t,c={...o,total:s,items:t.items,user_id:r},{error:d}=await Y.from("orders").insert(c);if(d)throw console.error("Error creating order:",d.message),new Error(`Failed to create order: ${d.message}`)}async getPayments(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("payments").select("*").eq("user_id",t.id);return a?(console.error("Error fetching payments:",a.message),[]):r}async createPayment(t){let r={...t};if(!r.user_id){const s=await this.getUser();if(s)r.user_id=s.id;else{const{data:o}=await Y.from("orders").select("user_id").eq("id",t.order_id).single();r.user_id=o==null?void 0:o.user_id}}const{error:a}=await Y.from("payments").insert(r);if(a)throw console.error("Error creating payment:",a.message),a}async getPaymentByTransactionId(t){const{data:r,error:a}=await Y.from("payments").select("*").eq("transaction_id",t).single();return a?null:r}async savePayments(t){if(t.length===0)return;const r=await Promise.all(t.map(async s=>{const o=await this.getUser();if(o)return{...s,user_id:o.id};const{data:c}=await Y.from("orders").select("user_id").eq("id",s.order_id).single();return{...s,user_id:c==null?void 0:c.user_id}})),{error:a}=await Y.from("payments").upsert(r);if(a)throw console.error("Error saving payments:",a.message),a}async getIntegration(t){const r=await this.getUser();if(!r)return null;const{data:a,error:s}=await Y.from("integrations").select("*").eq("name",t).eq("user_id",r.id).single();return s?(s.code!=="PGRST116"&&console.error("Error fetching integration:",s.message),null):a}async saveIntegration(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const a={user_id:r.id,name:t.name,config:t.config,active:t.active},{data:s,error:o}=await Y.from("integrations").upsert(a,{onConflict:"user_id, name"}).select().single();if(o)throw console.error("Error saving integration:",o.message),o;return s}async getWebhooks(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("webhooks").select("*").eq("user_id",t.id);return a?(console.error("Error fetching webhooks:",a.message),[]):r}async saveWebhooks(t){const r=await this.getUser();if(!r){console.error("No user logged in");return}const{data:a,error:s}=await Y.from("webhooks").upsert(t.map(o=>({...o,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();s?console.error("Error saving webhooks:",s.message,s):console.log("Webhooks saved successfully:",a)}async getWebhookLogs(){const{data:t,error:r}=await Y.from("webhook_logs").select("*").order("created_at",{ascending:!1}).limit(100);return r?[]:t}async saveWebhookLogs(t){const{error:r}=await Y.from("webhook_logs").insert(t);r&&console.error("Error saving logs:",r.message)}async getContents(t){let r=Y.from("contents").select(`
        *,
        modules(count)
      `).order("created_at",{ascending:!1});t&&(r=r.eq("member_area_id",t));const{data:a,error:s}=await r;return s?(console.error("Error fetching contents:",s.message),[]):(a||[]).map(o=>{var c,d;return{...o,modules_count:((d=(c=o.modules)==null?void 0:c[0])==null?void 0:d.count)||0}})}async createContent(t,r){const a=await this.getUser();if(!a)throw new Error("No user logged in");const s={id:t.id,title:t.title,description:t.description,thumbnail_url:t.thumbnail_url,type:t.type,member_area_id:t.member_area_id,author_id:a.id,is_free:t.is_free,image_vertical_url:t.image_vertical_url,image_horizontal_url:t.image_horizontal_url,modules_layout:t.modules_layout||"horizontal"},{data:o,error:c}=await Y.from("contents").insert(s).select().single();if(c)throw c;return r&&await this.setContentProduct(o.id,r),o}async updateContent(t,r){const a={title:t.title,description:t.description,thumbnail_url:t.thumbnail_url,type:t.type,updated_at:new Date().toISOString(),image_vertical_url:t.image_vertical_url,image_horizontal_url:t.image_horizontal_url,modules_layout:t.modules_layout,is_free:t.is_free},{data:s,error:o}=await Y.from("contents").update(a).eq("id",t.id).select().single();if(o)throw o;return r!==void 0&&await this.setContentProduct(t.id,r||null),s}async deleteContent(t){try{const{data:a}=await Y.storage.from("contents").list(t);if(a&&a.length>0){const s=a.map(o=>`${t}/${o.name}`);await Y.storage.from("contents").remove(s)}}catch(a){console.error("Error deleting content files:",a)}const{error:r}=await Y.from("contents").delete().eq("id",t);if(r)throw r}async uploadContentThumbnail(t,r){const a=t.name.split(".").pop(),s=`${r}/thumb_${Date.now()}.${a}`,{error:o}=await Y.storage.from("contents").upload(s,t);if(o)throw o;const{data:c}=Y.storage.from("contents").getPublicUrl(s);return c.publicUrl}async uploadContentImage(t,r,a){const s=t.name.split(".").pop(),o=`${r}/${a}_${Date.now()}.${s}`,{error:c}=await Y.storage.from("contents").upload(o,t);if(c)throw c;const{data:d}=Y.storage.from("contents").getPublicUrl(o);return d.publicUrl}async getModules(t){const{data:r,error:a}=await Y.from("modules").select("*, lessons(*)").eq("content_id",t).order("order_index",{ascending:!0});return a?(console.error("Error fetching modules:",a.message),[]):r.map(o=>{var c;return{...o,lessons:((c=o.lessons)==null?void 0:c.sort((d,h)=>d.order_index-h.order_index))||[]}})}async getModulesByAreaId(t){const{data:r,error:a}=await Y.from("contents").select("id").eq("member_area_id",t);if(a||!r)return[];const s=r.map(d=>d.id);if(s.length===0)return[];const{data:o,error:c}=await Y.from("modules").select("*, lessons(*)").in("content_id",s).order("order_index",{ascending:!0});return c?(console.error("Error fetching modules by area:",c.message),[]):o}async createModule(t){const r={id:t.id,content_id:t.content_id,title:t.title,description:t.description,order_index:t.order_index,image_vertical_url:t.image_vertical_url,image_horizontal_url:t.image_horizontal_url,is_free:t.is_free},{data:a,error:s}=await Y.from("modules").insert(r).select().single();if(s)throw s;return a}async updateModule(t){const{data:r,error:a}=await Y.from("modules").update({title:t.title,description:t.description,order_index:t.order_index,image_vertical_url:t.image_vertical_url,image_horizontal_url:t.image_horizontal_url,is_free:t.is_free}).eq("id",t.id).select().single();if(a)throw a;return r}async deleteModule(t){const{error:r}=await Y.from("modules").delete().eq("id",t)}async uploadModuleImage(t,r,a){const s=t.name.split(".").pop(),o=`${r}/${a}_${Date.now()}.${s}`,{error:c}=await Y.storage.from("contents").upload(o,t);if(c)throw c;const{data:d}=Y.storage.from("contents").getPublicUrl(o);return d.publicUrl}async createLesson(t){const{data:r,error:a}=await Y.from("lessons").insert(t).select().single();if(a)throw a;return r}async updateLesson(t){const{data:r,error:a}=await Y.from("lessons").update({title:t.title,content_type:t.content_type,video_url:t.video_url,content_text:t.content_text,file_url:t.file_url,order_index:t.order_index,is_free:t.is_free,duration:t.duration,image_url:t.image_url,gallery:t.gallery,content_order:t.content_order,is_published:t.is_published}).eq("id",t.id).select().single();if(a)throw a;return r}async deleteLesson(t){const{error:r}=await Y.from("lessons").delete().eq("id",t);if(r)throw r}async uploadLessonImage(t,r){const a=t.name.split(".").pop(),s=`${r}/card_${Date.now()}.${a}`,{error:o}=await Y.storage.from("contents").upload(s,t);if(o)throw o;const{data:c}=Y.storage.from("contents").getPublicUrl(s);return c.publicUrl}async getProductContents(t){const{data:r,error:a}=await Y.from("product_contents").select("content_id").eq("product_id",t);return a?(console.error("Error fetching product contents:",a.message),[]):r.map(s=>s.content_id)}async setProductContents(t,r){if(await Y.from("product_contents").delete().eq("product_id",t),r.length===0)return;const a=r.map(o=>({product_id:t,content_id:o})),{error:s}=await Y.from("product_contents").insert(a);if(s)throw s}async setContentProduct(t,r){if(await Y.from("product_contents").delete().eq("content_id",t),!r)return;const{error:a}=await Y.from("product_contents").insert({product_id:r,content_id:t});if(a)throw a}async getLessonProgress(t){const r=await this.getUser();if(!r)return null;const{data:a,error:s}=await Y.from("lesson_progress").select("*").eq("lesson_id",t).eq("user_id",r.id).single();return s?null:a}async getAccessGrants(){const t=await this.getUser();if(!t)return[];const{data:r,error:a}=await Y.from("access_grants").select("*").eq("user_id",t.id).eq("status","active");return a?(console.error("Error fetching access grants:",a.message),[]):r}async createAccessGrant(t){const{error:r}=await Y.from("access_grants").insert({...t,granted_at:new Date().toISOString()});r?console.error("Error creating access grant:",r.message):console.log("Access grant created for user:",t.user_id,"content:",t.content_id)}async getContentsByProduct(t){const{data:r,error:a}=await Y.from("product_contents").select("content:contents(*)").eq("product_id",t);return a?(console.error("Error fetching contents by product:",a.message),[]):r.map(s=>s.content)}async updateLessonProgress(t){const r=await this.getUser();if(!r)return;const{error:a}=await Y.from("lesson_progress").upsert({user_id:r.id,lesson_id:t.lesson_id,completed:t.completed,last_position_seconds:t.last_position_seconds,updated_at:new Date().toISOString()},{onConflict:"user_id, lesson_id"});a&&console.error("Error updating progress:",a)}async getMemberAreas(t){var o;console.log("storageService: getMemberAreas called with userId:",t);const r=t||((o=await this.getUser())==null?void 0:o.id);if(console.log("storageService: resolved id",r),!r)return[];const{data:a,error:s}=await Y.from("member_areas").select("*").eq("owner_id",r).order("created_at",{ascending:!1});return s?(console.error("Error fetching member areas:",s.message),[]):(console.log("storageService: getMemberAreas success, count:",a==null?void 0:a.length),a)}async getMemberAreaById(t){const{data:r,error:a}=await Y.from("member_areas").select("*").eq("id",t).single();return a?null:r}async getMemberAreaMembers(t){const{data:r,error:a}=await Y.rpc("get_member_area_members",{area_id:t});return a?(console.error("Error fetching member area members:",a.message),[]):r}async createMemberArea(t){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{data:a,error:s}=await Y.from("member_areas").insert({...t,owner_id:r.id,login_image_url:t.login_image_url,allow_free_signup:t.allow_free_signup,banner_url:t.banner_url,banner_title:t.banner_title,banner_description:t.banner_description,banner_button_text:t.banner_button_text,banner_button_link:t.banner_button_link,sidebar_config:t.sidebar_config,custom_links:t.custom_links,faqs:t.faqs}).select().single();if(s)throw s;return a}async updateMemberArea(t){const{data:r,error:a}=await Y.from("member_areas").update({name:t.name,slug:t.slug,domain_id:t.domain_id,logo_url:t.logo_url,primary_color:t.primary_color,favicon_url:t.favicon_url,layout_mode:t.layout_mode,card_style:t.card_style,login_image_url:t.login_image_url,allow_free_signup:t.allow_free_signup,banner_url:t.banner_url,banner_title:t.banner_title,banner_description:t.banner_description,banner_button_text:t.banner_button_text,banner_button_link:t.banner_button_link,sidebar_config:t.sidebar_config,custom_links:t.custom_links,faqs:t.faqs}).eq("id",t.id).select().single();if(a)throw a;return r}async deleteMemberArea(t){try{const{data:a}=await Y.storage.from("member-areas").list(t);if(a&&a.length>0){const s=a.map(o=>`${t}/${o.name}`);await Y.storage.from("member-areas").remove(s)}}catch(a){console.error("Error deleting member area files:",a)}const{error:r}=await Y.from("member_areas").delete().eq("id",t);if(r)throw r}async uploadMemberAreaLogo(t,r){const a=t.name.split(".").pop(),s=`${r}/logo_${Date.now()}.${a}`,{error:o}=await Y.storage.from("member-areas").upload(s,t,{upsert:!0});if(o)throw o;const{data:c}=Y.storage.from("member-areas").getPublicUrl(s);return c.publicUrl}async uploadMemberAreaFavicon(t,r){const a=t.name.split(".").pop(),s=`${r}/favicon_${Date.now()}.${a}`,{error:o}=await Y.storage.from("member-areas").upload(s,t,{upsert:!0});if(o)throw o;const{data:c}=Y.storage.from("member-areas").getPublicUrl(s);return c.publicUrl}async uploadMemberAreaLoginImage(t,r){const a=t.name.split(".").pop(),s=`${r}/login_${Date.now()}.${a}`,{error:o}=await Y.storage.from("member-areas").upload(s,t,{upsert:!0});if(o)throw o;const{data:c}=Y.storage.from("member-areas").getPublicUrl(s);return c.publicUrl}async uploadMemberAreaBanner(t,r){const a=t.name.split(".").pop(),s=`${r}/banner_${Date.now()}.${a}`,{error:o}=await Y.storage.from("member-areas").upload(s,t,{upsert:!0});if(o)throw o;const{data:c}=Y.storage.from("member-areas").getPublicUrl(s);return c.publicUrl}async getTracks(t){const{data:r,error:a}=await Y.from("tracks").select("*").eq("member_area_id",t).order("position");return a?(console.error("Error fetching tracks:",a.message),[]):r}async getTrackWithItems(t){const{data:r,error:a}=await Y.from("tracks").select("*").eq("id",t).single();if(a||!r)return null;const{data:s,error:o}=await Y.from("track_items").select("*").eq("track_id",t).order("position");if(o)return null;const c=[];if(s&&s.length>0){const d=s.map(m=>m.item_id);console.log(`[getTrackWithItems] Track: ${r.title}, Type: ${r.type}, Items: ${s.length}`);let h=[];if(r.type==="products"){const{data:m}=await Y.from("products").select("*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))").in("id",d);h=m||[]}else if(r.type==="contents"){const{data:m}=await Y.from("contents").select("*, product_contents(products(*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))))").in("id",d);h=(m||[]).map(g=>{var x,y;return{...g,associated_product:(y=(x=g.product_contents)==null?void 0:x[0])==null?void 0:y.products}})}else if(r.type==="modules"){const{data:m}=await Y.from("modules").select("id, title, description, order_index, is_free, image_vertical_url, image_horizontal_url, content_id, content:contents(*, product_contents(products(*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain)))))").in("id",d);h=(m||[]).map(g=>{var x,y,N;return{...g,associated_product:(N=(y=(x=g.content)==null?void 0:x.product_contents)==null?void 0:y[0])==null?void 0:N.products}})}else if(r.type==="lessons"){const{data:m}=await Y.from("lessons").select("id, title, content_type, video_url, content_text, file_url, order_index, duration, is_free, image_url, gallery, content_order, module_id, module:modules(*, content:contents(*, product_contents(products(*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))))))").in("id",d);h=(m||[]).map(g=>{var _,w;const x=Array.isArray(g.module)?g.module[0]:g.module,y=x&&Array.isArray(x.content)?x.content[0]:x==null?void 0:x.content,N=(w=(_=y==null?void 0:y.product_contents)==null?void 0:_[0])==null?void 0:w.products;return{...g,module:x?{...x,content:y}:void 0,associated_product:N}})}const f=m=>{var x;if(!m)return;let g=m.redirect_link;return(!m.member_area_action||m.member_area_action==="checkout")&&m.checkouts&&(g=`https://${((x=m.checkouts.domains)==null?void 0:x.domain)||"checkout.supercheckout.com"}/${m.checkouts.custom_url_slug}`),{...m,imageUrl:m.image_url||m.imageUrl,redirect_link:g}};h=h.map(m=>(m.associated_product&&(m.associated_product=f(m.associated_product)),m)),console.log(`[getTrackWithItems] Related Data Found: ${h.length}`),c.push(...s.map(m=>{var x;const g=h.find(y=>y.id===m.item_id);return r.type==="products"&&g&&(g.imageUrl=g.image_url,(!g.member_area_action||g.member_area_action==="checkout")&&g.checkouts&&(g.redirect_link=`https://${((x=g.checkouts.domains)==null?void 0:x.domain)||"checkout.supercheckout.com"}/${g.checkouts.custom_url_slug}`)),{...m,product:r.type==="products"?g:void 0,content:r.type==="contents"?g:void 0,module:r.type==="modules"?g:void 0,lesson:r.type==="lessons"?g:void 0}}))}return{...r,items:c}}async createTrack(t){const{data:r,error:a}=await Y.from("tracks").insert(t).select().single();if(a)throw a;return r}async updateTrack(t){const{data:r,error:a}=await Y.from("tracks").update(t).eq("id",t.id).select().single();if(a)throw a;return r}async deleteTrack(t){const{error:r}=await Y.from("tracks").delete().eq("id",t);if(r)throw r}async addTrackItem(t,r,a){const{data:s,error:o}=await Y.from("track_items").insert({track_id:t,item_id:r,position:a}).select().single();if(o)throw o;return s}async removeTrackItem(t){const{error:r}=await Y.from("track_items").delete().eq("id",t);if(r)throw r}async updateTrackPositions(t){for(const r of t)await Y.from("tracks").update({position:r.position}).eq("id",r.id)}}const ae=new x6,v6=Object.freeze(Object.defineProperty({__proto__:null,storage:ae,supabase:Y},Symbol.toStringTag,{value:"Module"})),ma={async getMembers(e=1,t=20,r="",a="",s=""){return this.getMembersByArea("",e,t,r,a)},async getMembersByArea(e,t=1,r=20,a="",s="",o="all"){const{data:c,error:d}=await Y.rpc("get_area_members_enriched",{p_area_id:e,p_page:t,p_limit:r,p_search:a,p_status_filter:s,p_type_filter:o});if(d)return console.error("Error fetching area members via RPC:",d),{data:[],count:0};const h=c&&c.length>0?c[0].total_count:0;return{data:(c||[]).map(m=>({user_id:m.user_id,email:m.email,name:m.name||m.email.split("@")[0],status:m.status,joined_at:m.joined_at,orders_count:m.orders_count,active_products_count:m.active_products_count})),count:h}},async exportMembersCSV(e){const{data:t,error:r}=await Y.from("admin_members_view").select("*");if(r)throw r;return[["ID","Nome","Email","Status","Entrou em","Pedidos","Produtos Ativos"],...t.map(s=>[s.user_id,s.full_name,s.email,s.status,s.joined_at,s.orders_count,s.active_products_count])].map(s=>s.join(",")).join(`
`)},async getMemberDetails(e){const{data:t,error:r}=await Y.from("profiles").select("*").eq("id",e).single();if(r)throw r;const[a,s,o,c,d]=await Promise.all([this.getMemberAccess(e).catch(h=>(console.error("Failed to load access:",h),[])),this.getMemberNotes(e).catch(h=>(console.error("Failed to load notes:",h),[])),this.getMemberTags(e).catch(h=>(console.error("Failed to load tags:",h),[])),this.getMemberActivityLogs(e).catch(h=>(console.error("Failed to load logs:",h),[])),this.getMemberOrders(e).catch(h=>(console.error("Failed to load orders:",h),[]))]);return{profile:t,accessGrants:a,notes:s,tags:o,logs:c,orders:d}},async getMemberAccess(e){const{data:t,error:r}=await Y.from("access_grants").select("*, product:products(*), content:contents(*)").eq("user_id",e);if(r)throw console.error("Error fetching member access grants:",r),r;return t},async getMemberNotes(e){const{data:t,error:r}=await Y.from("member_notes").select("*, author:profiles(full_name, email)").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},async addMemberNote(e,t){const{data:{user:r}}=await Y.auth.getUser();if(!r)throw new Error("Not authenticated");const{error:a}=await Y.from("member_notes").insert({user_id:e,author_id:r.id,content:t});if(a)throw a},async getMemberTags(e){const{data:t,error:r}=await Y.from("member_tags").select("*").eq("user_id",e);if(r)throw r;return t},async addMemberTag(e,t){const{error:r}=await Y.from("member_tags").insert({user_id:e,tag:t});if(r)throw r},async removeMemberTag(e,t){const{error:r}=await Y.from("member_tags").delete().match({user_id:e,tag:t});if(r)throw r},async getMemberActivityLogs(e){const{data:t,error:r}=await Y.from("activity_logs").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);if(r)throw r;return t},async getMemberOrders(e){const{data:t,error:r}=await Y.from("orders").select("*").eq("customer_user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},async updateMemberStatus(e,t){const r=t==="suspended"?"suspend":t==="active"?"activate":"disable";try{const a=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,userId:e})}),s=a.headers.get("content-type");if(!a.ok||s&&s.includes("text/html"))throw new Error("API unavailable");this.logActivity(e,`status_changed_to_${t}`,{action:r,p:"admin"})}catch(a){console.warn("Backend API failed, trying direct Supabase update (Local Dev Fallback)",a);const{error:s}=await Y.from("profiles").update({status:t}).eq("id",e);if(s)throw console.error("Direct update failed:",s),new Error("Falha ao atualizar status via API e Banco de Dados.");console.info("Status updated via direct DB access (Local Mode)"),this.logActivity(e,`status_changed_to_${t}`,{mode:"direct_db"})}},async deleteMember(e){const t=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",userId:e})});if(!t.ok)throw new Error(await t.text())},async grantAccess(e,t){console.log(`Attempting to grant access for user ${e} to products:`,t);const r=t.map(o=>({user_id:e,product_id:o,status:"active",granted_at:new Date().toISOString()})),{data:a,error:s}=await Y.from("access_grants").upsert(r,{onConflict:"user_id, product_id"}).select();if(s)throw console.error("Supabase error granting access:",s),s;console.log("Access granted successfully:",a),this.logActivity(e,"access_granted",{productIds:t})},async revokeAccess(e,t){const{error:r}=await Y.from("access_grants").update({status:"revoked"}).match({user_id:e,product_id:t});if(r)throw r;this.logActivity(e,"access_revoked",{productId:t})},async createMember(e,t,r=[]){const a=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"create",email:e,name:t,productIds:r})});if(!a.ok){const s=a.headers.get("content-type");if(s&&s.includes("text/html"))throw new Error("Erro: API Admin no detectada (Rota 404). Se estiver local, use 'vercel dev'.");const o=await a.text();try{const c=JSON.parse(o);throw new Error(c.error||c.message||"Erro desconhecido")}catch(c){throw c.message!=="JSON"&&c.message!=="Unexpected token"?c:new Error(o||"Erro ao comunicar com servidor")}}return a.json()},async getProducts(){const{data:e,error:t}=await Y.from("products").select("id, name").eq("active",!0).order("name");if(t)throw t;return e},async updateLastSeen(e){const{error:t}=await Y.from("profiles").update({last_seen_at:new Date().toISOString()}).eq("id",e);t&&console.error("Error updating last_seen:",t)},async logActivity(e,t,r={}){try{const{error:a}=await Y.from("activity_logs").insert({user_id:e,event:t,metadata:r});a&&console.error("Error logging activity:",a)}catch(a){console.error("Exception logging activity:",a)}}},Xy=()=>n.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-[#05050A] text-white",children:[n.jsx("div",{className:"relative flex items-center justify-center",children:n.jsx("div",{className:"relative",children:n.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-16 h-16 object-contain animate-pulse"})})}),n.jsx("p",{className:"mt-4 text-gray-500 text-xs font-medium animate-pulse",children:"Carregando..."})]}),lT=v.createContext(void 0),y6=({children:e})=>{const[t,r]=v.useState(null),[a,s]=v.useState(null),[o,c]=v.useState(null),[d,h]=v.useState(!0),f=async g=>{try{const{data:x,error:y}=await Y.from("profiles").select("*").eq("id",g).single();if(y){console.error("Error fetching profile:",y),c({id:g,role:"admin",email:"",status:"active"});return}c(x),x&&ma.updateLastSeen(g).catch(N=>console.error("Failed to update last seen",N))}catch(x){console.error("Exception fetching profile:",x),c({id:g,role:"admin",email:"",status:"active"})}};v.useEffect(()=>{Y.auth.getSession().then(({data:{session:x}})=>{r(x),s((x==null?void 0:x.user)??null),x!=null&&x.user?(ae.setUser(x.user),f(x.user.id).finally(()=>h(!1))):h(!1)});const{data:{subscription:g}}=Y.auth.onAuthStateChange((x,y)=>{r(y),s((y==null?void 0:y.user)??null),ae.setUser((y==null?void 0:y.user)??null),y!=null&&y.user?f(y.user.id):c(null)});return()=>g.unsubscribe()},[]);const m=async()=>{await Y.auth.signOut(),c(null)};return d?n.jsx(Xy,{}):n.jsx(lT.Provider,{value:{session:t,user:a,profile:o,signOut:m,loading:d,instanceId:lf,fetchProfile:f},children:e})},fs=()=>{const e=v.useContext(lT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},b6=()=>{const{user:e,session:t,loading:r,instanceId:a}=fs(),[s,o]=v.useState(null),[c,d]=v.useState([]),[h,f]=v.useState(null),[m,g]=v.useState(null),[x,y]=v.useState(""),N=async()=>{const w=await ae.getUser();o(w);const E=Y.auth.getSession(),k=new Promise(C=>setTimeout(()=>C({data:{session:null}}),1e3)),{data:{session:S}}=await Promise.race([E,k]);g(S);const T=Object.keys(localStorage).filter(C=>C.startsWith("sb-")||C.includes("supabase")).reduce((C,O)=>({...C,[O]:localStorage.getItem(O)}),{});y(JSON.stringify(T,null,2));try{const C=await ae.getProducts();d(C)}catch(C){f(C.message)}},_=async()=>{if(confirm("Tem certeza? Isso vai limpar todos os dados locais.")){try{console.log("Attempting sign out..."),await Y.auth.signOut()}catch(w){console.error("SignOut failed, ignoring:",w)}console.log("Clearing storage..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(w=>{document.cookie=w.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),alert("Sesso limpa. Recarregando..."),window.location.href="/login"}};return v.useEffect(()=>{N()},[e]),n.jsxs("div",{className:"min-h-screen bg-black text-white p-8 font-mono text-sm overflow-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"SYSTEM DIAGNOSTIC (STRICT MODE)"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:N,className:"bg-blue-600 px-4 py-2 rounded",children:"Refresh Data"}),n.jsx("button",{onClick:_,className:"bg-red-700 px-4 py-2 rounded border border-red-500 hover:bg-red-600",children:"HARD RESET SESSION"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[n.jsx("h2",{className:"text-pink-400 font-bold mb-2",children:"Supabase Singleton Check"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"AuthContext Instance:"}),n.jsx("p",{className:"font-mono text-lg",children:a||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Direct Import Instance:"}),n.jsx("p",{className:"font-mono text-lg",children:lf})]})]}),a!==lf&&n.jsx("div",{className:"text-red-500 font-bold mt-2 animate-pulse",children:"CRITICAL ERROR: DUPLICATE SUPABASE INSTANCES DETECTED"})]}),n.jsxs("div",{className:"border border-gray-800 p-4 rounded",children:[n.jsx("h2",{className:"text-blue-400 font-bold mb-2",children:"AuthContext State"}),n.jsx("pre",{children:JSON.stringify({authLoading:r,userId:e==null?void 0:e.id,hasSession:!!t},null,2)})]}),n.jsxs("div",{className:"border border-gray-800 p-4 rounded",children:[n.jsx("h2",{className:"text-yellow-400 font-bold mb-2",children:"StorageService State"}),n.jsx("pre",{children:JSON.stringify({storageUser:s==null?void 0:s.id},null,2)})]}),n.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[n.jsx("h2",{className:"text-green-400 font-bold mb-2",children:"Supabase Raw Session"}),n.jsx("pre",{className:"whitespace-pre-wrap word-break",children:JSON.stringify(m,null,2)})]}),n.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[n.jsx("h2",{className:"text-purple-400 font-bold mb-2",children:"Products Query Result"}),h&&n.jsxs("div",{className:"text-red-500",children:["Error: ",h]}),n.jsxs("div",{className:"text-gray-400",children:["Count: ",c.length]}),n.jsx("pre",{children:JSON.stringify(c.slice(0,2),null,2)})]}),n.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[n.jsx("h2",{className:"text-orange-400 font-bold mb-2",children:"LocalStorage (Supabase Keys)"}),n.jsx("pre",{className:"whitespace-pre-wrap word-break text-xs",children:x})]}),n.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[n.jsx("h2",{className:"text-cyan-400 font-bold mb-2",children:"Boot Sequence Logs"}),n.jsx("div",{className:"bg-[#111] p-2 rounded max-h-60 overflow-y-auto text-xs font-mono text-gray-300",children:(window._authLogs||[]).map((w,E)=>n.jsx("div",{className:"border-b border-gray-800 pb-1 mb-1 last:border-0",children:w},E))})]})]})]})};var Ks=(e=>(e.ONE_TIME="one_time",e.RECURRING="recurring",e.FREE="free",e))(Ks||{}),dl=(e=>(e.MONTHLY="monthly",e.YEARLY="yearly",e.NONE="none",e))(dl||{}),Qa=(e=>(e.MERCADO_PAGO="mercado_pago",e.STRIPE="stripe",e.PIX="pix",e))(Qa||{}),ot=(e=>(e.PENDING="pending",e.PAID="paid",e.FAILED="failed",e.CANCELED="canceled",e.REFUNDED="refunded",e))(ot||{}),gr=(e=>(e.ACTIVE="active",e.PENDING="pending",e.VERIFYING="verifying",e.ERROR="error",e))(gr||{}),Mv=(e=>(e.CNAME="cname",e.REDIRECT="redirect",e))(Mv||{}),ht=(e=>(e.SYSTEM="system",e.CHECKOUT="checkout",e.MEMBER_AREA="member_area",e))(ht||{});function cT(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=cT(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Nt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=cT(e))&&(a&&(a+=" "),a+=t);return a}var w6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ky(e){if(typeof e!="string")return!1;var t=w6;return t.includes(e)}var j6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uT(e){if(typeof e!="string")return!1;var t=j6;return t.includes(e)}function dT(e){return typeof e=="string"&&e.startsWith("data-")}function rn(e){var t=Object.entries(e).filter(r=>{var[a]=r;return uT(a)||dT(a)});return Object.fromEntries(t)}function lm(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return rn(t)}return typeof e=="object"&&!Array.isArray(e)?rn(e):null}function Ba(e){var t=Object.entries(e).filter(r=>{var[a]=r;return uT(a)||dT(a)||Ky(a)});return Object.fromEntries(t)}function N6(e){return e==null?null:v.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var _6=["children","width","height","viewBox","className","style","title","desc"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Iv.apply(null,arguments)}function E6(e,t){if(e==null)return{};var r,a,s=S6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function S6(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var hT=v.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:o,className:c,style:d,title:h,desc:f}=e,m=E6(e,_6),g=o||{width:a,height:s,x:0,y:0},x=Nt("recharts-surface",c);return v.createElement("svg",Iv({},Ba(m),{className:x,width:a,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),v.createElement("title",null,h),v.createElement("desc",null,f),r)}),k6=["children","className"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lv.apply(null,arguments)}function C6(e,t){if(e==null)return{};var r,a,s=A6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function A6(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var En=v.forwardRef((e,t)=>{var{children:r,className:a}=e,s=C6(e,k6),o=Nt("recharts-layer",a);return v.createElement("g",Lv({className:o},Ba(s),{ref:t}),r)}),T6=v.createContext(null);function Ot(e){return function(){return e}}const Uv=Math.PI,$v=2*Uv,zi=1e-6,O6=$v-zi;function fT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function R6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fT;const r=10**t;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class D6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fT:R6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,o,c){this._append`C${+t},${+r},${+a},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(t,r,a,s,o){if(t=+t,r=+r,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,d=this._y1,h=a-t,f=s-r,m=c-t,g=d-r,x=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>zi)if(!(Math.abs(g*h-f*m)>zi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-c,N=s-d,_=h*h+f*f,w=y*y+N*N,E=Math.sqrt(_),k=Math.sqrt(x),S=o*Math.tan((Uv-Math.acos((_+x-w)/(2*E*k)))/2),T=S/k,C=S/E;Math.abs(T-1)>zi&&this._append`L${t+T*m},${r+T*g}`,this._append`A${o},${o},0,0,${+(g*y>m*N)},${this._x1=t+C*h},${this._y1=r+C*f}`}}arc(t,r,a,s,o,c){if(t=+t,r=+r,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),h=a*Math.sin(s),f=t+d,m=r+h,g=1^c,x=c?s-o:o-s;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>zi||Math.abs(this._y1-m)>zi)&&this._append`L${f},${m}`,a&&(x<0&&(x=x%$v+$v),x>O6?this._append`A${a},${a},0,1,${g},${t-d},${r-h}A${a},${a},0,1,${g},${this._x1=f},${this._y1=m}`:x>zi&&this._append`A${a},${a},0,${+(x>=Uv)},${g},${this._x1=t+a*Math.cos(o)},${this._y1=r+a*Math.sin(o)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function mT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new D6(t)}function Jy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pT(e){this._context=e}pT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cm(e){return new pT(e)}function gT(e){return e[0]}function xT(e){return e[1]}function vT(e,t){var r=Ot(!0),a=null,s=cm,o=null,c=mT(d);e=typeof e=="function"?e:e===void 0?gT:Ot(e),t=typeof t=="function"?t:t===void 0?xT:Ot(t);function d(h){var f,m=(h=Jy(h)).length,g,x=!1,y;for(a==null&&(o=s(y=c())),f=0;f<=m;++f)!(f<m&&r(g=h[f],f,h))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(g,f,h),+t(g,f,h));if(y)return o=null,y+""||null}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),d):e},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),d):t},d.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Ot(!!h),d):r},d.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),d):s},d.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),d):a},d}function wh(e,t,r){var a=null,s=Ot(!0),o=null,c=cm,d=null,h=mT(f);e=typeof e=="function"?e:e===void 0?gT:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?xT:Ot(+r);function f(g){var x,y,N,_=(g=Jy(g)).length,w,E=!1,k,S=new Array(_),T=new Array(_);for(o==null&&(d=c(k=h())),x=0;x<=_;++x){if(!(x<_&&s(w=g[x],x,g))===E)if(E=!E)y=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),N=x-1;N>=y;--N)d.point(S[N],T[N]);d.lineEnd(),d.areaEnd()}E&&(S[x]=+e(w,x,g),T[x]=+t(w,x,g),d.point(a?+a(w,x,g):S[x],r?+r(w,x,g):T[x]))}if(k)return d=null,k+""||null}function m(){return vT().defined(s).curve(c).context(o)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Ot(+g),a=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Ot(+g),f):e},f.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Ot(+g),f):a},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Ot(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Ot(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ot(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(a).y(t)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Ot(!!g),f):s},f.curve=function(g){return arguments.length?(c=g,o!=null&&(d=c(o)),f):c},f.context=function(g){return arguments.length?(g==null?o=d=null:d=c(o=g),f):o},f}class yT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function P6(e){return new yT(e,!0)}function M6(e){return new yT(e,!1)}function cf(){}function uf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I6(e){return new bT(e)}function wT(e){this._context=e}wT.prototype={areaStart:cf,areaEnd:cf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L6(e){return new wT(e)}function jT(e){this._context=e}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:uf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U6(e){return new jT(e)}function NT(e){this._context=e}NT.prototype={areaStart:cf,areaEnd:cf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $6(e){return new NT(e)}function oE(e){return e<0?-1:1}function lE(e,t,r){var a=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(a||s<0&&-0),c=(r-e._y1)/(s||a<0&&-0),d=(o*s+c*a)/(a+s);return(oE(o)+oE(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(d))||0}function cE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rx(e,t,r){var a=e._x0,s=e._y0,o=e._x1,c=e._y1,d=(o-a)/3;e._context.bezierCurveTo(a+d,s+d*t,o-d,c-d*r,o,c)}function df(e){this._context=e}df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rx(this,this._t0,cE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rx(this,cE(this,r=lE(this,e,t)),r);break;default:Rx(this,this._t0,r=lE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _T(e){this._context=new ET(e)}(_T.prototype=Object.create(df.prototype)).point=function(e,t){df.prototype.point.call(this,t,e)};function ET(e){this._context=e}ET.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,o){this._context.bezierCurveTo(t,e,a,r,o,s)}};function B6(e){return new df(e)}function z6(e){return new _T(e)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=uE(e),s=uE(t),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uE(e){var t,r=e.length-1,a,s=new Array(r),o=new Array(r),c=new Array(r);for(s[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/o[t-1],o[t]-=a,c[t]-=a*c[t-1];for(s[r-1]=c[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function F6(e){return new ST(e)}function um(e,t){this._context=e,this._t=t}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function q6(e){return new um(e,.5)}function H6(e){return new um(e,0)}function G6(e){return new um(e,1)}function Sl(e,t){if((c=e.length)>1)for(var r=1,a,s,o=e[t[0]],c,d=o.length;r<c;++r)for(s=o,o=e[t[r]],a=0;a<d;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Bv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function V6(e,t){return e[t]}function Y6(e){const t=[];return t.key=e,t}function W6(){var e=Ot([]),t=Bv,r=Sl,a=V6;function s(o){var c=Array.from(e.apply(this,arguments),Y6),d,h=c.length,f=-1,m;for(const g of o)for(d=0,++f;d<h;++d)(c[d][f]=[0,+a(g,c[d].key,f,o)]).data=g;for(d=0,m=Jy(t(c));d<h;++d)c[m[d]].index=d;return r(c,m),c}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(Array.from(o)),s):e},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:Ot(+o),s):a},s.order=function(o){return arguments.length?(t=o==null?Bv:typeof o=="function"?o:Ot(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??Sl,s):r},s}function X6(e,t){if((a=e.length)>0){for(var r,a,s=0,o=e[0].length,c;s<o;++s){for(c=r=0;r<a;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<a;++r)e[r][s][1]/=c}Sl(e,t)}}function K6(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,o=a.length;r<o;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;a[r][1]+=a[r][0]=-d/2}Sl(e,t)}}function J6(e,t){if(!(!((c=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,o,c;a<o;++a){for(var d=0,h=0,f=0;d<c;++d){for(var m=e[t[d]],g=m[a][1]||0,x=m[a-1][1]||0,y=(g-x)/2,N=0;N<d;++N){var _=e[t[N]],w=_[a][1]||0,E=_[a-1][1]||0;y+=w-E}h+=g,f+=y*g}s[a-1][1]+=s[a-1][0]=r,h&&(r-=f/h)}s[a-1][1]+=s[a-1][0]=r,Sl(e,t)}}var Dx={},Px={},dE;function Q6(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Px)),Px}var Mx={},hE;function kT(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Mx)),Mx}var Ix={},fE;function Qy(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;return typeof r=="string"||typeof r=="symbol"?r:Object.is((a=r==null?void 0:r.valueOf)==null?void 0:a.call(r),-0)?"-0":String(r)}e.toKey=t})(Ix)),Ix}var Lx={},Ux={},mE;function Z6(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(Ux)),Ux}var pE;function Zy(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z6(),r=Qy();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],c=s.length;if(c===0)return o;let d=0,h="",f="",m=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<c;){const g=s[d];f?g==="\\"&&d+1<c?(d++,h+=s[d]):g===f?f="":h+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,o.push(h),h=""):h+=g:g==="["?(m=!0,h&&(o.push(h),h="")):g==="."?h&&(o.push(h),h=""):h+=g,d++}return h&&o.push(h),o}e.toPath=a})(Lx)),Lx}var gE;function eb(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q6(),r=kT(),a=Qy(),s=Zy();function o(d,h,f){if(d==null)return f;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return f;const m=d[h];return m===void 0?r.isDeepKey(h)?o(d,s.toPath(h),f):f:m}case"number":case"symbol":{typeof h=="number"&&(h=a.toKey(h));const m=d[h];return m===void 0?f:m}default:{if(Array.isArray(h))return c(d,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return f;const m=d[h];return m===void 0?f:m}}}function c(d,h,f){if(h.length===0)return f;let m=d;for(let g=0;g<h.length;g++){if(m==null||t.isUnsafeProperty(h[g]))return f;m=m[h[g]]}return m===void 0?f:m}e.get=o})(Dx)),Dx}var $x,xE;function e8(){return xE||(xE=1,$x=eb().get),$x}var t8=e8();const dm=on(t8);var La=e=>e===0?0:e>0?1:-1,an=e=>typeof e=="number"&&e!=+e,ss=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ue=e=>(typeof e=="number"||e instanceof Number)&&!an(e),Sn=e=>Ue(e)||typeof e=="string",r8=0,mu=e=>{var t=++r8;return"".concat(e||"").concat(t)},ii=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&typeof t!="string")return a;var o;if(ss(t)){if(r==null)return a;var c=t.indexOf("%");o=r*parseFloat(t.slice(0,c))/100}else o=+t;return an(o)&&(o=a),s&&r!=null&&o>r&&(o=r),o},CT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function yn(e,t,r){return Ue(e)&&Ue(t)?e+r*(t-e):t}function AT(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):dm(a,t))===r)}var yr=e=>e===null||typeof e>"u",tb=e=>yr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function a8(e){return e!=null}function Bl(){}var TT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,rb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{Ky(s)&&(a[s]=(o=>r[s](r,o)))}),a},n8=(e,t,r)=>a=>(e(t,r,a),null),s8=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var o=e[s];Ky(s)&&typeof o=="function"&&(a||(a={}),a[s]=n8(o,t,r))}),a};function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function i8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(a){o8(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function o8(e,t,r){return(t=l8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(e,t){var r=i8({},e),a=t,s=Object.keys(t),o=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),r);return o}var Bx={},zx={},yE;function u8(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let o=0;o<r.length;o++){const c=r[o],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(zx)),zx}var Fx={},bE;function OT(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Fx)),Fx}var qx={},Hx={},Gx={},wE;function d8(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Gx)),Gx}var jE;function ab(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d8();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(Hx)),Hx}var Vx={},NE;function h8(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Vx)),Vx}var _E;function f8(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ab(),r=h8();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(qx)),qx}var Yx={},Wx={},EE;function m8(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eb();function r(a){return function(s){return t.get(s,a)}}e.property=r})(Wx)),Wx}var Xx={},Kx={},Jx={},Qx={},SE;function RT(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Qx)),Qx}var Zx={},kE;function DT(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Zx)),Zx}var e0={},CE;function PT(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(e0)),e0}var AE;function p8(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT(),r=DT(),a=PT();function s(m,g,x){return typeof x!="function"?s(m,g,()=>{}):o(m,g,function y(N,_,w,E,k,S){const T=x(N,_,w,E,k,S);return T!==void 0?!!T:o(N,_,y,S)},new Map)}function o(m,g,x,y){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,x,y);case"function":return Object.keys(g).length>0?o(m,{...g},x,y):a.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:a.eq(m,g)}}function c(m,g,x,y){if(g==null)return!0;if(Array.isArray(g))return h(m,g,x,y);if(g instanceof Map)return d(m,g,x,y);if(g instanceof Set)return f(m,g,x,y);const N=Object.keys(g);if(m==null)return N.length===0;if(N.length===0)return!0;if(y!=null&&y.has(g))return y.get(g)===m;y==null||y.set(g,m);try{for(let _=0;_<N.length;_++){const w=N[_];if(!r.isPrimitive(m)&&!(w in m)||g[w]===void 0&&m[w]!==void 0||g[w]===null&&m[w]!==null||!x(m[w],g[w],w,m,g,y))return!1}return!0}finally{y==null||y.delete(g)}}function d(m,g,x,y){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[N,_]of g.entries()){const w=m.get(N);if(x(w,_,N,m,g,y)===!1)return!1}return!0}function h(m,g,x,y){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const N=new Set;for(let _=0;_<g.length;_++){const w=g[_];let E=!1;for(let k=0;k<m.length;k++){if(N.has(k))continue;const S=m[k];let T=!1;if(x(S,w,_,m,g,y)&&(T=!0),T){N.add(k),E=!0;break}}if(!E)return!1}return!0}function f(m,g,x,y){return g.size===0?!0:m instanceof Set?h([...m],[...g],x,y):!1}e.isMatchWith=s,e.isSetMatch=f})(Jx)),Jx}var TE;function MT(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p8();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(Kx)),Kx}var t0={},r0={},a0={},OE;function g8(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(a0)),a0}var n0={},RE;function IT(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(n0)),n0}var s0={},DE;function LT(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",o="[object Arguments]",c="[object Symbol]",d="[object Date]",h="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",x="[object ArrayBuffer]",y="[object Object]",N="[object Error]",_="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]",T="[object BigUint64Array]",C="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",L="[object BigInt64Array]",z="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=x,e.arrayTag=m,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=_,e.dateTag=d,e.errorTag=N,e.float32ArrayTag=z,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=O,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=h,e.numberTag=a,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=k,e.uint32ArrayTag=S,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=E})(s0)),s0}var i0={},PE;function x8(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(i0)),i0}var ME;function UT(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g8(),r=IT(),a=LT(),s=DT(),o=x8();function c(m,g){return d(m,void 0,m,new Map,g)}function d(m,g,x,y=new Map,N=void 0){const _=N==null?void 0:N(m,g,x,y);if(_!==void 0)return _;if(s.isPrimitive(m))return m;if(y.has(m))return y.get(m);if(Array.isArray(m)){const w=new Array(m.length);y.set(m,w);for(let E=0;E<m.length;E++)w[E]=d(m[E],E,x,y,N);return Object.hasOwn(m,"index")&&(w.index=m.index),Object.hasOwn(m,"input")&&(w.input=m.input),w}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const w=new RegExp(m.source,m.flags);return w.lastIndex=m.lastIndex,w}if(m instanceof Map){const w=new Map;y.set(m,w);for(const[E,k]of m)w.set(E,d(k,E,x,y,N));return w}if(m instanceof Set){const w=new Set;y.set(m,w);for(const E of m)w.add(d(E,void 0,x,y,N));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const w=new(Object.getPrototypeOf(m)).constructor(m.length);y.set(m,w);for(let E=0;E<m.length;E++)w[E]=d(m[E],E,x,y,N);return w}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const w=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return y.set(m,w),h(w,m,x,y,N),w}if(typeof File<"u"&&m instanceof File){const w=new File([m],m.name,{type:m.type});return y.set(m,w),h(w,m,x,y,N),w}if(typeof Blob<"u"&&m instanceof Blob){const w=new Blob([m],{type:m.type});return y.set(m,w),h(w,m,x,y,N),w}if(m instanceof Error){const w=new m.constructor;return y.set(m,w),w.message=m.message,w.name=m.name,w.stack=m.stack,w.cause=m.cause,h(w,m,x,y,N),w}if(m instanceof Boolean){const w=new Boolean(m.valueOf());return y.set(m,w),h(w,m,x,y,N),w}if(m instanceof Number){const w=new Number(m.valueOf());return y.set(m,w),h(w,m,x,y,N),w}if(m instanceof String){const w=new String(m.valueOf());return y.set(m,w),h(w,m,x,y,N),w}if(typeof m=="object"&&f(m)){const w=Object.create(Object.getPrototypeOf(m));return y.set(m,w),h(w,m,x,y,N),w}return m}function h(m,g,x=m,y,N){const _=[...Object.keys(g),...t.getSymbols(g)];for(let w=0;w<_.length;w++){const E=_[w],k=Object.getOwnPropertyDescriptor(m,E);(k==null||k.writable)&&(m[E]=d(g[E],E,x,y,N))}}function f(m){switch(r.getTag(m)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=h})(r0)),r0}var IE;function v8(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(t0)),t0}var LE;function y8(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT(),r=v8();function a(s){return s=r.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=a})(Xx)),Xx}var o0={},l0={},c0={},UE;function b8(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),r=LT();function a(s,o){return t.cloneDeepWith(s,(c,d,h,f)=>{const m=o==null?void 0:o(c,d,h,f);if(m!==void 0)return m;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a})(c0)),c0}var $E;function w8(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b8();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(l0)),l0}var u0={},d0={},BE;function $T(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(d0)),d0}var h0={},zE;function j8(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(h0)),h0}var FE;function N8(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),r=$T(),a=j8(),s=Zy();function o(c,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?h=s.toPath(d):h=[d],h.length===0)return!1;let f=c;for(let m=0;m<h.length;m++){const g=h[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||a.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=o})(u0)),u0}var qE;function _8(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT(),r=Qy(),a=w8(),s=eb(),o=N8();function c(d,h){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return h=a.cloneDeep(h),function(f){const m=s.get(f,d);return m===void 0?o.has(f,d):h===void 0?m===void 0:t.isMatch(m,h)}}e.matchesProperty=c})(o0)),o0}var HE;function E8(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT(),r=m8(),a=y8(),s=_8();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=o})(Yx)),Yx}var GE;function S8(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8(),r=OT(),a=f8(),s=E8();function o(c,d=r.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=o})(Bx)),Bx}var f0,VE;function k8(){return VE||(VE=1,f0=S8().uniqBy),f0}var C8=k8();const YE=on(C8);function A8(e,t,r){return t===!0?YE(e,r):typeof t=="function"?YE(e,t):e}var m0={exports:{}},p0={},g0={exports:{}},x0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function T8(){if(WE)return x0;WE=1;var e=Ml();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(g,x){var y=x(),N=a({inst:{value:y,getSnapshot:x}}),_=N[0].inst,w=N[1];return o(function(){_.value=y,_.getSnapshot=x,h(_)&&w({inst:_})},[g,y,x]),s(function(){return h(_)&&w({inst:_}),g(function(){h(_)&&w({inst:_})})},[g]),c(y),y}function h(g){var x=g.getSnapshot;g=g.value;try{var y=x();return!r(g,y)}catch{return!0}}function f(g,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return x0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,x0}var XE;function O8(){return XE||(XE=1,g0.exports=T8()),g0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function R8(){if(KE)return p0;KE=1;var e=Ml(),t=O8();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,d=e.useMemo,h=e.useDebugValue;return p0.useSyncExternalStoreWithSelector=function(f,m,g,x,y){var N=o(null);if(N.current===null){var _={hasValue:!1,value:null};N.current=_}else _=N.current;N=d(function(){function E(O){if(!k){if(k=!0,S=O,O=x(O),y!==void 0&&_.hasValue){var M=_.value;if(y(M,O))return T=M}return T=O}if(M=T,a(S,O))return M;var L=x(O);return y!==void 0&&y(M,L)?(S=O,M):(S=O,T=L)}var k=!1,S,T,C=g===void 0?null:g;return[function(){return E(m())},C===null?void 0:function(){return E(C())}]},[m,g,x,y]);var w=s(f,N[0],N[1]);return c(function(){_.hasValue=!0,_.value=w},[w]),h(w),w},p0}var JE;function D8(){return JE||(JE=1,m0.exports=R8()),m0.exports}var P8=D8(),nb=v.createContext(null),M8=e=>e,or=()=>{var e=v.useContext(nb);return e?e.store.dispatch:M8},Yh=()=>{},I8=()=>Yh,L8=(e,t)=>e===t;function Be(e){var t=v.useContext(nb);return P8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I8,t?t.store.getState:Yh,t?t.store.getState:Yh,t?e:Yh,L8)}function U8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function B8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var QE=e=>Array.isArray(e)?e:[e];function z8(e){const t=Array.isArray(e[0])?e[0]:e;return B8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function F8(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var q8=class{constructor(e){this.value=e}deref(){return this.value}},H8=typeof WeakRef<"u"?WeakRef:q8,G8=0,ZE=1;function jh(){return{s:G8,v:void 0,o:null,p:null}}function BT(e,t={}){let r=jh();const{resultEqualityCheck:a}=t;let s,o=0;function c(){var g;let d=r;const{length:h}=arguments;for(let x=0,y=h;x<y;x++){const N=arguments[x];if(typeof N=="function"||typeof N=="object"&&N!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const w=_.get(N);w===void 0?(d=jh(),_.set(N,d)):d=w}else{let _=d.p;_===null&&(d.p=_=new Map);const w=_.get(N);w===void 0?(d=jh(),_.set(N,d)):d=w}}const f=d;let m;if(d.s===ZE)m=d.v;else if(m=e.apply(null,arguments),o++,a){const x=((g=s==null?void 0:s.deref)==null?void 0:g.call(s))??s;x!=null&&a(x,m)&&(m=x,o!==0&&o--),s=typeof m=="object"&&m!==null||typeof m=="function"?new H8(m):m}return f.s=ZE,f.v=m,m}return c.clearCache=()=>{r=jh(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function V8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let o=0,c=0,d,h={},f=s.pop();typeof f=="object"&&(h=f,f=s.pop()),U8(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...h},{memoize:g,memoizeOptions:x=[],argsMemoize:y=BT,argsMemoizeOptions:N=[]}=m,_=QE(x),w=QE(N),E=z8(s),k=g(function(){return o++,f.apply(null,arguments)},..._),S=y(function(){c++;const C=F8(E,arguments);return d=k.apply(null,C),d},...w);return Object.assign(S,{resultFunc:f,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var ue=V8(BT),Y8=Object.assign((e,t=ue)=>{$8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(o=>e[o]);return t(a,(...o)=>o.reduce((c,d,h)=>(c[r[h]]=d,c),{}))},{withTypes:()=>Y8}),v0={},y0={},b0={},eS;function W8(){return eS||(eS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,o)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return o==="desc"?1:-1;if(a>s)return o==="desc"?-1:1}return o==="desc"?d-c:c-d}return 0};e.compareValues=r})(b0)),b0}var w0={},j0={},tS;function zT(){return tS||(tS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(j0)),j0}var rS;function X8(){return rS||(rS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!r.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=s})(w0)),w0}var aS;function K8(){return aS||(aS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W8(),r=X8(),a=Zy();function s(o,c,d,h){if(o==null)return[];d=h?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const f=(y,N)=>{let _=y;for(let w=0;w<N.length&&_!=null;++w)_=_[N[w]];return _},m=(y,N)=>N==null||y==null?N:typeof y=="object"&&"key"in y?Object.hasOwn(N,y.key)?N[y.key]:f(N,y.path):typeof y=="function"?y(N):Array.isArray(y)?f(N,y):typeof N=="object"?N[y]:N,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:a.toPath(y)}));return o.map(y=>({original:y,criteria:g.map(N=>m(N,y))})).slice().sort((y,N)=>{for(let _=0;_<g.length;_++){const w=t.compareValues(y.criteria[_],N.criteria[_],d[_]);if(w!==0)return w}return 0}).map(y=>y.original)}e.orderBy=s})(y0)),y0}var N0={},nS;function J8(){return nS||(nS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],o=Math.floor(a),c=(d,h)=>{for(let f=0;f<d.length;f++){const m=d[f];Array.isArray(m)&&h<o?c(m,h+1):s.push(m)}};return c(r,0),s}e.flatten=t})(N0)),N0}var _0={},sS;function FT(){return sS||(sS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T(),r=ab(),a=RT(),s=PT();function o(c,d,h){return a.isObject(h)&&(typeof d=="number"&&r.isArrayLike(h)&&t.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?s.eq(h[d],c):!1}e.isIterateeCall=o})(_0)),_0}var iS;function Q8(){return iS||(iS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K8(),r=J8(),a=FT();function s(o,...c){const d=c.length;return d>1&&a.isIterateeCall(o,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,r.flatten(c),["asc"])}e.sortBy=s})(v0)),v0}var E0,oS;function Z8(){return oS||(oS=1,E0=Q8().sortBy),E0}var e$=Z8();const hm=on(e$);var qT=e=>e.legend.settings,t$=e=>e.legend.size,r$=e=>e.legend.payload;ue([r$,qT],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?hm(a,r):a});var Nh=1;function a$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),a=v.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>Nh||Math.abs(c.left-t.left)>Nh||Math.abs(c.top-t.top)>Nh||Math.abs(c.width-t.width)>Nh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var n$=typeof Symbol=="function"&&Symbol.observable||"@@observable",lS=n$,S0=()=>Math.random().toString(36).substring(7).split("").join("."),s$={INIT:`@@redux/INIT${S0()}`,REPLACE:`@@redux/REPLACE${S0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${S0()}`},hf=s$;function sb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HT(e,t,r){if(typeof e!="function")throw new Error(xr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(xr(1));return r(HT)(e,t)}let a=e,s=t,o=new Map,c=o,d=0,h=!1;function f(){c===o&&(c=new Map,o.forEach((w,E)=>{c.set(E,w)}))}function m(){if(h)throw new Error(xr(3));return s}function g(w){if(typeof w!="function")throw new Error(xr(4));if(h)throw new Error(xr(5));let E=!0;f();const k=d++;return c.set(k,w),function(){if(E){if(h)throw new Error(xr(6));E=!1,f(),c.delete(k),o=null}}}function x(w){if(!sb(w))throw new Error(xr(7));if(typeof w.type>"u")throw new Error(xr(8));if(typeof w.type!="string")throw new Error(xr(17));if(h)throw new Error(xr(9));try{h=!0,s=a(s,w)}finally{h=!1}return(o=c).forEach(k=>{k()}),w}function y(w){if(typeof w!="function")throw new Error(xr(10));a=w,x({type:hf.REPLACE})}function N(){const w=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(xr(11));function k(){const T=E;T.next&&T.next(m())}return k(),{unsubscribe:w(k)}},[lS](){return this}}}return x({type:hf.INIT}),{dispatch:x,subscribe:g,getState:m,replaceReducer:y,[lS]:N}}function i$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hf.INIT})>"u")throw new Error(xr(12));if(typeof r(void 0,{type:hf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xr(13))})}function GT(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let s;try{i$(r)}catch(o){s=o}return function(c={},d){if(s)throw s;let h=!1;const f={};for(let m=0;m<a.length;m++){const g=a[m],x=r[g],y=c[g],N=x(y,d);if(typeof N>"u")throw d&&d.type,new Error(xr(14));f[g]=N,h=h||N!==y}return h=h||a.length!==Object.keys(c).length,h?f:c}}function ff(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function o$(...e){return t=>(r,a)=>{const s=t(r,a);let o=()=>{throw new Error(xr(15))};const c={getState:s.getState,dispatch:(h,...f)=>o(h,...f)},d=e.map(h=>h(c));return o=ff(...d)(s.dispatch),{...s,dispatch:o}}}function VT(e){return sb(e)&&"type"in e&&typeof e.type=="string"}var YT=Symbol.for("immer-nothing"),cS=Symbol.for("immer-draftable"),wa=Symbol.for("immer-state");function Za(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pu=Object.getPrototypeOf;function ro(e){return!!e&&!!e[wa]}function is(e){var t;return e?WT(e)||Array.isArray(e)||!!e[cS]||!!((t=e.constructor)!=null&&t[cS])||Ru(e)||mm(e):!1}var l$=Object.prototype.constructor.toString(),uS=new WeakMap;function WT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=uS.get(r);return a===void 0&&(a=Function.toString.call(r),uS.set(r,a)),a===l$}function mf(e,t,r=!0){fm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function fm(e){const t=e[wa];return t?t.type_:Array.isArray(e)?1:Ru(e)?2:mm(e)?3:0}function zv(e,t){return fm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XT(e,t,r){const a=fm(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function c$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ru(e){return e instanceof Map}function mm(e){return e instanceof Set}function Fi(e){return e.copy_||e.base_}function Fv(e,t){if(Ru(e))return new Map(e);if(mm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WT(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[wa];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const c=s[o],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(pu(e),a)}else{const a=pu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function ib(e,t=!1){return pm(e)||ro(e)||!is(e)||(fm(e)>1&&Object.defineProperties(e,{set:_h,add:_h,clear:_h,delete:_h}),Object.freeze(e),t&&Object.values(e).forEach(r=>ib(r,!0))),e}function u$(){Za(2)}var _h={value:u$};function pm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var d$={};function ao(e){const t=d$[e];return t||Za(0,e),t}var gu;function KT(){return gu}function h$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dS(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qv(e){Hv(e),e.drafts_.forEach(f$),e.drafts_=null}function Hv(e){e===gu&&(gu=e.parent_)}function hS(e){return gu=h$(gu,e)}function f$(e){const t=e[wa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[wa].modified_&&(qv(t),Za(4)),is(e)&&(e=pf(t,e),t.parent_||gf(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(r[wa].base_,e,t.patches_,t.inversePatches_)):e=pf(t,r,[]),qv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==YT?e:void 0}function pf(e,t,r){if(pm(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[wa];if(!s)return mf(t,(o,c)=>mS(e,s,t,o,c,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return gf(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let c=o,d=!1;s.type_===3&&(c=new Set(o),o.clear(),d=!0),mf(c,(h,f)=>mS(e,s,o,h,f,r,d),a),gf(e,o,!1),r&&e.patches_&&ao("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function mS(e,t,r,a,s,o,c){if(s==null||typeof s!="object"&&!c)return;const d=pm(s);if(!(d&&!c)){if(ro(s)){const h=o&&t&&t.type_!==3&&!zv(t.assigned_,a)?o.concat(a):void 0,f=pf(e,s,h);if(XT(r,a,f),ro(f))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(is(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;pf(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Ru(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&gf(e,s)}}}function gf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ib(t,r)}function m$(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:KT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,o=ob;r&&(s=[a],o=xu);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return a.draft_=d,a.revoke_=c,d}var ob={get(e,t){if(t===wa)return e;const r=Fi(e);if(!zv(r,t))return p$(e,r,t);const a=r[t];return e.finalized_||!is(a)?a:a===k0(e.base_,t)?(C0(e),e.copy_[t]=Vv(a,e)):a},has(e,t){return t in Fi(e)},ownKeys(e){return Reflect.ownKeys(Fi(e))},set(e,t,r){const a=JT(Fi(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=k0(Fi(e),t),o=s==null?void 0:s[wa];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(c$(r,s)&&(r!==void 0||zv(e.base_,t)))return!0;C0(e),Gv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return k0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,C0(e),Gv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fi(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Za(11)},getPrototypeOf(e){return pu(e.base_)},setPrototypeOf(){Za(12)}},xu={};mf(ob,(e,t)=>{xu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xu.deleteProperty=function(e,t){return xu.set.call(this,e,t,void 0)};xu.set=function(e,t,r){return ob.set.call(this,e[0],t,r,e[0])};function k0(e,t){const r=e[wa];return(r?Fi(r):e)[t]}function p$(e,t,r){var s;const a=JT(t,r);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function JT(e,t){if(!(t in e))return;let r=pu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=pu(r)}}function Gv(e){e.modified_||(e.modified_=!0,e.parent_&&Gv(e.parent_))}function C0(e){e.copy_||(e.copy_=Fv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var g$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const c=this;return function(h=o,...f){return c.produce(h,m=>r.call(this,m,...f))}}typeof r!="function"&&Za(6),a!==void 0&&typeof a!="function"&&Za(7);let s;if(is(t)){const o=hS(this),c=Vv(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?qv(o):Hv(o)}return dS(o,a),fS(s,o)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===YT&&(s=void 0),this.autoFreeze_&&ib(s,!0),a){const o=[],c=[];ao("Patches").generateReplacementPatches_(t,s,o,c),a(o,c)}return s}else Za(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,h=>t(h,...d));let a,s;return[this.produce(t,r,(c,d)=>{a=c,s=d}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){is(e)||Za(8),ro(e)&&(e=ts(e));const t=hS(this),r=Vv(e,void 0);return r[wa].isManual_=!0,Hv(t),r}finishDraft(e,t){const r=e&&e[wa];(!r||!r.isManual_)&&Za(9);const{scope_:a}=r;return dS(a,t),fS(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=ao("Patches").applyPatches_;return ro(e)?a(e,t):this.produce(e,s=>a(s,t))}};function Vv(e,t){const r=Ru(e)?ao("MapSet").proxyMap_(e,t):mm(e)?ao("MapSet").proxySet_(e,t):m$(e,t);return(t?t.scope_:KT()).drafts_.push(r),r}function ts(e){return ro(e)||Za(10,e),QT(e)}function QT(e){if(!is(e)||pm(e))return e;const t=e[wa];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Fv(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Fv(e,!0);return mf(r,(s,o)=>{XT(r,s,QT(o))},a),t&&(t.finalized_=!1),r}var Yv=new g$,ZT=Yv.produce,x$=Yv.setUseStrictIteration.bind(Yv);function eO(e){return({dispatch:r,getState:a})=>s=>o=>typeof o=="function"?o(r,a,e):s(o)}var v$=eO(),y$=eO,b$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ff:ff.apply(null,arguments)};function za(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(ya(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>VT(a)&&a.type===e,r}var tO=class su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,su.prototype)}static get[Symbol.species](){return su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new su(...t[0].concat(this)):new su(...t.concat(this))}};function pS(e){return is(e)?ZT(e,()=>{}):e}function Eh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function w$(e){return typeof e=="boolean"}var j$=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let c=new tO;return r&&(w$(r)?c.push(v$):c.push(y$(r.extraArgument))),c},rO="RTK_autoBatch",Kt=()=>e=>({payload:e,meta:{[rO]:!0}}),gS=e=>t=>{setTimeout(t,e)},aO=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,o=!1,c=!1;const d=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gS(10):e.type==="callback"?e.queueNotification:gS(e.timeout),f=()=>{c=!1,o&&(o=!1,d.forEach(m=>m()))};return Object.assign({},a,{subscribe(m){const g=()=>s&&m(),x=a.subscribe(g);return d.add(m),()=>{x(),d.delete(m)}},dispatch(m){var g;try{return s=!((g=m==null?void 0:m.meta)!=null&&g[rO]),o=!s,o&&(c||(c=!0,h(f))),a.dispatch(m)}finally{s=!0}}})},N$=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new tO(e);return a&&s.push(aO(typeof a=="object"?a:void 0)),s};function _$(e){const t=j$(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(sb(r))d=GT(r);else throw new Error(ya(1));let h;typeof a=="function"?h=a(t):h=t();let f=ff;s&&(f=b$({trace:!1,...typeof s=="object"&&s}));const m=o$(...h),g=N$(m);let x=typeof c=="function"?c(g):g();const y=f(...x);return HT(d,o,y)}function nO(e){const t={},r=[];let a;const s={addCase(o,c){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(ya(28));if(d in t)throw new Error(ya(29));return t[d]=c,s},addAsyncThunk(o,c){return c.pending&&(t[o.pending.type]=c.pending),c.rejected&&(t[o.rejected.type]=c.rejected),c.fulfilled&&(t[o.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:o.settled,reducer:c.settled}),s},addMatcher(o,c){return r.push({matcher:o,reducer:c}),s},addDefaultCase(o){return a=o,s}};return e(s),[t,r,a]}x$(!1);function E$(e){return typeof e=="function"}function S$(e,t){let[r,a,s]=nO(t),o;if(E$(e))o=()=>pS(e());else{const d=pS(e);o=()=>d}function c(d=o(),h){let f=[r[h.type],...a.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[s]),f.reduce((m,g)=>{if(g)if(ro(m)){const y=g(m,h);return y===void 0?m:y}else{if(is(m))return ZT(m,x=>g(x,h));{const x=g(m,h);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},d)}return c.getInitialState=o,c}var k$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",C$=(e=21)=>{let t="",r=e;for(;r--;)t+=k$[Math.random()*64|0];return t},A$=Symbol.for("rtk-slice-createasyncthunk");function T$(e,t){return`${e}/${t}`}function O$({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[A$];return function(s){const{name:o,reducerPath:c=o}=s;if(!o)throw new Error(ya(11));const d=(typeof s.reducers=="function"?s.reducers(D$()):s.reducers)||{},h=Object.keys(d),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,C){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(ya(12));if(O in f.sliceCaseReducersByType)throw new Error(ya(13));return f.sliceCaseReducersByType[O]=C,m},addMatcher(T,C){return f.sliceMatchers.push({matcher:T,reducer:C}),m},exposeAction(T,C){return f.actionCreators[T]=C,m},exposeCaseReducer(T,C){return f.sliceCaseReducersByName[T]=C,m}};h.forEach(T=>{const C=d[T],O={reducerName:T,type:T$(o,T),createNotation:typeof s.reducers=="function"};M$(C)?L$(O,C,m,t):P$(O,C,m)});function g(){const[T={},C=[],O=void 0]=typeof s.extraReducers=="function"?nO(s.extraReducers):[s.extraReducers],M={...T,...f.sliceCaseReducersByType};return S$(s.initialState,L=>{for(let z in M)L.addCase(z,M[z]);for(let z of f.sliceMatchers)L.addMatcher(z.matcher,z.reducer);for(let z of C)L.addMatcher(z.matcher,z.reducer);O&&L.addDefaultCase(O)})}const x=T=>T,y=new Map,N=new WeakMap;let _;function w(T,C){return _||(_=g()),_(T,C)}function E(){return _||(_=g()),_.getInitialState()}function k(T,C=!1){function O(L){let z=L[T];return typeof z>"u"&&C&&(z=Eh(N,O,E)),z}function M(L=x){const z=Eh(y,C,()=>new WeakMap);return Eh(z,L,()=>{const G={};for(const[F,se]of Object.entries(s.selectors??{}))G[F]=R$(se,L,()=>Eh(N,L,E),C);return G})}return{reducerPath:T,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const S={name:o,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...k(c),injectInto(T,{reducerPath:C,...O}={}){const M=C??c;return T.inject({reducerPath:M,reducer:w},O),{...S,...k(M,!0)}}};return S}}function R$(e,t,r,a){function s(o,...c){let d=t(o);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var ra=O$();function D$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function P$({type:e,reducerName:t,createNotation:r},a,s){let o,c;if("reducer"in a){if(r&&!I$(a))throw new Error(ya(17));o=a.reducer,c=a.prepare}else o=a;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?za(e,c):za(e))}function M$(e){return e._reducerDefinitionType==="asyncThunk"}function I$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L$({type:e,reducerName:t},r,a,s){if(!s)throw new Error(ya(18));const{payloadCreator:o,fulfilled:c,pending:d,rejected:h,settled:f,options:m}=r,g=s(e,o,m);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),d&&a.addCase(g.pending,d),h&&a.addCase(g.rejected,h),f&&a.addMatcher(g.settled,f),a.exposeCaseReducer(t,{fulfilled:c||Sh,pending:d||Sh,rejected:h||Sh,settled:f||Sh})}function Sh(){}var U$="task",sO="listener",iO="completed",lb="cancelled",$$=`task-${lb}`,B$=`task-${iO}`,Wv=`${sO}-${lb}`,z$=`${sO}-${iO}`,gm=class{constructor(e){px(this,"name","TaskAbortError");px(this,"message");this.code=e,this.message=`${U$} ${lb} (reason: ${e})`}},cb=(e,t)=>{if(typeof e!="function")throw new TypeError(ya(32))},xf=()=>{},oO=(e,t=xf)=>(e.catch(t),e),lO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ji=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qi=e=>{if(e.aborted){const{reason:t}=e;throw new gm(t)}};function cO(e,t){let r=xf;return new Promise((a,s)=>{const o=()=>s(new gm(e.reason));if(e.aborted){o();return}r=lO(e,o),t.finally(()=>r()).then(a,s)}).finally(()=>{r=xf})}var F$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof gm?"cancelled":"rejected",error:r}}finally{t==null||t()}},vf=e=>t=>oO(cO(e,t).then(r=>(Qi(e),r))),uO=e=>{const t=vf(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:vl}=Object,xS={},xm="listenerMiddleware",q$=(e,t)=>{const r=a=>lO(e,()=>Ji(a,e.reason));return(a,s)=>{cb(a);const o=new AbortController;r(o);const c=F$(async()=>{Qi(e),Qi(o.signal);const d=await a({pause:vf(o.signal),delay:uO(o.signal),signal:o.signal});return Qi(o.signal),d},()=>Ji(o,B$));return s!=null&&s.autoJoin&&t.push(c.catch(xf)),{result:vf(e)(c),cancel(){Ji(o,$$)}}}},H$=(e,t)=>{const r=async(a,s)=>{Qi(t);let o=()=>{};const d=[new Promise((h,f)=>{let m=e({predicate:a,effect:(g,x)=>{x.unsubscribe(),h([g,x.getState(),x.getOriginalState()])}});o=()=>{m(),f()}})];s!=null&&d.push(new Promise(h=>setTimeout(h,s,null)));try{const h=await cO(t,Promise.race(d));return Qi(t),h}finally{o()}};return(a,s)=>oO(r(a,s))},dO=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:o}=e;if(t)s=za(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(ya(21));return cb(o),{predicate:s,type:t,effect:o}},hO=vl(e=>{const{type:t,predicate:r,effect:a}=dO(e);return{id:C$(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ya(22))}}},{withTypes:()=>hO}),vS=(e,t)=>{const{type:r,effect:a,predicate:s}=dO(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===s)&&o.effect===a)},Xv=e=>{e.pending.forEach(t=>{Ji(t,Wv)})},G$=(e,t)=>()=>{for(const r of t.keys())Xv(r);e.clear()},yS=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},fO=vl(za(`${xm}/add`),{withTypes:()=>fO}),V$=za(`${xm}/removeAll`),mO=vl(za(`${xm}/remove`),{withTypes:()=>mO}),Y$=(...e)=>{console.error(`${xm}/error`,...e)},Du=(e={})=>{const t=new Map,r=new Map,a=y=>{const N=r.get(y)??0;r.set(y,N+1)},s=y=>{const N=r.get(y)??1;N===1?r.delete(y):r.set(y,N-1)},{extra:o,onError:c=Y$}=e;cb(c);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),N=>{y.unsubscribe(),N!=null&&N.cancelActive&&Xv(y)}),h=y=>{const N=vS(t,y)??hO(y);return d(N)};vl(h,{withTypes:()=>h});const f=y=>{const N=vS(t,y);return N&&(N.unsubscribe(),y.cancelActive&&Xv(N)),!!N};vl(f,{withTypes:()=>f});const m=async(y,N,_,w)=>{const E=new AbortController,k=H$(h,E.signal),S=[];try{y.pending.add(E),a(y),await Promise.resolve(y.effect(N,vl({},_,{getOriginalState:w,condition:(T,C)=>k(T,C).then(Boolean),take:k,delay:uO(E.signal),pause:vf(E.signal),extra:o,signal:E.signal,fork:q$(E.signal,S),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((T,C,O)=>{T!==E&&(Ji(T,Wv),O.delete(T))})},cancel:()=>{Ji(E,Wv),y.pending.delete(E)},throwIfCancelled:()=>{Qi(E.signal)}})))}catch(T){T instanceof gm||yS(c,T,{raisedBy:"effect"})}finally{await Promise.all(S),Ji(E,z$),s(y),y.pending.delete(E)}},g=G$(t,r);return{middleware:y=>N=>_=>{if(!VT(_))return N(_);if(fO.match(_))return h(_.payload);if(V$.match(_)){g();return}if(mO.match(_))return f(_.payload);let w=y.getState();const E=()=>{if(w===xS)throw new Error(ya(23));return w};let k;try{if(k=N(_),t.size>0){const S=y.getState(),T=Array.from(t.values());for(const C of T){let O=!1;try{O=C.predicate(_,S,w)}catch(M){O=!1,yS(c,M,{raisedBy:"predicate"})}O&&m(C,_,y,E)}}}finally{w=xS}return k},startListening:h,stopListening:f,clearListeners:g}};function ya(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var W$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pO=ra({name:"chartLayout",initialState:W$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X$,setLayout:K$,setChartSize:J$,setScale:Q$}=pO.actions,Z$=pO.reducer;function gO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(a){eB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return yr(e)||yr(t)?r:Sn(t)?dm(e,t,r):typeof t=="function"?t(e):r}var aB=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:o,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&o!=="center"&&Ue(e[o]))return hl(hl({},e),{},{[o]:e[o]+(a||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&c!=="middle"&&Ue(e[c]))return hl(hl({},e),{},{[c]:e[c]+(s||0)})}return e},ms=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xO=(e,t,r,a)=>{if(a)return e.map(d=>d.coordinate);var s,o,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(o=!0),d.coordinate));return s||c.push(t),o||c.push(r),c},vO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:o,scale:c,realScaleType:d,isCategorical:h,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:x,axisType:y}=e;if(!c)return null;var N=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=s==="category"&&c.bandwidth?c.bandwidth()/N:0;if(_=y==="angleAxis"&&o&&o.length>=2?La(o[0]-o[1])*2*_:_,g||x){var w=(g||x||[]).map((E,k)=>{var S=a?a.indexOf(E):E;return{coordinate:c(S)+_,value:E,offset:_,index:k}});return w.filter(E=>!an(E.coordinate))}return h&&f?f.map((E,k)=>({coordinate:c(E)+_,value:E,index:k,offset:_})):c.ticks&&m!=null?c.ticks(m).map((E,k)=>({coordinate:c(E)+_,value:E,offset:_,index:k})):c.domain().map((E,k)=>({coordinate:c(E)+_,value:a?a[E]:E,index:k,offset:_}))},wS=1e-4,nB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-wS,o=Math.max(a[0],a[1])+wS,c=e(t[0]),d=e(t[r-1]);(c<s||c>o||d<s||d>o)&&e.domain([t[0],t[r-1]])}},sB=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,o=0,c=0;c<t;++c){var d=an(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1]):(e[c][r][0]=o,e[c][r][1]=o+d,o=e[c][r][1])}},iB=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var s=0,o=0;o<t;++o){var c=an(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},oB={sign:sB,expand:X6,none:Sl,silhouette:K6,wiggle:J6,positive:iB},lB=(e,t,r)=>{var a=oB[r],s=W6().keys(t).value((o,c)=>Number(Lr(o,c,0))).order(Bv).offset(a);return s(e)};function cB(e){return e==null?void 0:String(e)}function jS(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:o,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yr(s[t.dataKey])){var d=AT(r,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return r[o]?r[o].coordinate+a/2:null}var h=Lr(s,yr(c)?t.dataKey:c);return yr(h)?null:t.scale(h)}var uB=e=>{var t=e.flat(2).filter(Ue);return[Math.min(...t),Math.max(...t)]},dB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hB=(e,t,r)=>{if(e!=null)return dB(Object.keys(e).reduce((a,s)=>{var o=e[s],{stackedData:c}=o,d=c.reduce((h,f)=>{var m=gO(f,t,r),g=uB(m);return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},NS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_S=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=hm(t,m=>m.coordinate),o=1/0,c=1,d=s.length;c<d;c++){var h=s[c],f=s[c-1];o=Math.min((h.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function ES(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:o}=e;return hl(hl({},t),{},{dataKey:r,payload:a,value:s,name:o})}function yO(e,t){if(e)return String(e);if(typeof t=="string")return t}var fB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mB=(e,t)=>t==="centric"?e.angle:e.radius,ps=e=>e.layout.width,gs=e=>e.layout.height,pB=e=>e.layout.scale,bO=e=>e.layout.margin,vm=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ym=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gB="data-recharts-item-index",xB="data-recharts-item-data-key",Pu=60;function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(a){vB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vB(e,t,r){return(t=yB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wB=e=>e.brush.height;function jB(e){var t=ym(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:Pu;return r+s}return r},0)}function NB(e){var t=ym(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:Pu;return r+s}return r},0)}function _B(e){var t=vm(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function EB(e){var t=vm(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var jr=ue([ps,gs,bO,wB,jB,NB,_B,EB,qT,t$],(e,t,r,a,s,o,c,d,h,f)=>{var m={left:(r.left||0)+s,right:(r.right||0)+o},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},x=kh(kh({},g),m),y=x.bottom;x.bottom+=a,x=aB(x,h,f);var N=e-x.left-x.right,_=t-x.top-x.bottom;return kh(kh({brushBottom:y},x),{},{width:Math.max(N,0),height:Math.max(_,0)})}),SB=ue(jr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),wO=ue(ps,gs,(e,t)=>({x:0,y:0,width:e,height:t})),kB=v.createContext(null),aa=()=>v.useContext(kB)!=null,bm=e=>e.brush,wm=ue([bm,jr,bO],(e,t,r)=>({height:e.height,x:Ue(e.x)?e.x:t.left,y:Ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ue(e.width)?e.width:t.width})),A0={},T0={},O0={},kS;function CB(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:o}={}){let c,d=null;const h=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),m=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{f&&m(),_()};let x=null;const y=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},a)},N=()=>{x!==null&&(clearTimeout(x),x=null)},_=()=>{N(),c=void 0,d=null},w=()=>{m()},E=function(...k){if(s!=null&&s.aborted)return;c=this,d=k;const S=x==null;y(),h&&S&&m()};return E.schedule=y,E.cancel=_,E.flush=w,s==null||s.addEventListener("abort",_,{once:!0}),E}e.debounce=t})(O0)),O0}var CS;function AB(){return CS||(CS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CB();function r(a,s=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:d=!0,maxWait:h}=o,f=Array(2);c&&(f[0]="leading"),d&&(f[1]="trailing");let m,g=null;const x=t.debounce(function(..._){m=a.apply(this,_),g=null},s,{edges:f}),y=function(..._){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(m=a.apply(this,_),g=Date.now(),x.cancel(),x.schedule(),m):(x.apply(this,_),m)},N=()=>(x.flush(),m);return y.cancel=x.cancel,y.flush=N,y}e.debounce=r})(T0)),T0}var AS;function TB(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AB();function r(a,s=0,o={}){const{leading:c=!0,trailing:d=!0}=o;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(A0)),A0}var R0,TS;function OB(){return TS||(TS=1,R0=TB().throttle),R0}var RB=OB();const DB=on(RB);var bf=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o]},jO=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:o,maxHeight:c}=r,d=ss(a)?e:Number(a),h=ss(s)?t:Number(s);return o&&o>0&&(d?h=d/o:h&&(d=h*o),c&&h!=null&&h>c&&(h=c)),{calculatedWidth:d,calculatedHeight:h}},PB={width:0,height:0,overflow:"visible"},MB={width:0,overflowX:"visible"},IB={height:0,overflowY:"visible"},LB={},UB=e=>{var{width:t,height:r}=e,a=ss(t),s=ss(r);return a&&s?PB:a?MB:s?IB:LB};function $B(e){var{width:t,height:r,aspect:a}=e,s=t,o=r;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=a&&a>0?void 0:"100%":o===void 0&&(o=a&&a>0?void 0:"100%"),{width:s,height:o}}function Rt(e){return Number.isFinite(e)}function kn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kv.apply(null,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(a){BB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BB(e,t,r){return(t=zB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=FB(e,"string");return typeof t=="symbol"?t:t+""}function FB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NO=v.createContext({width:-1,height:-1});function qB(e){return kn(e.width)&&kn(e.height)}function _O(e){var{children:t,width:r,height:a}=e,s=v.useMemo(()=>({width:r,height:a}),[r,a]);return qB(s)?v.createElement(NO.Provider,{value:s},t):null}var ub=()=>v.useContext(NO),HB=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:o,minWidth:c=0,minHeight:d,maxHeight:h,children:f,debounce:m=0,id:g,className:x,onResize:y,style:N={}}=e,_=v.useRef(null),w=v.useRef();w.current=y,v.useImperativeHandle(t,()=>_.current);var[E,k]=v.useState({containerWidth:a.width,containerHeight:a.height}),S=v.useCallback((L,z)=>{k(G=>{var F=Math.round(L),se=Math.round(z);return G.containerWidth===F&&G.containerHeight===se?G:{containerWidth:F,containerHeight:se}})},[]);v.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Bl;var L=se=>{var J,{width:xe,height:be}=se[0].contentRect;S(xe,be),(J=w.current)===null||J===void 0||J.call(w,xe,be)};m>0&&(L=DB(L,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),{width:G,height:F}=_.current.getBoundingClientRect();return S(G,F),z.observe(_.current),()=>{z.disconnect()}},[S,m]);var{containerWidth:T,containerHeight:C}=E;bf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:M}=jO(T,C,{width:s,height:o,aspect:r,maxHeight:h});return bf(O!=null&&O>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,M,s,o,c,d,r),v.createElement("div",{id:g?"".concat(g):void 0,className:Nt("recharts-responsive-container",x),style:RS(RS({},N),{},{width:s,height:o,minWidth:c,minHeight:d,maxHeight:h}),ref:_},v.createElement("div",{style:UB({width:s,height:o})},v.createElement(_O,{width:O,height:M},f)))}),GB=v.forwardRef((e,t)=>{var r=ub();if(kn(r.width)&&kn(r.height))return e.children;var{width:a,height:s}=$B({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:c}=jO(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Ue(o)&&Ue(c)?v.createElement(_O,{width:o,height:c},e.children):v.createElement(HB,Kv({},e,{width:a,height:s,ref:t}))});function EO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var jm=()=>{var e,t=aa(),r=Be(SB),a=Be(wm),s=(e=Be(bm))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},VB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},SO=()=>{var e;return(e=Be(jr))!==null&&e!==void 0?e:VB},kO=()=>Be(ps),CO=()=>Be(gs),yt=e=>e.layout.layoutType,Nm=()=>Be(yt),YB=()=>{var e=Nm();return e!==void 0},_m=e=>{var t=or(),r=aa(),{width:a,height:s}=e,o=ub(),c=a,d=s;return o&&(c=o.width>0?o.width:a,d=o.height>0?o.height:s),v.useEffect(()=>{!r&&kn(c)&&kn(d)&&t(J$({width:c,height:d}))},[t,r,c,d]),null},WB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AO=ra({name:"legend",initialState:WB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Kt()},removeLegendPayload:{reducer(e,t){var r=ts(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Kt()}}}),{setLegendSize:sne,setLegendSettings:ine,addLegendPayload:XB,removeLegendPayload:KB}=AO.actions,JB=AO.reducer;function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jv.apply(null,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(a){QB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=ez(e,"string");return typeof t=="symbol"?t:t+""}function ez(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tz(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var rz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:o,formatter:c,itemSorter:d,wrapperClassName:h,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:x=!1}=e,y=()=>{if(o&&o.length){var C={padding:0,margin:0},O=(d?hm(o,d):o).map((M,L)=>{if(M.type==="none")return null;var z=M.formatter||c||tz,{value:G,name:F}=M,se=G,J=F;if(z){var xe=z(G,F,M,L,o);if(Array.isArray(xe))[se,J]=xe;else if(xe!=null)se=xe;else return null}var be=D0({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},a);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:be},Sn(J)?v.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Sn(J)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},se),v.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},O)}return null},N=D0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=D0({margin:0},s),w=!yr(m),E=w?m:"",k=Nt("recharts-default-tooltip",h),S=Nt("recharts-tooltip-label",f);w&&g&&o!==void 0&&o!==null&&(E=g(m,o));var T=x?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Jv({className:k,style:N},T),v.createElement("p",{className:S,style:_},v.isValidElement(E)?E:"".concat(E)),y())},Vc="recharts-tooltip-wrapper",az={visibility:"hidden"};function nz(e){var{coordinate:t,translateX:r,translateY:a}=e;return Nt(Vc,{["".concat(Vc,"-right")]:Ue(r)&&t&&Ue(t.x)&&r>=t.x,["".concat(Vc,"-left")]:Ue(r)&&t&&Ue(t.x)&&r<t.x,["".concat(Vc,"-bottom")]:Ue(a)&&t&&Ue(t.y)&&a>=t.y,["".concat(Vc,"-top")]:Ue(a)&&t&&Ue(t.y)&&a<t.y})}function PS(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:o,reverseDirection:c,tooltipDimension:d,viewBox:h,viewBoxDimension:f}=e;if(o&&Ue(o[a]))return o[a];var m=r[a]-d-(s>0?s:0),g=r[a]+s;if(t[a])return c[a]?m:g;var x=h[a];if(x==null)return 0;if(c[a]){var y=m,N=x;return y<N?Math.max(g,x):Math.max(m,x)}if(f==null)return 0;var _=g+d,w=x+f;return _>w?Math.max(m,x):Math.max(g,x)}function sz(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:h}=e,f,m,g;return c.height>0&&c.width>0&&r?(m=PS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),g=PS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=sz({translateX:m,translateY:g,useTranslate3d:d})):f=az,{cssProperties:f,cssClasses:nz({translateX:m,translateY:g,coordinate:r})}}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(a){Qv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qv(e,t,r){return(t=oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=lz(e,"string");return typeof t=="symbol"?t:t+""}function lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cz extends v.PureComponent{constructor(){super(...arguments),Qv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:o,coordinate:c,hasPayload:d,isAnimationActive:h,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:y,wrapperStyle:N,lastBoundingBox:_,innerRef:w,hasPortalFromProps:E}=this.props,{cssClasses:k,cssProperties:S}=iz({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:x,viewBox:y}),T=E?{}:Ch(Ch({transition:h&&t?"transform ".concat(a,"ms ").concat(s):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),C=Ch(Ch({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},N);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:C,ref:w},o)}}var uz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zl={devToolsEnabled:!1,isSsr:uz()},TO=()=>{var e;return(e=Be(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zv.apply(null,arguments)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(a){dz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var US={curveBasisClosed:L6,curveBasisOpen:U6,curveBasis:I6,curveBumpX:P6,curveBumpY:M6,curveLinearClosed:$6,curveLinear:cm,curveMonotoneX:B6,curveMonotoneY:z6,curveNatural:F6,curveStep:q6,curveStepAfter:G6,curveStepBefore:H6},wf=e=>Rt(e.x)&&Rt(e.y),$S=e=>e.base!=null&&wf(e.base)&&wf(e),Yc=e=>e.x,Wc=e=>e.y,mz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(tb(e));return(r==="curveMonotone"||r==="curveBump")&&t?US["".concat(r).concat(t==="vertical"?"Y":"X")]:US[r]||cm},pz=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:o=!1}=e,c=mz(t,s),d=o?r.filter(wf):r,h;if(Array.isArray(a)){var f=r.map((y,N)=>LS(LS({},y),{},{base:a[N]}));s==="vertical"?h=wh().y(Wc).x1(Yc).x0(y=>y.base.x):h=wh().x(Yc).y1(Wc).y0(y=>y.base.y);var m=h.defined($S).curve(c),g=o?f.filter($S):f;return m(g)}s==="vertical"&&Ue(a)?h=wh().y(Wc).x1(Yc).x0(a):Ue(a)?h=wh().x(Yc).y1(Wc).y0(a):h=vT().x(Yc).y(Wc);var x=h.defined(wf).curve(c);return x(d)},Wh=e=>{var{className:t,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var o=r&&r.length?pz(e):a;return v.createElement("path",Zv({},rn(e),rb(e),{className:Nt("recharts-curve",t),d:o===null?void 0:o,ref:s}))},gz=["x","y","top","left","width","height","className"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ey.apply(null,arguments)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(a){vz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wz(e,t){if(e==null)return{};var r,a,s=jz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jz(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Nz=(e,t,r,a,s,o)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(r),_z=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:o=0,height:c=0,className:d}=e,h=wz(e,gz),f=xz({x:t,y:r,top:a,left:s,width:o,height:c},h);return!Ue(t)||!Ue(r)||!Ue(o)||!Ue(c)||!Ue(a)||!Ue(s)?null:v.createElement("path",ey({},Ba(f),{className:Nt("recharts-cross",d),d:Nz(t,r,o,c,a,s)}))};function Ez(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(a){Sz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sz(e,t,r){return(t=kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Az=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Tz=(e,t,r)=>e.map(a=>"".concat(Az(a)," ").concat(t,"ms ").concat(r)).join(","),Oz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),vu=(e,t)=>Object.keys(t).reduce((r,a)=>FS(FS({},r),{},{[a]:e(a,t[a])}),{});function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(a){Rz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rz(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=(e,t,r)=>e+(t-e)*r,ty=e=>{var{from:t,to:r}=e;return t!==r},OO=(e,t,r)=>{var a=vu((s,o)=>{if(ty(o)){var[c,d]=e(o.from,o.to,o.velocity);return Xt(Xt({},o),{},{from:c,velocity:d})}return o},t);return r<1?vu((s,o)=>ty(o)?Xt(Xt({},o),{},{velocity:jf(o.velocity,a[s].velocity,r),from:jf(o.from,a[s].from,r)}):o,t):OO(e,a,r-1)};function Mz(e,t,r,a,s,o){var c,d=a.reduce((x,y)=>Xt(Xt({},x),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),h=()=>vu((x,y)=>y.from,d),f=()=>!Object.values(d).filter(ty).length,m=null,g=x=>{c||(c=x);var y=x-c,N=y/r.dt;d=OO(r,d,N),s(Xt(Xt(Xt({},e),t),h())),c=x,f()||(m=o.setTimeout(g))};return()=>(m=o.setTimeout(g),()=>{var x;(x=m)===null||x===void 0||x()})}function Iz(e,t,r,a,s,o,c){var d=null,h=s.reduce((g,x)=>Xt(Xt({},g),{},{[x]:[e[x],t[x]]}),{}),f,m=g=>{f||(f=g);var x=(g-f)/a,y=vu((_,w)=>jf(...w,r(x)),h);if(o(Xt(Xt(Xt({},e),t),y)),x<1)d=c.setTimeout(m);else{var N=vu((_,w)=>jf(...w,r(1)),h);o(Xt(Xt(Xt({},e),t),N))}};return()=>(d=c.setTimeout(m),()=>{var g;(g=d)===null||g===void 0||g()})}const Lz=(e,t,r,a,s,o)=>{var c=Oz(e,t);return r==null?()=>(s(Xt(Xt({},e),t)),()=>{}):r.isStepper===!0?Mz(e,t,r,c,s,o):Iz(e,t,r,a,c,s,o)};var Nf=1e-4,RO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DO=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),HS=(e,t)=>r=>{var a=RO(e,t);return DO(a,r)},Uz=(e,t)=>r=>{var a=RO(e,t),s=[...a.map((o,c)=>o*c).slice(1),0];return DO(s,r)},$z=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,o=r[0].split("(");if(o[0]==="cubic-bezier"&&((s=o[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=o[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},Bz=(e,t,r,a)=>{var s=HS(e,r),o=HS(t,a),c=Uz(e,r),d=f=>f>1?1:f<0?0:f,h=f=>{for(var m=f>1?1:f,g=m,x=0;x<8;++x){var y=s(g)-m,N=c(g);if(Math.abs(y-m)<Nf||N<Nf)return o(g);g=d(g-y/N)}return o(g)};return h.isStepper=!1,h},GS=function(){return Bz(...$z(...arguments))},zz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,o=(c,d,h)=>{var f=-(c-d)*r,m=h*a,g=h+(f-m)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<Nf&&Math.abs(g)<Nf?[d,0]:[x,g]};return o.isStepper=!0,o.dt=s,o},Fz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GS(e);case"spring":return zz();default:if(e.split("(")[0]==="cubic-bezier")return GS(e)}return typeof e=="function"?e:null};function qz(e){var t,r=()=>null,a=!1,s=null,o=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[h,...f]=d;if(typeof h=="number"){s=e.setTimeout(o.bind(null,f),h);return}o(h),s=e.setTimeout(o.bind(null,f));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),o(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class Hz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,o=c=>{c-a>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{s!=null&&cancelAnimationFrame(s)}}}function Gz(){return qz(new Hz)}var Vz=v.createContext(Gz);function Yz(e,t){var r=v.useContext(Vz);return v.useMemo(()=>t??r(e),[e,t,r])}var Wz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VS={t:0},P0={t:1};function PO(e){var t=Na(e,Wz),{isActive:r,canBegin:a,duration:s,easing:o,begin:c,onAnimationEnd:d,onAnimationStart:h,children:f}=t,m=Yz(t.animationId,t.animationManager),[g,x]=v.useState(r?VS:P0),y=v.useRef(null);return v.useEffect(()=>{r||x(P0)},[r]),v.useEffect(()=>{if(!r||!a)return Bl;var N=Lz(VS,P0,Fz(o),s,x,m.getTimeoutController()),_=()=>{y.current=N()};return m.start([h,c,_,s,d]),()=>{m.stop(),y.current&&y.current(),d()}},[r,a,s,o,c,h,d,m]),f(g.t)}function MO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(mu(t)),a=v.useRef(e);return a.current!==e&&(r.current=mu(t),a.current=e),r.current}var Xz=["radius"],Kz=["radius"];function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(a){Jz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Zz(e,"string");return typeof t=="symbol"?t:t+""}function Zz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_f.apply(null,arguments)}function XS(e,t){if(e==null)return{};var r,a,s=e9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function e9(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var KS=(e,t,r,a,s)=>{var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),c=a>=0?1:-1,d=r>=0?1:-1,h=a>=0&&r>=0||a<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,x=4;g<x;g++)m[g]=s[g]>o?o:s[g];f="M".concat(e,",").concat(t+c*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(t)),f+="L ".concat(e+r-d*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(t+c*m[1])),f+="L ".concat(e+r,",").concat(t+a-c*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+r-d*m[2],",").concat(t+a)),f+="L ".concat(e+d*m[3],",").concat(t+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+a-c*m[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);f="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+r-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e+r,",").concat(t+c*y,`
            L `).concat(e+r,",").concat(t+a-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e+r-d*y,",").concat(t+a,`
            L `).concat(e+d*y,",").concat(t+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e,",").concat(t+a-c*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return f},JS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t9=e=>{var t=Na(e,JS),r=v.useRef(null),[a,s]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&s(X)}catch{}},[]);var{x:o,y:c,width:d,height:h,radius:f,className:m}=t,{animationEasing:g,animationDuration:x,animationBegin:y,isAnimationActive:N,isUpdateAnimationActive:_}=t,w=v.useRef(d),E=v.useRef(h),k=v.useRef(o),S=v.useRef(c),T=v.useMemo(()=>({x:o,y:c,width:d,height:h,radius:f}),[o,c,d,h,f]),C=MO(T,"rectangle-");if(o!==+o||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var O=Nt("recharts-rectangle",m);if(!_){var M=Ba(t),{radius:L}=M,z=XS(M,Xz);return v.createElement("path",_f({},z,{radius:typeof f=="number"?f:void 0,className:O,d:KS(o,c,d,h,f)}))}var G=w.current,F=E.current,se=k.current,J=S.current,xe="0px ".concat(a===-1?1:a,"px"),be="".concat(a,"px 0px"),P=Tz(["strokeDasharray"],x,typeof g=="string"?g:JS.animationEasing);return v.createElement(PO,{animationId:C,key:C,canBegin:a>0,duration:x,easing:g,isActive:_,begin:y},X=>{var K=yn(G,d,X),he=yn(F,h,X),V=yn(se,o,X),R=yn(J,c,X);r.current&&(w.current=K,E.current=he,k.current=V,S.current=R);var H;N?X>0?H={transition:P,strokeDasharray:be}:H={strokeDasharray:xe}:H={strokeDasharray:be};var ee=Ba(t),{radius:de}=ee,je=XS(ee,Kz);return v.createElement("path",_f({},je,{radius:typeof f=="number"?f:void 0,className:O,d:KS(V,R,K,he,f),ref:r,style:WS(WS({},H),t.style)}))})};function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(a){r9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function r9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ef=Math.PI/180,s9=e=>e*180/Math.PI,vr=(e,t,r,a)=>({x:e+Math.cos(-Ef*a)*r,y:t+Math.sin(-Ef*a)*r}),i9=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},o9=(e,t)=>{var{x:r,y:a}=e,{x:s,y:o}=t;return Math.sqrt((r-s)**2+(a-o)**2)},l9=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:o}=t,c=o9({x:r,y:a},{x:s,y:o});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,h=Math.acos(d);return a>o&&(h=2*Math.PI-h),{radius:c,angle:s9(h),angleInRadian:h}},c9=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(a,s);return{startAngle:t-o*360,endAngle:r-o*360}},u9=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),o=Math.floor(a/360),c=Math.min(s,o);return e+c*360},d9=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:o}=l9({x:r,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:h,endAngle:f}=c9(t),m=o,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?ZS(ZS({},t),{},{radius:s,angle:u9(m,t)}):null};function IO(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:o}=e,c=vr(t,r,a,s),d=vr(t,r,a,o);return{points:[c,d],cx:t,cy:r,radius:a,startAngle:s,endAngle:o}}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ry.apply(null,arguments)}var h9=(e,t)=>{var r=La(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Ah=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:o,isExternal:c,cornerRadius:d,cornerIsExternal:h}=e,f=d*(c?1:-1)+a,m=Math.asin(d/f)/Ef,g=h?s:s+o*m,x=vr(t,r,f,g),y=vr(t,r,a,g),N=h?s-o*m:s,_=vr(t,r,f*Math.cos(m*Ef),N);return{center:x,circleTangency:y,lineTangency:_,theta:m}},LO=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,d=h9(o,c),h=o+d,f=vr(t,r,s,o),m=vr(t,r,s,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var x=vr(t,r,a,o),y=vr(t,r,a,h);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},f9=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}=e,m=La(f-h),{circleTangency:g,lineTangency:x,theta:y}=Ah({cx:t,cy:r,radius:s,angle:h,sign:m,cornerRadius:o,cornerIsExternal:d}),{circleTangency:N,lineTangency:_,theta:w}=Ah({cx:t,cy:r,radius:s,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:d}),E=d?Math.abs(h-f):Math.abs(h-f)-y-w;if(E<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LO({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:f});var k="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var{circleTangency:S,lineTangency:T,theta:C}=Ah({cx:t,cy:r,radius:a,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:O,lineTangency:M,theta:L}=Ah({cx:t,cy:r,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),z=d?Math.abs(h-f):Math.abs(h-f)-C-L;if(z<0&&o===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(m>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},m9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p9=e=>{var t=Na(e,m9),{cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:m,className:g}=t;if(o<s||f===m)return null;var x=Nt("recharts-sector",g),y=o-s,N=ii(c,y,0,!0),_;return N>0&&Math.abs(f-m)<360?_=f9({cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(N,y/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:m}):_=LO({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:f,endAngle:m}),v.createElement("path",ry({},Ba(t),{className:x,d:_}))};function g9(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(TT(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:o,outerRadius:c,angle:d}=t,h=vr(a,s,o,d),f=vr(a,s,c,d);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return IO(t)}}var M0={},I0={},L0={},e2;function x9(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(L0)),L0}var t2;function v9(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(I0)),I0}var r2;function y9(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT(),r=v9();function a(s,o,c){c&&typeof c!="number"&&t.isIterateeCall(s,o,c)&&(o=c=void 0),s=r.toFinite(s),o===void 0?(o=s,s=0):o=r.toFinite(o),c=c===void 0?s<o?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((o-s)/(c||1)),0),h=new Array(d);for(let f=0;f<d;f++)h[f]=s,s+=c;return h}e.range=a})(M0)),M0}var U0,a2;function b9(){return a2||(a2=1,U0=y9().range),U0}var w9=b9();const UO=on(w9);function ai(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function db(e){let t,r,a;e.length!==2?(t=ai,r=(d,h)=>ai(e(d),h),a=(d,h)=>e(d)-h):(t=e===ai||e===j9?e:N9,r=e,a=e);function s(d,h,f=0,m=d.length){if(f<m){if(t(h,h)!==0)return m;do{const g=f+m>>>1;r(d[g],h)<0?f=g+1:m=g}while(f<m)}return f}function o(d,h,f=0,m=d.length){if(f<m){if(t(h,h)!==0)return m;do{const g=f+m>>>1;r(d[g],h)<=0?f=g+1:m=g}while(f<m)}return f}function c(d,h,f=0,m=d.length){const g=s(d,h,f,m-1);return g>f&&a(d[g-1],h)>-a(d[g],h)?g-1:g}return{left:s,center:c,right:o}}function N9(){return 0}function $O(e){return e===null?NaN:+e}function*_9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const E9=db(ai),Mu=E9.right;db($O).center;class n2 extends Map{constructor(t,r=C9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(s2(this,t))}has(t){return super.has(s2(this,t))}set(t,r){return super.set(S9(this,t),r)}delete(t){return super.delete(k9(this,t))}}function s2({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function S9({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function k9({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function C9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A9(e=ai){if(e===ai)return BO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function BO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const T9=Math.sqrt(50),O9=Math.sqrt(10),R9=Math.sqrt(2);function Sf(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),c=o>=T9?10:o>=O9?5:o>=R9?2:1;let d,h,f;return s<0?(f=Math.pow(10,-s)/c,d=Math.round(e*f),h=Math.round(t*f),d/f<e&&++d,h/f>t&&--h,f=-f):(f=Math.pow(10,s)*c,d=Math.round(e/f),h=Math.round(t/f),d*f<e&&++d,h*f>t&&--h),h<d&&.5<=r&&r<2?Sf(e,t,r*2):[d,h,f]}function ay(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,o,c]=a?Sf(t,e,r):Sf(e,t,r);if(!(o>=s))return[];const d=o-s+1,h=new Array(d);if(a)if(c<0)for(let f=0;f<d;++f)h[f]=(o-f)/-c;else for(let f=0;f<d;++f)h[f]=(o-f)*c;else if(c<0)for(let f=0;f<d;++f)h[f]=(s+f)/-c;else for(let f=0;f<d;++f)h[f]=(s+f)*c;return h}function ny(e,t,r){return t=+t,e=+e,r=+r,Sf(e,t,r)[2]}function sy(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?ny(t,e,r):ny(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function i2(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function o2(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function zO(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?BO:A9(s);a>r;){if(a-r>600){const h=a-r+1,f=t-r+1,m=Math.log(h),g=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*g*(h-g)/h)*(f-h/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/h+x)),N=Math.min(a,Math.floor(t+(h-f)*g/h+x));zO(e,t,y,N,s)}const o=e[t];let c=r,d=a;for(Xc(e,r,t),s(e[a],o)>0&&Xc(e,r,a);c<d;){for(Xc(e,c,d),++c,--d;s(e[c],o)<0;)++c;for(;s(e[d],o)>0;)--d}s(e[r],o)===0?Xc(e,r,d):(++d,Xc(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function Xc(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function D9(e,t,r){if(e=Float64Array.from(_9(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return o2(e);if(t>=1)return i2(e);var a,s=(a-1)*t,o=Math.floor(s),c=i2(zO(e,o).subarray(0,o+1)),d=o2(e.subarray(o+1));return c+(d-c)*(s-o)}}function P9(e,t,r=$O){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,o=Math.floor(s),c=+r(e[o],o,e),d=+r(e[o+1],o+1,e);return c+(d-c)*(s-o)}}function M9(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++a<s;)o[a]=e+a*r;return o}function Ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iy=Symbol("implicit");function hb(){var e=new n2,t=[],r=[],a=iy;function s(o){let c=e.get(o);if(c===void 0){if(a!==iy)return a;e.set(o,c=t.push(o)-1)}return r[c%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new n2;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return hb(t,r).unknown(a)},Ha.apply(s,arguments),s}function fb(){var e=hb().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,o,c,d=!1,h=0,f=0,m=.5;delete e.unknown;function g(){var x=t().length,y=s<a,N=y?s:a,_=y?a:s;o=(_-N)/Math.max(1,x-h+f*2),d&&(o=Math.floor(o)),N+=(_-N-o*(x-h))*m,c=o*(1-h),d&&(N=Math.round(N),c=Math.round(c));var w=M9(x).map(function(E){return N+o*E});return r(y?w.reverse():w)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(x){return arguments.length?(d=!!x,g()):d},e.padding=function(x){return arguments.length?(h=Math.min(1,f=+x),g()):h},e.paddingInner=function(x){return arguments.length?(h=Math.min(1,x),g()):h},e.paddingOuter=function(x){return arguments.length?(f=+x,g()):f},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),g()):m},e.copy=function(){return fb(t(),[a,s]).round(d).paddingInner(h).paddingOuter(f).align(m)},Ha.apply(g(),arguments)}function FO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FO(t())},e}function I9(){return FO(fb.apply(null,arguments).paddingInner(1))}function mb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qO(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Iu(){}var yu=.7,kf=1/yu,yl="\\s*([+-]?\\d+)\\s*",bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L9=/^#([0-9a-f]{3,8})$/,U9=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),$9=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),B9=new RegExp(`^rgba\\(${yl},${yl},${yl},${bu}\\)$`),z9=new RegExp(`^rgba\\(${_n},${_n},${_n},${bu}\\)$`),F9=new RegExp(`^hsl\\(${bu},${_n},${_n}\\)$`),q9=new RegExp(`^hsla\\(${bu},${_n},${_n},${bu}\\)$`),l2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(Iu,wu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c2,formatHex:c2,formatHex8:H9,formatHsl:G9,formatRgb:u2,toString:u2});function c2(){return this.rgb().formatHex()}function H9(){return this.rgb().formatHex8()}function G9(){return HO(this).formatHsl()}function u2(){return this.rgb().formatRgb()}function wu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=L9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d2(t):r===3?new Qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Th(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Th(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=U9.exec(e))?new Qr(t[1],t[2],t[3],1):(t=$9.exec(e))?new Qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=B9.exec(e))?Th(t[1],t[2],t[3],t[4]):(t=z9.exec(e))?Th(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=F9.exec(e))?m2(t[1],t[2]/100,t[3]/100,1):(t=q9.exec(e))?m2(t[1],t[2]/100,t[3]/100,t[4]):l2.hasOwnProperty(e)?d2(l2[e]):e==="transparent"?new Qr(NaN,NaN,NaN,0):null}function d2(e){return new Qr(e>>16&255,e>>8&255,e&255,1)}function Th(e,t,r,a){return a<=0&&(e=t=r=NaN),new Qr(e,t,r,a)}function V9(e){return e instanceof Iu||(e=wu(e)),e?(e=e.rgb(),new Qr(e.r,e.g,e.b,e.opacity)):new Qr}function oy(e,t,r,a){return arguments.length===1?V9(e):new Qr(e,t,r,a??1)}function Qr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}mb(Qr,oy,qO(Iu,{brighter(e){return e=e==null?kf:Math.pow(kf,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yu:Math.pow(yu,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qr(Zi(this.r),Zi(this.g),Zi(this.b),Cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h2,formatHex:h2,formatHex8:Y9,formatRgb:f2,toString:f2}));function h2(){return`#${Wi(this.r)}${Wi(this.g)}${Wi(this.b)}`}function Y9(){return`#${Wi(this.r)}${Wi(this.g)}${Wi(this.b)}${Wi((isNaN(this.opacity)?1:this.opacity)*255)}`}function f2(){const e=Cf(this.opacity);return`${e===1?"rgb(":"rgba("}${Zi(this.r)}, ${Zi(this.g)}, ${Zi(this.b)}${e===1?")":`, ${e})`}`}function Cf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wi(e){return e=Zi(e),(e<16?"0":"")+e.toString(16)}function m2(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,a)}function HO(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof Iu||(e=wu(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),o=Math.max(t,r,a),c=NaN,d=o-s,h=(o+s)/2;return d?(t===o?c=(r-a)/d+(r<a)*6:r===o?c=(a-t)/d+2:c=(t-r)/d+4,d/=h<.5?o+s:2-o-s,c*=60):d=h>0&&h<1?0:c,new en(c,d,h,e.opacity)}function W9(e,t,r,a){return arguments.length===1?HO(e):new en(e,t,r,a??1)}function en(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}mb(en,W9,qO(Iu,{brighter(e){return e=e==null?kf:Math.pow(kf,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yu:Math.pow(yu,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Qr($0(e>=240?e-240:e+120,s,a),$0(e,s,a),$0(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new en(p2(this.h),Oh(this.s),Oh(this.l),Cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cf(this.opacity);return`${e===1?"hsl(":"hsla("}${p2(this.h)}, ${Oh(this.s)*100}%, ${Oh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p2(e){return e=(e||0)%360,e<0?e+360:e}function Oh(e){return Math.max(0,Math.min(1,e||0))}function $0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pb=e=>()=>e;function X9(e,t){return function(r){return e+r*t}}function K9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function J9(e){return(e=+e)==1?GO:function(t,r){return r-t?K9(t,r,e):pb(isNaN(t)?r:t)}}function GO(e,t){var r=t-e;return r?X9(e,r):pb(isNaN(e)?t:e)}const g2=(function e(t){var r=J9(t);function a(s,o){var c=r((s=oy(s)).r,(o=oy(o)).r),d=r(s.g,o.g),h=r(s.b,o.b),f=GO(s.opacity,o.opacity);return function(m){return s.r=c(m),s.g=d(m),s.b=h(m),s.opacity=f(m),s+""}}return a.gamma=e,a})(1);function Q9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(o){for(s=0;s<r;++s)a[s]=e[s]*(1-o)+t[s]*o;return a}}function Z9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eF(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),o=new Array(r),c;for(c=0;c<a;++c)s[c]=Fl(e[c],t[c]);for(;c<r;++c)o[c]=t[c];return function(d){for(c=0;c<a;++c)o[c]=s[c](d);return o}}function tF(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Af(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rF(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Fl(e[s],t[s]):a[s]=t[s];return function(o){for(s in r)a[s]=r[s](o);return a}}var ly=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B0=new RegExp(ly.source,"g");function aF(e){return function(){return e}}function nF(e){return function(t){return e(t)+""}}function sF(e,t){var r=ly.lastIndex=B0.lastIndex=0,a,s,o,c=-1,d=[],h=[];for(e=e+"",t=t+"";(a=ly.exec(e))&&(s=B0.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),d[c]?d[c]+=o:d[++c]=o),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,h.push({i:c,x:Af(a,s)})),r=B0.lastIndex;return r<t.length&&(o=t.slice(r),d[c]?d[c]+=o:d[++c]=o),d.length<2?h[0]?nF(h[0].x):aF(t):(t=h.length,function(f){for(var m=0,g;m<t;++m)d[(g=h[m]).i]=g.x(f);return d.join("")})}function Fl(e,t){var r=typeof t,a;return t==null||r==="boolean"?pb(t):(r==="number"?Af:r==="string"?(a=wu(t))?(t=a,g2):sF:t instanceof wu?g2:t instanceof Date?tF:Z9(t)?Q9:Array.isArray(t)?eF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rF:Af)(e,t)}function gb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iF(e,t){t===void 0&&(t=e,e=Fl);for(var r=0,a=t.length-1,s=t[0],o=new Array(a<0?0:a);r<a;)o[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return o[d](c-d)}}function oF(e){return function(){return e}}function Tf(e){return+e}var x2=[0,1];function Pr(e){return e}function cy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:oF(isNaN(t)?NaN:.5)}function lF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function cF(e,t,r){var a=e[0],s=e[1],o=t[0],c=t[1];return s<a?(a=cy(s,a),o=r(c,o)):(a=cy(a,s),o=r(o,c)),function(d){return o(a(d))}}function uF(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=cy(e[c],e[c+1]),o[c]=r(t[c],t[c+1]);return function(d){var h=Mu(e,d,1,a)-1;return o[h](s[h](d))}}function Lu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Em(){var e=x2,t=x2,r=Fl,a,s,o,c=Pr,d,h,f;function m(){var x=Math.min(e.length,t.length);return c!==Pr&&(c=lF(e[0],e[x-1])),d=x>2?uF:cF,h=f=null,g}function g(x){return x==null||isNaN(x=+x)?o:(h||(h=d(e.map(a),t,r)))(a(c(x)))}return g.invert=function(x){return c(s((f||(f=d(t,e.map(a),Af)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,Tf),m()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),r=gb,m()},g.clamp=function(x){return arguments.length?(c=x?!0:Pr,m()):c!==Pr},g.interpolate=function(x){return arguments.length?(r=x,m()):r},g.unknown=function(x){return arguments.length?(o=x,g):o},function(x,y){return a=x,s=y,m()}}function xb(){return Em()(Pr,Pr)}function dF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function kl(e){return e=Of(Math.abs(e)),e?e[1]:NaN}function hF(e,t){return function(r,a){for(var s=r.length,o=[],c=0,d=e[0],h=0;s>0&&d>0&&(h+d+1>a&&(d=Math.max(1,a-h)),o.push(r.substring(s-=d,s+d)),!((h+=d+1)>a));)d=e[c=(c+1)%e.length];return o.reverse().join(t)}}function fF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ju(e){if(!(t=mF.exec(e)))throw new Error("invalid format: "+e);var t;return new vb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ju.prototype=vb.prototype;function vb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pF(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var VO;function gF(e,t){var r=Of(e,t);if(!r)return e+"";var a=r[0],s=r[1],o=s-(VO=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Of(e,Math.max(0,t+o-1))[0]}function v2(e,t){var r=Of(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const y2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v2(e*100,t),r:v2,s:gF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b2(e){return e}var w2=Array.prototype.map,j2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xF(e){var t=e.grouping===void 0||e.thousands===void 0?b2:hF(w2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?b2:fF(w2.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function f(g){g=ju(g);var x=g.fill,y=g.align,N=g.sign,_=g.symbol,w=g.zero,E=g.width,k=g.comma,S=g.precision,T=g.trim,C=g.type;C==="n"?(k=!0,C="g"):y2[C]||(S===void 0&&(S=12),T=!0,C="g"),(w||x==="0"&&y==="=")&&(w=!0,x="0",y="=");var O=_==="$"?r:_==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",M=_==="$"?a:/[%p]/.test(C)?c:"",L=y2[C],z=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function G(F){var se=O,J=M,xe,be,P;if(C==="c")J=L(F)+J,F="";else{F=+F;var X=F<0||1/F<0;if(F=isNaN(F)?h:L(Math.abs(F),S),T&&(F=pF(F)),X&&+F==0&&N!=="+"&&(X=!1),se=(X?N==="("?N:d:N==="-"||N==="("?"":N)+se,J=(C==="s"?j2[8+VO/3]:"")+J+(X&&N==="("?")":""),z){for(xe=-1,be=F.length;++xe<be;)if(P=F.charCodeAt(xe),48>P||P>57){J=(P===46?s+F.slice(xe+1):F.slice(xe))+J,F=F.slice(0,xe);break}}}k&&!w&&(F=t(F,1/0));var K=se.length+F.length+J.length,he=K<E?new Array(E-K+1).join(x):"";switch(k&&w&&(F=t(he+F,he.length?E-J.length:1/0),he=""),y){case"<":F=se+F+J+he;break;case"=":F=se+he+F+J;break;case"^":F=he.slice(0,K=he.length>>1)+se+F+J+he.slice(K);break;default:F=he+se+F+J;break}return o(F)}return G.toString=function(){return g+""},G}function m(g,x){var y=f((g=ju(g),g.type="f",g)),N=Math.max(-8,Math.min(8,Math.floor(kl(x)/3)))*3,_=Math.pow(10,-N),w=j2[8+N/3];return function(E){return y(_*E)+w}}return{format:f,formatPrefix:m}}var Rh,yb,YO;vF({thousands:",",grouping:[3],currency:["$",""]});function vF(e){return Rh=xF(e),yb=Rh.format,YO=Rh.formatPrefix,Rh}function yF(e){return Math.max(0,-kl(Math.abs(e)))}function bF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kl(t)/3)))*3-kl(Math.abs(e)))}function wF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kl(t)-kl(e))+1}function WO(e,t,r,a){var s=sy(e,t,r),o;switch(a=ju(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=bF(s,c))&&(a.precision=o),YO(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=wF(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=yF(s))&&(a.precision=o-(a.type==="%")*2);break}}return yb(a)}function hi(e){var t=e.domain;return e.ticks=function(r){var a=t();return ay(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return WO(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,o=a.length-1,c=a[s],d=a[o],h,f,m=10;for(d<c&&(f=c,c=d,d=f,f=s,s=o,o=f);m-- >0;){if(f=ny(c,d,r),f===h)return a[s]=c,a[o]=d,t(a);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;h=f}return e},e}function XO(){var e=xb();return e.copy=function(){return Lu(e,XO())},Ha.apply(e,arguments),hi(e)}function KO(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Tf),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return KO(e).unknown(t)},e=arguments.length?Array.from(e,Tf):[0,1],hi(r)}function JO(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],o=e[a],c;return o<s&&(c=r,r=a,a=c,c=s,s=o,o=c),e[r]=t.floor(s),e[a]=t.ceil(o),e}function N2(e){return Math.log(e)}function _2(e){return Math.exp(e)}function jF(e){return-Math.log(-e)}function NF(e){return-Math.exp(-e)}function _F(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EF(e){return e===10?_F:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function E2(e){return(t,r)=>-e(-t,r)}function bb(e){const t=e(N2,_2),r=t.domain;let a=10,s,o;function c(){return s=SF(a),o=EF(a),r()[0]<0?(s=E2(s),o=E2(o),e(jF,NF)):e(N2,_2),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const h=r();let f=h[0],m=h[h.length-1];const g=m<f;g&&([f,m]=[m,f]);let x=s(f),y=s(m),N,_;const w=d==null?10:+d;let E=[];if(!(a%1)&&y-x<w){if(x=Math.floor(x),y=Math.ceil(y),f>0){for(;x<=y;++x)for(N=1;N<a;++N)if(_=x<0?N/o(-x):N*o(x),!(_<f)){if(_>m)break;E.push(_)}}else for(;x<=y;++x)for(N=a-1;N>=1;--N)if(_=x>0?N/o(-x):N*o(x),!(_<f)){if(_>m)break;E.push(_)}E.length*2<w&&(E=ay(f,m,w))}else E=ay(x,y,Math.min(y-x,w)).map(o);return g?E.reverse():E},t.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=a===10?"s":","),typeof h!="function"&&(!(a%1)&&(h=ju(h)).precision==null&&(h.trim=!0),h=yb(h)),d===1/0)return h;const f=Math.max(1,a*d/t.ticks().length);return m=>{let g=m/o(Math.round(s(m)));return g*a<a-.5&&(g*=a),g<=f?h(m):""}},t.nice=()=>r(JO(r(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function QO(){const e=bb(Em()).domain([1,10]);return e.copy=()=>Lu(e,QO()).base(e.base()),Ha.apply(e,arguments),e}function S2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function k2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wb(e){var t=1,r=e(S2(t),k2(t));return r.constant=function(a){return arguments.length?e(S2(t=+a),k2(t)):t},hi(r)}function ZO(){var e=wb(Em());return e.copy=function(){return Lu(e,ZO()).constant(e.constant())},Ha.apply(e,arguments)}function C2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CF(e){return e<0?-e*e:e*e}function jb(e){var t=e(Pr,Pr),r=1;function a(){return r===1?e(Pr,Pr):r===.5?e(kF,CF):e(C2(r),C2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},hi(t)}function Nb(){var e=jb(Em());return e.copy=function(){return Lu(e,Nb()).exponent(e.exponent())},Ha.apply(e,arguments),e}function AF(){return Nb.apply(null,arguments).exponent(.5)}function A2(e){return Math.sign(e)*e*e}function TF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function e5(){var e=xb(),t=[0,1],r=!1,a;function s(o){var c=TF(e(o));return isNaN(c)?a:r?Math.round(c):c}return s.invert=function(o){return e.invert(A2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Tf)).map(A2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return e5(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Ha.apply(s,arguments),hi(s)}function t5(){var e=[],t=[],r=[],a;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=P9(e,c/d);return o}function o(c){return c==null||isNaN(c=+c)?a:t[Mu(r,c)]}return o.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ai),s()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.quantiles=function(){return r.slice()},o.copy=function(){return t5().domain(e).range(t).unknown(a)},Ha.apply(o,arguments)}function r5(){var e=0,t=1,r=1,a=[.5],s=[0,1],o;function c(h){return h!=null&&h<=h?s[Mu(a,h,0,r)]:o}function d(){var h=-1;for(a=new Array(r);++h<r;)a[h]=((h+1)*t-(h-r)*e)/(r+1);return c}return c.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,d()):[e,t]},c.range=function(h){return arguments.length?(r=(s=Array.from(h)).length-1,d()):s.slice()},c.invertExtent=function(h){var f=s.indexOf(h);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},c.unknown=function(h){return arguments.length&&(o=h),c},c.thresholds=function(){return a.slice()},c.copy=function(){return r5().domain([e,t]).range(s).unknown(o)},Ha.apply(hi(c),arguments)}function a5(){var e=[.5],t=[0,1],r,a=1;function s(o){return o!=null&&o<=o?t[Mu(e,o,0,a)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return a5().domain(e).range(t).unknown(r)},Ha.apply(s,arguments)}const z0=new Date,F0=new Date;function Jt(e,t,r,a){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const c=s(o),d=s.ceil(o);return o-c<d-o?c:d},s.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,d)=>{const h=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<c)||!(d>0))return h;let f;do h.push(f=new Date(+o)),t(o,d),e(o);while(f<o&&o<c);return h},s.filter=o=>Jt(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!o(c););else for(;--d>=0;)for(;t(c,1),!o(c););}),r&&(s.count=(o,c)=>(z0.setTime(+o),F0.setTime(+c),e(z0),e(F0),Math.floor(r(z0,F0))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?c=>a(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const Rf=Jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Rf);Rf.range;const Qn=1e3,Ua=Qn*60,Zn=Ua*60,os=Zn*24,_b=os*7,T2=os*30,q0=os*365,Xi=Jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCSeconds());Xi.range;const Eb=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getMinutes());Eb.range;const Sb=Jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCMinutes());Sb.range;const kb=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn-e.getMinutes()*Ua)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getHours());kb.range;const Cb=Jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCHours());Cb.range;const Uu=Jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ua)/os,e=>e.getDate()-1);Uu.range;const Sm=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/os,e=>e.getUTCDate()-1);Sm.range;const n5=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/os,e=>Math.floor(e/os));n5.range;function ho(e){return Jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ua)/_b)}const km=ho(0),Df=ho(1),OF=ho(2),RF=ho(3),Cl=ho(4),DF=ho(5),PF=ho(6);km.range;Df.range;OF.range;RF.range;Cl.range;DF.range;PF.range;function fo(e){return Jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_b)}const Cm=fo(0),Pf=fo(1),MF=fo(2),IF=fo(3),Al=fo(4),LF=fo(5),UF=fo(6);Cm.range;Pf.range;MF.range;IF.range;Al.range;LF.range;UF.range;const Ab=Jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ab.range;const Tb=Jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tb.range;const ls=Jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ls.range;const cs=Jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cs.range;function s5(e,t,r,a,s,o){const c=[[Xi,1,Qn],[Xi,5,5*Qn],[Xi,15,15*Qn],[Xi,30,30*Qn],[o,1,Ua],[o,5,5*Ua],[o,15,15*Ua],[o,30,30*Ua],[s,1,Zn],[s,3,3*Zn],[s,6,6*Zn],[s,12,12*Zn],[a,1,os],[a,2,2*os],[r,1,_b],[t,1,T2],[t,3,3*T2],[e,1,q0]];function d(f,m,g){const x=m<f;x&&([f,m]=[m,f]);const y=g&&typeof g.range=="function"?g:h(f,m,g),N=y?y.range(f,+m+1):[];return x?N.reverse():N}function h(f,m,g){const x=Math.abs(m-f)/g,y=db(([,,w])=>w).right(c,x);if(y===c.length)return e.every(sy(f/q0,m/q0,g));if(y===0)return Rf.every(Math.max(sy(f,m,g),1));const[N,_]=c[x/c[y-1][2]<c[y][2]/x?y-1:y];return N.every(_)}return[d,h]}const[$F,BF]=s5(cs,Tb,Cm,n5,Cb,Sb),[zF,FF]=s5(ls,Ab,km,Uu,kb,Eb);function H0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function G0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qF(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,o=e.days,c=e.shortDays,d=e.months,h=e.shortMonths,f=Jc(s),m=Qc(s),g=Jc(o),x=Qc(o),y=Jc(c),N=Qc(c),_=Jc(d),w=Qc(d),E=Jc(h),k=Qc(h),S={a:X,A:K,b:he,B:V,c:null,d:I2,e:I2,f:hq,g:jq,G:_q,H:cq,I:uq,j:dq,L:i5,m:fq,M:mq,p:R,q:H,Q:$2,s:B2,S:pq,u:gq,U:xq,V:vq,w:yq,W:bq,x:null,X:null,y:wq,Y:Nq,Z:Eq,"%":U2},T={a:ee,A:de,b:je,B:I,c:null,d:L2,e:L2,f:Aq,g:$q,G:zq,H:Sq,I:kq,j:Cq,L:l5,m:Tq,M:Oq,p:me,q:Ce,Q:$2,s:B2,S:Rq,u:Dq,U:Pq,V:Mq,w:Iq,W:Lq,x:null,X:null,y:Uq,Y:Bq,Z:Fq,"%":U2},C={a:G,A:F,b:se,B:J,c:xe,d:P2,e:P2,f:sq,g:D2,G:R2,H:M2,I:M2,j:tq,L:nq,m:eq,M:rq,p:z,q:ZF,Q:oq,s:lq,S:aq,u:WF,U:XF,V:KF,w:YF,W:JF,x:be,X:P,y:D2,Y:R2,Z:QF,"%":iq};S.x=O(r,S),S.X=O(a,S),S.c=O(t,S),T.x=O(r,T),T.X=O(a,T),T.c=O(t,T);function O(ne,Se){return function(q){var ie=[],$=-1,ce=0,ye=ne.length,le,Ne,Ae;for(q instanceof Date||(q=new Date(+q));++$<ye;)ne.charCodeAt($)===37&&(ie.push(ne.slice(ce,$)),(Ne=O2[le=ne.charAt(++$)])!=null?le=ne.charAt(++$):Ne=le==="e"?" ":"0",(Ae=Se[le])&&(le=Ae(q,Ne)),ie.push(le),ce=$+1);return ie.push(ne.slice(ce,$)),ie.join("")}}function M(ne,Se){return function(q){var ie=Kc(1900,void 0,1),$=L(ie,ne,q+="",0),ce,ye;if($!=q.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Se&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ce=G0(Kc(ie.y,0,1)),ye=ce.getUTCDay(),ce=ye>4||ye===0?Pf.ceil(ce):Pf(ce),ce=Sm.offset(ce,(ie.V-1)*7),ie.y=ce.getUTCFullYear(),ie.m=ce.getUTCMonth(),ie.d=ce.getUTCDate()+(ie.w+6)%7):(ce=H0(Kc(ie.y,0,1)),ye=ce.getDay(),ce=ye>4||ye===0?Df.ceil(ce):Df(ce),ce=Uu.offset(ce,(ie.V-1)*7),ie.y=ce.getFullYear(),ie.m=ce.getMonth(),ie.d=ce.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ye="Z"in ie?G0(Kc(ie.y,0,1)).getUTCDay():H0(Kc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ye+5)%7:ie.w+ie.U*7-(ye+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,G0(ie)):H0(ie)}}function L(ne,Se,q,ie){for(var $=0,ce=Se.length,ye=q.length,le,Ne;$<ce;){if(ie>=ye)return-1;if(le=Se.charCodeAt($++),le===37){if(le=Se.charAt($++),Ne=C[le in O2?Se.charAt($++):le],!Ne||(ie=Ne(ne,q,ie))<0)return-1}else if(le!=q.charCodeAt(ie++))return-1}return ie}function z(ne,Se,q){var ie=f.exec(Se.slice(q));return ie?(ne.p=m.get(ie[0].toLowerCase()),q+ie[0].length):-1}function G(ne,Se,q){var ie=y.exec(Se.slice(q));return ie?(ne.w=N.get(ie[0].toLowerCase()),q+ie[0].length):-1}function F(ne,Se,q){var ie=g.exec(Se.slice(q));return ie?(ne.w=x.get(ie[0].toLowerCase()),q+ie[0].length):-1}function se(ne,Se,q){var ie=E.exec(Se.slice(q));return ie?(ne.m=k.get(ie[0].toLowerCase()),q+ie[0].length):-1}function J(ne,Se,q){var ie=_.exec(Se.slice(q));return ie?(ne.m=w.get(ie[0].toLowerCase()),q+ie[0].length):-1}function xe(ne,Se,q){return L(ne,t,Se,q)}function be(ne,Se,q){return L(ne,r,Se,q)}function P(ne,Se,q){return L(ne,a,Se,q)}function X(ne){return c[ne.getDay()]}function K(ne){return o[ne.getDay()]}function he(ne){return h[ne.getMonth()]}function V(ne){return d[ne.getMonth()]}function R(ne){return s[+(ne.getHours()>=12)]}function H(ne){return 1+~~(ne.getMonth()/3)}function ee(ne){return c[ne.getUTCDay()]}function de(ne){return o[ne.getUTCDay()]}function je(ne){return h[ne.getUTCMonth()]}function I(ne){return d[ne.getUTCMonth()]}function me(ne){return s[+(ne.getUTCHours()>=12)]}function Ce(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Se=O(ne+="",S);return Se.toString=function(){return ne},Se},parse:function(ne){var Se=M(ne+="",!1);return Se.toString=function(){return ne},Se},utcFormat:function(ne){var Se=O(ne+="",T);return Se.toString=function(){return ne},Se},utcParse:function(ne){var Se=M(ne+="",!0);return Se.toString=function(){return ne},Se}}}var O2={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,HF=/^%/,GF=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",o=s.length;return a+(o<r?new Array(r-o+1).join(t)+s:s)}function VF(e){return e.replace(GF,"\\$&")}function Jc(e){return new RegExp("^(?:"+e.map(VF).join("|")+")","i")}function Qc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function YF(e,t,r){var a=lr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function WF(e,t,r){var a=lr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function XF(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function KF(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function JF(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function R2(e,t,r){var a=lr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function D2(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function QF(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function ZF(e,t,r){var a=lr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function eq(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function P2(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function tq(e,t,r){var a=lr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function M2(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function rq(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function aq(e,t,r){var a=lr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function nq(e,t,r){var a=lr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function sq(e,t,r){var a=lr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function iq(e,t,r){var a=HF.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function oq(e,t,r){var a=lr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function lq(e,t,r){var a=lr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function I2(e,t){return rt(e.getDate(),t,2)}function cq(e,t){return rt(e.getHours(),t,2)}function uq(e,t){return rt(e.getHours()%12||12,t,2)}function dq(e,t){return rt(1+Uu.count(ls(e),e),t,3)}function i5(e,t){return rt(e.getMilliseconds(),t,3)}function hq(e,t){return i5(e,t)+"000"}function fq(e,t){return rt(e.getMonth()+1,t,2)}function mq(e,t){return rt(e.getMinutes(),t,2)}function pq(e,t){return rt(e.getSeconds(),t,2)}function gq(e){var t=e.getDay();return t===0?7:t}function xq(e,t){return rt(km.count(ls(e)-1,e),t,2)}function o5(e){var t=e.getDay();return t>=4||t===0?Cl(e):Cl.ceil(e)}function vq(e,t){return e=o5(e),rt(Cl.count(ls(e),e)+(ls(e).getDay()===4),t,2)}function yq(e){return e.getDay()}function bq(e,t){return rt(Df.count(ls(e)-1,e),t,2)}function wq(e,t){return rt(e.getFullYear()%100,t,2)}function jq(e,t){return e=o5(e),rt(e.getFullYear()%100,t,2)}function Nq(e,t){return rt(e.getFullYear()%1e4,t,4)}function _q(e,t){var r=e.getDay();return e=r>=4||r===0?Cl(e):Cl.ceil(e),rt(e.getFullYear()%1e4,t,4)}function Eq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function L2(e,t){return rt(e.getUTCDate(),t,2)}function Sq(e,t){return rt(e.getUTCHours(),t,2)}function kq(e,t){return rt(e.getUTCHours()%12||12,t,2)}function Cq(e,t){return rt(1+Sm.count(cs(e),e),t,3)}function l5(e,t){return rt(e.getUTCMilliseconds(),t,3)}function Aq(e,t){return l5(e,t)+"000"}function Tq(e,t){return rt(e.getUTCMonth()+1,t,2)}function Oq(e,t){return rt(e.getUTCMinutes(),t,2)}function Rq(e,t){return rt(e.getUTCSeconds(),t,2)}function Dq(e){var t=e.getUTCDay();return t===0?7:t}function Pq(e,t){return rt(Cm.count(cs(e)-1,e),t,2)}function c5(e){var t=e.getUTCDay();return t>=4||t===0?Al(e):Al.ceil(e)}function Mq(e,t){return e=c5(e),rt(Al.count(cs(e),e)+(cs(e).getUTCDay()===4),t,2)}function Iq(e){return e.getUTCDay()}function Lq(e,t){return rt(Pf.count(cs(e)-1,e),t,2)}function Uq(e,t){return rt(e.getUTCFullYear()%100,t,2)}function $q(e,t){return e=c5(e),rt(e.getUTCFullYear()%100,t,2)}function Bq(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function zq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Al(e):Al.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function Fq(){return"+0000"}function U2(){return"%"}function $2(e){return+e}function B2(e){return Math.floor(+e/1e3)}var rl,u5,d5;qq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qq(e){return rl=qF(e),u5=rl.format,rl.parse,d5=rl.utcFormat,rl.utcParse,rl}function Hq(e){return new Date(e)}function Gq(e){return e instanceof Date?+e:+new Date(+e)}function Ob(e,t,r,a,s,o,c,d,h,f){var m=xb(),g=m.invert,x=m.domain,y=f(".%L"),N=f(":%S"),_=f("%I:%M"),w=f("%I %p"),E=f("%a %d"),k=f("%b %d"),S=f("%B"),T=f("%Y");function C(O){return(h(O)<O?y:d(O)<O?N:c(O)<O?_:o(O)<O?w:a(O)<O?s(O)<O?E:k:r(O)<O?S:T)(O)}return m.invert=function(O){return new Date(g(O))},m.domain=function(O){return arguments.length?x(Array.from(O,Gq)):x().map(Hq)},m.ticks=function(O){var M=x();return e(M[0],M[M.length-1],O??10)},m.tickFormat=function(O,M){return M==null?C:f(M)},m.nice=function(O){var M=x();return(!O||typeof O.range!="function")&&(O=t(M[0],M[M.length-1],O??10)),O?x(JO(M,O)):m},m.copy=function(){return Lu(m,Ob(e,t,r,a,s,o,c,d,h,f))},m}function Vq(){return Ha.apply(Ob(zF,FF,ls,Ab,km,Uu,kb,Eb,Xi,u5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yq(){return Ha.apply(Ob($F,BF,cs,Tb,Cm,Sm,Cb,Sb,Xi,d5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Am(){var e=0,t=1,r,a,s,o,c=Pr,d=!1,h;function f(g){return g==null||isNaN(g=+g)?h:c(s===0?.5:(g=(o(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=o(e=+e),a=o(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function m(g){return function(x){var y,N;return arguments.length?([y,N]=x,c=g(y,N),f):[c(0),c(1)]}}return f.range=m(Fl),f.rangeRound=m(gb),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return o=g,r=g(e),a=g(t),s=r===a?0:1/(a-r),f}}function fi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h5(){var e=hi(Am()(Pr));return e.copy=function(){return fi(e,h5())},xs.apply(e,arguments)}function f5(){var e=bb(Am()).domain([1,10]);return e.copy=function(){return fi(e,f5()).base(e.base())},xs.apply(e,arguments)}function m5(){var e=wb(Am());return e.copy=function(){return fi(e,m5()).constant(e.constant())},xs.apply(e,arguments)}function Rb(){var e=jb(Am());return e.copy=function(){return fi(e,Rb()).exponent(e.exponent())},xs.apply(e,arguments)}function Wq(){return Rb.apply(null,arguments).exponent(.5)}function p5(){var e=[],t=Pr;function r(a){if(a!=null&&!isNaN(a=+a))return t((Mu(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ai),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,o)=>D9(e,o/a))},r.copy=function(){return p5(t).domain(e)},xs.apply(r,arguments)}function Tm(){var e=0,t=.5,r=1,a=1,s,o,c,d,h,f=Pr,m,g=!1,x;function y(_){return isNaN(_=+_)?x:(_=.5+((_=+m(_))-o)*(a*_<a*o?d:h),f(g?Math.max(0,Math.min(1,_)):_))}y.domain=function(_){return arguments.length?([e,t,r]=_,s=m(e=+e),o=m(t=+t),c=m(r=+r),d=s===o?0:.5/(o-s),h=o===c?0:.5/(c-o),a=o<s?-1:1,y):[e,t,r]},y.clamp=function(_){return arguments.length?(g=!!_,y):g},y.interpolator=function(_){return arguments.length?(f=_,y):f};function N(_){return function(w){var E,k,S;return arguments.length?([E,k,S]=w,f=iF(_,[E,k,S]),y):[f(0),f(.5),f(1)]}}return y.range=N(Fl),y.rangeRound=N(gb),y.unknown=function(_){return arguments.length?(x=_,y):x},function(_){return m=_,s=_(e),o=_(t),c=_(r),d=s===o?0:.5/(o-s),h=o===c?0:.5/(c-o),a=o<s?-1:1,y}}function g5(){var e=hi(Tm()(Pr));return e.copy=function(){return fi(e,g5())},xs.apply(e,arguments)}function x5(){var e=bb(Tm()).domain([.1,1,10]);return e.copy=function(){return fi(e,x5()).base(e.base())},xs.apply(e,arguments)}function v5(){var e=wb(Tm());return e.copy=function(){return fi(e,v5()).constant(e.constant())},xs.apply(e,arguments)}function Db(){var e=jb(Tm());return e.copy=function(){return fi(e,Db()).exponent(e.exponent())},xs.apply(e,arguments)}function Xq(){return Db.apply(null,arguments).exponent(.5)}const iu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fb,scaleDiverging:g5,scaleDivergingLog:x5,scaleDivergingPow:Db,scaleDivergingSqrt:Xq,scaleDivergingSymlog:v5,scaleIdentity:KO,scaleImplicit:iy,scaleLinear:XO,scaleLog:QO,scaleOrdinal:hb,scalePoint:I9,scalePow:Nb,scaleQuantile:t5,scaleQuantize:r5,scaleRadial:e5,scaleSequential:h5,scaleSequentialLog:f5,scaleSequentialPow:Rb,scaleSequentialQuantile:p5,scaleSequentialSqrt:Wq,scaleSequentialSymlog:m5,scaleSqrt:AF,scaleSymlog:ZO,scaleThreshold:a5,scaleTime:Vq,scaleUtc:Yq,tickFormat:WO},Symbol.toStringTag,{value:"Module"}));var mi=e=>e.chartData,Kq=ue([mi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Pb=(e,t,r,a)=>a?Kq(e):mi(e);function no(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Rt(t)&&Rt(r))return!0}return!1}function z2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function y5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,o;if(Rt(r))s=r;else if(typeof r=="function")return;if(Rt(a))o=a;else if(typeof a=="function")return;var c=[s,o];if(no(c))return c}}function Jq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(no(a))return z2(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Ue(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&NS.test(s)){var h=NS.exec(s);if(h==null||t==null)c=void 0;else{var f=+h[1];c=t[0]-f}}else c=t==null?void 0:t[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Ue(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&_S.test(o)){var m=_S.exec(o);if(m==null||t==null)d=void 0;else{var g=+m[1];d=t[1]+g}}else d=t==null?void 0:t[1];var x=[c,d];if(no(x))return t==null?x:z2(x,t,r)}}}var ql=1e9,Qq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ib,Et=!0,Fa="[DecimalError] ",eo=Fa+"Invalid argument: ",Mb=Fa+"Exponent out of range: ",Hl=Math.floor,qi=Math.pow,Zq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa,ar=1e7,jt=7,b5=9007199254740991,Mf=Hl(b5/jt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,a,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*jt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return rs(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return xt(rs(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Ht(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,a=r.constructor,s=a.precision,o=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(xa))throw Error(Fa+"NaN");if(r.s<1)throw Error(Fa+(r.s?"NaN":"-Infinity"));return r.eq(xa)?new a(0):(Et=!1,t=rs(Nu(r,o),Nu(e,o),o),Et=!0,xt(t,s))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N5(t,e):w5(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Fa+"NaN");return r.s?(Et=!1,t=rs(r,e,0,1).times(e),Et=!0,r.minus(t)):xt(new a(r),s)};Oe.naturalExponential=Oe.exp=function(){return j5(this)};Oe.naturalLogarithm=Oe.ln=function(){return Nu(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w5(t,e):N5(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eo+e);if(t=Ht(s)+1,a=s.d.length-1,r=a*jt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,a,s,o,c,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(Fa+"NaN")}for(e=Ht(d),Et=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=Nn(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Hl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new h(t)):a=new h(s.toString()),r=h.precision,s=c=r+3;;)if(o=a,a=o.plus(rs(d,o,c+2)).times(.5),Nn(o.d).slice(0,c)===(t=Nn(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(xt(o,r+1,0),o.times(o).eq(d)){a=o;break}}else if(t!="9999")break;c+=4}return Et=!0,xt(a,r)};Oe.times=Oe.mul=function(e){var t,r,a,s,o,c,d,h,f,m=this,g=m.constructor,x=m.d,y=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,h=x.length,f=y.length,h<f&&(o=x,x=y,y=o,c=h,h=f,f=c),o=[],c=h+f,a=c;a--;)o.push(0);for(a=f;--a>=0;){for(t=0,s=h+a;s>a;)d=o[s]+y[a]*x[s-a-1]+t,o[s--]=d%ar|0,t=d/ar|0;o[s]=(o[s]+t)%ar|0}for(;!o[--c];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Et?xt(e,g.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Cn(e,0,ql),t===void 0?t=a.rounding:Cn(t,0,8),xt(r,e+Ht(r)+1,t))};Oe.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=so(a,!0):(Cn(e,0,ql),t===void 0?t=s.rounding:Cn(t,0,8),a=xt(new s(a),e+1,t),r=so(a,!0,e+1)),r};Oe.toFixed=function(e,t){var r,a,s=this,o=s.constructor;return e===void 0?so(s):(Cn(e,0,ql),t===void 0?t=o.rounding:Cn(t,0,8),a=xt(new o(s),e+Ht(s)+1,t),r=so(a.abs(),!1,e+Ht(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return xt(new t(e),Ht(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,a,s,o,c,d=this,h=d.constructor,f=12,m=+(e=new h(e));if(!e.s)return new h(xa);if(d=new h(d),!d.s){if(e.s<1)throw Error(Fa+"Infinity");return d}if(d.eq(xa))return d;if(a=h.precision,e.eq(xa))return xt(d,a);if(t=e.e,r=e.d.length-1,c=t>=r,o=d.s,c){if((r=m<0?-m:m)<=b5){for(s=new h(xa),t=Math.ceil(a/jt+4),Et=!1;r%2&&(s=s.times(d),q2(s.d,t)),r=Hl(r/2),r!==0;)d=d.times(d),q2(d.d,t);return Et=!0,e.s<0?new h(xa).div(s):xt(s,a)}}else if(o<0)throw Error(Fa+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Et=!1,s=e.times(Nu(d,a+f)),Et=!0,s=j5(s),s.s=o,s};Oe.toPrecision=function(e,t){var r,a,s=this,o=s.constructor;return e===void 0?(r=Ht(s),a=so(s,r<=o.toExpNeg||r>=o.toExpPos)):(Cn(e,1,ql),t===void 0?t=o.rounding:Cn(t,0,8),s=xt(new o(s),e,t),r=Ht(s),a=so(s,e<=r||r<=o.toExpNeg,e)),a};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Cn(e,1,ql),t===void 0?t=a.rounding:Cn(t,0,8)),xt(new a(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ht(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function w5(e,t){var r,a,s,o,c,d,h,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Et?xt(t,g):t;if(h=e.d,f=t.d,c=e.e,s=t.e,h=h.slice(),o=c-s,o){for(o<0?(a=h,o=-o,d=f.length):(a=f,s=c,d=h.length),c=Math.ceil(g/jt),d=c>d?c+1:d+1,o>d&&(o=d,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(d=h.length,o=f.length,d-o<0&&(o=d,a=f,f=h,h=a),r=0;o;)r=(h[--o]=h[o]+f[o]+r)/ar|0,h[o]%=ar;for(r&&(h.unshift(r),++s),d=h.length;h[--d]==0;)h.pop();return t.d=h,t.e=s,Et?xt(t,g):t}function Cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(eo+e)}function Nn(e){var t,r,a,s=e.length-1,o="",c=e[0];if(s>0){for(o+=c,t=1;t<s;t++)a=e[t]+"",r=jt-a.length,r&&(o+=Qs(r)),o+=a;c=e[t],a=c+"",r=jt-a.length,r&&(o+=Qs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var rs=(function(){function e(a,s){var o,c=0,d=a.length;for(a=a.slice();d--;)o=a[d]*s+c,a[d]=o%ar|0,c=o/ar|0;return c&&a.unshift(c),a}function t(a,s,o,c){var d,h;if(o!=c)h=o>c?1:-1;else for(d=h=0;d<o;d++)if(a[d]!=s[d]){h=a[d]>s[d]?1:-1;break}return h}function r(a,s,o){for(var c=0;o--;)a[o]-=c,c=a[o]<s[o]?1:0,a[o]=c*ar+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,c){var d,h,f,m,g,x,y,N,_,w,E,k,S,T,C,O,M,L,z=a.constructor,G=a.s==s.s?1:-1,F=a.d,se=s.d;if(!a.s)return new z(a);if(!s.s)throw Error(Fa+"Division by zero");for(h=a.e-s.e,M=se.length,C=F.length,y=new z(G),N=y.d=[],f=0;se[f]==(F[f]||0);)++f;if(se[f]>(F[f]||0)&&--h,o==null?k=o=z.precision:c?k=o+(Ht(a)-Ht(s))+1:k=o,k<0)return new z(0);if(k=k/jt+2|0,f=0,M==1)for(m=0,se=se[0],k++;(f<C||m)&&k--;f++)S=m*ar+(F[f]||0),N[f]=S/se|0,m=S%se|0;else{for(m=ar/(se[0]+1)|0,m>1&&(se=e(se,m),F=e(F,m),M=se.length,C=F.length),T=M,_=F.slice(0,M),w=_.length;w<M;)_[w++]=0;L=se.slice(),L.unshift(0),O=se[0],se[1]>=ar/2&&++O;do m=0,d=t(se,_,M,w),d<0?(E=_[0],M!=w&&(E=E*ar+(_[1]||0)),m=E/O|0,m>1?(m>=ar&&(m=ar-1),g=e(se,m),x=g.length,w=_.length,d=t(g,_,x,w),d==1&&(m--,r(g,M<x?L:se,x))):(m==0&&(d=m=1),g=se.slice()),x=g.length,x<w&&g.unshift(0),r(_,g,w),d==-1&&(w=_.length,d=t(se,_,M,w),d<1&&(m++,r(_,M<w?L:se,w))),w=_.length):d===0&&(m++,_=[0]),N[f++]=m,d&&_[0]?_[w++]=F[T]||0:(_=[F[T]],w=1);while((T++<C||_[0]!==void 0)&&k--)}return N[0]||N.shift(),y.e=h,xt(y,c?o+Ht(y)+1:o)}})();function j5(e,t){var r,a,s,o,c,d,h=0,f=0,m=e.constructor,g=m.precision;if(Ht(e)>16)throw Error(Mb+Ht(e));if(!e.s)return new m(xa);for(Et=!1,d=g,c=new m(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(a=Math.log(qi(2,f))/Math.LN10*2+5|0,d+=a,r=s=o=new m(xa),m.precision=d;;){if(s=xt(s.times(e),d),r=r.times(++h),c=o.plus(rs(s,r,d)),Nn(c.d).slice(0,d)===Nn(o.d).slice(0,d)){for(;f--;)o=xt(o.times(o),d);return m.precision=g,t==null?(Et=!0,xt(o,g)):o}o=c}}function Ht(e){for(var t=e.e*jt,r=e.d[0];r>=10;r/=10)t++;return t}function V0(e,t,r){if(t>e.LN10.sd())throw Et=!0,r&&(e.precision=r),Error(Fa+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function Qs(e){for(var t="";e--;)t+="0";return t}function Nu(e,t){var r,a,s,o,c,d,h,f,m,g=1,x=10,y=e,N=y.d,_=y.constructor,w=_.precision;if(y.s<1)throw Error(Fa+(y.s?"NaN":"-Infinity"));if(y.eq(xa))return new _(0);if(t==null?(Et=!1,f=w):f=t,y.eq(10))return t==null&&(Et=!0),V0(_,f);if(f+=x,_.precision=f,r=Nn(N),a=r.charAt(0),o=Ht(y),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=Nn(y.d),a=r.charAt(0),g++;o=Ht(y),a>1?(y=new _("0."+r),o++):y=new _(a+"."+r.slice(1))}else return h=V0(_,f+2,w).times(o+""),y=Nu(new _(a+"."+r.slice(1)),f-x).plus(h),_.precision=w,t==null?(Et=!0,xt(y,w)):y;for(d=c=y=rs(y.minus(xa),y.plus(xa),f),m=xt(y.times(y),f),s=3;;){if(c=xt(c.times(m),f),h=d.plus(rs(c,new _(s),f)),Nn(h.d).slice(0,f)===Nn(d.d).slice(0,f))return d=d.times(2),o!==0&&(d=d.plus(V0(_,f+2,w).times(o+""))),d=rs(d,new _(g),f),_.precision=w,t==null?(Et=!0,xt(d,w)):d;d=h,s+=2}}function F2(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Hl(r/jt),e.d=[],a=(r+1)%jt,r<0&&(a+=jt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=jt;a<s;)e.d.push(+t.slice(a,a+=jt));t=t.slice(a),a=jt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Et&&(e.e>Mf||e.e<-Mf))throw Error(Mb+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var a,s,o,c,d,h,f,m,g=e.d;for(c=1,o=g[0];o>=10;o/=10)c++;if(a=t-c,a<0)a+=jt,s=t,f=g[m=0];else{if(m=Math.ceil((a+1)/jt),o=g.length,m>=o)return e;for(f=o=g[m],c=1;o>=10;o/=10)c++;a%=jt,s=a-jt+c}if(r!==void 0&&(o=qi(10,c-s-1),d=f/o%10|0,h=t<0||g[m+1]!==void 0||f%o,h=r<4?(d||h)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||h||r==6&&(a>0?s>0?f/qi(10,c-s):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return h?(o=Ht(e),g.length=1,t=t-o-1,g[0]=qi(10,(jt-t%jt)%jt),e.e=Hl(-t/jt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=m,o=1,m--):(g.length=m+1,o=qi(10,jt-a),g[m]=s>0?(f/qi(10,c-s)%qi(10,s)|0)*o:0),h)for(;;)if(m==0){(g[0]+=o)==ar&&(g[0]=1,++e.e);break}else{if(g[m]+=o,g[m]!=ar)break;g[m--]=0,o=1}for(a=g.length;g[--a]===0;)g.pop();if(Et&&(e.e>Mf||e.e<-Mf))throw Error(Mb+Ht(e));return e}function N5(e,t){var r,a,s,o,c,d,h,f,m,g,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Et?xt(t,y):t;if(h=e.d,g=t.d,a=t.e,f=e.e,h=h.slice(),c=f-a,c){for(m=c<0,m?(r=h,c=-c,d=g.length):(r=g,a=f,d=h.length),s=Math.max(Math.ceil(y/jt),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=h.length,d=g.length,m=s<d,m&&(d=s),s=0;s<d;s++)if(h[s]!=g[s]){m=h[s]<g[s];break}c=0}for(m&&(r=h,h=g,g=r,t.s=-t.s),d=h.length,s=g.length-d;s>0;--s)h[d++]=0;for(s=g.length;s>c;){if(h[--s]<g[s]){for(o=s;o&&h[--o]===0;)h[o]=ar-1;--h[o],h[s]+=ar}h[s]-=g[s]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--a;return h[0]?(t.d=h,t.e=a,Et?xt(t,y):t):new x(0)}function so(e,t,r){var a,s=Ht(e),o=Nn(e.d),c=o.length;return t?(r&&(a=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+Qs(a):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+Qs(-s-1)+o,r&&(a=r-c)>0&&(o+=Qs(a))):s>=c?(o+=Qs(s+1-c),r&&(a=r-s-1)>0&&(o=o+"."+Qs(a))):((a=s+1)<c&&(o=o.slice(0,a)+"."+o.slice(a)),r&&(a=r-c)>0&&(s+1===c&&(o+="."),o+=Qs(a))),e.s<0?"-"+o:o}function q2(e,t){if(e.length>t)return e.length=t,!0}function _5(e){var t,r,a;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(eo+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return F2(c,o.toString())}else if(typeof o!="string")throw Error(eo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,Zq.test(o))F2(c,o);else throw Error(eo+o)}if(s.prototype=Oe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=_5,s.config=s.set=e7,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function e7(e){if(!e||typeof e!="object")throw Error(Fa+"Object expected");var t,r,a,s=["precision",1,ql,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Hl(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(eo+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(eo+r+": "+a);return this}var Ib=_5(Qq);xa=new Ib(1);const lt=Ib;var t7=e=>e,E5={},S5=e=>e===E5,H2=e=>function t(){return arguments.length===0||arguments.length===1&&S5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},k5=(e,t)=>e===1?t:H2(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var o=a.filter(c=>c!==E5).length;return o>=e?t(...a):k5(e-o,H2(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var f=a.map(m=>S5(m)?d.shift():m);return t(...f,...d)}))}),Om=e=>k5(e.length,e),uy=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},r7=Om((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),a7=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return t7;var s=r.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce((d,h)=>h(d),o(...arguments))}},dy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),C5=e=>{var t=null,r=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return t&&s.every((c,d)=>{var h;return c===((h=t)===null||h===void 0?void 0:h[d])})||(t=s,r=e(...s)),r}};function A5(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function T5(e,t,r){for(var a=new lt(e),s=0,o=[];a.lt(t)&&s<1e5;)o.push(a.toNumber()),a=a.add(r),s++;return o}Om((e,t,r)=>{var a=+e,s=+t;return a+r*(s-a)});Om((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});Om((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var O5=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},R5=(e,t,r)=>{if(e.lte(0))return new lt(0);var a=A5(e.toNumber()),s=new lt(10).pow(a),o=e.div(s),c=a!==1?.05:.1,d=new lt(Math.ceil(o.div(c).toNumber())).add(r).mul(c),h=d.mul(s);return t?new lt(h.toNumber()):new lt(Math.ceil(h.toNumber()))},n7=(e,t,r)=>{var a=new lt(1),s=new lt(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(a=new lt(10).pow(A5(e)-1),s=new lt(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new lt(Math.floor(e)))}else e===0?s=new lt(Math.floor((t-1)/2)):r||(s=new lt(Math.floor(e)));var c=Math.floor((t-1)/2),d=a7(r7(h=>s.add(new lt(h-c).mul(a)).toNumber()),uy);return d(0,t)},D5=function(t,r,a,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var c=R5(new lt(r).sub(t).div(a-1),s,o),d;t<=0&&r>=0?d=new lt(0):(d=new lt(t).add(r).div(2),d=d.sub(new lt(d).mod(c)));var h=Math.ceil(d.sub(t).div(c).toNumber()),f=Math.ceil(new lt(r).sub(d).div(c).toNumber()),m=h+f+1;return m>a?D5(t,r,a,s,o+1):(m<a&&(f=r>0?f+(a-m):f,h=r>0?h:h+(a-m)),{step:c,tickMin:d.sub(new lt(h).mul(c)),tickMax:d.add(new lt(f).mul(c))})};function s7(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,d]=O5([t,r]);if(c===-1/0||d===1/0){var h=d===1/0?[c,...uy(0,a-1).map(()=>1/0)]:[...uy(0,a-1).map(()=>-1/0),d];return t>r?dy(h):h}if(c===d)return n7(c,a,s);var{step:f,tickMin:m,tickMax:g}=D5(c,d,o,s,0),x=T5(m,g.add(new lt(.1).mul(f)),f);return t>r?dy(x):x}function i7(e,t){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=O5([r,a]);if(o===-1/0||c===1/0)return[r,a];if(o===c)return[o];var d=Math.max(t,2),h=R5(new lt(c).sub(o).div(d-1),s,0),f=[...T5(new lt(o),new lt(c),h),c];return s===!1&&(f=f.map(m=>Math.round(m))),r>a?dy(f):f}var o7=C5(s7),l7=C5(i7),c7=e=>e.rootProps.barCategoryGap,Rm=e=>e.rootProps.stackOffset,Lb=e=>e.options.chartName,Ub=e=>e.rootProps.syncId,P5=e=>e.rootProps.syncMethod,$b=e=>e.options.eventEmitter,u7=e=>e.rootProps.baseValue,Mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Kn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},d7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Kn.angleAxisId,includeHidden:!1,name:void 0,reversed:Kn.reversed,scale:Kn.scale,tick:Kn.tick,tickCount:void 0,ticks:void 0,type:Kn.type,unit:void 0},h7={allowDataOverflow:fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fa.scale,tick:fa.tick,tickCount:fa.tickCount,ticks:void 0,type:fa.type,unit:void 0},f7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Kn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kn.scale,tick:Kn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},m7={allowDataOverflow:fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fa.scale,tick:fa.tick,tickCount:fa.tickCount,ticks:void 0,type:"category",unit:void 0},Bb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?f7:d7,zb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?m7:h7,Pm=e=>e.polarOptions,Fb=ue([ps,gs,jr],i9),M5=ue([Pm,Fb],(e,t)=>{if(e!=null)return ii(e.innerRadius,t,0)}),I5=ue([Pm,Fb],(e,t)=>{if(e!=null)return ii(e.outerRadius,t,t*.8)}),p7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},L5=ue([Pm],p7);ue([Bb,L5],Dm);var U5=ue([Fb,M5,I5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([zb,U5],Dm);var $5=ue([yt,Pm,M5,I5,ps,gs],(e,t,r,a,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:c,cy:d,startAngle:h,endAngle:f}=t;return{cx:ii(c,s,s/2),cy:ii(d,o,o/2),innerRadius:r,outerRadius:a,startAngle:h,endAngle:f,clockWise:!1}}}),Qt=(e,t)=>t,Mm=(e,t,r)=>r;function qb(e){return e==null?void 0:e.id}function B5(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=r,c=new Map;return e.forEach(d=>{var h,f=(h=d.data)!==null&&h!==void 0?h:a;if(!(f==null||f.length===0)){var m=qb(d);f.forEach((g,x)=>{var y=o==null||s?x:String(Lr(g,o,null)),N=Lr(g,d.dataKey,0),_;c.has(y)?_=c.get(y):_={},Object.assign(_,{[m]:N}),c.set(y,_)})}}),Array.from(c.values())}function Hb(e){return e.stackId!=null&&e.dataKey!=null}var Im=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Lm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function g7(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Zt=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gl=e=>e.tooltip.settings.axisId;function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(a){x7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function x7(e,t,r){return(t=v7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=[0,"auto"],da={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},z5=(e,t)=>e.cartesianAxis.xAxis[t],vs=(e,t)=>{var r=z5(e,t);return r??da},ha={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pu},F5=(e,t)=>e.cartesianAxis.yAxis[t],ys=(e,t)=>{var r=F5(e,t);return r??ha},b7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??b7},Br=(e,t,r)=>{switch(t){case"xAxis":return vs(e,r);case"yAxis":return ys(e,r);case"zAxis":return Gb(e,r);case"angleAxis":return Bb(e,r);case"radiusAxis":return zb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},w7=(e,t,r)=>{switch(t){case"xAxis":return vs(e,r);case"yAxis":return ys(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$u=(e,t,r)=>{switch(t){case"xAxis":return vs(e,r);case"yAxis":return ys(e,r);case"angleAxis":return Bb(e,r);case"radiusAxis":return zb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},q5=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function H5(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var G5=e=>e.graphicalItems.cartesianItems,j7=ue([Qt,Mm],H5),V5=(e,t,r)=>e.filter(r).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),Bu=ue([G5,Br,j7],V5,{memoizeOptions:{resultEqualityCheck:Lm}}),Y5=ue([Bu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Hb)),W5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),N7=ue([Bu],W5),X5=e=>e.map(t=>t.data).filter(Boolean).flat(1),_7=ue([Bu],X5,{memoizeOptions:{resultEqualityCheck:Lm}}),K5=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},Vb=ue([_7,Pb],K5),J5=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Lr(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Lr(s,a)}))):e.map(a=>({value:a})),Um=ue([Vb,Br,Bu],J5);function Q5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xh(e){if(Sn(e)||e instanceof Date){var t=Number(e);if(Rt(t))return t}}function V2(e){if(Array.isArray(e)){var t=[Xh(e[0]),Xh(e[1])];return no(t)?t:void 0}var r=Xh(e);if(r!=null)return[r,r]}function us(e){return e.map(Xh).filter(a8)}function E7(e,t,r){return!r||typeof t!="number"||an(t)?[]:r.length?us(r.flatMap(a=>{var s=Lr(e,a.dataKey),o,c;if(Array.isArray(s)?[o,c]=s:o=c=s,!(!Rt(o)||!Rt(c)))return[t-o,t+c]})):[]}var er=e=>{var t=Zt(e),r=Gl(e);return $u(e,t,r)},Z5=ue([er],e=>e==null?void 0:e.dataKey),S7=ue([Y5,Pb,er],B5),e4=(e,t,r)=>{var a={},s=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),a);return Object.fromEntries(Object.entries(s).map(o=>{var[c,d]=o,h=d.map(qb);return[c,{stackedData:lB(e,h,r),graphicalItems:d}]}))},fy=ue([S7,Y5,Rm],e4),t4=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(a==null&&r!=="zAxis"){var c=hB(e,s,o);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},k7=ue([Br],e=>e.allowDataOverflow),Yb=e=>{var t;if(e==null||!("domain"in e))return hy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=us(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:hy},r4=ue([Br],Yb),a4=ue([r4,k7],y5),C7=ue([fy,mi,Qt,a4],t4,{memoizeOptions:{resultEqualityCheck:Im}}),Wb=e=>e.errorBars,A7=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>Q5(r,a)),Lf=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var o=s.flat(),c=Math.min(...o),d=Math.max(...o);return[c,d]}},n4=(e,t,r,a,s)=>{var o,c;if(r.length>0&&e.forEach(d=>{r.forEach(h=>{var f,m,g=(f=a[h.id])===null||f===void 0?void 0:f.filter(E=>Q5(s,E)),x=Lr(d,(m=t.dataKey)!==null&&m!==void 0?m:h.dataKey),y=E7(d,x,g);if(y.length>=2){var N=Math.min(...y),_=Math.max(...y);(o==null||N<o)&&(o=N),(c==null||_>c)&&(c=_)}var w=V2(x);w!=null&&(o=o==null?w[0]:Math.min(o,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var h=V2(Lr(d,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),c=c==null?h[1]:Math.max(c,h[1]))}),Rt(o)&&Rt(c))return[o,c]},T7=ue([Vb,Br,N7,Wb,Qt],n4,{memoizeOptions:{resultEqualityCheck:Im}});function O7(e){var{value:t}=e;if(Sn(t)||t instanceof Date)return t}var R7=(e,t,r)=>{var a=e.map(O7).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&CT(a))?UO(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},s4=e=>e.referenceElements.dots,Vl=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),D7=ue([s4,Qt,Mm],Vl),i4=e=>e.referenceElements.areas,P7=ue([i4,Qt,Mm],Vl),o4=e=>e.referenceElements.lines,M7=ue([o4,Qt,Mm],Vl),l4=(e,t)=>{var r=us(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},I7=ue(D7,Qt,l4),c4=(e,t)=>{var r=us(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},L7=ue([P7,Qt],c4);function U7(e){var t;if(e.x!=null)return us([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:us(r)}function $7(e){var t;if(e.y!=null)return us([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:us(r)}var u4=(e,t)=>{var r=e.flatMap(a=>t==="xAxis"?U7(a):$7(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},B7=ue([M7,Qt],u4),z7=ue(I7,B7,L7,(e,t,r)=>Lf(e,r,t)),d4=(e,t,r,a,s,o,c,d)=>{if(r!=null)return r;var h=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",f=h?Lf(a,o,s):Lf(o,s);return Jq(t,f,e.allowDataOverflow)},F7=ue([Br,r4,a4,C7,T7,z7,yt,Qt],d4,{memoizeOptions:{resultEqualityCheck:Im}}),q7=[0,1],h4=(e,t,r,a,s,o,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:h}=e,f=ms(t,o);if(f&&d==null){var m;return UO(0,(m=r==null?void 0:r.length)!==null&&m!==void 0?m:0)}return h==="category"?R7(a,e,f):s==="expand"?q7:c}},Xb=ue([Br,yt,Vb,Um,Rm,Qt,F7],h4),f4=(e,t,r,a,s)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(tb(o));return d in iu?d:"point"}}},zu=ue([Br,yt,q5,Lb,Qt],f4);function H7(e){if(e!=null){if(e in iu)return iu[e]();var t="scale".concat(tb(e));if(t in iu)return iu[t]()}}function Kb(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=H7(t);if(s!=null){var o=s.domain(r).range(a);return nB(o),o}}}var m4=(e,t,r)=>{var a=Yb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&no(e))return o7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&no(e))return l7(e,t.tickCount,t.allowDecimals)}},Jb=ue([Xb,$u,zu],m4),p4=(e,t,r,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&no(t)&&Array.isArray(r)&&r.length>0){var s=t[0],o=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,o),Math.max(c,d)]}return t},G7=ue([Br,Xb,Jb,Qt],p4),V7=ue(Um,Br,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(us(e.map(d=>d.value))).sort((d,h)=>d-h);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var o=0;o<a.length-1;o++){var c=a[o+1]-a[o];r=Math.min(r,c)}return r/s}}),g4=ue(V7,yt,c7,jr,(e,t,r,a)=>a,(e,t,r,a,s)=>{if(!Rt(e))return 0;var o=t==="vertical"?a.height:a.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var c=ii(r,e*o),d=e*o/2;return d-c-(d-c)/o*c}return 0}),Y7=(e,t)=>{var r=vs(e,t);return r==null||typeof r.padding!="string"?0:g4(e,"xAxis",t,r.padding)},W7=(e,t)=>{var r=ys(e,t);return r==null||typeof r.padding!="string"?0:g4(e,"yAxis",t,r.padding)},X7=ue(vs,Y7,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),K7=ue(ys,W7,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),J7=ue([jr,X7,wm,bm,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:o}=a;return s?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Q7=ue([jr,yt,K7,wm,bm,(e,t,r)=>r],(e,t,r,a,s,o)=>{var{padding:c}=s;return o?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Fu=(e,t,r,a)=>{var s;switch(t){case"xAxis":return J7(e,r,a);case"yAxis":return Q7(e,r,a);case"zAxis":return(s=Gb(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return L5(e);case"radiusAxis":return U5(e,r);default:return}},x4=ue([Br,Fu],Dm),Yl=ue([Br,zu,G7,x4],Kb);ue([Bu,Wb,Qt],A7);function v4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var $m=(e,t)=>t,Bm=(e,t,r)=>r,Z7=ue(vm,$m,Bm,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(v4)),eH=ue(ym,$m,Bm,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(v4)),y4=(e,t)=>({width:e.width,height:t.height}),tH=(e,t)=>{var r=typeof t.width=="number"?t.width:Pu;return{width:r,height:e.height}},rH=ue(jr,vs,y4),aH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},nH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},sH=ue(gs,jr,Z7,$m,Bm,(e,t,r,a,s)=>{var o={},c;return r.forEach(d=>{var h=y4(t,d);c==null&&(c=aH(t,a,e));var f=a==="top"&&!s||a==="bottom"&&s;o[d.id]=c-Number(f)*h.height,c+=(f?-1:1)*h.height}),o}),iH=ue(ps,jr,eH,$m,Bm,(e,t,r,a,s)=>{var o={},c;return r.forEach(d=>{var h=tH(t,d);c==null&&(c=nH(t,a,e));var f=a==="left"&&!s||a==="right"&&s;o[d.id]=c-Number(f)*h.width,c+=(f?-1:1)*h.width}),o}),oH=(e,t)=>{var r=vs(e,t);if(r!=null)return sH(e,r.orientation,r.mirror)},lH=ue([jr,vs,oH,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r==null?void 0:r[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),cH=(e,t)=>{var r=ys(e,t);if(r!=null)return iH(e,r.orientation,r.mirror)},uH=ue([jr,ys,cH,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r==null?void 0:r[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),dH=ue(jr,ys,(e,t)=>{var r=typeof t.width=="number"?t.width:Pu;return{width:r,height:e.height}}),b4=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:o,dataKey:c}=r,d=ms(e,a),h=t.map(f=>f.value);if(c&&d&&o==="category"&&s&&CT(h))return h}},Qb=ue([yt,Um,Br,Qt],b4),w4=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:o}=r,c=ms(e,a);if(c&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Zb=ue([yt,Um,$u,Qt],w4),Y2=ue([yt,w7,zu,Yl,Qb,Zb,Fu,Jb,Qt],(e,t,r,a,s,o,c,d,h)=>{if(t!=null){var f=ms(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:s,isCategorical:f,niceTicks:d,range:c,realScaleType:r,scale:a}}}),hH=(e,t,r,a,s,o,c,d,h)=>{if(!(t==null||a==null)){var f=ms(e,h),{type:m,ticks:g,tickCount:x}=t,y=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,N=m==="category"&&a.bandwidth?a.bandwidth()/y:0;N=h==="angleAxis"&&o!=null&&o.length>=2?La(o[0]-o[1])*2*N:N;var _=g||s;if(_){var w=_.map((E,k)=>{var S=c?c.indexOf(E):E;return{index:k,coordinate:a(S)+N,value:E,offset:N}});return w.filter(E=>Rt(E.coordinate))}return f&&d?d.map((E,k)=>({coordinate:a(E)+N,value:E,index:k,offset:N})).filter(E=>Rt(E.coordinate)):a.ticks?a.ticks(x).map(E=>({coordinate:a(E)+N,value:E,offset:N})):a.domain().map((E,k)=>({coordinate:a(E)+N,value:c?c[E]:E,index:k,offset:N}))}},j4=ue([yt,$u,zu,Yl,Jb,Fu,Qb,Zb,Qt],hH),fH=(e,t,r,a,s,o,c)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var d=ms(e,c),{tickCount:h}=t,f=0;return f=c==="angleAxis"&&(a==null?void 0:a.length)>=2?La(a[0]-a[1])*2*f:f,d&&o?o.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(h).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:s?s[m]:m,index:g,offset:f}))}},N4=ue([yt,$u,Yl,Fu,Qb,Zb,Qt],fH),_4=ue(Br,Yl,(e,t)=>{if(!(e==null||t==null))return If(If({},e),{},{scale:t})}),mH=ue([Br,zu,Xb,x4],Kb);ue((e,t,r)=>Gb(e,r),mH,(e,t)=>{if(!(e==null||t==null))return If(If({},e),{},{scale:t})});var pH=ue([yt,vm,ym],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),E4=e=>e.options.defaultTooltipEventType,S4=e=>e.options.validateTooltipEventTypes;function k4(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function ew(e,t){var r=E4(e),a=S4(e);return k4(t,r,a)}function gH(e){return Be(t=>ew(t,e))}var C4=(e,t)=>{var r,a=Number(t);if(!(an(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},xH=e=>e.tooltip.settings,ri={active:!1,index:null,dataKey:void 0,coordinate:void 0},vH={itemInteraction:{click:ri,hover:ri},axisInteraction:{click:ri,hover:ri},keyboardInteraction:ri,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},A4=ra({name:"tooltip",initialState:vH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Kt()},removeTooltipEntrySettings:{reducer(e,t){var r=ts(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:yH,removeTooltipEntrySettings:bH,setTooltipSettingsState:wH,setActiveMouseOverItemIndex:jH,mouseLeaveItem:one,mouseLeaveChart:T4,setActiveClickItemIndex:lne,setMouseOverAxisIndex:O4,setMouseClickAxisIndex:NH,setSyncInteraction:my,setKeyboardInteraction:py}=A4.actions,_H=A4.reducer;function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(a){EH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EH(e,t,r){return(t=SH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function AH(e){return e.index!=null}var R4=(e,t,r,a)=>{if(t==null)return ri;var s=CH(e,t,r);if(s==null)return ri;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(AH(s)){if(o)return Dh(Dh({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Dh(Dh({},ri),{},{coordinate:s.coordinate})},tw=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var a=Number(r);if(!Rt(a))return r;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(a,o)))},D4=(e,t,r,a,s,o,c,d)=>{if(!(o==null||d==null)){var h=c[0],f=h==null?void 0:d(h.positions,o);if(f!=null)return f;var m=s==null?void 0:s[Number(o)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:m.coordinate}}}},P4=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.dataKey)===s})},qu=e=>e.options.tooltipPayloadSearcher,Wl=e=>e.tooltip;function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function K2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(a){TH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TH(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t){return e??t}var M4=(e,t,r,a,s,o,c)=>{if(!(t==null||o==null)){var{chartData:d,computedData:h,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((x,y)=>{var N,{dataDefinedOnItem:_,settings:w}=y,E=DH(_,d),k=Array.isArray(E)?gO(E,f,m):E,S=(N=w==null?void 0:w.dataKey)!==null&&N!==void 0?N:a,T=w==null?void 0:w.nameKey,C;if(a&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?C=AT(k,a,s):C=o(k,t,h,T),Array.isArray(C))C.forEach(M=>{var L=K2(K2({},w),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});x.push(ES({tooltipEntrySettings:L,dataKey:M.dataKey,payload:M.payload,value:Lr(M.payload,M.dataKey),name:M.name}))});else{var O;x.push(ES({tooltipEntrySettings:w,dataKey:S,payload:C,value:Lr(C,S),name:(O=Lr(C,T))!==null&&O!==void 0?O:w==null?void 0:w.name}))}return x},g)}},rw=ue([er,yt,q5,Lb,Zt],f4),PH=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),MH=ue([Zt,Gl],H5),Hu=ue([PH,er,MH],V5,{memoizeOptions:{resultEqualityCheck:Lm}}),IH=ue([Hu],e=>e.filter(Hb)),LH=ue([Hu],X5,{memoizeOptions:{resultEqualityCheck:Lm}}),Xl=ue([LH,mi],K5),UH=ue([IH,mi,er],B5),aw=ue([Xl,er,Hu],J5),I4=ue([er],Yb),$H=ue([er],e=>e.allowDataOverflow),L4=ue([I4,$H],y5),BH=ue([Hu],e=>e.filter(Hb)),zH=ue([UH,BH,Rm],e4),FH=ue([zH,mi,Zt,L4],t4),qH=ue([Hu],W5),HH=ue([Xl,er,qH,Wb,Zt],n4,{memoizeOptions:{resultEqualityCheck:Im}}),GH=ue([s4,Zt,Gl],Vl),VH=ue([GH,Zt],l4),YH=ue([i4,Zt,Gl],Vl),WH=ue([YH,Zt],c4),XH=ue([o4,Zt,Gl],Vl),KH=ue([XH,Zt],u4),JH=ue([VH,KH,WH],Lf),QH=ue([er,I4,L4,FH,HH,JH,yt,Zt],d4),U4=ue([er,yt,Xl,aw,Rm,Zt,QH],h4),ZH=ue([U4,er,rw],m4),eG=ue([er,U4,ZH,Zt],p4),$4=e=>{var t=Zt(e),r=Gl(e),a=!1;return Fu(e,t,r,a)},B4=ue([er,$4],Dm),z4=ue([er,rw,eG,B4],Kb),tG=ue([yt,aw,er,Zt],b4),rG=ue([yt,aw,er,Zt],w4),aG=(e,t,r,a,s,o,c,d)=>{if(t){var{type:h}=t,f=ms(e,d);if(a){var m=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=h==="category"&&a.bandwidth?a.bandwidth()/m:0;return g=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?La(s[0]-s[1])*2*g:g,f&&c?c.map((x,y)=>({coordinate:a(x)+g,value:x,index:y,offset:g})):a.domain().map((x,y)=>({coordinate:a(x)+g,value:o?o[x]:x,index:y,offset:g}))}}},bs=ue([yt,er,rw,z4,$4,tG,rG,Zt],aG),nw=ue([E4,S4,xH],(e,t,r)=>k4(r.shared,e,t)),F4=e=>e.tooltip.settings.trigger,sw=e=>e.tooltip.settings.defaultIndex,zm=ue([Wl,nw,F4,sw],R4),_u=ue([zm,Xl],tw),q4=ue([bs,_u],C4),nG=ue([zm],e=>{if(e)return e.dataKey}),H4=ue([Wl,nw,F4,sw],P4),sG=ue([ps,gs,yt,jr,bs,sw,H4,qu],D4),iG=ue([zm,sG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),oG=ue([zm],e=>e.active),lG=ue([H4,_u,mi,Z5,q4,qu,nw],M4),cG=ue([lG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(a){uG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fG=()=>Be(er),mG=()=>{var e=fG(),t=Be(bs),r=Be(z4);return yf(!e||!r?void 0:Q2(Q2({},e),{},{scale:r}),t)};function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(a){pG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pG(e,t,r){return(t=gG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG=(e,t,r,a)=>{var s=t.find(o=>o&&o.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},yG=(e,t,r,a)=>{var s=t.find(f=>f&&f.index===r);if(s){if(e==="centric"){var o=s.coordinate,{radius:c}=a;return al(al(al({},a),vr(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,{angle:h}=a;return al(al(al({},a),vr(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function bG(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var G4=(e,t,r,a,s)=>{var o,c=-1,d=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var h=0;h<d;h++){var f=h>0?r[h-1].coordinate:r[d-1].coordinate,m=r[h].coordinate,g=h>=d-1?r[0].coordinate:r[h+1].coordinate,x=void 0;if(La(m-f)!==La(g-m)){var y=[];if(La(g-m)===La(s[1]-s[0])){x=g;var N=m+s[1]-s[0];y[0]=Math.min(N,(N+f)/2),y[1]=Math.max(N,(N+f)/2)}else{x=f;var _=g+s[1]-s[0];y[0]=Math.min(m,(_+m)/2),y[1]=Math.max(m,(_+m)/2)}var w=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){({index:c}=r[h]);break}}else{var E=Math.min(f,g),k=Math.max(f,g);if(e>(E+m)/2&&e<=(k+m)/2){({index:c}=r[h]);break}}}else if(t){for(var S=0;S<d;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<d-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===d-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:c}=t[S]);break}}return c},V4=()=>Be(Lb),iw=(e,t)=>t,Y4=(e,t,r)=>r,ow=(e,t,r,a)=>a,wG=ue(bs,e=>hm(e,t=>t.coordinate)),lw=ue([Wl,iw,Y4,ow],R4),W4=ue([lw,Xl],tw),jG=(e,t,r)=>{if(t!=null){var a=Wl(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},X4=ue([Wl,iw,Y4,ow],P4),Uf=ue([ps,gs,yt,jr,bs,ow,X4,qu],D4),NG=ue([lw,Uf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),K4=ue([bs,W4],C4),_G=ue([X4,W4,mi,Z5,K4,qu,iw],M4),EG=ue([lw],e=>({isActive:e.active,activeIndex:e.index})),SG=(e,t,r,a,s,o,c)=>{if(!(!e||!r||!a||!s)&&bG(e,c)){var d=fB(e,t),h=G4(d,o,s,r,a),f=vG(t,s,h,e);return{activeIndex:String(h),activeCoordinate:f}}},kG=(e,t,r,a,s,o,c)=>{if(!(!e||!a||!s||!o||!r)){var d=d9(e,r);if(d){var h=mB(d,t),f=G4(h,c,o,a,s),m=yG(t,o,f,d);return{activeIndex:String(f),activeCoordinate:m}}}},CG=(e,t,r,a,s,o,c,d)=>{if(!(!e||!t||!a||!s||!o))return t==="horizontal"||t==="vertical"?SG(e,t,a,s,o,c,d):kG(e,t,r,a,s,o,c)},AG=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElementId:a.elementId}}),TG=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Mr)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:g7}});function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){OG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PG={},MG={zIndexMap:Object.values(Mr).reduce((e,t)=>tk(tk({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),PG)},IG=new Set(Object.values(Mr));function LG(e){return IG.has(e)}var J4=ra({name:"zIndex",initialState:MG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!LG(r)&&delete e.zIndexMap[r])},prepare:Kt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:s?void 0:a,panoramaElementId:s?a:void 0}},prepare:Kt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Kt()}}}),{registerZIndexPortal:UG,unregisterZIndexPortal:$G,registerZIndexPortalId:BG,unregisterZIndexPortalId:zG}=J4.actions,FG=J4.reducer;function ws(e){var{zIndex:t,children:r}=e,a=YB(),s=a&&t!==void 0&&t!==0,o=aa(),c=or();v.useLayoutEffect(()=>s?(c(UG({zIndex:t})),()=>{c($G({zIndex:t}))}):Bl,[c,t,s]);var d=Be(f=>AG(f,t,o));if(!s)return r;if(!d)return null;var h=document.getElementById(d);return h?am.createPortal(r,h):null}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gy.apply(null,arguments)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(a){qG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return v.isValidElement(t)?v.cloneElement(t,a):v.createElement(r,a)}function YG(e){var t,{coordinate:r,payload:a,index:s,offset:o,tooltipAxisBandSize:c,layout:d,cursor:h,tooltipEventType:f,chartName:m}=e,g=r,x=a,y=s;if(!h||!g||m!=="ScatterChart"&&f!=="axis")return null;var N,_,w;if(m==="ScatterChart")N=g,_=_z,w=Mr.cursorLine;else if(m==="BarChart")N=Ez(d,g,o,c),_=t9,w=Mr.cursorRectangle;else if(d==="radial"&&TT(g)){var{cx:E,cy:k,radius:S,startAngle:T,endAngle:C}=IO(g);N={cx:E,cy:k,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},_=p9,w=Mr.cursorLine}else N={points:g9(d,g,o)},_=Wh,w=Mr.cursorLine;var O=typeof h=="object"&&"className"in h?h.className:void 0,M=Ph(Ph(Ph(Ph({stroke:"#ccc",pointerEvents:"none"},o),N),lm(h)),{},{payload:x,payloadIndex:y,className:Nt("recharts-tooltip-cursor",O)});return v.createElement(ws,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},v.createElement(VG,{cursor:h,cursorComp:_,cursorProps:M}))}function WG(e){var t=mG(),r=SO(),a=Nm(),s=V4();return t==null||r==null||a==null||s==null?null:v.createElement(YG,gy({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var Q4=v.createContext(null),XG=()=>v.useContext(Q4),Y0={exports:{}},ak;function KG(){return ak||(ak=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function o(h,f,m,g,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new s(m,g||h,x),N=r?r+f:f;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],y]:h._events[N].push(y):(h._events[N]=y,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new a:delete h._events[f]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},d.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,y=g.length,N=new Array(y);x<y;x++)N[x]=g[x].fn;return N},d.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},d.prototype.emit=function(f,m,g,x,y,N){var _=r?r+f:f;if(!this._events[_])return!1;var w=this._events[_],E=arguments.length,k,S;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,g),!0;case 4:return w.fn.call(w.context,m,g,x),!0;case 5:return w.fn.call(w.context,m,g,x,y),!0;case 6:return w.fn.call(w.context,m,g,x,y,N),!0}for(S=1,k=new Array(E-1);S<E;S++)k[S-1]=arguments[S];w.fn.apply(w.context,k)}else{var T=w.length,C;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(f,w[S].fn,void 0,!0),E){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,m);break;case 3:w[S].fn.call(w[S].context,m,g);break;case 4:w[S].fn.call(w[S].context,m,g,x);break;default:if(!k)for(C=1,k=new Array(E-1);C<E;C++)k[C-1]=arguments[C];w[S].fn.apply(w[S].context,k)}}return!0},d.prototype.on=function(f,m,g){return o(this,f,m,g,!1)},d.prototype.once=function(f,m,g){return o(this,f,m,g,!0)},d.prototype.removeListener=function(f,m,g,x){var y=r?r+f:f;if(!this._events[y])return this;if(!m)return c(this,y),this;var N=this._events[y];if(N.fn)N.fn===m&&(!x||N.once)&&(!g||N.context===g)&&c(this,y);else{for(var _=0,w=[],E=N.length;_<E;_++)(N[_].fn!==m||x&&!N[_].once||g&&N[_].context!==g)&&w.push(N[_]);w.length?this._events[y]=w.length===1?w[0]:w:c(this,y)}return this},d.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&c(this,m)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Y0)),Y0.exports}var JG=KG();const QG=on(JG);var Eu=new QG,xy="recharts.syncEvent.tooltip",nk="recharts.syncEvent.brush";function ZG(e,t){if(t){var r=Number.parseInt(t,10);if(!an(r))return e==null?void 0:e[r]}}var eV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Z4=ra({name:"options",initialState:eV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tV=Z4.reducer,{createEventEmitter:rV}=Z4.actions;function aV(e){return e.tooltip.syncInteraction}var nV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eR=ra({name:"chartData",initialState:nV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:sk,setDataStartEndIndexes:sV,setComputedData:cne}=eR.actions,iV=eR.reducer,oV=["x","y"];function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(a){lV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lV(e,t,r){return(t=cV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dV(e,t){if(e==null)return{};var r,a,s=hV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function fV(){var e=Be(Ub),t=Be($b),r=or(),a=Be(P5),s=Be(bs),o=Nm(),c=jm(),d=Be(h=>h.rootProps.className);v.useEffect(()=>{if(e==null)return Bl;var h=(f,m,g)=>{if(t!==g&&e===f){if(a==="index"){var x;if(c&&m!==null&&m!==void 0&&(x=m.payload)!==null&&x!==void 0&&x.coordinate&&m.payload.sourceViewBox){var y=m.payload.coordinate,{x:N,y:_}=y,w=dV(y,oV),{x:E,y:k,width:S,height:T}=m.payload.sourceViewBox,C=nl(nl({},w),{},{x:c.x+(S?(N-E)/S:0)*c.width,y:c.y+(T?(_-k)/T:0)*c.height});r(nl(nl({},m),{},{payload:nl(nl({},m.payload),{},{coordinate:C})}))}else r(m);return}if(s!=null){var O;if(typeof a=="function"){var M={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=a(s,M);O=s[L]}else a==="value"&&(O=s.find(P=>String(P.value)===m.payload.label));var{coordinate:z}=m.payload;if(O==null||m.payload.active===!1||z==null||c==null){r(my({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:G,y:F}=z,se=Math.min(G,c.x+c.width),J=Math.min(F,c.y+c.height),xe={x:o==="horizontal"?O.coordinate:se,y:o==="horizontal"?J:O.coordinate},be=my({active:m.payload.active,coordinate:xe,dataKey:m.payload.dataKey,index:String(O.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});r(be)}}};return Eu.on(xy,h),()=>{Eu.off(xy,h)}},[d,r,t,e,a,s,o,c])}function mV(){var e=Be(Ub),t=Be($b),r=or();v.useEffect(()=>{if(e==null)return Bl;var a=(s,o,c)=>{t!==c&&e===s&&r(sV(o))};return Eu.on(nk,a),()=>{Eu.off(nk,a)}},[r,t,e])}function pV(){var e=or();v.useEffect(()=>{e(rV())},[e]),fV(),mV()}function gV(e,t,r,a,s,o){var c=Be(y=>jG(y,e,t)),d=Be($b),h=Be(Ub),f=Be(P5),m=Be(aV),g=m==null?void 0:m.active,x=jm();v.useEffect(()=>{if(!g&&h!=null&&d!=null){var y=my({active:o,coordinate:r,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:x});Eu.emit(xy,h,y,d)}},[g,r,c,s,a,d,h,f,o,x])}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(a){xV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xV(e,t,r){return(t=vV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=yV(e,"string");return typeof t=="symbol"?t:t+""}function yV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bV(e){return e.dataKey}function wV(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(rz,t)}var ck=[],jV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!zl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function NV(e){var t,r,a=Na(e,jV),{active:s,allowEscapeViewBox:o,animationDuration:c,animationEasing:d,content:h,filterNull:f,isAnimationActive:m,offset:g,payloadUniqBy:x,position:y,reverseDirection:N,useTranslate3d:_,wrapperStyle:w,cursor:E,shared:k,trigger:S,defaultIndex:T,portal:C,axisId:O}=a,M=or(),L=typeof T=="number"?String(T):T;v.useEffect(()=>{M(wH({shared:k,trigger:S,axisId:O,active:s,defaultIndex:L}))},[M,k,S,O,s,L]);var z=jm(),G=TO(),F=gH(k),{activeIndex:se,isActive:J}=(t=Be(me=>EG(me,F,S,L)))!==null&&t!==void 0?t:{},xe=Be(me=>_G(me,F,S,L)),be=Be(me=>K4(me,F,S,L)),P=Be(me=>NG(me,F,S,L)),X=xe,K=XG(),he=(r=s??J)!==null&&r!==void 0?r:!1,[V,R]=a$([X,he]),H=F==="axis"?be:void 0;gV(F,S,P,H,se,he);var ee=C??K;if(ee==null||z==null||F==null)return null;var de=X??ck;he||(de=ck),f&&de.length&&(de=A8(de.filter(me=>me.value!=null&&(me.hide!==!0||a.includeHidden)),x,bV));var je=de.length>0,I=v.createElement(cz,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:m,active:he,coordinate:P,hasPayload:je,offset:g,position:y,reverseDirection:N,useTranslate3d:_,viewBox:z,wrapperStyle:w,lastBoundingBox:V,innerRef:R,hasPortalFromProps:!!C},wV(h,lk(lk({},a),{},{payload:de,label:H,active:he,activeIndex:se,coordinate:P,accessibilityLayer:G})));return v.createElement(v.Fragment,null,am.createPortal(I,ee),he&&v.createElement(WG,{cursor:E,tooltipEventType:F,coordinate:P,payload:de,index:se}))}function _V(e,t,r){return(t=EV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kV{constructor(t){_V(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function CV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(a){AV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AV(e,t,r){return(t=TV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TV(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RV={cacheSize:2e3,enableCache:!0},tR=CV({},RV),dk=new kV(tR.cacheSize),DV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hk="recharts_measurement_span";function PV(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(c,"|").concat(d)}var fk=(e,t)=>{try{var r=document.getElementById(hk);r||(r=document.createElement("span"),r.setAttribute("id",hk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,DV,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},ou=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zl.isSsr)return{width:0,height:0};if(!tR.enableCache)return fk(t,r);var a=PV(t,r),s=dk.get(a);if(s)return s;var o=fk(t,r);return dk.set(a,o),o},mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LV=Object.keys(rR),fl="NaN";function UV(e,t){return e*rR[t]}class Jr{static parse(t){var r,[,a,s]=(r=IV.exec(t))!==null&&r!==void 0?r:[];return new Jr(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,an(t)&&(this.unit=""),r!==""&&!MV.test(r)&&(this.num=NaN,this.unit=""),LV.includes(r)&&(this.num=UV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Jr(NaN,""):new Jr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jr(NaN,""):new Jr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jr(NaN,""):new Jr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jr(NaN,""):new Jr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return an(this.num)}}function aR(e){if(e.includes(fl))return fl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,o]=(r=mk.exec(t))!==null&&r!==void 0?r:[],c=Jr.parse(a??""),d=Jr.parse(o??""),h=s==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return fl;t=t.replace(mk,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,x]=(f=pk.exec(t))!==null&&f!==void 0?f:[],y=Jr.parse(m??""),N=Jr.parse(x??""),_=g==="+"?y.add(N):y.subtract(N);if(_.isNaN())return fl;t=t.replace(pk,_.toString())}return t}var gk=/\(([^()]*)\)/;function $V(e){for(var t=e,r;(r=gk.exec(t))!=null;){var[,a]=r;t=t.replace(gk,aR(a))}return t}function BV(e){var t=e.replace(/\s+/g,"");return t=$V(t),t=aR(t),t}function zV(e){try{return BV(e)}catch{return fl}}function W0(e){var t=zV(e.slice(5,-1));return t===fl?"":t}var FV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],qV=["dx","dy","angle","className","breakAll"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vy.apply(null,arguments)}function xk(e,t){if(e==null)return{};var r,a,s=HV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function HV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var nR=/[ \f\n\r\t\v\u2028\u2029]+/,sR=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];yr(t)||(r?s=t.toString().split(""):s=t.toString().split(nR));var o=s.map(d=>({word:d,width:ou(d,a).width})),c=r?0:ou("",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}};function GV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var iR=(e,t,r,a)=>e.reduce((s,o)=>{var{word:c,width:d}=o,h=s[s.length-1];if(h&&d!=null&&(t==null||a||h.width+d+r<Number(t)))h.words.push(c),h.width+=d+r;else{var f={words:[c],width:d};s.push(f)}return s},[]),oR=e=>e.reduce((t,r)=>t.width>r.width?t:r),VV="",vk=(e,t,r,a,s,o,c,d)=>{var h=e.slice(0,t),f=sR({breakAll:r,style:a,children:h+VV});if(!f)return[!1,[]];var m=iR(f.wordsWithComputedWidth,o,c,d),g=m.length>s||oR(m).width>Number(o);return[g,m]},YV=(e,t,r,a,s)=>{var{maxLines:o,children:c,style:d,breakAll:h}=e,f=Ue(o),m=String(c),g=iR(t,a,r,s);if(!f||s)return g;var x=g.length>o||oR(g).width>Number(a);if(!x)return g;for(var y=0,N=m.length-1,_=0,w;y<=N&&_<=m.length-1;){var E=Math.floor((y+N)/2),k=E-1,[S,T]=vk(m,k,h,d,o,a,r,s),[C]=vk(m,E,h,d,o,a,r,s);if(!S&&!C&&(y=E+1),S&&C&&(N=E-1),!S&&C){w=T;break}_++}return w||g},yk=e=>{var t=yr(e)?[]:e.toString().split(nR);return[{words:t,width:void 0}]},WV=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:o,maxLines:c}=e;if((t||r)&&!zl.isSsr){var d,h,f=sR({breakAll:o,children:a,style:s});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;d=m,h=g}else return yk(a);return YV({breakAll:o,children:a,maxLines:c,style:s},d,h,t,!!r)}return yk(a)},lR="#808080",XV={breakAll:!1,capHeight:"0.71em",fill:lR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cw=v.forwardRef((e,t)=>{var r=Na(e,XV),{x:a,y:s,lineHeight:o,capHeight:c,fill:d,scaleToFit:h,textAnchor:f,verticalAnchor:m}=r,g=xk(r,FV),x=v.useMemo(()=>WV({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:y,dy:N,angle:_,className:w,breakAll:E}=g,k=xk(g,qV);if(!Sn(a)||!Sn(s)||x.length===0)return null;var S=Number(a)+(Ue(y)?y:0),T=Number(s)+(Ue(N)?N:0);if(!Rt(S)||!Rt(T))return null;var C;switch(m){case"start":C=W0("calc(".concat(c,")"));break;case"middle":C=W0("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:C=W0("calc(".concat(x.length-1," * -").concat(o,")"));break}var O=[];if(h){var M=x[0].width,{width:L}=g;O.push("scale(".concat(Ue(L)&&Ue(M)?L/M:1,")"))}return _&&O.push("rotate(".concat(_,", ").concat(S,", ").concat(T,")")),O.length&&(k.transform=O.join(" ")),v.createElement("text",vy({},Ba(k),{ref:t,x:S,y:T,className:Nt("recharts-text",w),textAnchor:f,fill:d.includes("url")?lR:d}),x.map((z,G)=>{var F=z.words.join(E?"":" ");return v.createElement("tspan",{x:S,dy:G===0?C:o,key:"".concat(F,"-").concat(G)},F)}))});cw.displayName="Text";var KV=["labelRef"];function JV(e,t){if(e==null)return{};var r,a,s=QV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(a){ZV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZV(e,t,r){return(t=eY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jn.apply(null,arguments)}var cR=v.createContext(null),rY=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:o,height:c,children:d}=e,h=v.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:o,height:c}),[t,r,a,s,o,c]);return v.createElement(cR.Provider,{value:h},d)},uR=()=>{var e=v.useContext(cR),t=jm();return e||EO(t)},aY=v.createContext(null),nY=()=>{var e=v.useContext(aY),t=Be($5);return e||t},sY=e=>{var{value:t,formatter:r}=e,a=yr(e.children)?t:e.children;return typeof r=="function"?r(a):a},uw=e=>e!=null&&typeof e=="function",iY=(e,t)=>{var r=La(t-e),a=Math.min(Math.abs(t-e),360);return r*a},oY=(e,t,r,a,s)=>{var{offset:o,className:c}=e,{cx:d,cy:h,innerRadius:f,outerRadius:m,startAngle:g,endAngle:x,clockWise:y}=s,N=(f+m)/2,_=iY(g,x),w=_>=0?1:-1,E,k;switch(t){case"insideStart":E=g+w*o,k=y;break;case"insideEnd":E=x-w*o,k=!y;break;case"end":E=x+w*o,k=y;break;default:throw new Error("Unsupported position ".concat(t))}k=_<=0?k:!k;var S=vr(d,h,N,E),T=vr(d,h,N,E+(k?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(k?0:1,`,
    `).concat(T.x,",").concat(T.y),O=yr(e.id)?mu("recharts-radial-line-"):e.id;return v.createElement("text",Jn({},a,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:O,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(O)},r))},lY=(e,t,r)=>{var{cx:a,cy:s,innerRadius:o,outerRadius:c,startAngle:d,endAngle:h}=e,f=(d+h)/2;if(r==="outside"){var{x:m,y:g}=vr(a,s,c+t,f);return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(o+c)/2,{x:y,y:N}=vr(a,s,x,f);return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},yy=e=>"cx"in e&&Ue(e.cx),cY=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,o;r!=null&&!yy(r)&&(o=r);var{x:c,y:d,upperWidth:h,lowerWidth:f,height:m}=t,g=c,x=c+(h-f)/2,y=(g+x)/2,N=(h+f)/2,_=g+h/2,w=m>=0?1:-1,E=w*a,k=w>0?"end":"start",S=w>0?"start":"end",T=h>=0?1:-1,C=T*a,O=T>0?"end":"start",M=T>0?"start":"end";if(s==="top"){var L={x:g+h/2,y:d-E,textAnchor:"middle",verticalAnchor:k};return It(It({},L),o?{height:Math.max(d-o.y,0),width:h}:{})}if(s==="bottom"){var z={x:x+f/2,y:d+m+E,textAnchor:"middle",verticalAnchor:S};return It(It({},z),o?{height:Math.max(o.y+o.height-(d+m),0),width:f}:{})}if(s==="left"){var G={x:y-C,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return It(It({},G),o?{width:Math.max(G.x-o.x,0),height:m}:{})}if(s==="right"){var F={x:y+N+C,y:d+m/2,textAnchor:M,verticalAnchor:"middle"};return It(It({},F),o?{width:Math.max(o.x+o.width-F.x,0),height:m}:{})}var se=o?{width:N,height:m}:{};return s==="insideLeft"?It({x:y+C,y:d+m/2,textAnchor:M,verticalAnchor:"middle"},se):s==="insideRight"?It({x:y+N-C,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},se):s==="insideTop"?It({x:g+h/2,y:d+E,textAnchor:"middle",verticalAnchor:S},se):s==="insideBottom"?It({x:x+f/2,y:d+m-E,textAnchor:"middle",verticalAnchor:k},se):s==="insideTopLeft"?It({x:g+C,y:d+E,textAnchor:M,verticalAnchor:S},se):s==="insideTopRight"?It({x:g+h-C,y:d+E,textAnchor:O,verticalAnchor:S},se):s==="insideBottomLeft"?It({x:x+C,y:d+m-E,textAnchor:M,verticalAnchor:k},se):s==="insideBottomRight"?It({x:x+f-C,y:d+m-E,textAnchor:O,verticalAnchor:k},se):s&&typeof s=="object"&&(Ue(s.x)||ss(s.x))&&(Ue(s.y)||ss(s.y))?It({x:c+ii(s.x,N),y:d+ii(s.y,m),textAnchor:"end",verticalAnchor:"end"},se):It({x:_,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},se)},uY={offset:5,zIndex:Mr.label};function Zs(e){var t=Na(e,uY),{viewBox:r,position:a,value:s,children:o,content:c,className:d="",textBreakAll:h,labelRef:f}=t,m=nY(),g=uR(),x=a==="center"?g:m??g,y,N,_;if(r==null?y=x:yy(r)?y=r:y=EO(r),!y||yr(s)&&yr(o)&&!v.isValidElement(c)&&typeof c!="function")return null;var w=It(It({},t),{},{viewBox:y});if(v.isValidElement(c)){var{labelRef:E}=w,k=JV(w,KV);return v.cloneElement(c,k)}if(typeof c=="function"){if(N=v.createElement(c,w),v.isValidElement(N))return N}else N=sY(t);var S=Ba(t);if(yy(y)){if(a==="insideStart"||a==="insideEnd"||a==="end")return oY(t,a,N,S,y);_=lY(y,t.offset,t.position)}else _=cY(t,y);return v.createElement(ws,{zIndex:t.zIndex},v.createElement(cw,Jn({ref:f,className:Nt("recharts-label",d)},S,_,{textAnchor:GV(S.textAnchor)?S.textAnchor:_.textAnchor,breakAll:h}),N))}Zs.displayName="Label";var dY=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?v.createElement(Zs,Jn({key:"label-implicit"},a)):Sn(e)?v.createElement(Zs,Jn({key:"label-implicit",value:e},a)):v.isValidElement(e)?e.type===Zs?v.cloneElement(e,It({key:"label-implicit"},a)):v.createElement(Zs,Jn({key:"label-implicit",content:e},a)):uw(e)?v.createElement(Zs,Jn({key:"label-implicit",content:e},a)):e&&typeof e=="object"?v.createElement(Zs,Jn({},e,{key:"label-implicit"},a)):null};function hY(e){var{label:t,labelRef:r}=e,a=uR();return dY(t,a,r)||null}var X0={},K0={},wk;function fY(){return wk||(wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(K0)),K0}var J0={},jk;function mY(){return jk||(jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(J0)),J0}var Nk;function pY(){return Nk||(Nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fY(),r=mY(),a=ab();function s(o){if(a.isArrayLike(o))return t.last(r.toArray(o))}e.last=s})(X0)),X0}var Q0,_k;function gY(){return _k||(_k=1,Q0=pY().last),Q0}var xY=gY();const vY=on(xY);var yY=["valueAccessor"],bY=["dataKey","clockWise","id","textBreakAll","zIndex"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$f.apply(null,arguments)}function Ek(e,t){if(e==null)return{};var r,a,s=wY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var jY=e=>Array.isArray(e.value)?vY(e.value):e.value,dR=v.createContext(void 0),NY=dR.Provider,hR=v.createContext(void 0);hR.Provider;function _Y(){return v.useContext(dR)}function EY(){return v.useContext(hR)}function Kh(e){var{valueAccessor:t=jY}=e,r=Ek(e,yY),{dataKey:a,clockWise:s,id:o,textBreakAll:c,zIndex:d}=r,h=Ek(r,bY),f=_Y(),m=EY(),g=f||m;return!g||!g.length?null:v.createElement(ws,{zIndex:d??Mr.label},v.createElement(En,{className:"recharts-label-list"},g.map((x,y)=>{var N,_=yr(a)?t(x,y):Lr(x&&x.payload,a),w=yr(o)?{}:{id:"".concat(o,"-").concat(y)};return v.createElement(Zs,$f({key:"label-".concat(y)},Ba(x),h,w,{fill:(N=r.fill)!==null&&N!==void 0?N:x.fill,parentViewBox:x.parentViewBox,value:_,textBreakAll:c,viewBox:x.viewBox,index:y,zIndex:0}))})))}Kh.displayName="LabelList";function SY(e){var{label:t}=e;return t?t===!0?v.createElement(Kh,{key:"labelList-implicit"}):v.isValidElement(t)||uw(t)?v.createElement(Kh,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Kh,$f({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},by.apply(null,arguments)}var fR=e=>{var{cx:t,cy:r,r:a,className:s}=e,o=Nt("recharts-dot",s);return Ue(t)&&Ue(r)&&Ue(a)?v.createElement("circle",by({},rn(e),rb(e),{className:o,cx:t,cy:r,r:a})):null},kY={radiusAxis:{},angleAxis:{}},mR=ra({name:"polarAxis",initialState:kY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:une,removeRadiusAxis:dne,addAngleAxis:hne,removeAngleAxis:fne}=mR.actions,CY=mR.reducer,pR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function AY(e){var{fn:t,args:r}=e,a=or(),s=aa();return v.useLayoutEffect(()=>{if(!s){var o=t(r);return a(yH(o)),()=>{a(bH(o))}}},[t,r,a,s]),null}function TY(e){var{legendPayload:t}=e,r=or(),a=aa();return v.useLayoutEffect(()=>a?Bl:(r(XB(t)),()=>{r(KB(t))}),[r,a,t]),null}var Z0,OY=()=>{var[e]=v.useState(()=>mu("uid-"));return e},RY=(Z0=Dy.useId)!==null&&Z0!==void 0?Z0:OY;function gR(e,t){var r=RY();return t||(e?"".concat(e,"-").concat(r):r)}var DY=v.createContext(void 0),PY=e=>{var{id:t,type:r,children:a}=e,s=gR("recharts-".concat(r),t);return v.createElement(DY.Provider,{value:s},a(s))},MY={cartesianItems:[],polarItems:[]},xR=ra({name:"graphicalItems",initialState:MY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=ts(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:Kt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ts(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Kt()},removePolarGraphicalItem:{reducer(e,t){var r=ts(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Kt()}}}),{addCartesianGraphicalItem:IY,replaceCartesianGraphicalItem:LY,removeCartesianGraphicalItem:UY,addPolarGraphicalItem:mne,removePolarGraphicalItem:pne}=xR.actions,$Y=xR.reducer;function BY(e){var t=or(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(IY(e)):r.current!==e&&t(LY({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(UY(r.current)),r.current=null)},[t]),null}var zY=["points"];function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(a){FY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FY(e,t,r){return(t=qY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bf.apply(null,arguments)}function GY(e,t){if(e==null)return{};var r,a,s=VY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function YY(e){var{option:t,dotProps:r,className:a}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Nt(a,typeof t!="boolean"?t.className:""),o=r??{},{points:c}=o,d=GY(o,zY);return v.createElement(fR,Bf({},d,{className:s}))}function WY(e,t){return e==null?!1:t?!0:e.length===1}function XY(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:o,baseProps:c,needClip:d,clipPathId:h,zIndex:f=Mr.scatter}=e;if(!WY(t,r))return null;var m=pR(r),g=N6(r),x=t.map((N,_)=>{var w,E,k=ev(ev(ev({r:3},c),g),{},{index:_,cx:(w=N.x)!==null&&w!==void 0?w:void 0,cy:(E=N.y)!==null&&E!==void 0?E:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return v.createElement(YY,{key:"dot-".concat(_),option:r,dotProps:k,className:s})}),y={};return d&&h!=null&&(y.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(h,")")),v.createElement(ws,{zIndex:f},v.createElement(En,Bf({className:a},y),x))}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(a){KY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KY(e,t,r){return(t=JY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZY={xAxis:{},yAxis:{},zAxis:{}},vR=ra({name:"cartesianAxis",initialState:ZY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Kt()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&a===o[1]&&a!==s.width&&Math.abs(a-o[0])<=1)return;var c=[...o,a].slice(-3);e.yAxis[r]=Ck(Ck({},e.yAxis[r]),{},{width:a,widthHistory:c})}}}}),{addXAxis:eW,removeXAxis:tW,addYAxis:rW,removeYAxis:aW,addZAxis:gne,removeZAxis:xne,updateYAxisWidth:nW}=vR.actions,sW=vR.reducer,iW=ue([jr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),oW=ue([iW,ps,gs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),dw=()=>Be(oW),lW=()=>Be(cG);function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(a){cW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hW=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=tv(tv(tv({},c),lm(s)),rb(s)),h;return v.isValidElement(s)?h=v.cloneElement(s,d):typeof s=="function"?h=s(d):h=v.createElement(fR,d),v.createElement(En,{className:"recharts-active-dot"},h)};function Tk(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,zIndex:o=Mr.activeDot}=e,c=Be(_u),d=lW();if(t==null||d==null)return null;var h=t.find(f=>d.includes(f.payload));return yr(h)?null:v.createElement(ws,{zIndex:o},v.createElement(hW,{point:h,childIndex:Number(c),mainColor:r,dataKey:s,activeDot:a}))}var fW={},yR=ra({name:"errorBars",initialState:fW,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===a.dataKey&&o.direction===a.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:vne,replaceErrorBar:yne,removeErrorBar:bne}=yR.actions,mW=yR.reducer;function bR(e,t){var r,a,s=Be(f=>vs(f,e)),o=Be(f=>ys(f,t)),c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:da.allowDataOverflow,d=(a=o==null?void 0:o.allowDataOverflow)!==null&&a!==void 0?a:ha.allowDataOverflow,h=c||d;return{needClip:h,needClipX:c,needClipY:d}}function pW(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=dw(),{needClipX:o,needClipY:c,needClip:d}=bR(t,r);if(!d||!s)return null;var{x:h,y:f,width:m,height:g}=s;return v.createElement("clipPath",{id:"clipPath-".concat(a)},v.createElement("rect",{x:o?h:h-m/2,y:c?f:f-g/2,width:o?m:m*2,height:c?g:g*2}))}var gW=e=>{var{chartData:t}=e,r=or(),a=aa();return v.useEffect(()=>a?()=>{}:(r(sk(t)),()=>{r(sk(void 0))}),[t,r,a]),null},Ok={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wR=ra({name:"brush",initialState:Ok,reducers:{setBrushSettings(e,t){return t.payload==null?Ok:t.payload}}}),{setBrushSettings:wne}=wR.actions,xW=wR.reducer;function vW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hw{static create(t){return new hw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}vW(hw,"EPS",1e-4);function wW(e){return(e%180+180)%180}var jW=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=wW(s),c=o*Math.PI/180,d=Math.atan(a/r),h=c>d&&c<Math.PI-d?a/Math.sin(c):r/Math.cos(c);return Math.abs(h)},NW={dots:[],areas:[],lines:[]},jR=ra({name:"referenceElements",initialState:NW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ts(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ts(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ts(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:jne,removeDot:Nne,addArea:_ne,removeArea:Ene,addLine:Sne,removeLine:kne}=jR.actions,_W=jR.reducer,EW=v.createContext(void 0),SW=e=>{var{children:t}=e,[r]=v.useState("".concat(mu("recharts"),"-clip")),a=dw();if(a==null)return null;var{x:s,y:o,width:c,height:d}=a;return v.createElement(EW.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:s,y:o,height:d,width:c}))),t)};function Tl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function NR(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function kW(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return jW(a,r)}function CW(e,t,r){var a=r==="width",{x:s,y:o,width:c,height:d}=e;return t===1?{start:a?s:o,end:a?s+c:o+d}:{start:a?s+c:o+d,end:a?s:o}}function zf(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-s)<=0}function AW(e,t){return NR(e,t+1)}function TW(e,t,r,a,s){for(var o=(a||[]).slice(),{start:c,end:d}=t,h=0,f=1,m=c,g=function(){var N=a==null?void 0:a[h];if(N===void 0)return{v:NR(a,f)};var _=h,w,E=()=>(w===void 0&&(w=r(N,_)),w),k=N.coordinate,S=h===0||zf(e,k,E,m,d);S||(h=0,m=c,f+=1),S&&(m=k+e*(E()/2+s),h+=f)},x;f<=o.length;)if(x=g(),x)return x.v;return[]}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(a){OW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e,t,r,a,s){for(var o=(a||[]).slice(),c=o.length,{start:d}=t,{end:h}=t,f=function(x){var y=o[x],N,_=()=>(N===void 0&&(N=r(y,x)),N);if(x===c-1){var w=e*(y.coordinate+e*_()/2-h);o[x]=y=kr(kr({},y),{},{tickCoord:w>0?y.coordinate-w*e:y.coordinate})}else o[x]=y=kr(kr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var E=zf(e,y.tickCoord,_,d,h);E&&(h=y.tickCoord-e*(_()/2+s),o[x]=kr(kr({},y),{},{isShow:!0}))}},m=c-1;m>=0;m--)f(m);return o}function MW(e,t,r,a,s,o){var c=(a||[]).slice(),d=c.length,{start:h,end:f}=t;if(o){var m=a[d-1],g=r(m,d-1),x=e*(m.coordinate+e*g/2-f);if(c[d-1]=m=kr(kr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate}),m.tickCoord!=null){var y=zf(e,m.tickCoord,()=>g,h,f);y&&(f=m.tickCoord-e*(g/2+s),c[d-1]=kr(kr({},m),{},{isShow:!0}))}}for(var N=o?d-1:d,_=function(k){var S=c[k],T,C=()=>(T===void 0&&(T=r(S,k)),T);if(k===0){var O=e*(S.coordinate-e*C()/2-h);c[k]=S=kr(kr({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else c[k]=S=kr(kr({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var M=zf(e,S.tickCoord,C,h,f);M&&(h=S.tickCoord+e*(C()/2+s),c[k]=kr(kr({},S),{},{isShow:!0}))}},w=0;w<N;w++)_(w);return c}function fw(e,t,r){var{tick:a,ticks:s,viewBox:o,minTickGap:c,orientation:d,interval:h,tickFormatter:f,unit:m,angle:g}=e;if(!s||!s.length||!a)return[];if(Ue(h)||zl.isSsr){var x;return(x=AW(s,Ue(h)?h:0))!==null&&x!==void 0?x:[]}var y=[],N=d==="top"||d==="bottom"?"width":"height",_=m&&N==="width"?ou(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(S,T)=>{var C=typeof f=="function"?f(S.value,T):S.value;return N==="width"?kW(ou(C,{fontSize:t,letterSpacing:r}),_,g):ou(C,{fontSize:t,letterSpacing:r})[N]},E=s.length>=2?La(s[1].coordinate-s[0].coordinate):1,k=CW(o,E,N);return h==="equidistantPreserveStart"?TW(E,k,w,s,c):(h==="preserveStart"||h==="preserveStartEnd"?y=MW(E,k,w,s,c,h==="preserveStartEnd"):y=PW(E,k,w,s,c),y.filter(S=>S.isShow))}var IW=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:o=0}=e,c=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,h=s+o,f=c+h+d+(r?a:0);return Math.round(f)}return 0},LW=["axisLine","width","height","className","hide","ticks","axisType"],UW=["viewBox"],$W=["viewBox"];function wy(e,t){if(e==null)return{};var r,a,s=BW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BW(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},io.apply(null,arguments)}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(a){zW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zW(e,t,r){return(t=FW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mw={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mr.axis};function HW(e){var{x:t,y:r,width:a,height:s,orientation:o,mirror:c,axisLine:d,otherSvgProps:h}=e;if(!d)return null;var f=qt(qt(qt({},h),rn(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!c||o==="bottom"&&c);f=qt(qt({},f),{},{x1:t,y1:r+m*s,x2:t+a,y2:r+m*s})}else{var g=+(o==="left"&&!c||o==="right"&&c);f=qt(qt({},f),{},{x1:t+g*a,y1:r,x2:t+g*a,y2:r+s})}return v.createElement("line",io({},f,{className:Nt("recharts-cartesian-axis-line",dm(d,"className"))}))}function GW(e,t,r,a,s,o,c,d,h){var f,m,g,x,y,N,_=d?-1:1,w=e.tickSize||c,E=Ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=m=e.coordinate,x=r+ +!d*s,g=x-_*w,N=g-_*h,y=E;break;case"left":g=x=e.coordinate,m=t+ +!d*a,f=m-_*w,y=f-_*h,N=E;break;case"right":g=x=e.coordinate,m=t+ +d*a,f=m+_*w,y=f+_*h,N=E;break;default:f=m=e.coordinate,x=r+ +d*s,g=x+_*w,N=g+_*h,y=E;break}return{line:{x1:f,y1:g,x2:m,y2:x},tick:{x:y,y:N}}}function VW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function YW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function WW(e){var{option:t,tickProps:r,value:a}=e,s,o=Nt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,qt(qt({},r),{},{className:o}));else if(typeof t=="function")s=t(qt(qt({},r),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Nt(c,t==null?void 0:t.className)),s=v.createElement(cw,io({},r,{className:c}),a)}return s}var XW=v.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:o,tickFormatter:c,unit:d,padding:h,tickTextProps:f,orientation:m,mirror:g,x,y,width:N,height:_,tickSize:w,tickMargin:E,fontSize:k,letterSpacing:S,getTicksConfig:T,events:C,axisType:O}=e,M=fw(qt(qt({},T),{},{ticks:r}),k,S),L=VW(m,g),z=YW(m,g),G=rn(T),F=lm(a),se={};typeof s=="object"&&(se=s);var J=qt(qt({},G),{},{fill:"none"},se),xe=M.map(X=>qt({entry:X},GW(X,x,y,N,_,m,w,g,E))),be=xe.map(X=>{var{entry:K,line:he}=X;return v.createElement(En,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},s&&v.createElement("line",io({},J,he,{className:Nt("recharts-cartesian-axis-tick-line",dm(s,"className"))})))}),P=xe.map((X,K)=>{var{entry:he,tick:V}=X,R=qt(qt(qt(qt({textAnchor:L,verticalAnchor:z},G),{},{stroke:"none",fill:o},F),V),{},{index:K,payload:he,visibleTicksCount:M.length,tickFormatter:c,padding:h},f);return v.createElement(En,io({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},s8(C,he,K)),a&&v.createElement(WW,{option:a,tickProps:R,value:"".concat(typeof c=="function"?c(he.value,K):he.value).concat(d||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},P.length>0&&v.createElement(ws,{zIndex:Mr.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},P)),be.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},be))}),KW=v.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:o,hide:c,ticks:d,axisType:h}=e,f=wy(e,LW),[m,g]=v.useState(""),[x,y]=v.useState(""),N=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return IW({ticks:N.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=v.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=E;var k=E[0];if(k){var S=window.getComputedStyle(k),T=S.fontSize,C=S.letterSpacing;(T!==m||C!==x)&&(g(T),y(C))}}},[m,x]);return c||a!=null&&a<=0||s!=null&&s<=0?null:v.createElement(ws,{zIndex:e.zIndex},v.createElement(En,{className:Nt("recharts-cartesian-axis",o)},v.createElement(HW,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:rn(e)}),v.createElement(XW,{ref:_,axisType:h,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(rY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(hY,{label:e.label,labelRef:e.labelRef}),e.children)))}),JW=v.memo(KW,(e,t)=>{var{viewBox:r}=e,a=wy(e,UW),{viewBox:s}=t,o=wy(t,$W);return Tl(r,s)&&Tl(a,o)}),pw=v.forwardRef((e,t)=>{var r=Na(e,mw);return v.createElement(JW,io({},r,{ref:t}))});pw.displayName="CartesianAxis";var QW=["x1","y1","x2","y2","key"],ZW=["offset"],eX=["xAxisId","yAxisId"],tX=["xAxisId","yAxisId"];function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(a){rX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rX(e,t,r){return(t=aX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ki.apply(null,arguments)}function Ff(e,t){if(e==null)return{};var r,a,s=sX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var iX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:o,height:c,ry:d}=e;return v.createElement("rect",{x:a,y:s,ry:d,width:o,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _R(e){var{option:t,lineItemProps:r}=e,a;if(v.isValidElement(t))a=v.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:o,y1:c,x2:d,y2:h,key:f}=r,m=Ff(r,QW),g=(s=rn(m))!==null&&s!==void 0?s:{},{offset:x}=g,y=Ff(g,ZW);a=v.createElement("line",Ki({},y,{x1:o,y1:c,x2:d,y2:h,fill:"none",key:f}))}return a}function oX(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,d=Ff(e,eX),h=s.map((f,m)=>{var g=Ar(Ar({},d),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return v.createElement(_R,{key:"line-".concat(m),option:a,lineItemProps:g})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function lX(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,d=Ff(e,tX),h=s.map((f,m)=>{var g=Ar(Ar({},d),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return v.createElement(_R,{option:a,lineItemProps:g,key:"line-".concat(m)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function cX(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:o,height:c,horizontalPoints:d,horizontal:h=!0}=e;if(!h||!t||!t.length||d==null)return null;var f=d.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==f[0]&&f.unshift(0);var m=f.map((g,x)=>{var y=!f[x+1],N=y?s+c-g:f[x+1]-g;if(N<=0)return null;var _=x%t.length;return v.createElement("rect",{key:"react-".concat(x),y:g,x:a,height:N,width:o,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function uX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:o,width:c,height:d,verticalPoints:h}=e;if(!t||!r||!r.length)return null;var f=h.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==f[0]&&f.unshift(0);var m=f.map((g,x)=>{var y=!f[x+1],N=y?s+c-g:f[x+1]-g;if(N<=0)return null;var _=x%r.length;return v.createElement("rect",{key:"react-".concat(x),x:g,y:o,width:N,height:d,stroke:"none",fill:r[_],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var dX=(e,t)=>{var{xAxis:r,width:a,height:s,offset:o}=e;return xO(fw(Ar(Ar(Ar({},mw),r),{},{ticks:vO(r),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,t)},hX=(e,t)=>{var{yAxis:r,width:a,height:s,offset:o}=e;return xO(fw(Ar(Ar(Ar({},mw),r),{},{ticks:vO(r),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,t)},fX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mr.grid};function ER(e){var t=kO(),r=CO(),a=SO(),s=Ar(Ar({},Na(e,fX)),{},{x:Ue(e.x)?e.x:a.left,y:Ue(e.y)?e.y:a.top,width:Ue(e.width)?e.width:a.width,height:Ue(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:c,x:d,y:h,width:f,height:m,syncWithTicks:g,horizontalValues:x,verticalValues:y}=s,N=aa(),_=Be(z=>Y2(z,"xAxis",o,N)),w=Be(z=>Y2(z,"yAxis",c,N));if(!kn(f)||!kn(m)||!Ue(d)||!Ue(h))return null;var E=s.verticalCoordinatesGenerator||dX,k=s.horizontalCoordinatesGenerator||hX,{horizontalPoints:S,verticalPoints:T}=s;if((!S||!S.length)&&typeof k=="function"){var C=x&&x.length,O=k({yAxis:w?Ar(Ar({},w),{},{ticks:C?x:w.ticks}):void 0,width:t??f,height:r??m,offset:a},C?!0:g);bf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!T||!T.length)&&typeof E=="function"){var M=y&&y.length,L=E({xAxis:_?Ar(Ar({},_),{},{ticks:M?y:_.ticks}):void 0,width:t??f,height:r??m,offset:a},M?!0:g);bf(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(T=L)}return v.createElement(ws,{zIndex:s.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(iX,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(cX,Ki({},s,{horizontalPoints:S})),v.createElement(uX,Ki({},s,{verticalPoints:T})),v.createElement(oX,Ki({},s,{offset:a,horizontalPoints:S,xAxis:_,yAxis:w})),v.createElement(lX,Ki({},s,{offset:a,verticalPoints:T,xAxis:_,yAxis:w}))))}ER.displayName="CartesianGrid";function mX(e){var t=lm(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:o}=t,c=Number(s),d=Number(o);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r,strokeWidth:a}}var SR=(e,t,r,a)=>_4(e,"xAxis",t,a),kR=(e,t,r,a)=>N4(e,"xAxis",t,a),CR=(e,t,r,a)=>_4(e,"yAxis",r,a),AR=(e,t,r,a)=>N4(e,"yAxis",r,a),pX=ue([yt,SR,CR,kR,AR],(e,t,r,a,s)=>ms(e,"xAxis")?yf(t,a,!1):yf(r,s,!1)),gX=(e,t,r,a,s)=>s,TR=ue([G5,gX],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),xX=(e,t,r,a,s)=>{var o,c=TR(e,t,r,a,s);if(c!=null){var d=yt(e),h=ms(d,"xAxis"),f;if(h?f=fy(e,"yAxis",r,a):f=fy(e,"xAxis",t,a),f!=null){var{stackId:m}=c,g=qb(c);if(!(m==null||g==null)){var x=(o=f[m])===null||o===void 0?void 0:o.stackedData;return x==null?void 0:x.find(y=>y.key===g)}}}},vX=ue([yt,SR,CR,kR,AR,xX,Pb,pX,TR,u7],(e,t,r,a,s,o,c,d,h,f)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:x}=c;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:y}=h,N;if(y&&y.length>0?N=y:N=m==null?void 0:m.slice(g,x+1),N!=null)return LX({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:g,areaSettings:h,stackedData:o,displayedData:N,chartBaseValue:f,bandSize:d})}}),yX=["id"],bX=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},to.apply(null,arguments)}function OR(e,t){if(e==null)return{};var r,a,s=wX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(a){jX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(e,t){return e&&e!=="none"?e:t}var EX=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:o,hide:c}=e;return[{inactive:c,dataKey:t,type:o,color:qf(a,s),value:yO(r,t),payload:e}]};function SX(e){var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:o,name:c,hide:d,unit:h}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:yO(c,t),hide:d,type:e.tooltipType,color:qf(a,o),unit:h}}}function kX(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:o,dataKey:c}=a,d=rn(a);return v.createElement(XY,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function CX(e){var{showLabels:t,children:r,points:a}=e,s=a.map(o=>{var c,d,h={x:(c=o.x)!==null&&c!==void 0?c:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ml(ml({},h),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return v.createElement(NY,{value:t?s:void 0},r)}function Ik(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:o}=e,{layout:c,type:d,stroke:h,connectNulls:f,isRange:m}=o,{id:g}=o,x=OR(o,yX),y=rn(x),N=Ba(x);return v.createElement(v.Fragment,null,(t==null?void 0:t.length)>1&&v.createElement(En,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},v.createElement(Wh,to({},N,{id:g,points:t,connectNulls:f,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&v.createElement(Wh,to({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:t})),h!=="none"&&m&&v.createElement(Wh,to({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:r}))),v.createElement(kX,{points:t,props:x,clipPathId:s}))}function AX(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,o=a[0].y,c=a[a.length-1].y;if(!Rt(o)||!Rt(c))return null;var d=t*Math.abs(o-c),h=Math.max(...a.map(f=>f.x||0));return Ue(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(f=>f.x||0),h)),Ue(h)?v.createElement("rect",{x:0,y:o<c?o:o-d,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function TX(e){var{alpha:t,baseLine:r,points:a,strokeWidth:s}=e,o=a[0].x,c=a[a.length-1].x;if(!Rt(o)||!Rt(c))return null;var d=t*Math.abs(o-c),h=Math.max(...a.map(f=>f.y||0));return Ue(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(f=>f.y||0),h)),Ue(h)?v.createElement("rect",{x:o<c?o:o-d,y:0,width:d,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function OX(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:o}=e;return r==="vertical"?v.createElement(AX,{alpha:t,points:a,baseLine:s,strokeWidth:o}):v.createElement(TX,{alpha:t,points:a,baseLine:s,strokeWidth:o})}function RX(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:o}=e,{points:c,baseLine:d,isAnimationActive:h,animationBegin:f,animationDuration:m,animationEasing:g,onAnimationStart:x,onAnimationEnd:y}=a,N=MO(a,"recharts-area-"),[_,w]=v.useState(!1),E=!_,k=v.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),S=v.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]),T=s.current,C=o.current;return v.createElement(CX,{showLabels:E,points:c},a.children,v.createElement(PO,{animationId:N,begin:f,duration:m,isActive:h,easing:g,onAnimationEnd:k,onAnimationStart:S,key:N},O=>{if(T){var M=T.length/c.length,L=O===1?c:c.map((G,F)=>{var se=Math.floor(F*M);if(T[se]){var J=T[se];return ml(ml({},G),{},{x:yn(J.x,G.x,O),y:yn(J.y,G.y,O)})}return G}),z;return Ue(d)?z=yn(C,d,O):yr(d)||an(d)?z=yn(C,0,O):z=d.map((G,F)=>{var se=Math.floor(F*M);if(Array.isArray(C)&&C[se]){var J=C[se];return ml(ml({},G),{},{x:yn(J.x,G.x,O),y:yn(J.y,G.y,O)})}return G}),O>0&&(s.current=L,o.current=z),v.createElement(Ik,{points:L,baseLine:z,needClip:t,clipPathId:r,props:a})}return O>0&&(s.current=c,o.current=d),v.createElement(En,null,h&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(OX,{alpha:O,points:c,baseLine:d,layout:a.layout,strokeWidth:a.strokeWidth}))),v.createElement(En,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(Ik,{points:c,baseLine:d,needClip:t,clipPathId:r,props:a})))}),v.createElement(SY,{label:a.label}))}function DX(e){var{needClip:t,clipPathId:r,props:a}=e,s=v.useRef(null),o=v.useRef();return v.createElement(RX,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:o})}class PX extends v.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:o,left:c,needClip:d,xAxisId:h,yAxisId:f,width:m,height:g,id:x,baseLine:y,zIndex:N}=this.props;if(t)return null;var _=Nt("recharts-area",s),w=x,{r:E,strokeWidth:k}=mX(r),S=pR(r),T=E*2+k;return v.createElement(ws,{zIndex:N},v.createElement(En,{className:_},d&&v.createElement("defs",null,v.createElement(pW,{clipPathId:w,xAxisId:h,yAxisId:f}),!S&&v.createElement("clipPath",{id:"clipPath-dots-".concat(w)},v.createElement("rect",{x:c-T/2,y:o-T/2,width:m+T,height:g+T}))),v.createElement(DX,{needClip:d,clipPathId:w,props:this.props})),v.createElement(Tk,{points:a,mainColor:qf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&v.createElement(Tk,{points:y,mainColor:qf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var RR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!zl.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:Mr.area};function MX(e){var t,r=Na(e,RR),{activeDot:a,animationBegin:s,animationDuration:o,animationEasing:c,connectNulls:d,dot:h,fill:f,fillOpacity:m,hide:g,isAnimationActive:x,legendType:y,stroke:N,xAxisId:_,yAxisId:w}=r,E=OR(r,bX),k=Nm(),S=V4(),{needClip:T}=bR(_,w),C=aa(),{points:O,isRange:M,baseLine:L}=(t=Be(xe=>vX(xe,_,w,C,e.id)))!==null&&t!==void 0?t:{},z=dw();if(k!=="horizontal"&&k!=="vertical"||z==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:G,width:F,x:se,y:J}=z;return!O||!O.length?null:v.createElement(PX,to({},E,{activeDot:a,animationBegin:s,animationDuration:o,animationEasing:c,baseLine:L,connectNulls:d,dot:h,fill:f,fillOpacity:m,height:G,hide:g,layout:k,isAnimationActive:x,isRange:M,legendType:y,needClip:T,points:O,stroke:N,width:F,left:se,top:J,xAxisId:_,yAxisId:w}))}var IX=(e,t,r,a,s)=>{var o=r??t;if(Ue(o))return o;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var h=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return o==="dataMin"?f:o==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]};function LX(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:o,chartBaseValue:c,xAxis:d,yAxis:h,displayedData:f,dataStartIndex:m,xAxisTicks:g,yAxisTicks:x,bandSize:y}=e,N=s&&s.length,_=IX(o,c,r,d,h),w=o==="horizontal",E=!1,k=f.map((T,C)=>{var O;N?O=s[m+C]:(O=Lr(T,a),Array.isArray(O)?E=!0:O=[_,O]);var M=O[1]==null||N&&!t&&Lr(T,a)==null;return w?{x:jS({axis:d,ticks:g,bandSize:y,entry:T,index:C}),y:M?null:h.scale(O[1]),value:O,payload:T}:{x:M?null:d.scale(O[1]),y:jS({axis:h,ticks:x,bandSize:y,entry:T,index:C}),value:O,payload:T}}),S;return N||E?S=k.map(T=>{var C=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:C!=null&&T.y!=null?h.scale(C):null,payload:T.payload}:{x:C!=null?d.scale(C):null,y:T.y,payload:T.payload}}):S=w?h.scale(_):d.scale(_),{points:k,baseLine:S,isRange:E}}function UX(e){var t=Na(e,RR),r=aa();return v.createElement(PY,{id:t.id,type:"area"},a=>v.createElement(v.Fragment,null,v.createElement(TY,{legendPayload:EX(t)}),v.createElement(AY,{fn:SX,args:t}),v.createElement(BY,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:cB(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),v.createElement(MX,to({},t,{id:a}))))}var DR=v.memo(UX);DR.displayName="Area";var $X=["dangerouslySetInnerHTML","ticks"],BX=["id"],zX=["domain"],FX=["domain"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jy.apply(null,arguments)}function Hf(e,t){if(e==null)return{};var r,a,s=qX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function HX(e){var t=or();return v.useLayoutEffect(()=>(t(eW(e)),()=>{t(tW(e))}),[e,t]),null}var GX=e=>{var{xAxisId:t,className:r}=e,a=Be(wO),s=aa(),o="xAxis",c=Be(w=>Yl(w,o,t,s)),d=Be(w=>j4(w,o,t,s)),h=Be(w=>rH(w,t)),f=Be(w=>lH(w,t)),m=Be(w=>z5(w,t));if(h==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,y=Hf(e,$X),{id:N}=m,_=Hf(m,BX);return v.createElement(pw,jy({},y,_,{scale:c,x:f.x,y:f.y,width:h.width,height:h.height,className:Nt("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:d,axisType:o}))},VX={allowDataOverflow:da.allowDataOverflow,allowDecimals:da.allowDecimals,allowDuplicatedCategory:da.allowDuplicatedCategory,height:da.height,hide:!1,mirror:da.mirror,orientation:da.orientation,padding:da.padding,reversed:da.reversed,scale:da.scale,tickCount:da.tickCount,type:da.type,xAxisId:0},YX=e=>{var t,r,a,s,o,c=Na(e,VX);return v.createElement(v.Fragment,null,v.createElement(HX,{interval:(t=c.interval)!==null&&t!==void 0?t:"preserveEnd",id:c.xAxisId,scale:c.scale,type:c.type,padding:c.padding,allowDataOverflow:c.allowDataOverflow,domain:c.domain,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,includeHidden:(r=c.includeHidden)!==null&&r!==void 0?r:!1,reversed:c.reversed,ticks:c.ticks,height:c.height,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(a=c.angle)!==null&&a!==void 0?a:0,minTickGap:(s=c.minTickGap)!==null&&s!==void 0?s:5,tick:(o=c.tick)!==null&&o!==void 0?o:!0,tickFormatter:c.tickFormatter}),v.createElement(GX,c))},WX=(e,t)=>{var{domain:r}=e,a=Hf(e,zX),{domain:s}=t,o=Hf(t,FX);return Tl(a,o)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:Tl({domain:r},{domain:s}):!1},PR=v.memo(YX,WX);PR.displayName="XAxis";var XX=["dangerouslySetInnerHTML","ticks"],KX=["id"],JX=["domain"],QX=["domain"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ny.apply(null,arguments)}function Gf(e,t){if(e==null)return{};var r,a,s=ZX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function eK(e){var t=or();return v.useLayoutEffect(()=>(t(rW(e)),()=>{t(aW(e))}),[e,t]),null}var tK=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,o=v.useRef(null),c=v.useRef(null),d=Be(wO),h=aa(),f=or(),m="yAxis",g=Be(C=>Yl(C,m,t,h)),x=Be(C=>dH(C,t)),y=Be(C=>uH(C,t)),N=Be(C=>j4(C,m,t,h)),_=Be(C=>F5(C,t));if(v.useLayoutEffect(()=>{if(!(a!=="auto"||!x||uw(s)||v.isValidElement(s)||_==null)){var C=o.current;if(C){var O=C.getCalculatedWidth();Math.round(x.width)!==Math.round(O)&&f(nW({id:t,width:O}))}}},[N,x,f,s,t,a,_]),x==null||y==null||_==null)return null;var{dangerouslySetInnerHTML:w,ticks:E}=e,k=Gf(e,XX),{id:S}=_,T=Gf(_,KX);return v.createElement(pw,Ny({},k,T,{ref:o,labelRef:c,scale:g,x:y.x,y:y.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:Nt("recharts-".concat(m," ").concat(m),r),viewBox:d,ticks:N,axisType:m}))},rK={allowDataOverflow:ha.allowDataOverflow,allowDecimals:ha.allowDecimals,allowDuplicatedCategory:ha.allowDuplicatedCategory,hide:!1,mirror:ha.mirror,orientation:ha.orientation,padding:ha.padding,reversed:ha.reversed,scale:ha.scale,tickCount:ha.tickCount,type:ha.type,width:ha.width,yAxisId:0},aK=e=>{var t,r,a,s,o,c=Na(e,rK);return v.createElement(v.Fragment,null,v.createElement(eK,{interval:(t=c.interval)!==null&&t!==void 0?t:"preserveEnd",id:c.yAxisId,scale:c.scale,type:c.type,domain:c.domain,allowDataOverflow:c.allowDataOverflow,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,padding:c.padding,includeHidden:(r=c.includeHidden)!==null&&r!==void 0?r:!1,reversed:c.reversed,ticks:c.ticks,width:c.width,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(a=c.angle)!==null&&a!==void 0?a:0,minTickGap:(s=c.minTickGap)!==null&&s!==void 0?s:5,tick:(o=c.tick)!==null&&o!==void 0?o:!0,tickFormatter:c.tickFormatter}),v.createElement(tK,c))},nK=(e,t)=>{var{domain:r}=e,a=Gf(e,JX),{domain:s}=t,o=Gf(t,QX);return Tl(a,o)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:Tl({domain:r},{domain:s}):!1},MR=v.memo(aK,nK);MR.displayName="YAxis";var rv={exports:{}},av={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function sK(){if(Lk)return av;Lk=1;var e=Ml();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return av.useSyncExternalStoreWithSelector=function(h,f,m,g,x){var y=s(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=c(function(){function w(C){if(!E){if(E=!0,k=C,C=g(C),x!==void 0&&N.hasValue){var O=N.value;if(x(O,C))return S=O}return S=C}if(O=S,r(k,C))return O;var M=g(C);return x!==void 0&&x(O,M)?(k=C,O):(k=C,S=M)}var E=!1,k,S,T=m===void 0?null:m;return[function(){return w(f())},T===null?void 0:function(){return w(T())}]},[f,m,g,x]);var _=a(h,y[0],y[1]);return o(function(){N.hasValue=!0,N.value=_},[_]),d(_),_},av}var Uk;function iK(){return Uk||(Uk=1,rv.exports=sK()),rv.exports}iK();function oK(e){e()}function lK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oK(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var $k={notify(){},get:()=>[]};function cK(e,t){let r,a=$k,s=0,o=!1;function c(_){m();const w=a.subscribe(_);let E=!1;return()=>{E||(E=!0,w(),g())}}function d(){a.notify()}function h(){N.onStateChange&&N.onStateChange()}function f(){return o}function m(){s++,r||(r=e.subscribe(h),a=lK())}function g(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=$k)}function x(){o||(o=!0,m())}function y(){o&&(o=!1,g())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:x,tryUnsubscribe:y,getListeners:()=>a};return N}var uK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dK=uK(),hK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fK=hK(),mK=()=>dK||fK?v.useLayoutEffect:v.useEffect,pK=mK(),nv=Symbol.for("react-redux-context"),sv=typeof globalThis<"u"?globalThis:{};function gK(){if(!v.createContext)return{};const e=sv[nv]??(sv[nv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var xK=gK();function vK(e){const{children:t,context:r,serverState:a,store:s}=e,o=v.useMemo(()=>{const h=cK(s);return{store:s,subscription:h,getServerState:a?()=>a:void 0}},[s,a]),c=v.useMemo(()=>s.getState(),[s]);pK(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,c]);const d=r||xK;return v.createElement(d.Provider,{value:o},t)}var yK=vK,bK=(e,t)=>t,gw=ue([bK,yt,$5,Zt,B4,bs,wG,jr],CG),xw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},IR=za("mouseClick"),LR=Du();LR.startListening({actionCreator:IR,effect:(e,t)=>{var r=e.payload,a=gw(t.getState(),xw(r));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(NH({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var _y=za("mouseMove"),UR=Du();UR.startListening({actionCreator:_y,effect:(e,t)=>{var r=e.payload,a=t.getState(),s=ew(a,a.tooltip.settings.shared),o=gw(a,xw(r));s==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(O4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(T4()))}});var Bk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},$R=ra({name:"rootProps",initialState:Bk,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Bk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),wK=$R.reducer,{updateOptions:jK}=$R.actions,BR=ra({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Cne}=BR.actions,NK=BR.reducer,zR=za("keyDown"),FR=za("focus"),vw=Du();vw.startListening({actionCreator:zR,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=Number(tw(s,Xl(r))),d=bs(r);if(o==="Enter"){var h=Uf(r,"axis","hover",String(s.index));t.dispatch(py({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:h}));return}var f=pH(r),m=f==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,x=c+g*m;if(!(d==null||x>=d.length||x<0)){var y=Uf(r,"axis","hover",String(x));t.dispatch(py({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});vw.startListening({actionCreator:FR,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var o="0",c=Uf(r,"axis","hover",String(o));t.dispatch(py({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:c}))}}}});var Pa=za("externalEvent"),qR=Du();qR.startListening({actionCreator:Pa,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:iG(r),activeDataKey:nG(r),activeIndex:_u(r),activeLabel:q4(r),activeTooltipIndex:_u(r),isTooltipActive:oG(r)};e.payload.handler(a,e.payload.reactEvent)}}});var _K=ue([Wl],e=>e.tooltipItemPayloads),EK=ue([_K,qu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:o}=s;if(o!=null){var c=t(o,r);return c}}}),HR=za("touchMove"),GR=Du();GR.startListening({actionCreator:HR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=ew(a,a.tooltip.settings.shared);if(s==="axis"){var o=gw(a,xw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(O4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(gB),m=(c=h.getAttribute(xB))!==null&&c!==void 0?c:void 0,g=EK(t.getState(),f,m);t.dispatch(jH({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}}});var SK=GT({brush:xW,cartesianAxis:sW,chartData:iV,errorBars:mW,graphicalItems:$Y,layout:Z$,legend:JB,options:tV,polarAxis:CY,polarOptions:NK,referenceElements:_W,rootProps:wK,tooltip:_H,zIndex:FG}),kK=function(t){return _$({reducer:SK,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([LR.middleware,UR.middleware,vw.middleware,qR.middleware,GR.middleware]),enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(aO({type:"raf"}))},devTools:zl.devToolsEnabled})};function CK(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=aa(),o=v.useRef(null);if(s)return r;o.current==null&&(o.current=kK(t));var c=nb;return v.createElement(yK,{context:c,store:o.current},r)}function AK(e){var{layout:t,margin:r}=e,a=or(),s=aa();return v.useEffect(()=>{s||(a(K$(t)),a(X$(r)))},[a,s,t,r]),null}function TK(e){var t=or();return v.useEffect(()=>{t(jK(e))},[t,e]),null}function zk(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",s=gR("".concat(a).concat(t)),o=or();return v.useLayoutEffect(()=>(o(BG({zIndex:t,elementId:s,isPanorama:r})),()=>{o(zG({zIndex:t,isPanorama:r}))}),[o,t,s,r]),v.createElement("g",{id:s})}function Fk(e){var{children:t,isPanorama:r}=e,a=Be(TG);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),o=a.filter(c=>c>0);return v.createElement(v.Fragment,null,s.map(c=>v.createElement(zk,{key:c,zIndex:c,isPanorama:r})),t,o.map(c=>v.createElement(zk,{key:c,zIndex:c,isPanorama:r})))}var OK=["children"];function RK(e,t){if(e==null)return{};var r,a,s=DK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vf.apply(null,arguments)}var PK={width:"100%",height:"100%",display:"block"},MK=v.forwardRef((e,t)=>{var r=kO(),a=CO(),s=TO();if(!kn(r)||!kn(a))return null;var{children:o,otherAttributes:c,title:d,desc:h}=e,f,m;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?m=c.role:m=s?"application":void 0),v.createElement(hT,Vf({},c,{title:d,desc:h,role:m,tabIndex:f,width:r,height:a,style:PK,ref:t}),o)}),IK=e=>{var{children:t}=e,r=Be(wm);if(!r)return null;var{width:a,height:s,y:o,x:c}=r;return v.createElement(hT,{width:a,height:s,x:c,y:o},t)},qk=v.forwardRef((e,t)=>{var{children:r}=e,a=RK(e,OK),s=aa();return s?v.createElement(IK,null,v.createElement(Fk,{isPanorama:!0},r)):v.createElement(MK,Vf({ref:t},a),v.createElement(Fk,{isPanorama:!1},r))});function LK(){var e=or(),[t,r]=v.useState(null),a=Be(pB);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;Rt(o)&&o!==a&&e(Q$(o))}},[t,e,a]),r}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function UK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(a){$K(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $K(e,t,r){return(t=BK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oo.apply(null,arguments)}var FK=()=>(pV(),null);function Yf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var qK=v.forwardRef((e,t)=>{var r,a,s=v.useRef(null),[o,c]=v.useState({containerWidth:Yf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Yf((a=e.style)===null||a===void 0?void 0:a.height)}),d=v.useCallback((f,m)=>{c(g=>{var x=Math.round(f),y=Math.round(m);return g.containerWidth===x&&g.containerHeight===y?g:{containerWidth:x,containerHeight:y}})},[]),h=v.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=f.getBoundingClientRect();d(m,g);var x=N=>{var{width:_,height:w}=N[0].contentRect;d(_,w)},y=new ResizeObserver(x);y.observe(f),s.current=y}},[t,d]);return v.useEffect(()=>()=>{var f=s.current;f!=null&&f.disconnect()},[d]),v.createElement(v.Fragment,null,v.createElement(_m,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",oo({ref:h},e)))}),HK=v.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,o]=v.useState({containerWidth:Yf(r),containerHeight:Yf(a)}),c=v.useCallback((h,f)=>{o(m=>{var g=Math.round(h),x=Math.round(f);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),d=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:m}=h.getBoundingClientRect();c(f,m)}},[t,c]);return v.createElement(v.Fragment,null,v.createElement(_m,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",oo({ref:d},e)))}),GK=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return v.createElement(v.Fragment,null,v.createElement(_m,{width:r,height:a}),v.createElement("div",oo({ref:t},e)))}),VK=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return ss(r)||ss(a)?v.createElement(HK,oo({},e,{ref:t})):v.createElement(GK,oo({},e,{ref:t}))});function YK(e){return e===!0?qK:VK}var WK=v.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:o,onContextMenu:c,onDoubleClick:d,onMouseDown:h,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:x,onTouchEnd:y,onTouchMove:N,onTouchStart:_,style:w,width:E,responsive:k,dispatchTouchEvents:S=!0}=e,T=v.useRef(null),C=or(),[O,M]=v.useState(null),[L,z]=v.useState(null),G=LK(),F=ub(),se=(F==null?void 0:F.width)>0?F.width:E,J=(F==null?void 0:F.height)>0?F.height:s,xe=v.useCallback(ne=>{G(ne),typeof t=="function"&&t(ne),M(ne),z(ne),ne!=null&&(T.current=ne)},[G,t,M,z]),be=v.useCallback(ne=>{C(IR(ne)),C(Pa({handler:o,reactEvent:ne}))},[C,o]),P=v.useCallback(ne=>{C(_y(ne)),C(Pa({handler:f,reactEvent:ne}))},[C,f]),X=v.useCallback(ne=>{C(T4()),C(Pa({handler:m,reactEvent:ne}))},[C,m]),K=v.useCallback(ne=>{C(_y(ne)),C(Pa({handler:g,reactEvent:ne}))},[C,g]),he=v.useCallback(()=>{C(FR())},[C]),V=v.useCallback(ne=>{C(zR(ne.key))},[C]),R=v.useCallback(ne=>{C(Pa({handler:c,reactEvent:ne}))},[C,c]),H=v.useCallback(ne=>{C(Pa({handler:d,reactEvent:ne}))},[C,d]),ee=v.useCallback(ne=>{C(Pa({handler:h,reactEvent:ne}))},[C,h]),de=v.useCallback(ne=>{C(Pa({handler:x,reactEvent:ne}))},[C,x]),je=v.useCallback(ne=>{C(Pa({handler:_,reactEvent:ne}))},[C,_]),I=v.useCallback(ne=>{S&&C(HR(ne)),C(Pa({handler:N,reactEvent:ne}))},[C,S,N]),me=v.useCallback(ne=>{C(Pa({handler:y,reactEvent:ne}))},[C,y]),Ce=YK(k);return v.createElement(Q4.Provider,{value:O},v.createElement(T6.Provider,{value:L},v.createElement(Ce,{width:se??(w==null?void 0:w.width),height:J??(w==null?void 0:w.height),className:Nt("recharts-wrapper",a),style:UK({position:"relative",cursor:"default",width:se,height:J},w),onClick:be,onContextMenu:R,onDoubleClick:H,onFocus:he,onKeyDown:V,onMouseDown:ee,onMouseEnter:P,onMouseLeave:X,onMouseMove:K,onMouseUp:de,onTouchEnd:me,onTouchMove:I,onTouchStart:je,ref:xe},v.createElement(FK,null),r)))}),XK=["width","height","responsive","children","className","style","compact","title","desc"];function KK(e,t){if(e==null)return{};var r,a,s=JK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function JK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var QK=v.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:o,className:c,style:d,compact:h,title:f,desc:m}=e,g=KK(e,XK),x=rn(g);return h?v.createElement(v.Fragment,null,v.createElement(_m,{width:r,height:a}),v.createElement(qk,{otherAttributes:x,title:f,desc:m},o)):v.createElement(WK,{className:c,style:d,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(qk,{otherAttributes:x,title:f,desc:m,ref:t},v.createElement(SW,null,o)))});function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ey.apply(null,arguments)}var ZK={top:5,right:5,bottom:5,left:5},eJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ZK,reverseStackOrder:!1,syncMethod:"index",responsive:!1},tJ=v.forwardRef(function(t,r){var a,s=Na(t.categoricalChartProps,eJ),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return v.createElement(CK,{preloadedState:{options:m},reduxStoreName:(a=f.id)!==null&&a!==void 0?a:o},v.createElement(gW,{chartData:f.data}),v.createElement(AK,{layout:s.layout,margin:s.margin}),v.createElement(TK,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(QK,Ey({},s,{ref:r})))}),rJ=["axis"],aJ=v.forwardRef((e,t)=>v.createElement(tJ,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rJ,tooltipPayloadSearcher:ZG,categoricalChartProps:e,ref:t}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Gk=e=>{const t=sJ(e);return t.charAt(0).toUpperCase()+t.slice(1)},VR=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),iJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:c,...d},h)=>v.createElement("svg",{ref:h,...oJ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:VR("lucide",s),...!o&&!iJ(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,m])=>v.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const r=v.forwardRef(({className:a,...s},o)=>v.createElement(lJ,{ref:o,iconNode:t,className:VR(`lucide-${nJ(Gk(e))}`,`lucide-${e}`,a),...s}));return r.displayName=Gk(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Sy=Ee("activity",cJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],dJ=Ee("arrow-down-right",uJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gu=Ee("arrow-left",hJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ds=Ee("arrow-right",fJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],pJ=Ee("arrow-up-right",mJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ky=Ee("ban",gJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Cy=Ee("barcode",xJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yJ=Ee("bell",vJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Fm=Ee("book-open",bJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yw=Ee("calendar",wJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],NJ=Ee("chart-column",jJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],YR=Ee("chart-no-axes-column-increasing",_J);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ft=Ee("check",EJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lo=Ee("chevron-down",SJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qm=Ee("chevron-left",kJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ia=Ee("chevron-right",CJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ol=Ee("chevron-up",AJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nn=Ee("circle-alert",TJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Or=Ee("circle-check-big",OJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DJ=Ee("circle-play",RJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hm=Ee("circle-question-mark",PJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],IJ=Ee("circle-x",MJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UJ=Ee("circle",LJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vu=Ee("clock",$J);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Vk=Ee("code",BJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Tr=Ee("copy",zJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mo=Ee("credit-card",FJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mh=Ee("database",qJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ay=Ee("dollar-sign",HJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Su=Ee("download",GJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tn=Ee("external-link",VJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WR=Ee("eye-off",YJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gm=Ee("eye",WJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],va=Ee("file-text",XJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],XR=Ee("file",KJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KR=Ee("funnel",JJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sn=Ee("globe",QJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],JR=Ee("house",ZJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],bw=Ee("image",eQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QR=Ee("info",tQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],aQ=Ee("instagram",rQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ni=Ee("key",nQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bn=Ee("layers",sQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oQ=Ee("layout-dashboard",iQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cQ=Ee("lightbulb",lQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Kl=Ee("link",uQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ir=Ee("loader-circle",dQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],br=Ee("lock",hQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wf=Ee("log-out",fQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ur=Ee("mail",mQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],gQ=Ee("megaphone",pQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ZR=Ee("menu",xQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Xf=Ee("message-circle",vQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],bQ=Ee("monitor",yQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zr=Ee("package",wQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],NQ=Ee("palette",jQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],EQ=Ee("panel-left-close",_Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],lu=Ee("panels-top-left",SQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Rl=Ee("pen",kQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],AQ=Ee("phone",CQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],oi=Ee("play",TQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],RQ=Ee("plug",OQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sr=Ee("plus",DQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Kf=Ee("qr-code",PQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],IQ=Ee("refresh-cw",MQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],eD=Ee("rotate-cw",LQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],li=Ee("save",UQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ci=Ee("search",$Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Yk=Ee("server",BQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ww=Ee("settings",zQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vm=Ee("shield-check",FQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tD=Ee("shield",qQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Gt=Ee("shopping-bag",HQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],cu=Ee("shopping-cart",GQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],YQ=Ee("slash",VQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],rD=Ee("tag",WQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],KQ=Ee("terminal",XQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$r=Ee("trash-2",JQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Wk=Ee("trending-up",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],si=Ee("triangle-alert",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dr=Ee("upload",eZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cn=Ee("user",tZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],as=Ee("users",rZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],aD=Ee("video",aZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],sZ=Ee("wallet",nZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],oZ=Ee("webhook",iZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ea=Ee("x",lZ),Te=({children:e,className:t="",noPadding:r=!1,...a})=>n.jsx("div",{className:`glass-panel rounded-[20px] ${r?"":"p-6"} ${t}`,...a,children:e}),nD=v.createContext(void 0),cZ=({children:e})=>{const[t,r]=v.useState("dark");v.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t)},[t]);const a=()=>{r("dark")};return v.useEffect(()=>{t!=="dark"&&r("dark")},[t]),n.jsx(nD.Provider,{value:{theme:t,toggleTheme:a},children:e})},sD=()=>{const e=v.useContext(nD);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},ir=({children:e})=>{var _,w;const t=ja(),{theme:r,toggleTheme:a}=sD(),{user:s,signOut:o}=fs(),[c,d]=v.useState(!0),[h,f]=v.useState(!1),[m,g]=v.useState(()=>localStorage.getItem("show_admin_email")!=="false"),x=[{path:"/admin",icon:oQ,label:"Viso Geral"},{path:"/admin/products",icon:Gt,label:"Produtos"},{path:"/admin/gateways",icon:mo,label:"Gateways"},{path:"/admin/domains",icon:sn,label:"Domnios"},{path:"/admin/checkouts",icon:cu,label:"Checkouts"},{path:"/admin/orders",icon:rD,label:"Pedidos"},{path:"/admin/integrations",icon:RQ,label:"Integraes"}],y=localStorage.getItem("license_usage_type")==="commercial",N=(s==null?void 0:s.email)==="contato.jeandamin@gmail.com";return(y||N)&&x.push({path:"/admin/licenses",icon:ni,label:"Licenas"}),n.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-dark-bg text-gray-900 dark:text-dark-textMain overflow-hidden font-sans",children:[h&&n.jsx("div",{className:"fixed inset-0 bg-black/80 z-40 lg:hidden backdrop-blur-sm transition-opacity duration-300",onClick:()=>f(!1)}),n.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50 h-full
        bg-white dark:bg-[#05050A]
        border-r border-gray-200 dark:border-white/10
        transition-all duration-300 ease-in-out flex flex-col
        
        // Mobile Logic (Default)
        w-64
        ${h?"translate-x-0 shadow-2xl":"-translate-x-full"}
        
        // Desktop Logic (lg breakpoint)
        lg:translate-x-0
        ${c?"lg:w-64":"lg:w-20"}
      `,children:[n.jsx("button",{onClick:()=>d(!c),className:"hidden lg:flex absolute -right-4 top-1/2 -translate-y-1/2 w-6 h-12 bg-white dark:bg-[#1A1A2E] border border-gray-200 dark:border-white/10 rounded-full items-center justify-center z-50 shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(138,43,226,0.6)] hover:border-primary/50 transition-all duration-300 group",children:c?n.jsx(qm,{className:"w-4 h-4 text-gray-400 group-hover:text-white"}):n.jsx(Ia,{className:"w-4 h-4 text-gray-400 group-hover:text-white"})}),n.jsxs("div",{className:"h-20 flex items-center px-6 shrink-0",children:[c||h?n.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xl tracking-tight animate-in fade-in duration-200 whitespace-nowrap",children:[n.jsx("img",{src:"/logo.png",alt:"Super Checkout",className:"w-8 h-8 object-contain rounded-md shrink-0"}),n.jsxs("span",{className:"dark:text-white flex items-center gap-1",children:["Super Checkout ",n.jsx("span",{className:"text-xs text-primary/80",children:".app"})]})]}):n.jsx("div",{className:"w-full flex justify-center",children:n.jsx("img",{src:"/logo.png",alt:"Super Checkout",className:"w-8 h-8 object-contain rounded-md"})}),n.jsx("button",{onClick:()=>f(!1),className:"lg:hidden text-gray-500 ml-auto p-2",children:n.jsx(ea,{className:"w-6 h-6"})})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-2 custom-scrollbar",children:x.map(E=>{const k=t.pathname===E.path,S=!c&&!h;return n.jsxs(Cr,{to:E.path,title:S?E.label:"",onClick:()=>f(!1),className:`flex items-center px-3 py-3 text-sm font-medium rounded-xl transition-all group relative overflow-hidden ${k?"text-white bg-primary/20 shadow-[0_0_20px_rgba(138,43,226,0.15)] border border-primary/20":"text-gray-500 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[k&&n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-primary rounded-r-full"}),n.jsx(E.icon,{className:`w-5 h-5 flex-shrink-0 transition-colors ${k?"text-primary-light":"text-gray-400 group-hover:text-gray-300"}`}),n.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!c&&!h?"w-0 opacity-0":"w-auto opacity-100"}`,children:E.label})]},E.path)})}),n.jsx("div",{className:"p-4 shrink-0 border-t border-gray-200 dark:border-white/5",children:n.jsxs(Cr,{to:"/admin/members",className:`block rounded-2xl p-4 bg-gradient-to-br from-purple-600 to-indigo-700 text-white shadow-lg shadow-purple-500/20 group relative overflow-hidden transition-all hover:shadow-purple-500/30 ${!c&&!h?"p-2 flex justify-center":""}`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10 blur-xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-black/10 rounded-full -ml-8 -mb-8 blur-xl"}),n.jsxs("div",{className:`flex items-center gap-3 ${!c&&!h?"justify-center":""}`,children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center shrink-0 backdrop-blur-sm border border-white/10",children:n.jsx(as,{className:"w-5 h-5 text-white"})}),(c||h)&&n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-bold text-sm truncate",children:"rea de Membros"}),n.jsx("p",{className:"text-[10px] text-white/70 truncate",children:"Gerenciar alunos"})]})]})]})})]}),n.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative bg-gray-50 dark:bg-[#05050A]",children:[n.jsxs("header",{className:"h-16 flex items-center justify-between px-4 lg:px-8 z-10 shrink-0 border-b border-gray-200 dark:border-white/5 lg:border-none",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx("button",{onClick:()=>f(!0),className:"lg:hidden p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(ZR,{className:"w-6 h-6"})})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-white/5 transition-colors relative",children:[n.jsx(yJ,{className:"w-5 h-5"}),n.jsx("span",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-primary rounded-full shadow-[0_0_8px_rgba(138,43,226,0.8)]"})]}),n.jsx("div",{className:"h-8 w-px bg-gray-200 dark:bg-white/10 mx-1 hidden md:block"}),n.jsxs("div",{className:"flex items-center gap-3 pl-1",children:[n.jsxs(Cr,{to:"/admin/settings",className:"flex items-center gap-3 group",children:[n.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-primary transition-colors",children:((_=s==null?void 0:s.user_metadata)==null?void 0:_.name)||"Admin"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-[10px] text-gray-500",children:m?(s==null?void 0:s.email)||"admin@super.com":"******@******.com"}),n.jsx("button",{onClick:E=>{E.preventDefault();const k=!m;g(k),localStorage.setItem("show_admin_email",String(k))},className:"p-0.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-md transition-colors",title:m?"Ocultar email":"Mostrar email",children:m?n.jsx(Gm,{className:"w-3 h-3 text-gray-400"}):n.jsx(WR,{className:"w-3 h-3 text-gray-400"})})]})]}),n.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-lg ring-2 ring-white/10 group-hover:ring-primary/50 transition-all",children:(w=s==null?void 0:s.user_metadata)!=null&&w.name?s.user_metadata.name.substring(0,2).toUpperCase():"AD"})]}),n.jsx("button",{onClick:o,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Sair",children:n.jsx(Wf,{className:"w-5 h-5"})})]})]})]}),n.jsx("div",{className:"flex-1 overflow-auto p-4 lg:p-8 lg:pt-2 scroll-smooth custom-scrollbar",children:n.jsx("div",{className:"max-w-[1600px] mx-auto pb-20 lg:pb-0",children:e})})]})]})},uZ=()=>{const{theme:e}=sD(),[t,r]=v.useState("today"),[a,s]=v.useState({totalRevenue:0,totalOrders:0,successfulOrders:0,abandonedCarts:0,conversionRate:0,avgTicket:0,customers:0,paymentMethods:{pix:0,card:0,boleto:0}}),[o,c]=v.useState([]),d=(m,g)=>{const x=new Date;let y;switch(g){case"today":y=new Date(x.setHours(0,0,0,0));break;case"7d":y=new Date(x.getTime()-10080*60*1e3);break;case"15d":y=new Date(x.getTime()-360*60*60*1e3);break;case"30d":y=new Date(x.getTime()-720*60*60*1e3);break;default:y=new Date(x.setHours(0,0,0,0))}return m.filter(N=>new Date(N.created_at)>=y)},h=(m,g)=>{const x=m.filter(y=>y.status===ot.PAID);if(g==="today"){const y=Array.from({length:24},(N,_)=>({name:`${_}h`,value:0}));return x.forEach(N=>{const _=new Date(N.created_at).getHours();y[_].value+=N.amount}),y}else{const y=g==="7d"?7:g==="15d"?15:30,N=Array.from({length:y},(w,E)=>({name:`Dia ${E+1}`,value:0})),_=Date.now();return x.forEach(w=>{const E=Math.floor((_-new Date(w.created_at).getTime())/864e5);E>=0&&E<y&&(N[y-1-E].value+=w.amount)}),N}};v.useEffect(()=>{(async()=>{const g=await ae.getOrders(),x=d(g,t),y=x.filter(C=>C.status===ot.PAID),N=y.reduce((C,O)=>C+O.amount,0),_=y.length,w=x.length,E=y.filter(C=>C.payment_method==="pix").length,k=y.filter(C=>C.payment_method==="credit_card").length,S=y.filter(C=>C.payment_method==="boleto").length,T=new Set(x.map(C=>C.customer_email)).size;s({totalRevenue:N,totalOrders:w,successfulOrders:_,abandonedCarts:w-_,conversionRate:w>0?_/w*100:0,avgTicket:_>0?N/_:0,customers:T,paymentMethods:{pix:E,card:k,boleto:S}}),c(h(x,t))})()},[t]);const f=({label:m,value:g})=>n.jsx("button",{onClick:()=>r(g),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t===g?"bg-primary text-white shadow-[0_0_15px_rgba(138,43,226,0.5)] border border-primary":"bg-white border-gray-200 text-gray-500 hover:text-gray-900 hover:bg-gray-50 dark:bg-white/5 dark:text-gray-400 dark:border-white/5 dark:hover:border-white/20 dark:hover:text-white"}`,children:m});return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Viso geral do seu negcio em tempo real."})]}),n.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0",children:[n.jsx(f,{label:"Hoje",value:"today"}),n.jsx(f,{label:"7 dias",value:"7d"}),n.jsx(f,{label:"15 dias",value:"15d"}),n.jsx(f,{label:"30 dias",value:"30d"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-3 flex flex-col gap-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Te,{className:"relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:n.jsx(Ay,{className:"w-24 h-24 text-primary"})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/20 text-primary border border-primary/20",children:n.jsx(Wk,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"Vendas realizadas"})]}),n.jsxs("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-4",children:["R$ ",a.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs(Te,{className:"relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:n.jsx(Gt,{className:"w-24 h-24 text-blue-500"})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400 border border-blue-500/20",children:n.jsx(cu,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"Quantidade de vendas"})]}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-4",children:a.successfulOrders})]})]})]}),n.jsxs(Te,{className:"flex-1 min-h-[180px] flex flex-col justify-center",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"Meios de Pagamento"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Converso"})]}),a.successfulOrders>0?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kf,{className:"w-5 h-5 text-[#10B981]"}),n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Pix"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:a.paymentMethods.pix})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mo,{className:"w-5 h-5 text-primary"}),n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Carto"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:a.paymentMethods.card})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cy,{className:"w-5 h-5 text-orange-400"}),n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Boleto"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:a.paymentMethods.boleto})]})]}):n.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:n.jsx("p",{children:"Nenhuma venda encontrada para este perodo"})})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(Te,{className:"h-full flex flex-col",children:[n.jsx("h3",{className:"text-gray-900 dark:text-white font-bold mb-6",children:"Performance"}),n.jsxs("div",{className:"flex-1 flex flex-col justify-between gap-4",children:[n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Abandono C."}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.abandonedCarts})]}),n.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Taxa Converso"}),n.jsx(Wk,{className:"w-4 h-4 text-green-500"})]}),n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a.conversionRate.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Ticket Mdio"}),n.jsx(Ay,{className:"w-4 h-4 text-primary"})]}),n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",a.avgTicket.toFixed(2)]})]}),n.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Clientes"}),n.jsx(as,{className:"w-4 h-4 text-blue-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.customers})]})]})]})})]}),n.jsx("div",{className:"w-full h-72",children:n.jsxs(Te,{className:"h-full",noPadding:!0,children:[n.jsx("div",{className:"p-6 pb-0 flex justify-between items-center",children:n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Volume de Vendas"})}),n.jsx("div",{className:"w-full h-[220px] px-2",children:n.jsx(GB,{width:"100%",height:"100%",children:n.jsxs(aJ,{data:o,margin:{top:10,right:10,left:0,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#8A2BE2",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#8A2BE2",stopOpacity:0})]})}),n.jsx(ER,{strokeDasharray:"3 3",vertical:!1,stroke:e==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}),n.jsx(PR,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:e==="dark"?"#6B7280":"#9CA3AF",fontSize:12},dy:10}),n.jsx(MR,{axisLine:!1,tickLine:!1,tick:{fill:e==="dark"?"#6B7280":"#9CA3AF",fontSize:12},tickFormatter:m=>`R$${(m/1e3).toFixed(1)}k`}),n.jsx(NV,{contentStyle:{backgroundColor:e==="dark"?"#161A23":"#FFFFFF",borderRadius:"12px",border:e==="dark"?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(0,0,0,0.1)",boxShadow:"0 4px 20px -2px rgba(0, 0, 0, 0.5)",color:e==="dark"?"#fff":"#000"},itemStyle:{color:e==="dark"?"#fff":"#000"},cursor:{stroke:"rgba(138, 43, 226, 0.5)",strokeWidth:1},formatter:m=>[`R$ ${m.toFixed(2)}`,"Vendas"]}),n.jsx(DR,{type:"monotone",dataKey:"value",stroke:"#8A2BE2",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)",activeDot:{r:6,strokeWidth:0,fill:"#fff",shadow:"0 0 10px #8A2BE2"}})]})})})]})})]})},mr=({children:e})=>{const{user:t,profile:r,loading:a}=fs();if(a)return n.jsx(Xy,{});if(!t)return console.log("AdminRoute: User not authenticated, redirecting to login."),n.jsx(Fh,{to:"/login",replace:!0});const o=t.email==="contato.jeandamin@gmail.com";return(r==null?void 0:r.role)==="admin"||o?n.jsx(n.Fragment,{children:e}):!r&&!o?n.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-[#05050A] text-white",children:[n.jsx("p",{className:"text-gray-400",children:"No foi possvel carregar suas permisses."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-purple-600 rounded",children:"Tentar Novamente"}),n.jsxs("p",{className:"text-xs text-gray-600 mt-4 font-mono",children:["UID: ",t==null?void 0:t.id]})]}):(console.warn("AdminRoute: Unauthorized access attempt by user:",t.email,"Role:",r==null?void 0:r.role),n.jsxs("div",{className:"min-h-screen bg-[#05050A] flex flex-col items-center justify-center text-white p-6 text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Acesso Negado"}),n.jsx("p",{className:"text-gray-400 max-w-md mb-6",children:"Sua conta no possui permisso para acessar o Painel Administrativo. Este acesso  exclusivo para proprietrios do sistema."}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Se voc  um aluno/membro, por favor utilize o link de acesso enviado para seu e-mail."}),n.jsx("button",{onClick:()=>window.history.back(),className:"mt-8 px-6 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:"Voltar"})]}))},_e=({children:e,variant:t="primary",isLoading:r,className:a="",disabled:s,size:o="md",...c})=>{const d="rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transform active:scale-95",h={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},f={primary:"bg-primary hover:bg-primary-hover text-white shadow-lg shadow-primary/30 focus:ring-primary border border-transparent",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:text-gray-900 focus:ring-gray-200 dark:bg-white/10 dark:text-white dark:border-transparent dark:hover:bg-white/20",danger:"bg-red-500/10 text-red-600 hover:bg-red-500/20 border border-red-500/20 focus:ring-red-500",outline:"border border-gray-200 dark:border-dark-border bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-border focus:ring-gray-500",ghost:"bg-transparent text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/5"};return n.jsx("button",{className:`${d} ${h[o]} ${f[t]} ${a}`,disabled:r||s,...c,children:r?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processando..."]}):e})},$a=({isOpen:e,onClose:t,title:r,children:a,className:s=""})=>(v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity",onClick:t}),n.jsxs("div",{className:`relative w-full max-w-md bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 transform transition-all animate-in fade-in zoom-in-95 duration-200 overflow-hidden flex flex-col max-h-[90vh] ${s}`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsxs("div",{className:"relative flex items-center justify-between p-6 border-b border-white/10 bg-white/[0.02]",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:r}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-lg",children:n.jsx(ea,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"relative p-6 overflow-y-auto",children:a})]})]}):null),un=({isOpen:e,onClose:t,onConfirm:r,title:a,message:s,confirmText:o="Confirmar",cancelText:c="Cancelar",variant:d="primary",loading:h=!1})=>n.jsxs($a,{isOpen:e,onClose:t,title:a,children:[n.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed",children:s}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(_e,{variant:"ghost",onClick:t,disabled:h,children:c}),n.jsx(_e,{variant:d==="danger"?"danger":"primary",onClick:r,disabled:h,children:h?"Processando...":o})]})]}),zr=({isOpen:e,onClose:t,title:r,message:a,buttonText:s="OK",variant:o="info"})=>{const c=()=>{if(r)return r;switch(o){case"success":return"Sucesso";case"error":return"Erro";default:return"Informao"}};return n.jsxs($a,{isOpen:e,onClose:t,title:c(),children:[n.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed",children:a}),n.jsx("div",{className:"flex justify-end",children:n.jsx(_e,{variant:"primary",onClick:t,children:s})})]})},Xk={name:"",description:"",imageUrl:"",price_real:0,price_fake:0,sku:"",category:"",redirect_link:"",is_order_bump:!1,is_upsell:!1,active:!0,member_area_action:"checkout",member_area_checkout_id:""},dZ=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,o]=v.useState("grid"),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(Xk),[x,y]=v.useState(!1),N=v.useRef(null),[_,w]=v.useState([]),[E,k]=v.useState([]),[S,T]=v.useState([]),[C,O]=v.useState(null),[M,L]=v.useState(!1),[z,G]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),F=(I,me,Ce="info")=>{G({isOpen:!0,title:I,message:me,variant:Ce})},se=()=>{G(I=>({...I,isOpen:!1}))},[J,xe]=v.useState(""),[be,P]=v.useState(1),X=9;v.useEffect(()=>{K()},[]),v.useEffect(()=>{P(1)},[J]);const K=async()=>{a(!0);const I=await ae.getProducts();t(I);const me=await ae.getContents();w(me);const Ce=await ae.getCheckouts();T(Ce),a(!1)},he=async I=>{I.preventDefault(),a(!0);try{if(c){const me={id:c,...m};await ae.updateProduct(me)}else await ae.createProduct({id:h,...m});h&&await ae.setProductContents(h,E),await K(),o("grid"),d(null),f(null)}catch(me){console.error("Error saving product:",me),F("Erro","Erro ao salvar produto.","error")}finally{a(!1)}},V=I=>{O(I)},R=async()=>{if(C)try{L(!0),await ae.deleteProduct(C),await K(),O(null),F("Sucesso","Produto excludo com sucesso.","success")}catch(I){console.error("Error deleting product:",I),F("Erro","Erro ao excluir produto.","error")}finally{L(!1)}},H=async I=>{if(I.target.files&&I.target.files[0]){const me=I.target.files[0];try{if(y(!0),!h)throw new Error("No product ID available");const Ce=await ae.uploadProductImage(me,h);g({...m,imageUrl:Ce})}catch(Ce){console.error("Error uploading image:",Ce),F("Erro","Erro ao fazer upload da imagem.","error")}finally{y(!1)}}},ee=I=>{if(I)d(I.id),f(I.id),g({name:I.name,description:I.description,imageUrl:I.imageUrl||"",price_real:I.price_real||0,price_fake:I.price_fake||0,sku:I.sku||"",category:I.category||"",redirect_link:I.redirect_link||"",is_order_bump:I.is_order_bump||!1,is_upsell:I.is_upsell||!1,active:I.active,member_area_action:I.member_area_action||"checkout",member_area_checkout_id:I.member_area_checkout_id||""}),ae.getProductContents(I.id).then(me=>k(me));else{d(null);const me=crypto.randomUUID();f(me),g(Xk),k([])}o("edit")},de=()=>{const I=e.filter(q=>{var le,Ne;if(!J.trim())return!0;const ie=J.toLowerCase(),$=q.name.toLowerCase().includes(ie),ce=(le=q.category)==null?void 0:le.toLowerCase().includes(ie),ye=(Ne=q.price_real)==null?void 0:Ne.toString().includes(ie);return $||ce||ye}),me=Math.ceil(I.length/X),Ce=(be-1)*X,ne=Ce+X,Se=I.slice(Ce,ne);return n.jsxs("div",{className:"animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Meus Produtos"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie seu catlogo digital."})]}),n.jsxs(_e,{onClick:()=>ee(),className:"shadow-xl shadow-primary/20",children:[n.jsx(sr,{className:"w-4 h-4"})," Criar Novo Produto"]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(ci,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, categoria ou preo...",value:J,onChange:q=>xe(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-500"})]})}),r?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(q=>n.jsx(Te,{className:"h-[420px] animate-pulse",children:n.jsx("div",{})},q))}):e.length===0?n.jsxs(Te,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(bn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum produto cadastrado"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(_e,{onClick:()=>ee(),children:"Criar Produto"})})]}):I.length===0?n.jsxs(Te,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ci,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum produto encontrado"}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Tente buscar com outros termos"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Se.map(q=>{var ie;return n.jsx(Te,{className:"group relative flex flex-col hover:-translate-y-1 transition-all",noPadding:!0,children:n.jsxs("div",{className:"p-5 flex flex-col h-full",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-1",children:q.name}),n.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full border ${q.active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:q.active?"Ativo":"Inativo"})]}),q.category&&n.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-md mb-3 inline-block self-start",children:q.category}),n.jsx("div",{className:"w-full h-48 rounded-xl overflow-hidden bg-white/5 relative mb-4 border border-white/5",children:q.imageUrl?n.jsx("img",{src:q.imageUrl,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(bw,{className:"w-8 h-8 text-gray-600"})})}),n.jsxs("div",{className:"flex items-center justify-between mb-6 mt-auto pt-4 border-t border-white/5",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Preo"}),n.jsxs("span",{className:"text-lg font-bold text-white",children:["R$ ",(ie=q.price_real)==null?void 0:ie.toFixed(2)]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>ee(q),className:"flex-1 bg-white/5 hover:bg-white/10 text-gray-300 py-2.5 rounded-xl text-sm font-medium border border-white/5",children:[n.jsx(Rl,{className:"w-4 h-4 inline mr-2"})," Editar"]}),n.jsx("button",{onClick:()=>V(q.id),className:"w-12 bg-red-500/10 text-red-400 rounded-xl flex items-center justify-center border border-red-500/10",children:n.jsx($r,{className:"w-4 h-4"})})]}),(q.is_order_bump||q.is_upsell)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full h-px bg-white/5 my-3"}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[q.is_order_bump&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-white/5 px-2.5 py-1.5 rounded-lg border border-white/10",children:[n.jsx(bn,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Order bump"})]}),q.is_upsell&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-white/5 px-2.5 py-1.5 rounded-lg border border-white/10",children:[n.jsx(ds,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:"Upsell"})]})]})]})]})},q.id)})}),me>1&&n.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[n.jsx("button",{onClick:()=>P(q=>Math.max(1,q-1)),disabled:be===1,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Anterior"}),n.jsxs("span",{className:"text-gray-400 text-sm",children:["Pgina ",be," de ",me]}),n.jsx("button",{onClick:()=>P(q=>Math.min(me,q+1)),disabled:be===me,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Prxima"})]})]})]})},je=()=>n.jsxs("div",{className:"animate-in slide-in-from-right duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>o("grid"),className:"p-2 rounded-full bg-white/5 border border-white/10",children:n.jsx(Gu,{className:"w-5 h-5 text-white"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold text-white",children:c?"Editar Produto":"Novo Produto"})})]}),n.jsxs(_e,{onClick:he,isLoading:r,children:[n.jsx(li,{className:"w-4 h-4"})," Salvar"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1 space-y-6",children:n.jsxs(Te,{children:[n.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Imagem"}),n.jsx("div",{className:"relative w-full aspect-square rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden mb-4 group",children:m.imageUrl?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:m.imageUrl,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs(_e,{variant:"secondary",size:"sm",onClick:()=>{var I;return(I=N.current)==null?void 0:I.click()},children:[n.jsx(Dr,{className:"w-4 h-4 mr-2"})," Trocar"]})})]}):n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var I;return(I=N.current)==null?void 0:I.click()},children:[n.jsx(Dr,{className:"w-8 h-8 text-gray-400 mb-2"}),n.jsx("span",{className:"text-xs text-gray-400",children:x?"Enviando...":"Clique para upload"})]})}),n.jsx("input",{type:"file",ref:N,className:"hidden",accept:"image/*",onChange:H}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Ou cole uma URL externa:"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-500",placeholder:"https://...",value:m.imageUrl,onChange:I=>g({...m,imageUrl:I.target.value})})]})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Te,{children:n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Nome"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"Nome do produto",value:m.name,onChange:I=>g({...m,name:I.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Categoria"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"Ex: Marketing, Design, Cursos...",value:m.category,onChange:I=>g({...m,category:I.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Preo Real"}),n.jsx("input",{type:"number",step:"0.01",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"0.00",value:m.price_real,onChange:I=>g({...m,price_real:parseFloat(I.target.value)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Preo Fictcio"}),n.jsx("input",{type:"number",step:"0.01",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"0.00",value:m.price_fake,onChange:I=>g({...m,price_fake:parseFloat(I.target.value)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Descrio"}),n.jsx("textarea",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",rows:4,placeholder:"Descreva seu produto...",value:m.description,onChange:I=>g({...m,description:I.target.value})})]})]})}),n.jsxs(Te,{children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5 text-primary"}),"Configuraes de Venda"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Produto Ativo"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Exibir este produto no catlogo e permitir vendas."})]}),n.jsx("button",{onClick:()=>g({...m,active:!m.active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.active?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.active?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Order Bump"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Oferta complementar exibida dentro do checkout."})]}),n.jsx("button",{onClick:()=>g({...m,is_order_bump:!m.is_order_bump}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.is_order_bump?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.is_order_bump?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:"Upsell (One Click)"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Oferta apresentada imediatamente aps a compra."})]}),n.jsx("button",{onClick:()=>g({...m,is_upsell:!m.is_upsell}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.is_upsell?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.is_upsell?"translate-x-6":"translate-x-1"}`})})]})]})]}),n.jsxs(Te,{children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5 text-primary"}),"Configurao da rea de Membros"]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Ao ao Clicar (para quem no comprou)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${m.member_area_action==="checkout"||!m.member_area_action?"bg-primary/10 border-primary":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[n.jsx("input",{type:"radio",name:"member_area_action",className:"hidden",checked:m.member_area_action==="checkout"||!m.member_area_action,onChange:()=>g({...m,member_area_action:"checkout"})}),n.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-400 flex items-center justify-center",children:(m.member_area_action==="checkout"||!m.member_area_action)&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white",children:"Direcionar para Checkout"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Envia o usurio direto para o link de pagamento."})]})]}),n.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${m.member_area_action==="sales_page"?"bg-primary/10 border-primary":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[n.jsx("input",{type:"radio",name:"member_area_action",className:"hidden",checked:m.member_area_action==="sales_page",onChange:()=>g({...m,member_area_action:"sales_page"})}),n.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-400 flex items-center justify-center",children:m.member_area_action==="sales_page"&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white",children:"Pgina de Vendas Interna"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Abre um modal com detalhes do produto antes da compra."})]})]})]}),(m.member_area_action==="checkout"||!m.member_area_action)&&n.jsxs("div",{className:"mt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Selecione o Checkout"}),n.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all [&>option]:bg-gray-900 [&>option]:text-white",value:m.member_area_checkout_id,onChange:I=>g({...m,member_area_checkout_id:I.target.value}),children:[n.jsx("option",{value:"",className:"bg-gray-900 text-gray-400",children:" Nenhum checkout vinculado"}),S.map(I=>n.jsxs("option",{value:I.id,className:"bg-gray-900 text-white",children:[I.name," (",I.custom_url_slug,")"]},I.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:m.member_area_checkout_id?" O usurio ser redirecionado para este checkout especfico.":" Nenhum checkout vinculado. Selecione um para ativar o redirecionamento."})]})]})})]}),n.jsxs(Te,{children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5 text-primary"}),"Entrega Automtica (rea de Membros)"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Selecione o contedo que ser liberado aps a compra:"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:_.length===0?n.jsx("div",{className:"text-sm text-gray-500 italic",children:'Nenhum contedo cadastrado. Crie em "Contedos".'}):_.map(I=>n.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/5 bg-white/5 cursor-pointer hover:bg-white/10 transition-colors",children:[n.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary focus:ring-primary bg-black/20",checked:E.includes(I.id),onChange:me=>{me.target.checked?k([...E,I.id]):k(E.filter(Ce=>Ce!==I.id))}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-white",children:I.title}),n.jsx("div",{className:"text-xs text-gray-400 capitalize",children:I.type})]})]},I.id))})]})]})]})]})]});return n.jsxs(ir,{children:[s==="grid"?de():je(),n.jsx(un,{isOpen:!!C,onClose:()=>O(null),onConfirm:R,title:"Excluir Produto",message:"Tem certeza que deseja excluir este produto? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:M}),n.jsx(zr,{isOpen:z.isOpen,onClose:se,title:z.title,message:z.message,variant:z.variant})]})},hZ=()=>{const[e,t]=v.useState([]),[r,a]=v.useState([]),[s,o]=v.useState(!1),[c,d]=v.useState(null),[h,f]=v.useState(!1),[m,g]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),x=(S,T,C="info")=>{g({isOpen:!0,title:S,message:T,variant:C})},y=()=>{g(S=>({...S,isOpen:!1}))},[N,_]=v.useState({name:"",product_id:"",price:0,payment_type:Ks.ONE_TIME,recurrence_type:dl.NONE});v.useEffect(()=>{(async()=>{t(await ae.getOffers()),a(await ae.getProducts())})()},[]);const w=async S=>{S.preventDefault();try{await ae.createOffer({active:!0,...N}),t(await ae.getOffers()),o(!1),_({name:"",product_id:"",price:0,payment_type:Ks.ONE_TIME,recurrence_type:dl.NONE}),x("Sucesso","Oferta criada com sucesso!","success")}catch(T){console.error("Error creating offer:",T),x("Erro","Erro ao criar oferta.","error")}},E=S=>{d(S)},k=async()=>{if(c)try{f(!0),await ae.deleteOffer(c),t(await ae.getOffers()),d(null),x("Sucesso","Oferta excluda com sucesso.","success")}catch(S){console.error(S),x("Erro","Erro ao excluir oferta.","error")}finally{f(!1)}};return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ofertas"}),n.jsx("p",{className:"text-gray-500 dark:text-dark-text text-sm mt-1",children:"Crie planos de preos para seus produtos."})]}),n.jsxs(_e,{onClick:()=>o(!0),children:[n.jsx(sr,{className:"w-4 h-4"})," Nova Oferta"]})]}),n.jsxs(Te,{noPadding:!0,className:"overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-dark-bg border-b border-gray-200 dark:border-dark-border",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Nome da Oferta"}),n.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Produto"}),n.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Preo"}),n.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Tipo de Cobrana"}),n.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400 text-right",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.map(S=>{const T=r.find(C=>C.id===S.product_id);return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded bg-purple-500/10 text-purple-500 flex items-center justify-center",children:n.jsx(rD,{className:"w-4 h-4"})}),S.name]})}),n.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:(T==null?void 0:T.name)||"Produto Desconhecido"}),n.jsxs("td",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:["R$ ",S.price.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${S.payment_type===Ks.RECURRING?"bg-blue-500/10 text-blue-500 border border-blue-500/20":"bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300"}`,children:S.payment_type===Ks.RECURRING?`Assinatura ${S.recurrence_type===dl.MONTHLY?"Mensal":"Anual"}`:"nica"})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsx("button",{onClick:()=>E(S.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:n.jsx($r,{className:"w-4 h-4"})})})]},S.id)})})]})}),e.length===0&&n.jsx("div",{className:"p-12 text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma oferta criada ainda."})})]}),n.jsx($a,{isOpen:s,onClose:()=>o(!1),title:"Criar Oferta",children:n.jsxs("form",{onSubmit:w,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Nome da Oferta"}),n.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:N.name,onChange:S=>_({...N,name:S.target.value}),placeholder:"Ex: Especial Black Friday"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Produto"}),n.jsxs("select",{required:!0,className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:N.product_id,onChange:S=>_({...N,product_id:S.target.value}),children:[n.jsx("option",{value:"",children:"-- Selecione o Produto --"}),r.map(S=>n.jsx("option",{value:S.id,children:S.name},S.id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Preo (R$)"}),n.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:N.price,onChange:S=>_({...N,price:parseFloat(S.target.value)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Tipo"}),n.jsxs("select",{className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:N.payment_type,onChange:S=>_({...N,payment_type:S.target.value}),children:[n.jsx("option",{value:Ks.ONE_TIME,children:"nica"}),n.jsx("option",{value:Ks.RECURRING,children:"Assinatura"})]})]})]}),N.payment_type===Ks.RECURRING&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Frequncia"}),n.jsxs("select",{className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:N.recurrence_type,onChange:S=>_({...N,recurrence_type:S.target.value}),children:[n.jsx("option",{value:dl.MONTHLY,children:"Mensal"}),n.jsx("option",{value:dl.YEARLY,children:"Anual"})]})]}),n.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[n.jsx(_e,{type:"button",variant:"ghost",onClick:()=>o(!1),children:"Cancelar"}),n.jsx(_e,{type:"submit",children:"Criar Oferta"})]})]})}),n.jsx(un,{isOpen:!!c,onClose:()=>d(null),onConfirm:k,title:"Excluir Oferta",message:"Tem certeza que deseja excluir esta oferta?",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:h}),n.jsx(zr,{isOpen:m.isOpen,onClose:y,title:m.title,message:m.message,variant:m.variant})]})},fZ=()=>{const e=mt(),[t,r]=v.useState([]),[a,s]=v.useState([]),[o,c]=v.useState([]),[d,h]=v.useState([]),[f,m]=v.useState(!0),[g,x]=v.useState(null),[y,N]=v.useState(!1),[_,w]=v.useState(null),[E,k]=v.useState(null),[S,T]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),C=(J,xe,be="info")=>{T({isOpen:!0,title:J,message:xe,variant:be})},O=()=>{T(J=>({...J,isOpen:!1}))};v.useEffect(()=>{M()},[]);const M=async()=>{m(!0);try{const[J,xe,be,P]=await Promise.all([ae.getCheckouts(),ae.getProducts(),ae.getGateways(),ae.getDomains()]);r(J),s(xe),c(be),h(P)}catch(J){console.error("Error loading data:",J)}finally{m(!1)}},L=async J=>{w(J);try{const xe=await ae.getCheckoutUsage(J);xe.products.length>0||xe.domains.length>0?k(xe):x(J)}catch(xe){console.error("Error checking checkout usage:",xe),C("Erro","Erro ao verificar uso do checkout","error")}finally{w(null)}},z=async()=>{if(g)try{N(!0),await ae.deleteCheckout(g),await M(),x(null),C("Sucesso","Checkout excludo com sucesso","success")}catch(J){console.error("Error deleting checkout:",J),C("Erro","Erro ao excluir checkout.","error")}finally{N(!1)}},G=J=>{const xe=a.find(be=>be.id===J);return xe?xe.name:"Produto no encontrado"},F=J=>{if(!J)return n.jsx("span",{className:"text-gray-600 italic",children:"Sem domnio"});const xe=d.find(be=>be.id===J);return xe?n.jsx("span",{className:"bg-white/5 px-3 py-1 rounded text-gray-300 text-sm border border-white/5",children:xe.domain}):n.jsx("span",{className:"text-gray-600 italic",children:"Domnio removido"})},se=J=>{const xe=o.find(be=>be.id===J);return xe?n.jsx("span",{className:"bg-white/5 px-3 py-1 rounded text-gray-300 text-xs uppercase border border-white/5 font-medium tracking-wide",children:xe.name.replace("_"," ")}):n.jsx("span",{className:"text-red-400 text-xs",children:"Gateway removido"})};return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Meus Checkouts"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Gerencie seus links de pagamento."})]}),n.jsxs(_e,{onClick:()=>e("/admin/checkouts/edit/new"),className:"shadow-lg shadow-primary/20",children:[n.jsx(sr,{className:"w-4 h-4"})," Novo Checkout"]})]}),n.jsx(Te,{noPadding:!0,className:"overflow-hidden border border-gray-200 dark:border-white/5 bg-white dark:bg-[#0A0A0B]",children:f?n.jsx("div",{className:"p-12 text-center text-gray-500 animate-pulse",children:"Carregando checkouts..."}):t.length===0?n.jsxs("div",{className:"p-16 text-center flex flex-col items-center justify-center",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4",children:n.jsx(Gt,{className:"w-8 h-8 text-gray-600"})}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhum checkout criado"}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Crie seu primeiro checkout para comear a vender."}),n.jsx(_e,{onClick:()=>e("/admin/checkouts/edit/new"),children:"Criar Checkout"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[#0F0F12] border-b border-white/5 text-gray-400 font-medium",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-5 w-[30%]",children:"Checkout / Produto"}),n.jsx("th",{className:"px-6 py-5",children:"Domnio"}),n.jsx("th",{className:"px-6 py-5",children:"Gateway"}),n.jsx("th",{className:"px-6 py-5 text-center",children:"Order Bumps"}),n.jsx("th",{className:"px-6 py-5",children:"Status"}),n.jsx("th",{className:"px-6 py-5 text-right",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-white/5",children:t.map(J=>n.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{className:"flex flex-col gap-1.5",children:[n.jsx("span",{className:"text-white font-bold text-[15px]",children:J.name}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs",children:[n.jsx(Gt,{className:"w-3 h-3"}),n.jsx("span",{children:G(J.product_id)})]})]})}),n.jsx("td",{className:"px-6 py-5",children:F(J.domain_id)}),n.jsx("td",{className:"px-6 py-5",children:se(J.gateway_id)}),n.jsx("td",{className:"px-6 py-5 text-center",children:J.order_bump_ids&&J.order_bump_ids.length>0?n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-orange-500/10 text-orange-500 text-xs font-bold border border-orange-500/20",children:J.order_bump_ids.length}):n.jsx("span",{className:"text-gray-600",children:"-"})}),n.jsx("td",{className:"px-6 py-5",children:J.active?n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-500/10 text-green-400 text-xs font-medium border border-green-500/10",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400"})," Ativo"]}):n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-gray-500/10 text-gray-400 text-xs font-medium border border-gray-500/10",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"})," Inativo"]})}),n.jsx("td",{className:"px-6 py-5 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2 opacity-100 sm:opacity-60 sm:group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>e(`/admin/checkouts/edit/${J.id}`),className:"p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-blue-400 border border-blue-500/10 transition-colors",title:"Editar",children:n.jsx(Rl,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>L(J.id),disabled:_===J.id,className:"p-2 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-red-400 border border-red-500/10 transition-colors disabled:opacity-50",title:"Excluir",children:_===J.id?n.jsx(Ir,{className:"w-4 h-4 animate-spin"}):n.jsx($r,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>{const xe=d.find(K=>K.id===J.domain_id),be=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",X=`${xe&&!be?`https://${xe.domain}`:window.location.origin+"/c"}/${J.custom_url_slug}`;navigator.clipboard.writeText(X),C("Sucesso","Link copiado: "+X,"success")},className:"p-2 bg-gray-500/10 hover:bg-gray-500/20 rounded-lg text-gray-400 border border-gray-500/10 transition-colors",title:"Copiar Link",children:n.jsx(Tr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>{const xe=d.find(K=>K.id===J.domain_id),be=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",X=`${xe&&!be?`https://${xe.domain}`:window.location.origin+"/c"}/${J.custom_url_slug}`;window.open(X,"_blank")},className:"p-2 bg-purple-500/10 hover:bg-purple-500/20 rounded-lg text-purple-400 border border-purple-500/10 transition-colors",title:"Visualizar em nova aba",children:n.jsx(Gm,{className:"w-4 h-4"})})]})})]},J.id))})]})})}),n.jsx(un,{isOpen:!!g,onClose:()=>x(null),onConfirm:z,title:"Excluir Checkout",message:"Tem certeza que deseja excluir este checkout? Esta ao no pode ser desfeita e o link de pagamento deixar de funcionar.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:y}),n.jsx(zr,{isOpen:S.isOpen,onClose:O,title:S.title,message:S.message,variant:S.variant}),n.jsx($a,{isOpen:!!E,onClose:()=>k(null),title:"Checkout em Uso",className:"max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex items-start gap-3",children:[n.jsx(si,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-yellow-500 font-bold text-sm mb-1",children:"No  possvel excluir"}),n.jsx("p",{className:"text-yellow-200/80 text-xs",children:"Este checkout est vinculado aos seguintes itens. Remova os vnculos antes de excluir."})]})]}),n.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-xl overflow-hidden",children:[(E==null?void 0:E.products.length)>0&&n.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Produtos"}),n.jsx("ul",{className:"space-y-1",children:E.products.map(J=>n.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),J.name]},J.id))})]}),(E==null?void 0:E.domains.length)>0&&n.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Domnios"}),n.jsx("ul",{className:"space-y-1",children:E.domains.map(J=>n.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),J.domain]},J.id))})]})]}),n.jsx("div",{className:"flex justify-end pt-2",children:n.jsx(_e,{onClick:()=>k(null),children:"Entendi"})})]})})]})},Kk={fields:{name:!0,email:!0,phone:!0,cpf:!0},payment_methods:{pix:!0,credit_card:!0,boleto:!0},timer:{active:!1,minutes:15,bg_color:"#EF4444",text_color:"#FFFFFF"},header_image:"",upsell:{active:!1,product_id:"",show_title:!0,show_subtitle:!0,show_description:!0,show_media:!0,media_type:"video",button_text:"Sim, quero adicionar ao meu pedido"}},mZ=()=>{var $,ce,ye,le,Ne,Ae,we,pe,De,Fe,ke,He,Ze,pt,Vt,Ct,Tn,Ql,Xu,Ku,js,Nr,Ga,_r,Ju,Qu,Zu,pi,gi,xi,fn,vi,Ns,ed;const{id:e}=ta(),t=mt(),r=e==="new",a=v.useRef(null),[s]=v.useState(()=>r?crypto.randomUUID():""),o=r?s:e,[c,d]=v.useState([]),[h,f]=v.useState([]),[m,g]=v.useState([]),[x,y]=v.useState(""),[N,_]=v.useState(!0),[w,E]=v.useState(""),[k,S]=v.useState(""),[T,C]=v.useState(""),[O,M]=v.useState(""),[L,z]=v.useState([]),[G,F]=v.useState(""),[se,J]=v.useState(""),[xe,be]=v.useState(""),[P,X]=v.useState(Kk),[K,he]=v.useState(!0),[V,R]=v.useState(!1),[H,ee]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),de=(te,Dt,Lt="info")=>{ee({isOpen:!0,title:te,message:Dt,variant:Lt})},je=()=>{ee(te=>({...te,isOpen:!1}))},I=c.filter(te=>te.active),me=I.filter(te=>te.is_order_bump&&te.id!==w),Ce=I.filter(te=>te.is_upsell&&te.id!==w);v.useEffect(()=>{(async()=>{if(d(await ae.getProducts()),f(await ae.getDomains()),g(await ae.getGateways()),!r&&e){const Lt=(await ae.getCheckouts()).find(ap=>ap.id===e);Lt&&(y(Lt.name),_(Lt.active),E(Lt.product_id),S(Lt.gateway_id),C(Lt.domain_id||""),M(Lt.custom_url_slug),z(Lt.order_bump_ids||[]),F(Lt.upsell_product_id||""),J(Lt.thank_you_button_url||""),be(Lt.thank_you_button_text||""),X(Lt.config||Kk))}he(!1)})()},[e,r]);const ne=async()=>{if(console.log(" Debug - Form state:",{name:x,productId:w,gatewayId:k}),console.log(" Debug - Active products:",I.length),console.log(" Debug - Active gateways:",m.filter(te=>te.active)),!x||!w||!k){de("Ateno","Por favor, preencha o nome, selecione um produto e um gateway.","info");return}try{he(!0);const te={name:x,active:N,product_id:w,gateway_id:k,domain_id:T||null,custom_url_slug:O||(r?`chk-${Date.now()}`:e),order_bump_ids:L,upsell_product_id:G||void 0,thank_you_button_url:se||null,thank_you_button_text:xe||null,config:P,offer_id:void 0};r?await ae.createCheckout({id:o,...te}):await ae.updateCheckout({id:e,...te}),t("/admin/checkouts")}catch(te){console.error("Error saving checkout:",te),de("Erro","Erro ao salvar checkout.","error")}finally{he(!1)}},Se=te=>{L.includes(te)?z(L.filter(Dt=>Dt!==te)):z([...L,te])},q=async te=>{if(te.target.files&&te.target.files[0])try{R(!0);const Dt=await ae.uploadCheckoutBanner(te.target.files[0],o);X({...P,header_image:Dt})}catch(Dt){console.error("Error uploading banner:",Dt),de("Erro","Erro ao fazer upload da imagem. Tente novamente.","error")}finally{R(!1)}},ie=te=>{switch(te){case Qa.MERCADO_PAGO:return"/mercado-pago-logo.png";case Qa.STRIPE:return"https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Stripe_Logo%2C_revised_2016.svg/2560px-Stripe_Logo%2C_revised_2016.svg.png";default:return""}};return n.jsxs(ir,{children:[K?n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Carregando editor..."})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"sticky top-0 z-30 bg-gray-50/80 dark:bg-[#05050A]/80 backdrop-blur-md py-4 border-b border-gray-200 dark:border-white/5 mb-8 -mx-4 px-8 lg:-mx-8",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t("/admin/checkouts"),className:"p-2 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:n.jsx(Gu,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:r?"Novo Checkout":"Editar Checkout"}),n.jsx("p",{className:"text-xs text-gray-400",children:r?"Configure seu novo link de pagamento.":`Editando: ${x}`})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_e,{variant:"ghost",onClick:()=>t("/admin/checkouts"),children:"Cancelar"}),n.jsxs(_e,{onClick:ne,children:[n.jsx(li,{className:"w-4 h-4"})," ",r?"Criar Checkout":"Atualizar"]})]})]})}),n.jsxs("div",{className:"max-w-[1000px] mx-auto space-y-8 pb-20",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"1"}),"Identificao & URL"]}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome do Checkout (Interno)"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: Oferta Black Friday",value:x,onChange:te=>y(te.target.value)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Domnio"}),n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),n.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none appearance-none",value:T,onChange:te=>C(te.target.value),children:[n.jsx("option",{value:"",className:"bg-[#161A23] text-white",children:"supercheckout.app (Padro)"}),h.filter(te=>te.usage===ht.CHECKOUT).map(te=>n.jsxs("option",{value:te.id,className:"bg-[#161A23] text-white",children:[te.domain," ",te.status!==gr.ACTIVE?`(${te.status})`:""]},te.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Slug (URL)"}),n.jsxs("div",{className:"flex",children:[n.jsxs("span",{className:"bg-white/5 border border-r-0 border-white/10 rounded-l-xl px-3 flex items-center text-gray-500 text-xs truncate max-w-[100px]",children:["/",T?"":"c/"]}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-r-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"promocao-especial",value:O,onChange:te=>M(te.target.value)})]})]})]})]})})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"2"}),"Produto Principal"]}),n.jsxs(Te,{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Selecione o produto que ser vendido"}),I.length===0?n.jsxs("div",{className:"text-center py-8 border border-dashed border-white/10 rounded-xl bg-white/5",children:[n.jsx(Gt,{className:"w-10 h-10 text-gray-500 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400",children:"Nenhum produto ativo encontrado."}),n.jsx(_e,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>t("/admin/products"),children:"Criar Produto"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[280px] overflow-y-auto custom-scrollbar pr-2",children:I.map(te=>{var Dt;return n.jsxs("label",{className:`cursor-pointer border rounded-xl p-3 flex items-center gap-3 transition-all duration-200 ${w===te.id?"bg-primary/10 border-primary/50 shadow-[0_0_15px_rgba(138,43,226,0.1)]":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}`,children:[n.jsx("input",{type:"radio",name:"product",className:"hidden",checked:w===te.id,onChange:()=>E(te.id)}),n.jsx("div",{className:"w-14 h-14 rounded-lg bg-white/10 flex-shrink-0 overflow-hidden",children:te.imageUrl?n.jsx("img",{src:te.imageUrl,className:"w-full h-full object-cover"}):n.jsx(Gt,{className:"w-full h-full p-3 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-white text-sm line-clamp-1",children:te.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("span",{className:"text-primary-light text-xs font-bold bg-primary/10 px-1.5 py-0.5 rounded",children:["R$ ",(Dt=te.price_real)==null?void 0:Dt.toFixed(2)]}),te.price_fake&&n.jsxs("span",{className:"text-gray-500 text-[10px] line-through",children:["R$ ",te.price_fake.toFixed(2)]})]})]}),w===te.id&&n.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:n.jsx(ft,{className:"w-4 h-4 text-white"})})]},te.id)})})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"3"}),"Processador de Pagamento"]}),n.jsxs(Te,{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Escolha a conta bancria para processar as vendas"}),m.filter(te=>te.active).length===0?n.jsxs("div",{className:"text-center py-8 border border-dashed border-white/10 rounded-xl bg-white/5",children:[n.jsx(sZ,{className:"w-10 h-10 text-gray-500 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400",children:"Nenhum gateway ativo configurado."}),n.jsx(_e,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>t("/admin/gateways"),children:"Configurar Gateway"})]}):n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:m.filter(te=>te.active).map(te=>n.jsxs("button",{onClick:()=>S(te.id),className:`relative group flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200 h-32 ${k===te.id?"border-green-500 bg-green-500/10 shadow-[0_0_15px_rgba(34,197,94,0.2)]":"border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20"}`,children:[n.jsx("div",{className:"w-12 h-12 mb-3 flex items-center justify-center",children:n.jsx("img",{src:ie(te.name),alt:te.name,className:"w-full h-full object-contain"})}),n.jsx("span",{className:`text-xs font-bold uppercase tracking-wide ${k===te.id?"text-green-400":"text-gray-400"}`,children:te.name.replace("_"," ")}),k===te.id&&n.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:n.jsx(ft,{className:"w-3 h-3 text-white"})})]},te.id))})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"4"}),"Order Bumps"]})}),n.jsx(Te,{children:me.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(nn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:'Nenhum outro produto ativo marcado como "Order Bump".'})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Selecione os produtos complementares:"}),me.map(te=>{var Dt;return n.jsxs("label",{className:`cursor-pointer border rounded-xl p-3 flex items-center gap-3 transition-all ${L.includes(te.id)?"bg-orange-500/10 border-orange-500/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${L.includes(te.id)?"bg-orange-500 border-orange-500":"border-gray-500"}`,children:L.includes(te.id)&&n.jsx(ft,{className:"w-3 h-3 text-white"})}),n.jsx("input",{type:"checkbox",className:"hidden",checked:L.includes(te.id),onChange:()=>Se(te.id)}),n.jsx("div",{className:"w-10 h-10 rounded bg-white/10 flex-shrink-0 overflow-hidden",children:te.imageUrl&&n.jsx("img",{src:te.imageUrl,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-white text-sm",children:te.name}),n.jsxs("p",{className:"text-xs text-gray-400",children:["R$ ",(Dt=te.price_real)==null?void 0:Dt.toFixed(2)]})]})]},te.id)})]})})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-5 rounded-xl border border-primary/30 bg-primary/5 shadow-[0_0_20px_rgba(138,43,226,0.1)] transition-all hover:bg-primary/10 relative overflow-hidden group",children:[n.jsx("div",{className:"absolute -right-10 -top-10 w-32 h-32 bg-primary/20 blur-3xl rounded-full group-hover:bg-primary/30 transition-all"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-3",children:[n.jsx("span",{className:"bg-primary w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold text-white shadow-lg shadow-primary/40",children:"5"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"flex items-center gap-2",children:["Oferta de Upsell (Ps-Compra)",n.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary/20 text-primary text-[10px] font-bold uppercase tracking-wider border border-primary/20",children:"Lucro Extra"})]}),n.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"Oferea um produto extra aps a compra e aumente seu ticket mdio."})]})]})}),n.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[n.jsxs("div",{className:"flex flex-col items-end mr-2",children:[n.jsx("span",{className:"text-sm font-medium text-white",children:"Ativar Upsell"}),n.jsx("span",{className:"text-[10px] text-gray-400",children:($=P.upsell)!=null&&$.active?"Oferta Ativa":"Oferta Inativa"})]}),n.jsx("button",{onClick:()=>{var te;return X({...P,upsell:{...P.upsell,active:!((te=P.upsell)!=null&&te.active)}})},className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-[#05050A] ${(ce=P.upsell)!=null&&ce.active?"bg-gradient-to-r from-primary to-primary-light shadow-[0_0_15px_rgba(138,43,226,0.5)]":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${(ye=P.upsell)!=null&&ye.active?"translate-x-6":"translate-x-1"}`})})]})]}),((le=P.upsell)==null?void 0:le.active)&&n.jsxs(Te,{className:"animate-in fade-in slide-in-from-top-4 duration-300 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Produto da Oferta"}),n.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none appearance-none",value:((Ne=P.upsell)==null?void 0:Ne.product_id)||"",onChange:te=>X({...P,upsell:{...P.upsell,product_id:te.target.value}}),children:[n.jsx("option",{value:"",className:"bg-[#161A23] text-white",children:"-- Selecione o Produto --"}),Ce.map(te=>{var Dt;return n.jsxs("option",{value:te.id,className:"bg-[#161A23] text-white",children:[te.name," (R$ ",(Dt=te.price_real)==null?void 0:Dt.toFixed(2),")"]},te.id)})]})]}),n.jsx("div",{className:"h-px bg-white/5"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[n.jsx(bw,{className:"w-4 h-4 text-purple-400"}),"Contedo da Pgina"]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[n.jsx("div",{className:"pt-2",children:n.jsx("input",{type:"checkbox",checked:(Ae=P.upsell)==null?void 0:Ae.show_title,onChange:()=>{var te;return X({...P,upsell:{...P.upsell,show_title:!((te=P.upsell)!=null&&te.show_title)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Ttulo (Headline)"}),n.jsx("input",{type:"text",className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(we=P.upsell)!=null&&we.show_title?"":"opacity-50"}`,placeholder:"ESPERE! Tenho uma oferta especial para voc...",value:((pe=P.upsell)==null?void 0:pe.title)||"",disabled:!((De=P.upsell)!=null&&De.show_title),onChange:te=>X({...P,upsell:{...P.upsell,title:te.target.value}})})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[n.jsx("div",{className:"pt-2",children:n.jsx("input",{type:"checkbox",checked:(Fe=P.upsell)==null?void 0:Fe.show_subtitle,onChange:()=>{var te;return X({...P,upsell:{...P.upsell,show_subtitle:!((te=P.upsell)!=null&&te.show_subtitle)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Subttulo"}),n.jsx("input",{type:"text",className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(ke=P.upsell)!=null&&ke.show_subtitle?"":"opacity-50"}`,placeholder:"Adicione este pacote exclusivo ao seu pedido por apenas...",value:((He=P.upsell)==null?void 0:He.subtitle)||"",disabled:!((Ze=P.upsell)!=null&&Ze.show_subtitle),onChange:te=>X({...P,upsell:{...P.upsell,subtitle:te.target.value}})})]})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[n.jsx("div",{className:"pt-2",children:n.jsx("input",{type:"checkbox",checked:(pt=P.upsell)==null?void 0:pt.show_media,onChange:()=>{var te;return X({...P,upsell:{...P.upsell,show_media:!((te=P.upsell)!=null&&te.show_media)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Mdia de Vendas"}),n.jsxs("div",{className:"flex bg-black/20 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>X({...P,upsell:{...P.upsell,media_type:"video"}}),className:`px-3 py-1 text-xs rounded-md transition-colors ${((Vt=P.upsell)==null?void 0:Vt.media_type)==="video"?"bg-primary text-white":"text-gray-400 hover:text-white"}`,children:"Vdeo"}),n.jsx("button",{onClick:()=>X({...P,upsell:{...P.upsell,media_type:"image"}}),className:`px-3 py-1 text-xs rounded-md transition-colors ${((Ct=P.upsell)==null?void 0:Ct.media_type)==="image"?"bg-primary text-white":"text-gray-400 hover:text-white"}`,children:"Imagem"})]})]}),n.jsx("input",{type:"text",className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(Tn=P.upsell)!=null&&Tn.show_media?"":"opacity-50"}`,placeholder:((Ql=P.upsell)==null?void 0:Ql.media_type)==="video"?"URL do Vdeo (YouTube, Vimeo...)":"URL da Imagem",value:((Xu=P.upsell)==null?void 0:Xu.media_url)||"",disabled:!((Ku=P.upsell)!=null&&Ku.show_media),onChange:te=>X({...P,upsell:{...P.upsell,media_url:te.target.value}})})]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/5 space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Texto do Boto (Ao Principal)"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Sim, quero adicionar ao meu pedido",value:((js=P.upsell)==null?void 0:js.button_text)||"",onChange:te=>X({...P,upsell:{...P.upsell,button_text:te.target.value}})})]}),n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[n.jsx("div",{className:"pt-2",children:n.jsx("input",{type:"checkbox",checked:(Nr=P.upsell)==null?void 0:Nr.show_description,onChange:()=>{var te;return X({...P,upsell:{...P.upsell,show_description:!((te=P.upsell)!=null&&te.show_description)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Descrio Detalhada"}),n.jsx("textarea",{rows:3,className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(Ga=P.upsell)!=null&&Ga.show_description?"":"opacity-50"}`,placeholder:"Explique os benefcios...",value:((_r=P.upsell)==null?void 0:_r.description)||"",disabled:!((Ju=P.upsell)!=null&&Ju.show_description),onChange:te=>X({...P,upsell:{...P.upsell,description:te.target.value}})})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"6"}),"Campos do Formulrio"]}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:[{id:"name",label:"Nome Completo"},{id:"email",label:"E-mail"},{id:"phone",label:"WhatsApp / Telefone"},{id:"cpf",label:"CPF / Documento"}].map(te=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:te.label}),n.jsx("button",{onClick:()=>X({...P,fields:{...P.fields,[te.id]:!P.fields[te.id]}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${P.fields[te.id]?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${P.fields[te.id]?"translate-x-6":"translate-x-1"}`})})]},te.id))})})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"7"}),"Formas de Pagamento Visveis"]}),n.jsx(Te,{children:n.jsx("div",{className:"space-y-4",children:[{id:"pix",label:"Pix (QR Code)"},{id:"credit_card",label:"Carto de Crdito"},{id:"boleto",label:"Boleto Bancrio"}].map(te=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-300",children:te.label}),n.jsx("button",{onClick:()=>X({...P,payment_methods:{...P.payment_methods,[te.id]:!P.payment_methods[te.id]}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${P.payment_methods[te.id]?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${P.payment_methods[te.id]?"translate-x-6":"translate-x-1"}`})})]},te.id))})})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"8"}),"Design e Escassez"]}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Imagem de Cabealho (Banner)"}),n.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Tamanho recomendado: 1200x300 pixels"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",className:"flex-1 bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Cole a URL ou faa upload...",value:P.header_image||"",onChange:te=>X({...P,header_image:te.target.value})}),n.jsx("input",{type:"file",ref:a,className:"hidden",accept:"image/*",onChange:q}),n.jsx(_e,{variant:"secondary",onClick:()=>{var te;return(te=a.current)==null?void 0:te.click()},className:"whitespace-nowrap",disabled:V,children:V?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Dr,{className:"w-4 h-4"})," Upload"]})})]}),P.header_image&&n.jsxs("div",{className:"mt-3 w-full h-32 rounded-lg overflow-hidden border border-white/10 relative group",children:[n.jsx("img",{src:P.header_image,className:"w-full h-full object-cover",alt:"Banner Preview"}),n.jsx("button",{onClick:()=>X({...P,header_image:""}),className:"absolute top-2 right-2 bg-black/50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:""})})]})]}),n.jsx("div",{className:"h-px bg-white/5"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-white flex items-center gap-2",children:[n.jsx(Vu,{className:"w-4 h-4 text-red-400"})," Timer de Escassez"]}),n.jsx("button",{onClick:()=>X({...P,timer:{...P.timer,active:!P.timer.active}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${P.timer.active?"bg-red-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${P.timer.active?"translate-x-6":"translate-x-1"}`})})]}),P.timer.active&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-white/5 p-4 rounded-xl animate-in fade-in duration-300",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Tempo (minutos)"}),n.jsx("input",{type:"number",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:P.timer.minutes,onChange:te=>X({...P,timer:{...P.timer,minutes:parseInt(te.target.value)}})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Cor de Fundo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"color",className:"h-9 w-9 rounded cursor-pointer border-none bg-transparent",value:P.timer.bg_color,onChange:te=>X({...P,timer:{...P.timer,bg_color:te.target.value}})}),n.jsx("span",{className:"text-xs text-gray-500",children:P.timer.bg_color})]})]})]})]})]})})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"9"}),"Rastreamento de Converso"]}),n.jsxs(Te,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-white/5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-bold text-gray-200",children:"Ativar Rastreamento"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Habilita a injeo de scripts (Pixels e Tags) no checkout."})]}),n.jsx("button",{onClick:()=>{var te;return X({...P,pixels:{...P.pixels,active:!((te=P.pixels)!=null&&te.active)}})},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${(Qu=P.pixels)!=null&&Qu.active?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${(Zu=P.pixels)!=null&&Zu.active?"translate-x-6":"translate-x-1"}`})})]}),((pi=P.pixels)==null?void 0:pi.active)&&n.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[n.jsx("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"font-bold text-blue-400 text-xs",children:"GTM"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-bold text-blue-100",children:"Google Tag Manager (Avanado)"}),n.jsx("p",{className:"text-xs text-blue-300/70 mb-3",children:"Se voc usar o GTM, ns ignoraremos os pixels individuais abaixo e carregaremos apenas o seu container."}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-blue-500/30 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-blue-500/50 outline-none placeholder-blue-300/30",placeholder:"Ex: GTM-ABC1234",value:((gi=P.pixels)==null?void 0:gi.gtm_id)||"",onChange:te=>X({...P,pixels:{...P.pixels,gtm_id:te.target.value}})})]})]})}),n.jsxs("div",{className:`space-y-6 ${(xi=P.pixels)!=null&&xi.gtm_id?"opacity-50 pointer-events-none grayscale":""}`,children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[n.jsx(YR,{className:"w-3 h-3"})," Analytics"]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"Google Analytics 4 (GA4)"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: G-XXXXXXXXXX",value:((fn=P.pixels)==null?void 0:fn.google_analytics_id)||"",onChange:te=>X({...P,pixels:{...P.pixels,google_analytics_id:te.target.value}})})})]})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[n.jsx(mo,{className:"w-3 h-3"})," Plataformas de Anncios"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"Facebook Pixel ID"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: 123456789012345",value:((vi=P.pixels)==null?void 0:vi.facebook_pixel_id)||"",onChange:te=>X({...P,pixels:{...P.pixels,facebook_pixel_id:te.target.value}})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"TikTok Pixel ID"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: C123ABC456DEF789",value:((Ns=P.pixels)==null?void 0:Ns.tiktok_pixel_id)||"",onChange:te=>X({...P,pixels:{...P.pixels,tiktok_pixel_id:te.target.value}})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"Google Ads Conversion ID"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: AW-123456789",value:((ed=P.pixels)==null?void 0:ed.google_ads_id)||"",onChange:te=>X({...P,pixels:{...P.pixels,google_ads_id:te.target.value}})})]})]})]})]})]})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"10"}),"Status do Checkout"]}),n.jsxs(Te,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-white",children:"Checkout Ativo"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Se desativado, a pgina pblica mostrar erro."})]}),n.jsx("button",{onClick:()=>_(!N),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N?"bg-green-500":"bg-white/10"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N?"translate-x-6":"translate-x-1"}`})})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"10"}),"Pgina de Agradecimento"]}),n.jsx(Te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Personalize o boto exibido na pgina de agradecimento aps a compra."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"URL do Boto (opcional)"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"https://wa.me/5511999999999 ou /login",value:se,onChange:te=>J(te.target.value)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Deixe vazio para usar a rea de membros (/login). Use links externos (WhatsApp, Telegram) ou rotas internas."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Texto do Boto (opcional)"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Acessar",value:xe,onChange:te=>be(te.target.value)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:'Texto exibido no boto. Padro: "Acessar"'})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-white/5",children:[n.jsx(_e,{variant:"ghost",onClick:()=>t("/admin/checkouts"),children:"Cancelar"}),n.jsxs(_e,{onClick:ne,size:"lg",children:[n.jsx(li,{className:"w-4 h-4"})," ",r?"Publicar Checkout":"Salvar Alteraes"]})]})]})]}),n.jsx(zr,{isOpen:H.isOpen,onClose:je,title:H.title,message:H.message,variant:H.variant})]})},pZ=()=>{const[e,t]=v.useState([]),[r,a]=v.useState({public_key:"",private_key:"",webhook_secret:"",active:!1}),[s,o]=v.useState(!1),[c,d]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),h=(x,y,N="info")=>{d({isOpen:!0,title:x,message:y,variant:N})},f=()=>{d(x=>({...x,isOpen:!1}))};v.useEffect(()=>{(async()=>{const y=await ae.getGateways();t(y);const N=y.find(_=>_.name===Qa.MERCADO_PAGO);N&&a({public_key:N.public_key,private_key:N.private_key,webhook_secret:N.webhook_secret,active:N.active})})()},[]);const m=async x=>{x.preventDefault();try{const y=e.findIndex(w=>w.name===Qa.MERCADO_PAGO);if(y>=0){const w={id:e[y].id,name:Qa.MERCADO_PAGO,...r};await ae.updateGateway(w)}else await ae.createGateway({name:Qa.MERCADO_PAGO,...r});const N=await ae.getGateways();t(N);const _=N.find(w=>w.name===Qa.MERCADO_PAGO);_&&a({public_key:_.public_key,private_key:_.private_key,webhook_secret:_.webhook_secret,active:_.active}),o(!1),setTimeout(()=>{h("Sucesso","Gateway salvo com sucesso!","success")},100)}catch(y){console.error("Error saving gateway:",y),h("Erro","Erro ao salvar gateway. Verifique o console.","error")}},g=({title:x,logo:y,status:N,onClick:_,imgClassName:w="max-w-full max-h-full"})=>n.jsxs(Te,{className:`relative overflow-hidden group hover:border-primary/50 transition-all cursor-pointer h-40 flex items-center justify-center ${N==="active"?"border-green-500/50 bg-green-500/5":""}`,onClick:N!=="soon"?_:void 0,children:[N==="soon"&&n.jsx("div",{className:"absolute top-3 right-3 z-10",children:n.jsx("div",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold border uppercase tracking-wider bg-gray-100 dark:bg-white/5 text-gray-400 border-transparent",children:"Em Breve"})}),n.jsx("div",{className:"w-40 h-20 flex items-center justify-center opacity-70 group-hover:opacity-100 transition-opacity",children:n.jsx("img",{src:y,alt:x,className:`${w} object-contain brightness-0 invert`})})]});return n.jsxs(ir,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gateways de Pagamento"}),n.jsx("p",{className:"text-gray-500 dark:text-dark-text text-sm mt-1",children:"Conecte provedores para receber pagamentos."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(Te,{className:`relative overflow-hidden group hover:border-primary/50 transition-all cursor-pointer h-40 flex items-center justify-center ${r.active?"border-green-500 dark:border-green-400":""}`,onClick:()=>o(!0),children:[r.active&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-transparent to-green-500/5 pointer-events-none"}),n.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.active?n.jsxs("span",{className:"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full font-medium flex items-center gap-1",children:[n.jsx(Or,{className:"w-3 h-3"}),"Ativo"]}):n.jsx("div",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold border uppercase tracking-wider bg-gray-100 dark:bg-white/5 text-gray-400 border-transparent",children:"Inativo"})}),n.jsx("div",{className:"relative z-10 w-40 h-20 flex items-center justify-center opacity-70 group-hover:opacity-100 transition-opacity",children:n.jsx("img",{src:"/mercado-pago-logo.png",alt:"Mercado Pago",className:"max-w-full max-h-full object-contain brightness-0 invert"})})]}),n.jsx(g,{title:"Stripe",logo:"/stripe-logo.png",status:"soon",imgClassName:"max-w-full max-h-12"})]}),n.jsx($a,{isOpen:s,onClose:()=>o(!1),title:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 flex items-center justify-center",children:n.jsx("img",{src:"/mercado-pago-logo.png",className:"h-full object-contain",alt:"MP"})}),n.jsx("span",{children:"Configuraes Mercado Pago"})]}),className:"max-w-xl",children:n.jsxs("form",{onSubmit:m,className:"space-y-5",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl flex items-start gap-3",children:[n.jsx(si,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Use suas ",n.jsx("strong",{children:"Credenciais de Produo"}),". Chaves de teste funcionaro para simulao."]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Chave Pblica (Public Key)"}),n.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none font-mono text-xs dark:text-white",placeholder:"APP_USR-...",value:r.public_key,onChange:x=>a({...r,public_key:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Token de Acesso (Access Token)"}),n.jsx("input",{type:"password",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none font-mono text-xs dark:text-white",placeholder:"APP_USR-...",value:r.private_key,onChange:x=>a({...r,private_key:x.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Segredo do Webhook"}),n.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none font-mono text-xs dark:text-white",value:r.webhook_secret,onChange:x=>a({...r,webhook_secret:x.target.value})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Habilitar Gateway"}),n.jsx("button",{type:"button",onClick:()=>a({...r,active:!r.active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-dark-card ${r.active?"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.active?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[n.jsx(_e,{type:"button",variant:"ghost",onClick:()=>o(!1),children:"Cancelar"}),n.jsx(_e,{type:"submit",children:"Salvar Credenciais"})]})]})}),n.jsx(zr,{isOpen:c.isOpen,onClose:f,title:c.title,message:c.message,variant:c.variant})]})},gZ=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!1),[s,o]=v.useState(!1),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(null),[x,y]=v.useState(null),[N,_]=v.useState(""),[w,E]=v.useState(null),[k,S]=v.useState(!1),[T,C]=v.useState(null),[O,M]=v.useState(!1),[L,z]=v.useState(null),[G,F]=v.useState(null),[se,J]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),[xe,be]=v.useState("all"),[P,X]=v.useState({domain:"",type:Mv.CNAME,usage:ht.CHECKOUT}),[K,he]=v.useState(null),[V,R]=v.useState(null);v.useEffect(()=>{(async()=>{t(await ae.getDomains())})()},[]),v.useEffect(()=>{e.length>0&&e.forEach(q=>{q.status===gr.PENDING&&ee(q.id,q.domain,!0)})},[e.length]);const H=async q=>{q.preventDefault(),S(!0),C(null);try{const ie=await fetch("/api/domains/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:P.domain})}),$=ie.headers.get("content-type");if(!$||!$.includes("application/json"))throw new Error('API indisponvel. Use "vercel dev" para testar localmente.');const ce=await ie.json();if(!ie.ok)throw new Error(ce.error||"Falha ao adicionar domnio na Vercel");const ye={status:gr.PENDING,created_at:new Date().toISOString(),domain:P.domain,type:P.type,checkout_id:null,usage:P.usage},le=await ae.createDomain(ye),Ne=[...e,le];t(Ne),a(!1),X({domain:"",type:Mv.CNAME,usage:ht.CHECKOUT}),de(le)}catch(ie){C(ie.message)}finally{S(!1)}},ee=async(q,ie,$=!1)=>{$||f(q);try{const ye=await(await fetch(`/api/domains/verify?domain=${ie}`)).json();if(R(ye),console.log("Verification response:",ye),ye.error)throw new Error(ye.error);const le=e.find(we=>we.id===q);let Ne=gr.PENDING;if(ye.verified?Ne=gr.ACTIVE:ye.error?Ne=gr.ERROR:Ne=gr.PENDING,le&&le.status!==Ne){const we=e.map(pe=>pe.id===q?{...pe,status:Ne}:pe);t(we)}if(ye.dnsRecords&&ye.dnsRecords.length>0)return ye.dnsRecords;const Ae=ye.verificationChallenges||ye.verification;return Ae&&Ae.length>0?Ae:[{type:"CNAME",domain:ie,value:"cname.vercel-dns.com",reason:"default_cname"},{type:"A",domain:"@",value:"76.76.21.21",reason:"default_a"}]}catch(ce){return console.error("Verification failed:",ce),R({error:ce.message}),t(ye=>ye.map(le=>le.id===q?{...le,status:gr.ERROR}:le)),null}finally{$||f(null)}},de=async q=>{d(q),he(null),M(!0),o(!0);const ie=await ee(q.id,q.domain,!0);ie&&he(ie),M(!1)},je=async(q,ie)=>{z(q);try{const $=await ae.getDomainUsage(q);$.checkouts.length>0||$.memberAreas.length>0?F($):(y(q),_(ie))}catch($){console.error("Error checking domain usage:",$),J({isOpen:!0,title:"Erro",message:"Erro ao verificar uso do domnio",variant:"error"})}finally{z(null)}},I=async()=>{if(!(!x||!N)){g(x);try{await fetch(`/api/domains/remove?domain=${N}`,{method:"DELETE"}),await ae.deleteDomain(x),t(e.filter(q=>q.id!==x)),y(null),_("")}catch(q){console.error("Removal failed:",q),J({isOpen:!0,title:"Erro",message:"Erro ao remover domnio",variant:"error"})}finally{g(null)}}},me=(q,ie)=>{navigator.clipboard.writeText(q),E(ie),setTimeout(()=>E(null),2e3)},Ce=q=>{switch(q){case gr.ACTIVE:return n.jsxs("span",{className:"flex items-center gap-1.5 bg-green-500/10 text-green-400 px-2.5 py-1 rounded-full text-xs font-bold border border-green-500/20 shadow-[0_0_10px_rgba(74,222,128,0.2)]",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Conectado"]});case gr.PENDING:return n.jsxs("span",{className:"flex items-center gap-1.5 bg-yellow-500/10 text-yellow-400 px-2.5 py-1 rounded-full text-xs font-bold border border-yellow-500/20",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"Aguardando DNS"]});case gr.ERROR:return n.jsxs("span",{className:"flex items-center gap-1.5 bg-red-500/10 text-red-400 px-2.5 py-1 rounded-full text-xs font-bold border border-red-500/20",children:[n.jsx(si,{className:"w-3 h-3"}),"Erro"]});default:return null}},ne=q=>{switch(q){case ht.CHECKOUT:return n.jsxs("span",{className:"flex items-center gap-1.5 bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded text-[10px] font-medium border border-blue-500/20 uppercase tracking-wide",children:[n.jsx(cu,{className:"w-3 h-3"})," Checkout"]});case ht.MEMBER_AREA:return n.jsxs("span",{className:"flex items-center gap-1.5 bg-purple-500/10 text-purple-400 px-2 py-0.5 rounded text-[10px] font-medium border border-purple-500/20 uppercase tracking-wide",children:[n.jsx(as,{className:"w-3 h-3"})," rea de Membros"]});case ht.SYSTEM:default:return n.jsxs("span",{className:"flex items-center gap-1.5 bg-green-500/10 text-green-400 px-2 py-0.5 rounded text-[10px] font-medium border border-green-500/20 uppercase tracking-wide",children:[n.jsx(lu,{className:"w-3 h-3"})," Sistema"]})}},Se=e.filter(q=>xe==="all"?!0:xe==="checkout"?q.usage===ht.CHECKOUT:xe==="member_area"?q.usage===ht.MEMBER_AREA:xe==="system"?q.usage===ht.SYSTEM:!0);return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Domnios"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Conecte seus domnios personalizados."})]}),n.jsxs(_e,{onClick:()=>a(!0),className:"shadow-xl shadow-primary/20",children:[n.jsx(sr,{className:"w-4 h-4"})," Adicionar Domnio"]})]}),n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx("button",{onClick:()=>be("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${xe==="all"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"Todos"}),n.jsxs("button",{onClick:()=>be("checkout"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${xe==="checkout"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[n.jsx(cu,{className:"w-4 h-4"})," Checkout"]}),n.jsxs("button",{onClick:()=>be("member_area"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${xe==="member_area"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[n.jsx(as,{className:"w-4 h-4"})," rea de Membros"]}),n.jsxs("button",{onClick:()=>be("system"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${xe==="system"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[n.jsx(lu,{className:"w-4 h-4"})," Sistema"]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-6",children:Se.length===0?n.jsxs(Te,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(sn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum domnio conectado"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(_e,{onClick:()=>a(!0),children:"Adicionar Domnio"})})]}):Se.map(q=>n.jsx(Te,{className:"group overflow-hidden relative",noPadding:!0,children:n.jsxs("div",{className:"p-6 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${q.status===gr.ACTIVE?"bg-green-500/10 border-green-500/20 text-green-500":"bg-white/5 border-white/10 text-gray-400"}`,children:n.jsx(sn,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:q.domain}),Ce(q.status)]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[ne(q.usage||ht.SYSTEM),n.jsxs("span",{className:"text-sm text-gray-500",children:["Adicionado em ",new Date(q.created_at).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 self-end lg:self-auto",children:[n.jsxs(_e,{size:"sm",variant:"secondary",onClick:()=>de(q),className:"bg-white/5 hover:bg-white/10 border-white/10",children:[n.jsx(Yk,{className:"w-4 h-4 mr-2"}),q.status===gr.ACTIVE?"Detalhes DNS":"Configurao DNS"]}),n.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>ee(q.id,q.domain),disabled:h===q.id,children:h===q.id?n.jsx(Ir,{className:"w-4 h-4 animate-spin"}):n.jsx(eD,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>je(q.id,q.domain),disabled:m===q.id||L===q.id,className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500 transition-colors",children:m===q.id||L===q.id?n.jsx(Ir,{className:"w-4 h-4 animate-spin"}):n.jsx($r,{className:"w-4 h-4"})})]})]})},q.id))}),n.jsx($a,{isOpen:r,onClose:()=>a(!1),title:"Adicionar Domnio",children:n.jsxs("form",{onSubmit:H,className:"space-y-6",children:[T&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[n.jsx(si,{className:"w-4 h-4"})," ",T]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Finalidade do Domnio"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx("div",{className:`p-3 rounded-xl border cursor-pointer transition-all ${P.usage===ht.CHECKOUT?"bg-blue-500/20 border-blue-500/50":"bg-black/30 border-white/10 hover:border-white/20"}`,onClick:()=>X({...P,usage:ht.CHECKOUT}),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${P.usage===ht.CHECKOUT?"bg-blue-500 text-white":"bg-white/5 text-gray-400"}`,children:n.jsx(cu,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm font-bold ${P.usage===ht.CHECKOUT?"text-white":"text-gray-300"}`,children:"Para Checkout"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ex: pay.meusite.com"})]})]})}),n.jsx("div",{className:`p-3 rounded-xl border cursor-pointer transition-all ${P.usage===ht.MEMBER_AREA?"bg-purple-500/20 border-purple-500/50":"bg-black/30 border-white/10 hover:border-white/20"}`,onClick:()=>X({...P,usage:ht.MEMBER_AREA}),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${P.usage===ht.MEMBER_AREA?"bg-purple-500 text-white":"bg-white/5 text-gray-400"}`,children:n.jsx(as,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm font-bold ${P.usage===ht.MEMBER_AREA?"text-white":"text-gray-300"}`,children:"Para rea de Membros"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ex: membros.meusite.com"})]})]})}),n.jsx("div",{className:`p-3 rounded-xl border cursor-pointer transition-all ${P.usage===ht.SYSTEM?"bg-green-500/20 border-green-500/50":"bg-black/30 border-white/10 hover:border-white/20"}`,onClick:()=>X({...P,usage:ht.SYSTEM}),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${P.usage===ht.SYSTEM?"bg-green-500 text-white":"bg-white/5 text-gray-400"}`,children:n.jsx(lu,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm font-bold ${P.usage===ht.SYSTEM?"text-white":"text-gray-300"}`,children:"Para Sistema"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ex: admin.meusite.com"})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Domnio (sem http/https)"}),n.jsx("input",{required:!0,type:"text",className:"w-full bg-black/30 border border-purple-500/20 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none placeholder:text-gray-600",placeholder:P.usage===ht.MEMBER_AREA?"clube.meusite.com":"pay.meusite.com",value:P.domain,onChange:q=>X({...P,domain:q.target.value})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(_e,{variant:"ghost",onClick:()=>a(!1),children:"Cancelar"}),n.jsx(_e,{onClick:H,disabled:k,className:"bg-purple-600 hover:bg-purple-700 text-white border-none shadow-lg shadow-purple-500/20",children:k?n.jsx(Ir,{className:"w-4 h-4 animate-spin"}):"Adicionar"})]})]})}),c&&n.jsx($a,{isOpen:s,onClose:()=>o(!1),title:c.status===gr.ACTIVE?"Domnio Conectado":"Configurao DNS",className:"max-w-2xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center border ${c.status===gr.ACTIVE?"bg-green-500/20 text-green-500 border-green-500/20":"bg-yellow-500/20 text-yellow-500 border-yellow-500/20"}`,children:n.jsx(Yk,{className:"w-5 h-5"})}),n.jsx("p",{className:"text-sm text-gray-400",children:c.status===gr.ACTIVE?"Seu domnio est ativo e funcionando.":"Configure seu provedor para conectar o domnio."})]}),n.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-xl p-4 space-y-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Registros DNS necessrios:"})}),O?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Ir,{className:"w-8 h-8 animate-spin text-primary"})}):K?n.jsxs("div",{className:"space-y-6",children:[K.filter(q=>q.type.toUpperCase()==="CNAME").length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Subdomnio (CNAME)"}),K.filter(q=>q.type.toUpperCase()==="CNAME").map((q,ie)=>n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Type"}),n.jsx("span",{className:"text-white font-mono font-bold",children:"CNAME"})]}),n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Name"}),n.jsx("span",{className:"text-white font-mono",children:q.domain.startsWith("www.")?"www":q.domain.split(".").length>2?q.domain.split(".")[0]:"@"})]}),n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5 relative group col-span-2",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Value"}),n.jsx("span",{className:"text-white font-mono break-all",children:q.value}),n.jsx("button",{onClick:()=>me(q.value,`val-cname-${ie}`),className:"absolute top-2 right-2 text-gray-500 hover:text-white",children:w===`val-cname-${ie}`?n.jsx(Or,{className:"w-3 h-3 text-green-500"}):n.jsx(Tr,{className:"w-3 h-3"})})]})]},`cname-${ie}`))]}),K.filter(q=>q.type.toUpperCase()==="A").length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Domnio (A Record)"}),K.filter(q=>q.type.toUpperCase()==="A").map((q,ie)=>n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Type"}),n.jsx("span",{className:"text-white font-mono font-bold",children:"A"})]}),n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Name"}),n.jsx("span",{className:"text-white font-mono",children:"@"})]}),n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5 relative group col-span-2",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Value"}),n.jsx("span",{className:"text-white font-mono break-all",children:q.value}),n.jsx("button",{onClick:()=>me(q.value,`val-a-${ie}`),className:"absolute top-2 right-2 text-gray-500 hover:text-white",children:w===`val-a-${ie}`?n.jsx(Or,{className:"w-3 h-3 text-green-500"}):n.jsx(Tr,{className:"w-3 h-3"})})]})]},`a-${ie}`))]}),K.filter(q=>q.type.toUpperCase()==="TXT").length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Verificao (TXT)"}),K.filter(q=>q.type.toUpperCase()==="TXT").map((q,ie)=>n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Type"}),n.jsx("span",{className:"text-white font-mono font-bold",children:"TXT"})]}),n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Name"}),n.jsx("span",{className:"text-white font-mono",children:q.domain.startsWith("_vercel")?"_vercel":"@"})]}),n.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5 relative group col-span-2",children:[n.jsx("span",{className:"text-gray-500 block mb-1",children:"Value"}),n.jsx("span",{className:"text-white font-mono break-all",children:q.value}),n.jsx("button",{onClick:()=>me(q.value,`val-txt-${ie}`),className:"absolute top-2 right-2 text-gray-500 hover:text-white",children:w===`val-txt-${ie}`?n.jsx(Or,{className:"w-3 h-3 text-green-500"}):n.jsx(Tr,{className:"w-3 h-3"})})]})]},`txt-${ie}`))]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 text-xs mt-2",children:n.jsxs("div",{className:"col-span-4 bg-white/5 p-2 rounded border border-white/5 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Proxy (Cloudflare)"}),n.jsx("span",{className:"text-gray-400 font-mono",children:"Desativado (Nuvem Cinza)"})]})})]}):n.jsx("div",{className:"text-center py-8 text-gray-400",children:n.jsx("p",{className:"mb-2 font-medium text-white",children:"No foi possvel obter os registros."})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(_e,{onClick:()=>o(!1),children:"Fechar"})})]})}),n.jsx(un,{isOpen:!!x,onClose:()=>{y(null),_("")},onConfirm:I,title:"Excluir Domnio",message:"Tem certeza que deseja excluir este domnio? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:m===x}),n.jsx($a,{isOpen:!!G,onClose:()=>F(null),title:"Domnio em Uso",className:"max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex items-start gap-3",children:[n.jsx(si,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-yellow-500 font-bold text-sm mb-1",children:"No  possvel excluir"}),n.jsx("p",{className:"text-yellow-200/80 text-xs",children:"Este domnio est vinculado aos seguintes itens. Remova os vnculos antes de excluir."})]})]}),n.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-xl overflow-hidden",children:[(G==null?void 0:G.checkouts.length)>0&&n.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Checkouts"}),n.jsx("ul",{className:"space-y-1",children:G.checkouts.map(q=>n.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),q.name]},q.id))})]}),(G==null?void 0:G.memberAreas.length)>0&&n.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"reas de Membros"}),n.jsx("ul",{className:"space-y-1",children:G.memberAreas.map(q=>n.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),q.name]},q.id))})]})]}),n.jsx("div",{className:"flex justify-end pt-2",children:n.jsx(_e,{onClick:()=>F(null),children:"Entendi"})})]})}),n.jsx(zr,{isOpen:se.isOpen,onClose:()=>J({...se,isOpen:!1}),title:se.title,message:se.message,variant:se.variant})]})},xZ=()=>{const{user:e}=fs(),[t,r]=v.useState(!1),[a,s]=v.useState(null),[o,c]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(""),[g,x]=v.useState("");v.useEffect(()=>{var _;e&&(c(((_=e.user_metadata)==null?void 0:_.name)||""),h(e.email||""))},[e]);const y=async _=>{_.preventDefault(),r(!0),s(null);try{const{error:w}=await Y.auth.updateUser({data:{name:o}});if(w)throw w;s({type:"success",text:"Perfil atualizado com sucesso!"})}catch(w){s({type:"error",text:w.message||"Erro ao atualizar perfil"})}finally{r(!1)}},N=async _=>{if(_.preventDefault(),f!==g){s({type:"error",text:"As senhas no coincidem"});return}r(!0),s(null);try{const{error:w}=await Y.auth.updateUser({password:f});if(w)throw w;s({type:"success",text:"Senha alterada com sucesso!"}),m(""),x("")}catch(w){s({type:"error",text:w.message||"Erro ao alterar senha"})}finally{r(!1)}};return n.jsxs(ir,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configuraes da Conta"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie suas informaes pessoais e segurana."})]}),n.jsxs("div",{className:"max-w-4xl space-y-6",children:[a&&n.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${a.type==="success"?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[a.type==="success"?n.jsx(Or,{className:"w-5 h-5"}):n.jsx(nn,{className:"w-5 h-5"}),a.text]}),n.jsxs(Te,{children:[n.jsx("div",{className:"p-6 border-b border-white/5",children:n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(cn,{className:"w-5 h-5 text-primary"}),"Informaes do Perfil"]})}),n.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome Completo"}),n.jsx("input",{type:"text",value:o,onChange:_=>c(_.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"Seu nome"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"E-mail"}),n.jsx("input",{type:"email",value:d,disabled:!0,className:"w-full bg-white/5 border border-white/5 rounded-xl px-4 py-3 text-gray-400 cursor-not-allowed"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O e-mail no pode ser alterado."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(_e,{type:"submit",disabled:t,children:[t?n.jsx(Ir,{className:"w-4 h-4 animate-spin"}):n.jsx(li,{className:"w-4 h-4"}),"Salvar Alteraes"]})})]})]}),n.jsxs(Te,{children:[n.jsx("div",{className:"p-6 border-b border-white/5",children:n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(br,{className:"w-5 h-5 text-primary"}),"Segurana"]})}),n.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nova Senha"}),n.jsx("input",{type:"password",value:f,onChange:_=>m(_.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"",minLength:6})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Confirmar Senha"}),n.jsx("input",{type:"password",value:g,onChange:_=>x(_.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"",minLength:6})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(_e,{type:"submit",variant:"outline",disabled:t||!f,children:[t?n.jsx(Ir,{className:"w-4 h-4 animate-spin"}):n.jsx(li,{className:"w-4 h-4"}),"Alterar Senha"]})})]})]})]})]})},vZ="modulepreload",yZ=function(e){return"/"+e},Jk={},Dl=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=c(r.map(f=>{if(f=yZ(f),f in Jk)return;Jk[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":vZ,m||(x.as="script"),x.crossOrigin="",x.href=f,h&&x.setAttribute("nonce",h),document.head.appendChild(x),m)return new Promise((y,N)=>{x.addEventListener("load",y),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function wr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Qk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iD(...e){return t=>{let r=!1;const a=e.map(s=>{const o=Qk(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<a.length;s++){const o=a[s];typeof o=="function"?o():Qk(e[s],null)}}}}function An(...e){return v.useCallback(iD(...e),e)}function bZ(e,t){const r=v.createContext(t),a=o=>{const{children:c,...d}=o,h=v.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:h,children:c})};a.displayName=e+"Provider";function s(o){const c=v.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[a,s]}function Ym(e,t=[]){let r=[];function a(o,c){const d=v.createContext(c),h=r.length;r=[...r,c];const f=g=>{var E;const{scope:x,children:y,...N}=g,_=((E=x==null?void 0:x[e])==null?void 0:E[h])||d,w=v.useMemo(()=>N,Object.values(N));return n.jsx(_.Provider,{value:w,children:y})};f.displayName=o+"Provider";function m(g,x){var _;const y=((_=x==null?void 0:x[e])==null?void 0:_[h])||d,N=v.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,m]}const s=()=>{const o=r.map(c=>v.createContext(c));return function(d){const h=(d==null?void 0:d[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return s.scopeName=e,[a,wZ(s,...t)]}function wZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=a.reduce((d,{useScope:h,scopeName:f})=>{const g=h(o)[`__scope${f}`];return{...d,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var ku=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},jZ=Dy[" useId ".trim().toString()]||(()=>{}),NZ=0;function uu(e){const[t,r]=v.useState(jZ());return ku(()=>{r(a=>a??String(NZ++))},[e]),e||(t?`radix-${t}`:"")}var _Z=Dy[" useInsertionEffect ".trim().toString()]||ku;function jw({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[s,o,c]=EZ({defaultProp:t,onChange:r}),d=e!==void 0,h=d?e:s;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,a])}const f=v.useCallback(m=>{var g;if(d){const x=SZ(m)?m(e):m;x!==e&&((g=c.current)==null||g.call(c,x))}else o(m)},[d,e,o,c]);return[h,f]}function EZ({defaultProp:e,onChange:t}){const[r,a]=v.useState(e),s=v.useRef(r),o=v.useRef(t);return _Z(()=>{o.current=t},[t]),v.useEffect(()=>{var c;s.current!==r&&((c=o.current)==null||c.call(o,r),s.current=r)},[r,s]),[r,a,o]}function SZ(e){return typeof e=="function"}function Jf(e){const t=kZ(e),r=v.forwardRef((a,s)=>{const{children:o,...c}=a,d=v.Children.toArray(o),h=d.find(AZ);if(h){const f=h.props.children,m=d.map(g=>g===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:g);return n.jsx(t,{...c,ref:s,children:v.isValidElement(f)?v.cloneElement(f,void 0,m):null})}return n.jsx(t,{...c,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function kZ(e){const t=v.forwardRef((r,a)=>{const{children:s,...o}=r;if(v.isValidElement(s)){const c=OZ(s),d=TZ(o,s.props);return s.type!==v.Fragment&&(d.ref=a?iD(a,c):c),v.cloneElement(s,d)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CZ=Symbol("radix.slottable");function AZ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CZ}function TZ(e,t){const r={...t};for(const a in t){const s=e[a],o=t[a];/^on[A-Z]/.test(a)?s&&o?r[a]=(...d)=>{const h=o(...d);return s(...d),h}:s&&(r[a]=s):a==="style"?r[a]={...s,...o}:a==="className"&&(r[a]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function OZ(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fr=RZ.reduce((e,t)=>{const r=Jf(`Primitive.${t}`),a=v.forwardRef((s,o)=>{const{asChild:c,...d}=s,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,{...d,ref:o})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function DZ(e,t){e&&am.flushSync(()=>e.dispatchEvent(t))}function Pl(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function PZ(e,t=globalThis==null?void 0:globalThis.document){const r=Pl(e);v.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var MZ="DismissableLayer",Ty="dismissableLayer.update",IZ="dismissableLayer.pointerDownOutside",LZ="dismissableLayer.focusOutside",Zk,oD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lD=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...h}=e,f=v.useContext(oD),[m,g]=v.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),N=An(t,M=>g(M)),_=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(w),k=m?_.indexOf(m):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,T=k>=E,C=BZ(M=>{const L=M.target,z=[...f.branches].some(G=>G.contains(L));!T||z||(s==null||s(M),c==null||c(M),M.defaultPrevented||d==null||d())},x),O=zZ(M=>{const L=M.target;[...f.branches].some(G=>G.contains(L))||(o==null||o(M),c==null||c(M),M.defaultPrevented||d==null||d())},x);return PZ(M=>{k===f.layers.size-1&&(a==null||a(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},x),v.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Zk=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),eC(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Zk)}},[m,x,r,f]),v.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),eC())},[m,f]),v.useEffect(()=>{const M=()=>y({});return document.addEventListener(Ty,M),()=>document.removeEventListener(Ty,M)},[]),n.jsx(Fr.div,{...h,ref:N,style:{pointerEvents:S?T?"auto":"none":void 0,...e.style},onFocusCapture:wr(e.onFocusCapture,O.onFocusCapture),onBlurCapture:wr(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:wr(e.onPointerDownCapture,C.onPointerDownCapture)})});lD.displayName=MZ;var UZ="DismissableLayerBranch",$Z=v.forwardRef((e,t)=>{const r=v.useContext(oD),a=v.useRef(null),s=An(t,a);return v.useEffect(()=>{const o=a.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(Fr.div,{...e,ref:s})});$Z.displayName=UZ;function BZ(e,t=globalThis==null?void 0:globalThis.document){const r=Pl(e),a=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const o=d=>{if(d.target&&!a.current){let h=function(){cD(IZ,r,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function zZ(e,t=globalThis==null?void 0:globalThis.document){const r=Pl(e),a=v.useRef(!1);return v.useEffect(()=>{const s=o=>{o.target&&!a.current&&cD(LZ,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function eC(){const e=new CustomEvent(Ty);document.dispatchEvent(e)}function cD(e,t,r,{discrete:a}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?DZ(s,o):s.dispatchEvent(o)}var iv="focusScope.autoFocusOnMount",ov="focusScope.autoFocusOnUnmount",tC={bubbles:!1,cancelable:!0},FZ="FocusScope",uD=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=e,[d,h]=v.useState(null),f=Pl(s),m=Pl(o),g=v.useRef(null),x=An(t,_=>h(_)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let _=function(S){if(y.paused||!d)return;const T=S.target;d.contains(T)?g.current=T:Js(g.current,{select:!0})},w=function(S){if(y.paused||!d)return;const T=S.relatedTarget;T!==null&&(d.contains(T)||Js(g.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Js(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",w);const k=new MutationObserver(E);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",w),k.disconnect()}}},[a,d,y.paused]),v.useEffect(()=>{if(d){aC.add(y);const _=document.activeElement;if(!d.contains(_)){const E=new CustomEvent(iv,tC);d.addEventListener(iv,f),d.dispatchEvent(E),E.defaultPrevented||(qZ(WZ(dD(d)),{select:!0}),document.activeElement===_&&Js(d))}return()=>{d.removeEventListener(iv,f),setTimeout(()=>{const E=new CustomEvent(ov,tC);d.addEventListener(ov,m),d.dispatchEvent(E),E.defaultPrevented||Js(_??document.body,{select:!0}),d.removeEventListener(ov,m),aC.remove(y)},0)}}},[d,f,m,y]);const N=v.useCallback(_=>{if(!r&&!a||y.paused)return;const w=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(w&&E){const k=_.currentTarget,[S,T]=HZ(k);S&&T?!_.shiftKey&&E===T?(_.preventDefault(),r&&Js(S,{select:!0})):_.shiftKey&&E===S&&(_.preventDefault(),r&&Js(T,{select:!0})):E===k&&_.preventDefault()}},[r,a,y.paused]);return n.jsx(Fr.div,{tabIndex:-1,...c,ref:x,onKeyDown:N})});uD.displayName=FZ;function qZ(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Js(a,{select:t}),document.activeElement!==r)return}function HZ(e){const t=dD(e),r=rC(t,e),a=rC(t.reverse(),e);return[r,a]}function dD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rC(e,t){for(const r of e)if(!GZ(r,{upTo:t}))return r}function GZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function VZ(e){return e instanceof HTMLInputElement&&"select"in e}function Js(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&VZ(e)&&t&&e.select()}}var aC=YZ();function YZ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nC(e,t),e.unshift(t)},remove(t){var r;e=nC(e,t),(r=e[0])==null||r.resume()}}}function nC(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function WZ(e){return e.filter(t=>t.tagName!=="A")}var XZ="Portal",hD=v.forwardRef((e,t)=>{var d;const{container:r,...a}=e,[s,o]=v.useState(!1);ku(()=>o(!0),[]);const c=r||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?aL.createPortal(n.jsx(Fr.div,{...a,ref:t}),c):null});hD.displayName=XZ;function KZ(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var Yu=e=>{const{present:t,children:r}=e,a=JZ(t),s=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),o=An(a.ref,QZ(s));return typeof r=="function"||a.isPresent?v.cloneElement(s,{ref:o}):null};Yu.displayName="Presence";function JZ(e){const[t,r]=v.useState(),a=v.useRef(null),s=v.useRef(e),o=v.useRef("none"),c=e?"mounted":"unmounted",[d,h]=KZ(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const f=Ih(a.current);o.current=d==="mounted"?f:"none"},[d]),ku(()=>{const f=a.current,m=s.current;if(m!==e){const x=o.current,y=Ih(f);e?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,h]),ku(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,g=y=>{const _=Ih(a.current).includes(CSS.escape(y.animationName));if(y.target===t&&_&&(h("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=y=>{y.target===t&&(o.current=Ih(a.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(f=>{a.current=f?getComputedStyle(f):null,r(f)},[])}}function Ih(e){return(e==null?void 0:e.animationName)||"none"}function QZ(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lv=0;function ZZ(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sC()),document.body.insertAdjacentElement("beforeend",e[1]??sC()),lv++,()=>{lv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lv--}},[])}function sC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jh="right-scroll-bar-position",Qh="width-before-scroll-bar",eee="with-scroll-bars-hidden",tee="--removed-body-scroll-bar-size";function cv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ree(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var aee=typeof window<"u"?v.useLayoutEffect:v.useEffect,iC=new WeakMap;function nee(e,t){var r=ree(null,function(a){return e.forEach(function(s){return cv(s,a)})});return aee(function(){var a=iC.get(r);if(a){var s=new Set(a),o=new Set(e),c=r.current;s.forEach(function(d){o.has(d)||cv(d,null)}),o.forEach(function(d){s.has(d)||cv(d,c)})}iC.set(r,e)},[e]),r}function see(e){return e}function iee(e,t){t===void 0&&(t=see);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var c=t(o,a);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(a=!0;r.length;){var c=r;r=[],c.forEach(o)}r={push:function(d){return o(d)},filter:function(){return r}}},assignMedium:function(o){a=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(o),c=r}var h=function(){var m=c;c=[],m.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),r={push:function(m){c.push(m),f()},filter:function(m){return c=c.filter(m),r}}}};return s}function oee(e){e===void 0&&(e={});var t=iee(null);return t.options=Ma({async:!0,ssr:!1},e),t}var fD=function(e){var t=e.sideCar,r=di(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,Ma({},r))};fD.isSideCarExport=!0;function lee(e,t){return e.useMedium(t),fD}var mD=oee(),uv=function(){},Wm=v.forwardRef(function(e,t){var r=v.useRef(null),a=v.useState({onScrollCapture:uv,onWheelCapture:uv,onTouchMoveCapture:uv}),s=a[0],o=a[1],c=e.forwardProps,d=e.children,h=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,x=e.sideCar,y=e.noRelative,N=e.noIsolation,_=e.inert,w=e.allowPinchZoom,E=e.as,k=E===void 0?"div":E,S=e.gapMode,T=di(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=x,O=nee([r,t]),M=Ma(Ma({},T),s);return v.createElement(v.Fragment,null,m&&v.createElement(C,{sideCar:mD,removeScrollBar:f,shards:g,noRelative:y,noIsolation:N,inert:_,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:S}),c?v.cloneElement(v.Children.only(d),Ma(Ma({},M),{ref:O})):v.createElement(k,Ma({},M,{className:h,ref:O}),d))});Wm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wm.classNames={fullWidth:Qh,zeroRight:Jh};var cee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cee();return t&&e.setAttribute("nonce",t),e}function dee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fee=function(){var e=0,t=null;return{add:function(r){e==0&&(t=uee())&&(dee(t,r),hee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mee=function(){var e=fee();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pD=function(){var e=mee(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},pee={left:0,top:0,right:0,gap:0},dv=function(e){return parseInt(e||"",10)||0},gee=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[dv(r),dv(a),dv(s)]},xee=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pee;var t=gee(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},vee=pD(),bl="data-scroll-locked",yee=function(e,t,r,a){var s=e.left,o=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(eee,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jh,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Qh,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Jh," .").concat(Jh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(tee,": ").concat(d,`px;
  }
`)},oC=function(){var e=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(e)?e:0},bee=function(){v.useEffect(function(){return document.body.setAttribute(bl,(oC()+1).toString()),function(){var e=oC()-1;e<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,e.toString())}},[])},wee=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;bee();var o=v.useMemo(function(){return xee(s)},[s]);return v.createElement(vee,{styles:yee(o,!t,s,r?"":"!important")})},Oy=!1;if(typeof window<"u")try{var Lh=Object.defineProperty({},"passive",{get:function(){return Oy=!0,!0}});window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{Oy=!1}var sl=Oy?{passive:!1}:!1,jee=function(e){return e.tagName==="TEXTAREA"},gD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jee(e)&&r[t]==="visible")},Nee=function(e){return gD(e,"overflowY")},_ee=function(e){return gD(e,"overflowX")},lC=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=xD(e,a);if(s){var o=vD(e,a),c=o[1],d=o[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},Eee=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},See=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},xD=function(e,t){return e==="v"?Nee(t):_ee(t)},vD=function(e,t){return e==="v"?Eee(t):See(t)},kee=function(e,t){return e==="h"&&t==="rtl"?-1:1},Cee=function(e,t,r,a,s){var o=kee(e,window.getComputedStyle(t).direction),c=o*a,d=r.target,h=t.contains(d),f=!1,m=c>0,g=0,x=0;do{if(!d)break;var y=vD(e,d),N=y[0],_=y[1],w=y[2],E=_-w-o*N;(N||E)&&xD(e,d)&&(g+=E,x+=N);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(m&&Math.abs(g)<1||!m&&Math.abs(x)<1)&&(f=!0),f},Uh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cC=function(e){return[e.deltaX,e.deltaY]},uC=function(e){return e&&"current"in e?e.current:e},Aee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Tee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Oee=0,il=[];function Ree(e){var t=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),s=v.useState(Oee++)[0],o=v.useState(pD)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var _=Fy([e.lockRef.current],(e.shards||[]).map(uC),!0).filter(Boolean);return _.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=v.useCallback(function(_,w){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var E=Uh(_),k=r.current,S="deltaX"in _?_.deltaX:k[0]-E[0],T="deltaY"in _?_.deltaY:k[1]-E[1],C,O=_.target,M=Math.abs(S)>Math.abs(T)?"h":"v";if("touches"in _&&M==="h"&&O.type==="range")return!1;var L=window.getSelection(),z=L&&L.anchorNode,G=z?z===O||z.contains(O):!1;if(G)return!1;var F=lC(M,O);if(!F)return!0;if(F?C=M:(C=M==="v"?"h":"v",F=lC(M,O)),!F)return!1;if(!a.current&&"changedTouches"in _&&(S||T)&&(a.current=C),!C)return!0;var se=a.current||C;return Cee(se,w,_,se==="h"?S:T)},[]),h=v.useCallback(function(_){var w=_;if(!(!il.length||il[il.length-1]!==o)){var E="deltaY"in w?cC(w):Uh(w),k=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&Aee(C.delta,E)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var S=(c.current.shards||[]).map(uC).filter(Boolean).filter(function(C){return C.contains(w.target)}),T=S.length>0?d(w,S[0]):!c.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),f=v.useCallback(function(_,w,E,k){var S={name:_,delta:w,target:E,should:k,shadowParent:Dee(E)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(T){return T!==S})},1)},[]),m=v.useCallback(function(_){r.current=Uh(_),a.current=void 0},[]),g=v.useCallback(function(_){f(_.type,cC(_),_.target,d(_,e.lockRef.current))},[]),x=v.useCallback(function(_){f(_.type,Uh(_),_.target,d(_,e.lockRef.current))},[]);v.useEffect(function(){return il.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,sl),document.addEventListener("touchmove",h,sl),document.addEventListener("touchstart",m,sl),function(){il=il.filter(function(_){return _!==o}),document.removeEventListener("wheel",h,sl),document.removeEventListener("touchmove",h,sl),document.removeEventListener("touchstart",m,sl)}},[]);var y=e.removeScrollBar,N=e.inert;return v.createElement(v.Fragment,null,N?v.createElement(o,{styles:Tee(s)}):null,y?v.createElement(wee,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Dee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pee=lee(mD,Ree);var yD=v.forwardRef(function(e,t){return v.createElement(Wm,Ma({},e,{ref:t,sideCar:Pee}))});yD.classNames=Wm.classNames;var Mee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ol=new WeakMap,$h=new WeakMap,Bh={},hv=0,bD=function(e){return e&&(e.host||bD(e.parentNode))},Iee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=bD(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lee=function(e,t,r,a){var s=Iee(t,Array.isArray(e)?e:[e]);Bh[r]||(Bh[r]=new WeakMap);var o=Bh[r],c=[],d=new Set,h=new Set(s),f=function(g){!g||d.has(g)||(d.add(g),f(g.parentNode))};s.forEach(f);var m=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))m(x);else try{var y=x.getAttribute(a),N=y!==null&&y!=="false",_=(ol.get(x)||0)+1,w=(o.get(x)||0)+1;ol.set(x,_),o.set(x,w),c.push(x),_===1&&N&&$h.set(x,!0),w===1&&x.setAttribute(r,"true"),N||x.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return m(t),d.clear(),hv++,function(){c.forEach(function(g){var x=ol.get(g)-1,y=o.get(g)-1;ol.set(g,x),o.set(g,y),x||($h.has(g)||g.removeAttribute(a),$h.delete(g)),y||g.removeAttribute(r)}),hv--,hv||(ol=new WeakMap,ol=new WeakMap,$h=new WeakMap,Bh={})}},Uee=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Mee(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),Lee(a,s,r,"aria-hidden")):function(){return null}},Xm="Dialog",[wD]=Ym(Xm),[$ee,dn]=wD(Xm),jD=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:o,modal:c=!0}=e,d=v.useRef(null),h=v.useRef(null),[f,m]=jw({prop:a,defaultProp:s??!1,onChange:o,caller:Xm});return n.jsx($ee,{scope:t,triggerRef:d,contentRef:h,contentId:uu(),titleId:uu(),descriptionId:uu(),open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:c,children:r})};jD.displayName=Xm;var ND="DialogTrigger",Bee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=dn(ND,r),o=An(t,s.triggerRef);return n.jsx(Fr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ew(s.open),...a,ref:o,onClick:wr(e.onClick,s.onOpenToggle)})});Bee.displayName=ND;var Nw="DialogPortal",[zee,_D]=wD(Nw,{forceMount:void 0}),ED=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,o=dn(Nw,t);return n.jsx(zee,{scope:t,forceMount:r,children:v.Children.map(a,c=>n.jsx(Yu,{present:r||o.open,children:n.jsx(hD,{asChild:!0,container:s,children:c})}))})};ED.displayName=Nw;var Qf="DialogOverlay",SD=v.forwardRef((e,t)=>{const r=_D(Qf,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,o=dn(Qf,e.__scopeDialog);return o.modal?n.jsx(Yu,{present:a||o.open,children:n.jsx(qee,{...s,ref:t})}):null});SD.displayName=Qf;var Fee=Jf("DialogOverlay.RemoveScroll"),qee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=dn(Qf,r);return n.jsx(yD,{as:Fee,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Fr.div,{"data-state":Ew(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),co="DialogContent",kD=v.forwardRef((e,t)=>{const r=_D(co,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,o=dn(co,e.__scopeDialog);return n.jsx(Yu,{present:a||o.open,children:o.modal?n.jsx(Hee,{...s,ref:t}):n.jsx(Gee,{...s,ref:t})})});kD.displayName=co;var Hee=v.forwardRef((e,t)=>{const r=dn(co,e.__scopeDialog),a=v.useRef(null),s=An(t,r.contentRef,a);return v.useEffect(()=>{const o=a.current;if(o)return Uee(o)},[]),n.jsx(CD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wr(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:wr(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:wr(e.onFocusOutside,o=>o.preventDefault())})}),Gee=v.forwardRef((e,t)=>{const r=dn(co,e.__scopeDialog),a=v.useRef(!1),s=v.useRef(!1);return n.jsx(CD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(a.current||(d=r.triggerRef.current)==null||d.focus(),o.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((f=r.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),CD=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=e,d=dn(co,r),h=v.useRef(null),f=An(t,h);return ZZ(),n.jsxs(n.Fragment,{children:[n.jsx(uD,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:n.jsx(lD,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ew(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Xee,{titleId:d.titleId}),n.jsx(Jee,{contentRef:h,descriptionId:d.descriptionId})]})]})}),_w="DialogTitle",Vee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=dn(_w,r);return n.jsx(Fr.h2,{id:s.titleId,...a,ref:t})});Vee.displayName=_w;var AD="DialogDescription",Yee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=dn(AD,r);return n.jsx(Fr.p,{id:s.descriptionId,...a,ref:t})});Yee.displayName=AD;var TD="DialogClose",Wee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=dn(TD,r);return n.jsx(Fr.button,{type:"button",...a,ref:t,onClick:wr(e.onClick,()=>s.onOpenChange(!1))})});Wee.displayName=TD;function Ew(e){return e?"open":"closed"}var OD="DialogTitleWarning",[Ane,RD]=bZ(OD,{contentName:co,titleName:_w,docsSlug:"dialog"}),Xee=({titleId:e})=>{const t=RD(OD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Kee="DialogDescriptionWarning",Jee=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RD(Kee).contentName}}.`;return v.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Km=jD,Jm=ED,Qm=SD,Zm=kD;const DD=6048e5,Qee=864e5,dC=Symbol.for("constructDateFrom");function ui(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&dC in e?e[dC](t):e instanceof Date?new e.constructor(t):new Date(t)}function hn(e,t){return ui(t||e,e)}let Zee={};function ep(){return Zee}function Cu(e,t){var d,h,f,m;const r=ep(),a=(t==null?void 0:t.weekStartsOn)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,s=hn(e,t==null?void 0:t.in),o=s.getDay(),c=(o<a?7:0)+o-a;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Zf(e,t){return Cu(e,{...t,weekStartsOn:1})}function PD(e,t){const r=hn(e,t==null?void 0:t.in),a=r.getFullYear(),s=ui(r,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const o=Zf(s),c=ui(r,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=Zf(c);return r.getTime()>=o.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function hC(e){const t=hn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ete(e,...t){const r=ui.bind(null,t.find(a=>typeof a=="object"));return t.map(r)}function fC(e,t){const r=hn(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function tte(e,t,r){const[a,s]=ete(r==null?void 0:r.in,e,t),o=fC(a),c=fC(s),d=+o-hC(o),h=+c-hC(c);return Math.round((d-h)/Qee)}function rte(e,t){const r=PD(e,t),a=ui(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Zf(a)}function ate(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nte(e){return!(!ate(e)&&typeof e!="number"||isNaN(+hn(e)))}function ste(e,t){const r=hn(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ite={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ote=(e,t,r)=>{let a;const s=ite[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function wl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ute={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dte={date:wl({formats:lte,defaultWidth:"full"}),time:wl({formats:cte,defaultWidth:"full"}),dateTime:wl({formats:ute,defaultWidth:"full"})},hte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fte=(e,t,r,a)=>hte[e];function wn(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):c;s=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[d]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const mte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bte=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wte={ordinalNumber:bte,era:wn({values:mte,defaultWidth:"wide"}),quarter:wn({values:pte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wn({values:gte,defaultWidth:"wide"}),day:wn({values:xte,defaultWidth:"wide"}),dayPeriod:wn({values:vte,defaultWidth:"wide",formattingValues:yte,defaultFormattingWidth:"wide"})};function jn(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const c=o[0],d=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?Nte(d,g=>g.test(c)):jte(d,g=>g.test(c));let f;f=e.valueCallback?e.valueCallback(h):h,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(c.length);return{value:f,rest:m}}}function jte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Nte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function MD(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}const _te=/^(\d+)(th|st|nd|rd)?/i,Ete=/\d+/i,Ste={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kte={any:[/^b/i,/^(a|c)/i]},Cte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ate={any:[/1/i,/2/i,/3/i,/4/i]},Tte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ote={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ite={ordinalNumber:MD({matchPattern:_te,parsePattern:Ete,valueCallback:e=>parseInt(e,10)}),era:jn({matchPatterns:Ste,defaultMatchWidth:"wide",parsePatterns:kte,defaultParseWidth:"any"}),quarter:jn({matchPatterns:Cte,defaultMatchWidth:"wide",parsePatterns:Ate,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jn({matchPatterns:Tte,defaultMatchWidth:"wide",parsePatterns:Ote,defaultParseWidth:"any"}),day:jn({matchPatterns:Rte,defaultMatchWidth:"wide",parsePatterns:Dte,defaultParseWidth:"any"}),dayPeriod:jn({matchPatterns:Pte,defaultMatchWidth:"any",parsePatterns:Mte,defaultParseWidth:"any"})},Lte={code:"en-US",formatDistance:ote,formatLong:dte,formatRelative:fte,localize:wte,match:Ite,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ute(e,t){const r=hn(e,t==null?void 0:t.in);return tte(r,ste(r))+1}function $te(e,t){const r=hn(e,t==null?void 0:t.in),a=+Zf(r)-+rte(r);return Math.round(a/DD)+1}function ID(e,t){var m,g,x,y;const r=hn(e,t==null?void 0:t.in),a=r.getFullYear(),s=ep(),o=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,c=ui((t==null?void 0:t.in)||e,0);c.setFullYear(a+1,0,o),c.setHours(0,0,0,0);const d=Cu(c,t),h=ui((t==null?void 0:t.in)||e,0);h.setFullYear(a,0,o),h.setHours(0,0,0,0);const f=Cu(h,t);return+r>=+d?a+1:+r>=+f?a:a-1}function Bte(e,t){var d,h,f,m;const r=ep(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=ID(e,t),o=ui((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,a),o.setHours(0,0,0,0),Cu(o,t)}function zte(e,t){const r=hn(e,t==null?void 0:t.in),a=+Cu(r,t)-+Bte(r,t);return Math.round(a/DD)+1}function it(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Xs={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return it(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):it(r+1,2)},d(e,t){return it(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return it(e.getHours()%12||12,t.length)},H(e,t){return it(e.getHours(),t.length)},m(e,t){return it(e.getMinutes(),t.length)},s(e,t){return it(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return it(s,t.length)}},ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mC={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return Xs.y(e,t)},Y:function(e,t,r,a){const s=ID(e,a),o=s>0?s:1-s;if(t==="YY"){const c=o%100;return it(c,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):it(o,t.length)},R:function(e,t){const r=PD(e);return it(r,t.length)},u:function(e,t){const r=e.getFullYear();return it(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return it(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return it(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Xs.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return it(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=zte(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):it(s,t.length)},I:function(e,t,r){const a=$te(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):it(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xs.d(e,t)},D:function(e,t,r){const a=Ute(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):it(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),o=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return it(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),o=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return it(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return it(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=ll.noon:a===0?s=ll.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=ll.evening:a>=12?s=ll.afternoon:a>=4?s=ll.morning:s=ll.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Xs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xs.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):it(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):it(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xs.s(e,t)},S:function(e,t){return Xs.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return gC(a);case"XXXX":case"XX":return Hi(a);case"XXXXX":case"XXX":default:return Hi(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return gC(a);case"xxxx":case"xx":return Hi(a);case"xxxxx":case"xxx":default:return Hi(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pC(a,":");case"OOOO":default:return"GMT"+Hi(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pC(a,":");case"zzzz":default:return"GMT"+Hi(a,":")}},t:function(e,t,r){const a=Math.trunc(+e/1e3);return it(a,t.length)},T:function(e,t,r){return it(+e,t.length)}};function pC(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),o=a%60;return o===0?r+String(s):r+String(s)+t+it(o,2)}function gC(e,t){return e%60===0?(e>0?"-":"+")+it(Math.abs(e)/60,2):Hi(e,t)}function Hi(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=it(Math.trunc(a/60),2),o=it(a%60,2);return r+s+t+o}const xC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Fte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return xC(e,t);let o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",xC(a,t)).replace("{{time}}",LD(s,t))},qte={p:LD,P:Fte},Hte=/^D+$/,Gte=/^Y+$/,Vte=["D","DD","YY","YYYY"];function Yte(e){return Hte.test(e)}function Wte(e){return Gte.test(e)}function Xte(e,t,r){const a=Kte(e,t,r);if(console.warn(a),Vte.includes(e))throw new RangeError(a)}function Kte(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zte=/^'([^]*?)'?$/,ere=/''/g,tre=/[a-zA-Z]/;function Xn(e,t,r){var m,g,x,y,N,_,w,E;const a=ep(),s=(r==null?void 0:r.locale)??a.locale??Lte,o=(r==null?void 0:r.firstWeekContainsDate)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((_=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:_.weekStartsOn)??a.weekStartsOn??((E=(w=a.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,d=hn(e,r==null?void 0:r.in);if(!nte(d))throw new RangeError("Invalid time value");let h=t.match(Qte).map(k=>{const S=k[0];if(S==="p"||S==="P"){const T=qte[S];return T(k,s.formatLong)}return k}).join("").match(Jte).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const S=k[0];if(S==="'")return{isToken:!1,value:rre(k)};if(mC[S])return{isToken:!0,value:k};if(S.match(tre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(h=s.localize.preprocessor(d,h));const f={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return h.map(k=>{if(!k.isToken)return k.value;const S=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Wte(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Yte(S))&&Xte(S,t,String(e));const T=mC[S[0]];return T(d,S,s.localize,f)}).join("")}function rre(e){const t=e.match(Zte);return t?t[1].replace(ere,"'"):e}const are={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},nre=(e,t,r)=>{let a;const s=are[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+a:"h "+a:a},sre={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},ire={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ore={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lre={date:wl({formats:sre,defaultWidth:"full"}),time:wl({formats:ire,defaultWidth:"full"}),dateTime:wl({formats:ore,defaultWidth:"full"})},cre={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},ure=(e,t,r,a)=>{const s=cre[e];return typeof s=="function"?s(t):s},dre={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},hre={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},fre={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},mre={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},pre={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},gre={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},xre=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},vre={ordinalNumber:xre,era:wn({values:dre,defaultWidth:"wide"}),quarter:wn({values:hre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wn({values:fre,defaultWidth:"wide"}),day:wn({values:mre,defaultWidth:"wide"}),dayPeriod:wn({values:pre,defaultWidth:"wide",formattingValues:gre,defaultFormattingWidth:"wide"})},yre=/^(\d+)[o]?/i,bre=/\d+/i,wre={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},jre={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Nre={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},_re={any:[/1/i,/2/i,/3/i,/4/i]},Ere={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Sre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},kre={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Cre={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Are={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Tre={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Ore={ordinalNumber:MD({matchPattern:yre,parsePattern:bre,valueCallback:e=>parseInt(e,10)}),era:jn({matchPatterns:wre,defaultMatchWidth:"wide",parsePatterns:jre,defaultParseWidth:"any"}),quarter:jn({matchPatterns:Nre,defaultMatchWidth:"wide",parsePatterns:_re,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jn({matchPatterns:Ere,defaultMatchWidth:"wide",parsePatterns:Sre,defaultParseWidth:"any"}),day:jn({matchPatterns:kre,defaultMatchWidth:"wide",parsePatterns:Cre,defaultParseWidth:"any"}),dayPeriod:jn({matchPatterns:Are,defaultMatchWidth:"any",parsePatterns:Tre,defaultParseWidth:"any"})},em={code:"pt-BR",formatDistance:nre,formatLong:lre,formatRelative:ure,localize:vre,match:Ore,options:{weekStartsOn:0,firstWeekContainsDate:1}},Rre=({order:e,isOpen:t,onClose:r})=>{var c;if(!e)return null;const a=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),s=()=>{var m,g;if(!e.customer_phone)return;const d=e.customer_phone.replace(/\D/g,""),h=((g=(m=e.items)==null?void 0:m[0])==null?void 0:g.name)||"Produto",f=`Ol ${e.customer_name}, vi que voc adquiriu o produto ${h}. Precisa de ajuda em algo?`;window.open(`https://wa.me/55${d}?text=${encodeURIComponent(f)}`,"_blank")},o=async()=>{if(!confirm("Deseja reenviar o e-mail de aprovao para este cliente?"))return;const d=document.getElementById("btn-resend-email");d&&(d.innerText="Enviando...",d.disabled=!0);try{const{emailService:h}=await Dl(async()=>{const{emailService:f}=await Promise.resolve().then(()=>Bre);return{emailService:f}},[]);await h.sendPaymentApproved(e),alert("E-mail reenviado com sucesso!")}catch(h){console.error(h),alert("Erro ao enviar e-mail.")}finally{d&&(d.innerText="Reenviar E-mail",d.disabled=!1)}};return n.jsx(Km,{open:t,onOpenChange:r,children:n.jsxs(Jm,{children:[n.jsx(Qm,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),n.jsxs(Zm,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-2xl bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl z-50 flex flex-col overflow-hidden outline-none animate-in zoom-in-95 duration-200 border border-purple-500/20 max-h-[90vh]",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsxs("div",{className:"relative flex-none p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes do Pedido"}),n.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-mono bg-purple-500/10 text-purple-400 border border-purple-500/20",children:["#",e.id.slice(0,8)]})]}),n.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[n.jsx(yw,{className:"w-4 h-4"}),Xn(new Date(e.created_at),"d 'de' MMMM 's' HH:mm",{locale:em})]})]}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(ea,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"relative flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20",children:[n.jsx("div",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Status do Pedido"}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="paid"?n.jsx(Or,{className:"w-5 h-5 text-green-500"}):e.status==="pending"?n.jsx(Vu,{className:"w-5 h-5 text-yellow-500"}):n.jsx(nn,{className:"w-5 h-5 text-red-500"}),n.jsx("span",{className:`font-bold ${e.status==="paid"?"text-green-400":e.status==="pending"?"text-yellow-400":"text-red-400"}`,children:e.status==="paid"?"Aprovado":e.status==="pending"?"Pendente":e.status==="failed"?"Falhou":e.status})]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20",children:[n.jsx("div",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Pagamento"}),n.jsxs("div",{className:"flex items-center gap-2 text-white font-medium capitalize",children:[n.jsx(mo,{className:"w-5 h-5 text-gray-400"}),e.payment_method==="credit_card"?"Carto de Crdito":e.payment_method]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[n.jsx(cn,{className:"w-4 h-4 text-purple-400"})," Informaes do Cliente"]}),n.jsx("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden",children:n.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Nome Completo"}),n.jsx("div",{className:"font-medium text-white",children:e.customer_name})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"E-mail"}),n.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[e.customer_email,n.jsx("button",{className:"text-gray-400 hover:text-primary transition-colors",title:"Copiar",children:n.jsx(va,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"CPF"}),n.jsx("div",{className:"font-medium text-white",children:e.customer_cpf||"-"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Telefone"}),n.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[e.customer_phone||"-",e.customer_phone&&n.jsx("button",{onClick:s,className:"bg-green-500/10 hover:bg-green-500/20 text-green-500 p-1 rounded-md transition-colors",title:"Conversar no WhatsApp",children:n.jsx(Xf,{className:"w-4 h-4"})})]})]})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[n.jsx(Gt,{className:"w-4 h-4 text-purple-400"})," Itens do Pedido"]}),n.jsx("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-100 dark:border-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Produto"}),n.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 text-right",children:"Qtd"}),n.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 text-right",children:"Total"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:(c=e.items)==null?void 0:c.map((d,h)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 font-medium text-white",children:d.name}),n.jsx("td",{className:"px-4 py-3 text-gray-500 text-right",children:d.quantity}),n.jsx("td",{className:"px-4 py-3 text-white text-right font-medium",children:a(d.price)})]},h))}),n.jsx("tfoot",{className:"bg-gray-50/50 dark:bg-white/5 border-t border-gray-100 dark:border-white/5",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:2,className:"px-4 py-3 font-bold text-white text-right",children:"Total do Pedido"}),n.jsx("td",{className:"px-4 py-3 font-bold text-purple-400 text-2xl text-right",children:a(e.amount)})]})})]})})]})]}),n.jsxs("div",{className:"relative p-6 border-t border-white/10 bg-white/[0.02] flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsxs("div",{className:"text-xs text-gray-400",children:["ID Transao: ",n.jsx("span",{className:"font-mono select-all",children:e.gateway_id||"-"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(_e,{variant:"outline",onClick:o,id:"btn-resend-email",className:"border-purple-500/20 text-purple-400 hover:bg-purple-500/10",children:[n.jsx(Ur,{className:"w-4 h-4 mr-2"})," Reenviar E-mail"]}),n.jsx(_e,{variant:"secondary",onClick:r,className:"bg-purple-600 hover:bg-purple-700 text-white border-none",children:"Fechar"})]})]})]})]})})},Dre=({customer:e,isOpen:t,onClose:r})=>{if(!e)return null;const a=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),s=c=>new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}),o=()=>{if(!e.phone)return;const c=e.phone.replace(/\D/g,"");window.open(`https://wa.me/55${c}`,"_blank")};return n.jsx(Km,{open:t,onOpenChange:r,children:n.jsxs(Jm,{children:[n.jsx(Qm,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),n.jsxs(Zm,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-2xl bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl z-50 flex flex-col overflow-hidden outline-none animate-in zoom-in-95 duration-200 border border-purple-500/20 max-h-[90vh]",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsxs("div",{className:"relative flex-none p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-3 mb-1",children:n.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes do Cliente"})}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente desde ",s(e.lastOrderDate)," (Baseado no ltimo pedido)"]})]}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(ea,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"relative flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20 flex flex-col items-center text-center",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-full text-green-500 mb-2",children:n.jsx(Gt,{className:"w-5 h-5"})}),n.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Total Gasto"}),n.jsx("div",{className:"text-xl font-bold text-white",children:a(e.totalSpent)})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20 flex flex-col items-center text-center",children:[n.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full text-blue-500 mb-2",children:n.jsx(va,{className:"w-5 h-5"})}),n.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Total Pedidos"}),n.jsx("div",{className:"text-xl font-bold text-white",children:e.orderCount})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[n.jsx(cn,{className:"w-4 h-4 text-purple-400"})," Dados de Contato"]}),n.jsxs("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-500 font-bold",children:e.name.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-white",children:e.name}),n.jsx("div",{className:"text-xs text-gray-500",children:"Nome registrado no checkout"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2 border-t border-gray-100 dark:border-white/5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-300",children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(AQ,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-300",children:e.phone||"No informado"}),e.phone&&n.jsxs("button",{onClick:o,className:"ml-auto text-green-500 text-xs font-bold hover:underline flex items-center gap-1",children:[n.jsx(Xf,{className:"w-3 h-3"})," WhatsApp"]})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[n.jsx(Gt,{className:"w-4 h-4 text-purple-400"})," Produtos Adquiridos"]}),n.jsx("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden p-4",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:e.products.map((c,d)=>n.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-purple-500/10 text-purple-400 text-sm border border-purple-500/20",children:c},d))})})]})]}),n.jsx("div",{className:"relative p-6 border-t border-white/10 bg-white/[0.02] flex flex-col md:flex-row justify-end items-center gap-4",children:n.jsx(_e,{variant:"secondary",onClick:r,className:"bg-purple-600 hover:bg-purple-700 text-white border-none",children:"Fechar"})})]})]})})},Pre=()=>{const[e,t]=v.useState("orders"),[r,a]=v.useState([]),[s,o]=v.useState([]),[c,d]=v.useState([]),[h,f]=v.useState(!1),[m,g]=v.useState(1),x=10,[y,N]=v.useState({search:"",status:"all",method:"all",productId:"all"}),[_,w]=v.useState("Ol {{nome}}, vi que voc adquiriu o produto {{produto}}. Precisa de ajuda em algo?"),[E,k]=v.useState(!1),[S,T]=v.useState(null),[C,O]=v.useState(null);v.useEffect(()=>{M()},[]);const M=async()=>{const R=await ae.getOrders(),H=await ae.getProducts();d(H);const ee=R.sort((je,I)=>new Date(I.created_at).getTime()-new Date(je.created_at).getTime());a(ee);const de=new Map;ee.forEach(je=>{var ne,Se;const I=je.customer_email;if(!I)return;const me=de.get(I),Ce=((Se=(ne=je.items)==null?void 0:ne[0])==null?void 0:Se.name)||"Produto";me?(me.totalSpent+=je.amount,me.orderCount+=1,me.products.includes(Ce)||me.products.push(Ce)):de.set(I,{email:I,name:je.customer_name,phone:je.customer_phone,totalSpent:je.amount,orderCount:1,lastOrderDate:je.created_at,products:[Ce]})}),o(Array.from(de.values()))},L=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),z=R=>new Date(R).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}),G=R=>{const H={[ot.PAID]:{label:"Aprovado",cls:"bg-green-500/10 text-green-500 border-green-500/20"},[ot.PENDING]:{label:"Pendente",cls:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"},[ot.FAILED]:{label:"Falhou",cls:"bg-red-500/10 text-red-500 border-red-500/20"},[ot.CANCELED]:{label:"Cancelado",cls:"bg-gray-500/10 text-gray-500 border-gray-500/20"},[ot.REFUNDED]:{label:"Reembolsado",cls:"bg-purple-500/10 text-purple-500 border-purple-500/20"}},ee=H[R]||H[ot.PENDING];return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border ${ee.cls}`,children:ee.label})},F=r.filter(R=>{const H=R.customer_name.toLowerCase().includes(y.search.toLowerCase())||R.customer_email.toLowerCase().includes(y.search.toLowerCase())||R.id.includes(y.search),ee=y.status==="all"||R.status===y.status,de=y.method==="all"||R.payment_method===y.method,je=y.productId==="all"||R.items&&R.items.some(I=>{var me;return I.name===((me=c.find(Ce=>Ce.id===y.productId))==null?void 0:me.name)});return H&&ee&&de&&je}),se=s.filter(R=>{var je;const H=R.name.toLowerCase().includes(y.search.toLowerCase())||R.email.toLowerCase().includes(y.search.toLowerCase()),ee=y.productId!=="all"?(je=c.find(I=>I.id===y.productId))==null?void 0:je.name:null,de=!ee||R.products.includes(ee);return H&&de}),J=Math.ceil(e==="orders"?F.length/x:se.length/x),xe=F.slice((m-1)*x,m*x),be=se.slice((m-1)*x,m*x);v.useEffect(()=>{g(1)},[e,y.search,y.status,y.method,y.productId]);const X=(y.productId!=="all"?F:r.filter(R=>R.status===ot.PAID)).reduce((R,H)=>R+(H.status===ot.PAID?H.amount:0),0),K=F.length,he=e==="customers"?se.length:new Set(F.map(R=>R.customer_email)).size,V=()=>{const R=[["Nome","Email","Telefone","Total Gasto","Pedidos","Produtos"].join(","),...se.map(je=>[`"${je.name}"`,je.email,je.phone||"",je.totalSpent.toFixed(2),je.orderCount,`"${je.products.join("; ")}"`].join(","))].join(`
`),H=new Blob([R],{type:"text/csv;charset=utf-8;"}),ee=URL.createObjectURL(H),de=document.createElement("a");de.href=ee,de.setAttribute("download","clientes_export.csv"),document.body.appendChild(de),de.click(),document.body.removeChild(de)};return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-6 gap-4 border-b border-gray-200 dark:border-white/5 pb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"Pedidos & CRM"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Viso geral de vendas e gerenciamento de clientes"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-gray-100 dark:bg-black/20 p-1.5 rounded-xl border border-gray-200 dark:border-white/5",children:[n.jsx("button",{onClick:()=>t("orders"),className:`px-5 py-2 rounded-lg text-sm transition-all font-medium ${e==="orders"?"bg-primary text-white shadow-lg":"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5"}`,children:"Pedidos"}),n.jsx("button",{onClick:()=>t("customers"),className:`px-5 py-2 rounded-lg text-sm transition-all font-medium ${e==="customers"?"bg-primary text-white shadow-lg":"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5"}`,children:"Clientes"}),n.jsx("div",{className:"h-6 w-px bg-white/10 mx-1"}),e==="customers"&&n.jsxs(_e,{variant:"ghost",onClick:V,className:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5 px-4 h-9",children:[n.jsx(Su,{className:"w-4 h-4 mr-2"})," Exportar"]}),n.jsxs(_e,{variant:"ghost",onClick:()=>k(!0),className:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5 px-4 h-9",children:[n.jsx(Xf,{className:"w-4 h-4 mr-2"})," Msg WhatsApp"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsxs(Te,{noPadding:!0,className:"p-6 relative overflow-hidden group border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-3xl -mr-16 -mt-16 transition-opacity opacity-50 group-hover:opacity-100"}),n.jsxs("div",{className:"flex justify-between items-start relative",children:[n.jsxs("div",{className:"mr-4",children:[n.jsx("p",{className:"text-xs text-green-400 font-bold uppercase tracking-wider mb-1",children:y.productId!=="all"?"Faturamento (Filtrado)":"Faturamento Total"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:L(X)})]}),n.jsx("div",{className:"p-3 bg-green-500/10 rounded-xl border border-green-500/20 text-green-500 shadow-[0_0_15px_rgba(34,197,94,0.1)]",children:n.jsx(Ay,{className:"w-6 h-6"})})]})]}),n.jsxs(Te,{noPadding:!0,className:"p-6 relative overflow-hidden group border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl -mr-16 -mt-16 transition-opacity opacity-50 group-hover:opacity-100"}),n.jsxs("div",{className:"flex justify-between items-start relative",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-blue-400 font-bold uppercase tracking-wider mb-1",children:e==="orders"?"Vendas Realizadas":"Vendas Totais"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:K})]}),n.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl border border-blue-500/20 text-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.1)]",children:n.jsx(Gt,{className:"w-6 h-6"})})]})]}),n.jsxs(Te,{noPadding:!0,className:"p-6 relative overflow-hidden group border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -mr-16 -mt-16 transition-opacity opacity-50 group-hover:opacity-100"}),n.jsxs("div",{className:"flex justify-between items-start relative",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-purple-400 font-bold uppercase tracking-wider mb-1",children:e==="customers"?"Clientes (Filtrado)":"Clientes nicos"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:he})]}),n.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl border border-purple-500/20 text-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.1)]",children:n.jsx(as,{className:"w-6 h-6"})})]})]})]}),n.jsxs(Te,{noPadding:!0,className:"flex flex-col min-h-[600px] border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/5 flex flex-col xl:flex-row justify-between gap-4 bg-gray-50 dark:bg-white/[0.02]",children:[n.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e==="orders"?"Todas as Vendas":"Base de Clientes",n.jsx("span",{className:"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded text-xs font-mono",children:e==="orders"?F.length:se.length})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"relative flex-grow md:flex-grow-0",children:[n.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:e==="orders"?"Buscar pedido...":"Buscar cliente...",className:"w-full md:w-64 bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-gray-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary/50 transition-all placeholder:text-gray-500 dark:placeholder:text-gray-600",value:y.search,onChange:R=>N({...y,search:R.target.value})})]}),n.jsx("div",{className:"flex-grow md:flex-grow-0 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),n.jsxs("select",{className:"w-full bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg pl-10 pr-8 py-2 text-sm text-gray-900 dark:text-white focus:ring-1 focus:ring-primary appearance-none cursor-pointer hover:border-gray-300 dark:hover:border-white/20 transition-colors",value:y.productId,onChange:R=>N({...y,productId:R.target.value}),children:[n.jsx("option",{value:"all",children:"Todos os Produtos"}),c.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:n.jsx(dJ,{className:"w-3 h-3 text-gray-500"})})]})}),n.jsx(_e,{variant:"outline",onClick:()=>f(!h),className:`border-gray-200 dark:border-white/10 ${h?"bg-gray-100 dark:bg-white/10 text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:n.jsx(KR,{className:"w-4 h-4"})})]})]}),h&&n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/20 border-b border-gray-200 dark:border-white/5 grid grid-cols-1 md:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase block mb-1.5",children:"Status do Pedido"}),n.jsxs("select",{className:"w-full bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-300 focus:text-gray-900 dark:focus:text-white",value:y.status,onChange:R=>N({...y,status:R.target.value}),children:[n.jsx("option",{value:"all",children:"Todos"}),n.jsx("option",{value:ot.PAID,children:"Aprovado"}),n.jsx("option",{value:ot.PENDING,children:"Pendente"}),n.jsx("option",{value:ot.FAILED,children:"Falhou"}),n.jsx("option",{value:ot.REFUNDED,children:"Reembolsado"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase block mb-1.5",children:"Mtodo de Pagamento"}),n.jsxs("select",{className:"w-full bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-300 focus:text-gray-900 dark:focus:text-white",value:y.method,onChange:R=>N({...y,method:R.target.value}),children:[n.jsx("option",{value:"all",children:"Todos"}),n.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),n.jsx("option",{value:"pix",children:"Pix"})]})]})]}),n.jsx("div",{className:"flex-1 overflow-auto bg-white dark:bg-[#12121A]",children:e==="orders"?n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-gray-100 dark:bg-[#151520] text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-white/5 sticky top-0 backdrop-blur-md",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider text-right",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:F.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[n.jsx(Gt,{className:"w-12 h-12 mb-4 opacity-20"}),n.jsx("p",{className:"text-lg font-medium",children:"Nenhum pedido encontrado"}),n.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros de busca."})]})})}):xe.map(R=>{var H,ee,de,je;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors group",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded border border-gray-200 dark:border-white/5",children:["#",R.id.slice(0,8)]}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:z(R.created_at)})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:R.customer_name}),n.jsx("div",{className:"text-gray-500 text-xs",children:R.customer_email})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-gray-600 dark:text-gray-300 text-xs max-w-[200px] truncate bg-gray-100 dark:bg-white/5 px-2 py-1 rounded w-fit",title:(ee=(H=R.items)==null?void 0:H[0])==null?void 0:ee.name,children:((je=(de=R.items)==null?void 0:de[0])==null?void 0:je.name)||"Produto Indefinido"})}),n.jsx("td",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white tracking-wider",children:L(R.amount)}),n.jsx("td",{className:"px-6 py-4",children:G(R.status)}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-primary hover:text-white text-xs font-bold border border-primary/30 hover:bg-primary px-3 py-1.5 rounded-lg",onClick:()=>T(R),children:"Ver Detalhes"})})]},R.id)})})]}):n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-gray-100 dark:bg-[#151520] text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-white/5 sticky top-0 backdrop-blur-md",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Contato"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Total Gasto"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Pedidos"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Produtos Adquiridos"}),n.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider text-right",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:be.map((R,H)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors group",children:[n.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center text-sm font-bold text-white ring-1 ring-white/10",children:R.name.charAt(0).toUpperCase()}),R.name]})}),n.jsxs("td",{className:"px-6 py-4 text-gray-400",children:[n.jsx("div",{children:R.email}),n.jsx("div",{className:"text-xs text-gray-600 font-mono mt-0.5",children:R.phone||"-"})]}),n.jsx("td",{className:"px-6 py-4 font-bold text-green-400 tracking-wider font-mono",children:L(R.totalSpent)}),n.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:n.jsxs("span",{className:"bg-gray-100 dark:bg-white/5 px-2.5 py-1 rounded-md text-xs font-medium border border-gray-200 dark:border-white/5 whitespace-nowrap",children:[R.orderCount," pedidos"]})}),n.jsx("td",{className:"px-6 py-4 text-gray-400 text-xs",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.products.slice(0,2).map((ee,de)=>n.jsx("span",{className:"bg-blue-500/10 text-blue-400 border border-blue-500/20 px-1.5 py-0.5 rounded",children:ee},de)),R.products.length>2&&n.jsxs("span",{className:"text-gray-600 px-1.5 py-0.5 text-[10px] self-center",children:["+",R.products.length-2," outros"]})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-primary hover:text-white text-xs font-bold border border-primary/30 hover:bg-primary px-3 py-1.5 rounded-lg",onClick:()=>O(R),children:"Ver Detalhes"})})]},H))})]})}),J>1&&n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-white/[0.02] flex items-center justify-between",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between w-full",children:[n.jsxs("div",{className:"text-sm text-gray-400 text-center md:text-left",children:["Pgina ",n.jsx("span",{className:"text-white font-bold",children:m})," de ",n.jsx("span",{className:"text-white font-bold",children:J}),"  Mostrando ",n.jsx("span",{className:"text-white font-bold",children:e==="orders"?xe.length:be.length})," de ",n.jsx("span",{className:"text-white font-bold",children:e==="orders"?F.length:se.length})," registros"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{variant:"outline",onClick:()=>g(R=>Math.max(1,R-1)),disabled:m===1,className:"border-white/10 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed px-3 h-8 text-xs",children:"Anterior"}),n.jsx("div",{className:"flex items-center gap-1",children:(()=>{const R=[];if(J<=5)for(let ee=1;ee<=J;ee++)R.push(ee);else{let ee=Math.max(1,m-1),de=Math.min(J,m+1);m<=3&&(de=Math.min(J,4)),m>=J-2&&(ee=Math.max(1,J-3)),ee>1&&(R.push(1),ee>2&&R.push("..."));for(let je=ee;je<=de;je++)R.push(je);de<J&&(de<J-1&&R.push("..."),R.push(J))}return R.map((ee,de)=>ee==="..."?n.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`dots-${de}`):n.jsx("button",{onClick:()=>g(ee),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${m===ee?"bg-primary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:ee},ee))})()}),n.jsx(_e,{variant:"outline",onClick:()=>g(R=>Math.min(J,R+1)),disabled:m===J,className:"border-white/10 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed px-3 h-8 text-xs",children:"Prxima"})]})]})})]}),E&&n.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-[9999]",style:{zIndex:9999},children:[n.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:()=>k(!1)}),n.jsxs("div",{className:"relative w-full max-w-md bg-[#12121A]/80 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-2xl overflow-hidden flex flex-col z-[10000]",style:{zIndex:1e4},children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsxs("div",{className:"relative flex justify-between items-center p-6 border-b border-white/10 bg-white/[0.02]",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(Xf,{className:"w-5 h-5 text-purple-400"})," Configurar Mensagem"]}),n.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:n.jsx(ea,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"relative p-6",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Define a mensagem padro que ser aberta no WhatsApp ao clicar no contato do cliente."}),n.jsx("textarea",{className:"w-full h-32 bg-black/30 border border-purple-500/20 rounded-lg p-3 text-white text-sm mb-4 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none resize-none placeholder:text-gray-600",value:_,onChange:R=>w(R.target.value),placeholder:"Digite sua mensagem..."}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Variveis disponveis: ",n.jsx("code",{className:"text-purple-400 bg-purple-500/10 px-1.5 py-0.5 rounded",children:"{{nome}}"}),", ",n.jsx("code",{className:"text-purple-400 bg-purple-500/10 px-1.5 py-0.5 rounded",children:"{{produto}}"})]})]}),n.jsxs("div",{className:"relative p-6 border-t border-white/10 bg-white/[0.02] flex justify-end gap-2",children:[n.jsx(_e,{variant:"ghost",onClick:()=>k(!1),className:"text-gray-300 hover:bg-white/5",children:"Cancelar"}),n.jsx(_e,{onClick:()=>k(!1),className:"bg-purple-600 hover:bg-purple-700 text-white border-none shadow-lg shadow-purple-500/20",children:"Salvar Modelo"})]})]})]}),S&&n.jsx(Rre,{isOpen:!0,order:S,onClose:()=>T(null)}),C&&n.jsx(Dre,{isOpen:!0,customer:C,onClose:()=>O(null)})]})},Mre=[{id:"checkout.iniciado",label:"Checkout Iniciado"},{id:"checkout.abandonado",label:"Checkout Abandonado"},{id:"pagamento.aprovado",label:"Pagamento Aprovado"},{id:"pagamento.recusado",label:"Pagamento Recusado"},{id:"pagamento.pendente",label:"Pagamento Pendente"},{id:"boleto.gerado",label:"Boleto Gerado"},{id:"pix.gerado",label:"Pix Gerado"},{id:"assinatura.criada",label:"Assinatura Criada"},{id:"assinatura.cancelada",label:"Assinatura Cancelada"},{id:"reembolso.solicitado",label:"Reembolso Solicitado"},{id:"reembolso.aprovado",label:"Reembolso Aprovado"}],Zc={"pagamento.aprovado":{event:"pagamento.aprovado",checkout_id:"chk_123456",order_id:"ord_987654",amount:197,currency:"BRL",payment_method:"credit_card",status:"paid",customer:{name:"Joo da Silva",email:"joao@exemplo.com",phone:"5511999998888",cpf:"123.456.789-00"},items:[{name:"Curso React Pro",price:197,qty:1}],created_at:"2023-10-27T14:30:00Z"},"checkout.abandonado":{event:"checkout.abandonado",checkout_id:"chk_123456",cart_token:"crt_abc123",recovered_url:"https://checkout.app/r/abc123",customer:{email:"joao@exemplo.com",name:"Joo"},created_at:"2023-10-27T15:00:00Z"}},Ire=()=>{const[e,t]=v.useState("outgoing"),[r,a]=v.useState([]),[s,o]=v.useState([]),[c,d]=v.useState(!1),[h,f]=v.useState(null),[m,g]=v.useState(null),[x,y]=v.useState(1),N=10,[_,w]=v.useState(null),[E,k]=v.useState(!1),[S,T]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),C=(I,me,Ce="info")=>{T({isOpen:!0,title:I,message:me,variant:Ce})},O=()=>{T(I=>({...I,isOpen:!1}))},[M,L]=v.useState({name:"",url:"",method:"POST",headers:[],events:[],active:!0,secret:""}),[z,G]=v.useState("idle"),[F,se]=v.useState(null);v.useEffect(()=>{J()},[]);const J=async()=>{a(await ae.getWebhooks());const I=await ae.getWebhookLogs();o(I.sort((me,Ce)=>new Date(Ce.created_at).getTime()-new Date(me.created_at).getTime()))},xe=I=>{var ne;I.preventDefault();const me={id:h||`wh_${Date.now()}`,created_at:h?((ne=r.find(Se=>Se.id===h))==null?void 0:ne.created_at)||new Date().toISOString():new Date().toISOString(),...M};let Ce;h?Ce=r.map(Se=>Se.id===h?me:Se):Ce=[...r,me],ae.saveWebhooks(Ce),a(Ce),d(!1),V()},be=I=>{w(I)},P=()=>{if(!_)return;const I=r.filter(me=>me.id!==_);ae.saveWebhooks(I),a(I),w(null),C("Sucesso","Webhook excludo com sucesso.","success")},X=async I=>{var Ce,ne;G("loading"),se(null);const me=Zc[((Ce=I.events)==null?void 0:Ce[0])||"pagamento.aprovado"]||Zc["pagamento.aprovado"];try{const Se=Date.now();let q=0,ie="",$=!1;try{const Ne=await fetch(I.url,{method:I.method,headers:{"Content-Type":"application/json",...I.secret?{"X-Super-Checkout-Signature":I.secret}:{},...(ne=I.headers)==null?void 0:ne.reduce((Ae,we)=>({...Ae,[we.key]:we.value}),{})},body:JSON.stringify(me)});q=Ne.status,ie=await Ne.text(),$=Ne.ok}catch(Ne){ie=Ne.message||"Network Error / CORS Blocked",q=0}const ce=Date.now()-Se,le=[{id:`log_${Date.now()}`,webhook_id:I.id,direction:"outgoing",event:"test.event",payload:JSON.stringify(me),response_status:q,response_body:ie,duration_ms:ce,created_at:new Date().toISOString()},...s];ae.saveWebhookLogs(le),o(le),se({status:q,body:ie.substring(0,200)+(ie.length>200?"...":""),duration:ce}),G($?"success":"error")}catch{G("error")}},K=I=>{f(I.id),L({name:I.name,url:I.url,method:I.method,headers:I.headers||[],events:I.events,active:I.active,secret:I.secret||""}),d(!0),G("idle")},he=()=>{f(null),V(),d(!0),G("idle")},V=()=>{L({name:"",url:"",method:"POST",headers:[],events:[],active:!0,secret:crypto.randomUUID().replace(/-/g,"")})},R=I=>{const me=M.events;me.includes(I)?L({...M,events:me.filter(Ce=>Ce!==I)}):L({...M,events:[...me,I]})},H=I=>{navigator.clipboard.writeText(I)},ee=()=>{const I=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),me=URL.createObjectURL(I),Ce=document.createElement("a");Ce.href=me,Ce.download="webhooks_config.json",Ce.click()},de=()=>{const I=`ID,Event,Status,Date,URL
`,me=s.map(q=>`${q.id},${q.event},${q.response_status},${q.created_at},${q.direction}`).join(`
`),Ce=new Blob([I+me],{type:"text/csv"}),ne=URL.createObjectURL(Ce),Se=document.createElement("a");Se.href=ne,Se.download="webhook_history.csv",Se.click()},je=I=>{try{return JSON.stringify(JSON.parse(I),null,2)}catch{return I}};return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Sy,{className:"w-6 h-6 text-primary"})," Webhooks"]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Integre seu checkout com Zapier, n8n, CRMs e outros sistemas."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(_e,{variant:"outline",onClick:ee,className:"border-gray-200 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-white/5",children:[n.jsx(Su,{className:"w-4 h-4 mr-2"})," Exportar Config"]}),n.jsxs(_e,{onClick:he,className:"shadow-xl shadow-primary/20",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"})," Novo Webhook"]})]})]}),n.jsxs("div",{className:"flex gap-6 mb-6 border-b border-white/5 overflow-x-auto",children:[n.jsxs("button",{onClick:()=>t("outgoing"),className:`pb-3 text-sm font-medium transition-all relative ${e==="outgoing"?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Webhooks de Sada",e==="outgoing"&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-t-full"})]}),n.jsxs("button",{onClick:()=>t("incoming"),className:`pb-3 text-sm font-medium transition-all relative ${e==="incoming"?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Webhooks de Entrada",e==="incoming"&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-t-full"})]}),n.jsxs("button",{onClick:()=>t("history"),className:`pb-3 text-sm font-medium transition-all relative ${e==="history"?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Histrico de Disparos",e==="history"&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-t-full"})]})]}),e==="outgoing"&&n.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:r.length===0?n.jsxs("div",{className:"text-center py-20 bg-white dark:bg-white/5 rounded-2xl border border-dashed border-gray-300 dark:border-white/10",children:[n.jsx(sn,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum webhook configurado"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Crie sua primeira integrao para notificar sistemas externos sobre vendas."}),n.jsx("div",{className:"flex justify-center",children:n.jsx(_e,{onClick:he,children:"Criar Primeiro Webhook"})})]}):n.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(I=>n.jsx(Te,{noPadding:!0,className:"group overflow-hidden transition-all hover:border-primary/30",children:n.jsxs("div",{className:"p-6 flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[n.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${I.active?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]":"bg-gray-600"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:I.name}),n.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-mono font-bold ${I.method==="POST"?"bg-blue-500/20 text-blue-400":I.method==="GET"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:I.method})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 font-mono mb-2 truncate",children:[n.jsx("span",{className:"truncate",children:I.url}),n.jsx("button",{onClick:()=>H(I.url),className:"hover:text-gray-900 dark:hover:text-white",children:n.jsx(Tr,{className:"w-3 h-3"})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[I.events.slice(0,3).map(me=>n.jsx("span",{className:"text-xs bg-gray-100 dark:bg-white/5 px-2 py-1 rounded border border-gray-200 dark:border-white/5 text-gray-600 dark:text-gray-300",children:me},me)),I.events.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",I.events.length-3," outros"]})]})]}),n.jsxs("div",{className:"hidden lg:block text-right min-w-[140px]",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"ltimo Disparo"}),I.last_fired_at?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:new Date(I.last_fired_at).toLocaleString()}),n.jsxs("div",{className:`text-xs font-bold mt-1 inline-flex items-center gap-1 ${I.last_status&&I.last_status>=200&&I.last_status<300?"text-green-500":"text-red-500"}`,children:[I.last_status===200?n.jsx(Or,{className:"w-3 h-3"}):n.jsx(si,{className:"w-3 h-3"}),"HTTP ",I.last_status]})]}):n.jsx("p",{className:"text-gray-600 italic",children:"Nunca disparado"})]}),n.jsxs("div",{className:"flex items-center gap-2 self-end lg:self-center",children:[n.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>X(I),children:[n.jsx(oi,{className:"w-4 h-4 text-primary mr-2"})," Testar"]}),n.jsx("button",{onClick:()=>K(I),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.jsx(ww,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>be(I.id),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500 transition-colors",children:n.jsx($r,{className:"w-4 h-4"})})]})]})},I.id))})}),e==="history"&&n.jsxs(Te,{noPadding:!0,className:"overflow-hidden animate-in fade-in duration-300",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/5 flex justify-between items-center bg-gray-50/50 dark:bg-white/5",children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Log de Eventos Recentes"}),n.jsxs(_e,{variant:"ghost",size:"sm",onClick:de,className:"text-xs",children:[n.jsx(Su,{className:"w-3 h-3 mr-2"})," Exportar CSV"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[n.jsx("thead",{className:"text-gray-500 bg-gray-100 dark:bg-black/20 font-medium",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3",children:"Status"}),n.jsx("th",{className:"px-4 py-3",children:"Evento / Direo"}),n.jsx("th",{className:"px-4 py-3",children:"Data & Hora"}),n.jsx("th",{className:"px-4 py-3",children:"Durao"}),n.jsx("th",{className:"px-4 py-3",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:s.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Nenhum registro encontrado."})}):s.slice((x-1)*N,x*N).map(I=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-bold border ${I.response_status&&I.response_status>=200&&I.response_status<300?"bg-green-500/10 text-green-500 border-green-500/20":I.response_status&&I.response_status>=400?"bg-red-500/10 text-red-500 border-red-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:I.response_status||"OK"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-900 dark:text-white font-mono",children:I.event}),n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:I.direction})]})}),n.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs",children:new Date(I.created_at).toLocaleString()}),n.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs font-mono",children:I.duration_ms?`${I.duration_ms}ms`:"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("button",{className:"text-primary hover:text-primary-hover dark:hover:text-white text-xs flex items-center gap-1",onClick:()=>g(I),children:[n.jsx(Vk,{className:"w-3 h-3"})," Payload"]})})]},I.id))})]})}),s.length>N&&n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-white/5 flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsxs("span",{className:"text-sm text-gray-400",children:["Mostrando ",(x-1)*N+1," - ",Math.min(x*N,s.length)," de ",s.length," registros"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>y(I=>Math.max(1,I-1)),disabled:x===1,children:"Anterior"}),n.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,Math.ceil(s.length/N))},(I,me)=>me+1).map((I,me,Ce)=>null),Array.from({length:Math.ceil(s.length/N)},(I,me)=>me+1).map(I=>n.jsx("button",{onClick:()=>y(I),className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${x===I?"bg-primary text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:I},I))]}),n.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>y(I=>Math.min(Math.ceil(s.length/N),I+1)),disabled:x===Math.ceil(s.length/N),children:"Prxima"})]})]})]}),e==="incoming"&&n.jsxs("div",{className:"animate-in fade-in duration-300 max-w-4xl",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-purple-900/20 rounded-2xl p-8 border border-white/10 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Webhooks de Entrada"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Utilize nossa API para atualizar status de pedidos, liberar acessos ou integrar com sistemas legados."}),n.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10 flex items-center justify-between gap-4",children:[n.jsxs("code",{className:"text-primary-light font-mono text-sm break-all",children:[typeof window<"u"?window.location.origin:"https://api.supercheckout.app","/api/v1/webhooks/incoming/","{integration_id}"]}),n.jsxs(_e,{size:"sm",variant:"secondary",onClick:()=>H(`${typeof window<"u"?window.location.origin:"https://api.supercheckout.app"}/api/v1/webhooks/incoming/`),children:[n.jsx(Tr,{className:"w-4 h-4 mr-2"})," Copiar"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Te,{children:[n.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(KQ,{className:"w-4 h-4 text-green-500"})," Exemplo cURL"]}),n.jsx("pre",{className:"bg-black/30 p-4 rounded-lg text-xs text-gray-400 font-mono overflow-x-auto visible-scrollbar",children:`curl -X POST ${typeof window<"u"?window.location.origin:"https://api.supercheckout.app"}/api/v1/webhooks/incoming/123 \\
-H "Content-Type: application/json" \\
-H "Authorization: Bearer YOUR_API_KEY" \\
-d '{
  "event": "pedido.atualizar",
  "order_id": "ord_555",
  "status": "paid"
}'`})]}),n.jsxs(Te,{children:[n.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(Vk,{className:"w-4 h-4 text-yellow-500"})," Eventos Suportados"]}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," pedido.atualizar"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," acesso.liberar"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," assinatura.cancelar"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," cliente.bloquear"]})]}),n.jsxs("a",{href:"/docs/webhooks",target:"_blank",className:"text-primary text-xs mt-4 block hover:underline flex items-center gap-1",children:["Ver documentao completa da API ",n.jsx(tn,{className:"w-3 h-3"})]})]})]})]}),n.jsx($a,{isOpen:c,onClose:()=>d(!1),title:h?"Editar Webhook":"Novo Webhook",className:"max-w-4xl",children:n.jsxs("form",{onSubmit:xe,className:"flex flex-col lg:flex-row gap-6 max-h-[70vh] overflow-y-auto visible-scrollbar p-1",children:[n.jsxs("div",{className:"flex-1 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome da Integrao"}),n.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: Notificar Zapier - Vendas",value:M.name,onChange:I=>L({...M,name:I.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Endpoint URL"}),n.jsxs("div",{className:"flex",children:[n.jsxs("select",{className:"bg-white/5 border border-r-0 border-white/10 rounded-l-xl px-3 py-3 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none w-24 font-bold",value:M.method,onChange:I=>L({...M,method:I.target.value}),children:[n.jsx("option",{value:"POST",children:"POST"}),n.jsx("option",{value:"GET",children:"GET"}),n.jsx("option",{value:"PUT",children:"PUT"}),n.jsx("option",{value:"PATCH",children:"PATCH"})]}),n.jsx("input",{required:!0,type:"url",className:"flex-1 bg-black/20 border border-white/10 rounded-r-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none font-mono text-sm",placeholder:"https://hooks.zapier.com/...",value:M.url,onChange:I=>L({...M,url:I.target.value})})]})]})]}),n.jsx("div",{className:"h-px bg-white/5"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Eventos de Disparo"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-y-auto visible-scrollbar pr-2",children:Mre.map(I=>n.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${M.events.includes(I.id)?"bg-primary/10 border-primary/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[n.jsx("input",{type:"checkbox",className:"hidden",checked:M.events.includes(I.id),onChange:()=>R(I.id)}),n.jsx("div",{className:`w-4 h-4 rounded border mr-3 flex items-center justify-center ${M.events.includes(I.id)?"bg-primary border-primary":"border-gray-500"}`,children:M.events.includes(I.id)&&n.jsx(Or,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-sm text-gray-300",children:I.label})]},I.id))})]}),n.jsx("div",{className:"h-px bg-white/5"}),n.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[n.jsx(br,{className:"w-3 h-3 text-primary"})," Segurana"]}),n.jsxs("button",{type:"button",onClick:()=>L({...M,secret:crypto.randomUUID().replace(/-/g,"")}),className:"text-xs text-primary hover:text-white flex items-center gap-1",children:[n.jsx(eD,{className:"w-3 h-3"})," Gerar Nova Chave"]})]}),n.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["Enviamos esta chave no header ",n.jsx("code",{className:"text-primary",children:"X-Super-Checkout-Signature"})," para validar a autenticidade."]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",readOnly:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-xs font-mono text-gray-300",value:M.secret}),n.jsx("button",{type:"button",onClick:()=>H(M.secret),className:"absolute right-2 top-2 text-gray-500 hover:text-white",children:n.jsx(Tr,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm text-gray-300",children:"Status"}),n.jsx("button",{type:"button",onClick:()=>L({...M,active:!M.active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${M.active?"bg-green-500":"bg-gray-600"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${M.active?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(_e,{type:"button",variant:"ghost",onClick:()=>d(!1),children:"Cancelar"}),n.jsx(_e,{type:"submit",children:"Salvar Webhook"})]})]})]}),n.jsxs("div",{className:"w-full lg:w-1/3 bg-black/20 p-6 rounded-xl border border-white/5 flex flex-col",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"text-sm font-bold text-white mb-3 flex items-center justify-between",children:[n.jsx("span",{children:"Payload Preview"}),n.jsx("span",{className:"text-[10px] bg-white/10 px-2 py-1 rounded text-gray-400",children:"JSON"})]}),n.jsxs("div",{className:"bg-[#1E1E1E] rounded-xl border border-white/10 p-4 h-[300px] overflow-y-auto visible-scrollbar relative group",children:[n.jsx("pre",{className:"text-xs font-mono text-green-400 whitespace-pre-wrap break-all",children:JSON.stringify(Zc[M.events[0]]||Zc["pagamento.aprovado"],null,2)}),n.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-white/10 p-1.5 rounded text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>H(JSON.stringify(Zc["pagamento.aprovado"],null,2)),children:n.jsx(Tr,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5",children:[n.jsxs(_e,{type:"button",onClick:()=>X(M),disabled:!M.url||z==="loading",variant:"secondary",className:"w-full mb-3",children:[z==="loading"?n.jsx(Sy,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(oi,{className:"w-4 h-4 mr-2"}),z==="loading"?"Disparando...":"Testar Webhook"]}),z!=="idle"&&F&&n.jsxs("div",{className:`p-3 rounded-lg border text-xs ${z==="success"?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[n.jsxs("div",{className:"flex justify-between mb-1 font-bold",children:[n.jsxs("span",{className:z==="success"?"text-green-400":"text-red-400",children:["Status: ",F.status]}),n.jsxs("span",{className:"text-gray-400",children:[F.duration,"ms"]})]}),n.jsx("p",{className:"text-gray-300 line-clamp-3 font-mono opacity-80",children:F.body})]})]})]})]})}),n.jsx(un,{isOpen:!!_,onClose:()=>w(null),onConfirm:P,title:"Excluir Webhook",message:"Tem certeza que deseja excluir este webhook?",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger"}),n.jsx(zr,{isOpen:S.isOpen,onClose:O,title:S.title,message:S.message,variant:S.variant}),n.jsx($a,{isOpen:!!m,onClose:()=>g(null),title:"Detalhes do Disparo",className:"max-w-3xl",children:m&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between ${m.response_status&&m.response_status>=200&&m.response_status<300?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[m.response_status&&m.response_status>=200&&m.response_status<300?n.jsx(Or,{className:"w-5 h-5"}):n.jsx(si,{className:"w-5 h-5"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold",children:["Status: HTTP ",m.response_status||"N/A"]}),n.jsx("p",{className:"text-xs opacity-80",children:new Date(m.created_at).toLocaleString()})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs uppercase tracking-wider opacity-70",children:"Durao"}),n.jsxs("p",{className:"font-mono font-bold",children:[m.duration_ms,"ms"]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2 flex items-center justify-between",children:[n.jsx("span",{children:"Payload Enviado (JSON)"}),n.jsxs(_e,{size:"sm",variant:"ghost",onClick:()=>H(m.payload),children:[n.jsx(Tr,{className:"w-3 h-3 mr-2"})," Copiar"]})]}),n.jsx("div",{className:"bg-[#1E1E1E] rounded-xl border border-gray-200 dark:border-white/10 p-4 max-h-[300px] overflow-y-auto visible-scrollbar",children:n.jsx("pre",{className:"text-xs font-mono text-blue-300 whitespace-pre-wrap break-all",children:je(m.payload)})})]}),m.response_body&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Resposta do Servidor"}),n.jsx("div",{className:"bg-[#1E1E1E] rounded-xl border border-gray-200 dark:border-white/10 p-4 max-h-[200px] overflow-y-auto visible-scrollbar",children:n.jsx("pre",{className:"text-xs font-mono text-gray-400 whitespace-pre-wrap break-all",children:m.response_body.substring(0,1e3)+(m.response_body.length>1e3?"...":"")})})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-white/5",children:n.jsx(_e,{onClick:()=>g(null),children:"Fechar"})})]})})]})},Lre=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,o]=v.useState(!1),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(!1),[x,y]=v.useState({client_name:"",client_email:"",plan:"lifetime",expires_at:"",usage_type:"personal"});v.useEffect(()=>{N()},[]);const N=async()=>{a(!0);const{data:C,error:O}=await Y.from("licenses").select("*").order("created_at",{ascending:!1});C&&t(C),a(!1)},_=async C=>{C.preventDefault();try{const O=await fetch("/api/admin/create-license",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_name:x.client_name,client_email:x.client_email,plan:x.plan,expires_at:x.expires_at||null,usage_type:x.usage_type})});if(!O.ok){const L=await O.json();throw new Error(L.error||"Falha ao criar licena")}const M=await O.json();M&&(t([M,...e]),o(!1),y({client_name:"",client_email:"",plan:"lifetime",expires_at:"",usage_type:"personal"}))}catch(O){console.error(O),alert(O.message)}},w=async C=>{if(C.preventDefault(),!c)return;const{data:O,error:M}=await Y.from("licenses").update({client_name:x.client_name,client_email:x.client_email,plan:x.plan,expires_at:x.expires_at||null,usage_type:x.usage_type}).eq("key",c.key).select().single();O&&(t(e.map(L=>L.key===O.key?O:L)),o(!1),d(null),y({client_name:"",client_email:"",plan:"lifetime"}))},E=C=>{f(C)},k=async()=>{if(!h)return;g(!0);const{error:C}=await Y.from("licenses").delete().eq("key",h);C?(console.error("Error deleting license:",C),alert("Erro ao excluir licena: "+C.message)):(t(e.filter(O=>O.key!==h)),f(null)),g(!1)},S=C=>{d(C),y({client_name:C.client_name||"",client_email:C.client_email,plan:C.plan||"lifetime",expires_at:C.expires_at?C.expires_at.split("T")[0]:"",usage_type:C.usage_type||"personal"}),o(!0)},T=C=>{navigator.clipboard.writeText(C)};return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[n.jsx(ni,{className:"w-6 h-6 text-primary"})," Gesto de Licenas"]}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie as chaves de acesso dos seus clientes Self-Hosted."})]}),n.jsxs(_e,{onClick:()=>o(!0),children:[n.jsx(sr,{className:"w-4 h-4 mr-2"})," Nova Licena"]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.map(C=>n.jsx(Te,{noPadding:!0,className:"group overflow-hidden",children:n.jsxs("div",{className:"p-6 flex flex-col lg:flex-row items-center gap-6",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${C.status==="active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:n.jsx(ni,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h3",{className:"text-lg font-bold text-white truncate",children:C.client_name||"Cliente Sem Nome"}),n.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-white/10 text-gray-300 border border-white/5",children:C.plan}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded border ${C.usage_type==="commercial"?"bg-purple-500/10 text-purple-400 border-purple-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:C.usage_type==="commercial"?"Comercial":"Pessoal"}),C.expires_at&&n.jsxs("span",{className:`text-xs px-2 py-0.5 rounded border ${new Date(C.expires_at)<new Date?"bg-red-500/10 text-red-400 border-red-500/20":"bg-gray-800 text-gray-400 border-gray-700"}`,children:["Expira: ",new Date(C.expires_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-2",children:[n.jsx("span",{children:C.client_email}),n.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600"}),n.jsx("span",{className:C.allowed_domain?"text-primary":"text-gray-500 italic",children:C.allowed_domain||"Aguardando Ativao"})]}),n.jsxs("div",{className:"bg-black/30 rounded-lg p-2 flex items-center justify-between border border-white/5 group-hover:border-primary/30 transition-colors",children:[n.jsx("code",{className:"text-xs font-mono text-gray-300 truncate select-all",children:C.key}),n.jsx("button",{onClick:()=>T(C.key),className:"text-gray-500 hover:text-white p-1",children:n.jsx(Tr,{className:"w-3 h-3"})})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsxs("button",{onClick:()=>S(C),className:"text-xs flex items-center gap-1 text-gray-500 hover:text-primary transition-colors",children:[n.jsx(Rl,{className:"w-3 h-3"})," Editar"]}),n.jsxs("button",{onClick:()=>E(C.key),className:"text-xs flex items-center gap-1 text-gray-500 hover:text-red-500 transition-colors",children:[n.jsx($r,{className:"w-3 h-3"})," Excluir"]})]})]}),n.jsxs("div",{className:"text-right min-w-[120px] hidden lg:block",children:[n.jsx("div",{className:`text-sm font-bold mb-1 ${C.status==="active"?"text-green-500":"text-red-500"}`,children:C.status.toUpperCase()}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Criado em ",new Date(C.created_at).toLocaleDateString()]})]})]})},C.key)),e.length===0&&!r&&n.jsxs("div",{className:"text-center py-20 bg-white/5 rounded-2xl border border-dashed border-white/10",children:[n.jsx(ni,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhuma licena gerada"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Crie a primeira chave para vender seu sistema."}),n.jsx(_e,{onClick:()=>o(!0),children:"Gerar Licena"})]})]}),n.jsx($a,{isOpen:s,onClose:()=>{o(!1),d(null)},title:c?"Editar Licena":"Nova Licena",children:n.jsxs("form",{onSubmit:c?w:_,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome do Cliente"}),n.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: Empresa X",value:x.client_name,onChange:C=>y({...x,client_name:C.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email do Cliente"}),n.jsx("input",{required:!0,type:"email",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"cliente@email.com",value:x.client_email,onChange:C=>y({...x,client_email:C.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Plano"}),n.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:x.plan,onChange:C=>y({...x,plan:C.target.value}),children:[n.jsx("option",{value:"lifetime",className:"bg-[#0A0A0A] text-white",children:"Vitalcio (Lifetime)"}),n.jsx("option",{value:"monthly",className:"bg-[#0A0A0A] text-white",children:"Mensal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Tipo de Uso"}),n.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:x.usage_type,onChange:C=>y({...x,usage_type:C.target.value}),children:[n.jsx("option",{value:"personal",className:"bg-[#0A0A0A] text-white",children:"Uso Pessoal (Apenas 1 projeto)"}),n.jsx("option",{value:"commercial",className:"bg-[#0A0A0A] text-white",children:"Comercial (Revenda)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Data de Expirao (Opcional)"}),n.jsx("input",{type:"date",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none [color-scheme:dark]",value:x.expires_at,onChange:C=>y({...x,expires_at:C.target.value})}),n.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Deixe em branco para acesso vitalcio."})]}),c&&n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Domnio Vinculado"}),n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsx("code",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded border border-primary/20 break-all",children:c.allowed_domain||"Nenhum domnio vinculado"}),c.allowed_domain&&n.jsxs(_e,{type:"button",size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/20 text-red-500 hover:bg-red-500/10 hover:border-red-500/30",onClick:async()=>{if(!window.confirm("Tem certeza? Isso permitir que a chave seja usada em um novo domnio."))return;const{error:C}=await Y.from("licenses").update({allowed_domain:null}).eq("key",c.key);C||(d({...c,allowed_domain:null}),t(e.map(O=>O.key===c.key?{...O,allowed_domain:null}:O)))},children:[n.jsx(IJ,{className:"w-3 h-3 mr-1"})," Desvincular"]})]}),n.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"O domnio  travado automaticamente no primeiro uso. Desvincule apenas se o cliente mudou de URL."})]}),n.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[n.jsx(_e,{type:"button",variant:"ghost",onClick:()=>{o(!1),d(null)},children:"Cancelar"}),n.jsx(_e,{type:"submit",children:c?"Salvar Alteraes":"Gerar Chave"})]})]})}),n.jsx(un,{isOpen:!!h,onClose:()=>f(null),onConfirm:k,title:"Excluir Licena",message:"Tem certeza que deseja excluir esta licena? A ao  irreversvel.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:m})]})},Ure=()=>n.jsx(ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Marketing & E-mail"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gerencie suas campanhas e automaes."})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(Te,{className:"p-6",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mb-4",children:n.jsx(Ur,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Campanhas de E-mail"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Crie e envie e-mails para sua base de clientes."})]}),n.jsxs(Te,{className:"p-6",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center mb-4",children:n.jsx(gQ,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Automaes"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Configure fluxos automticos de recuperao e boas-vindas."})]}),n.jsxs(Te,{className:"p-6",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center mb-4",children:n.jsx(NJ,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Relatrios"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Acompanhe o desempenho das suas campanhas."})]})]}),n.jsxs(Te,{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mb-6",children:n.jsx(Ur,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Em Breve"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md",children:"Estamos construindo uma sute completa de marketing para voc vender mais."})]})]})});class $re{async sendEmail(t){try{const{error:r}=await Y.functions.invoke("send-email",{body:t});return r?(console.error("[EmailService] Error sending email:",r),!1):!0}catch(r){return console.error("[EmailService] Network error:",r),!1}}async sendPaymentApproved(t){var s,o;const r=((o=(s=t.items)==null?void 0:s[0])==null?void 0:o.name)||"seu produto",a=`
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso Liberado!</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f6f6f6;">
    <center style="width: 100%; background-color: #f6f6f6;">
        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; padding: 20px 0; box-shadow: 0 0 10px rgba(0,0,0,0.05);">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding: 20px; font-family: Arial, sans-serif; background-color: #ffffff; text-align: center;">
                        <p style="font-size: 24px; font-weight: bold; color: #1a1a1a; margin-top: 0; margin-bottom: 20px;">
                            Ol, ${t.customer_name}!
                        </p>
                        <p style="font-size: 16px; line-height: 1.5; color: #555555; margin-bottom: 30px;">
                            Seu pagamento para o produto <strong>${r}</strong> foi aprovado com sucesso!
                            <br>Voc j pode acessar seu produto e comear agora mesmo.
                        </p>
                        <div style="margin: 0 auto 40px auto; display: block;">
                            <table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center" style="margin: auto;">
                                <tr>
                                    <td style="border-radius: 6px; background: #007bff; text-align: center;">
                                        <a href="#" target="_blank" 
                                           style="background: #007bff; border: 1px solid #007bff; padding: 12px 25px; color: #ffffff; display: inline-block; 
                                                  font-family: Arial, sans-serif; font-size: 17px; font-weight: bold; text-decoration: none; border-radius: 6px;">
                                            ACESSAR REA DE MEMBROS
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <p style="font-size: 14px; line-height: 1.5; color: #555555; margin-top: 0; margin-bottom: 20px;">
                            Conte com nosso time de suporte se precisar de qualquer ajuda.<br>
                            Atenciosamente,<br>
                            <strong>Super Checkout</strong>
                        </p>
                    </td>
                </tr>
            </table>
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding: 20px; font-family: Arial, sans-serif; font-size: 11px; color: #AAAAAA; text-align: center; border-top: 1px solid #eeeeee; margin-top: 30px;">
                        Este  um e-mail automtico transacional e no deve ser respondido.<br>
                        Seu ${r}  um lanamento da Super Checkout.
                    </td>
                </tr>
            </table>
        </div>
    </center>
</body>
</html>
    `;await this.sendEmail({to:t.customer_email,subject:"Pagamento Aprovado - Acesso Liberado!",html:a})}async sendBoletoGenerated(t,r,a){var c,d;const s=((d=(c=t.items)==null?void 0:c[0])==null?void 0:d.name)||"seu produto",o=`
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boleto Gerado</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f6f6f6;">
    <center style="width: 100%; background-color: #f6f6f6;">
        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; padding: 20px 0; box-shadow: 0 0 10px rgba(0,0,0,0.05);">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding: 20px; font-family: Arial, sans-serif; background-color: #ffffff; text-align: center;">
                        <p style="font-size: 24px; font-weight: bold; color: #1a1a1a; margin-top: 0; margin-bottom: 20px;">
                            Ol, ${t.customer_name}!
                        </p>
                        <p style="font-size: 16px; line-height: 1.5; color: #555555; margin-bottom: 30px;">
                            Seu boleto para o produto <strong>${s}</strong> foi gerado com sucesso!
                            <br>Efetue o pagamento para liberar o acesso.
                        </p>
                        
                        <div style="background-color: #fff3cd; padding: 20px; border-radius: 8px; border-left: 4px solid #ffc107; margin-bottom: 30px; text-align: left;">
                            <p style="font-size: 14px; color: #856404; margin: 0 0 10px 0; font-weight: bold;"> Ateno</p>
                            <p style="font-size: 13px; color: #856404; margin: 0; line-height: 1.5;">
                                O boleto pode levar at 3 dias teis para ser compensado aps o pagamento.
                            </p>
                        </div>

                        <div style="background-color: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
                            <p style="font-size: 14px; color: #888888; margin: 0 0 10px 0;">Valor do Boleto</p>
                            <p style="font-size: 24px; font-weight: bold; color: #28a745; margin: 0 0 20px 0;">R$ ${t.amount.toFixed(2)}</p>
                            
                            <table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center" style="margin: auto;">
                                <tr>
                                    <td style="border-radius: 6px; background: #28a745; text-align: center;">
                                        <a href="${r}" target="_blank" 
                                           style="background: #28a745; border: 1px solid #28a745; padding: 12px 25px; color: #ffffff; display: inline-block; 
                                                  font-family: Arial, sans-serif; font-size: 17px; font-weight: bold; text-decoration: none; border-radius: 6px;">
                                            VISUALIZAR BOLETO
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div style="background-color: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 30px;">
                            <p style="font-size: 12px; color: #888888; margin: 0 0 8px 0;">Cdigo de Barras</p>
                            <p style="font-size: 13px; font-family: 'Courier New', monospace; color: #1a1a1a; margin: 0; word-break: break-all; line-height: 1.6;">
                                ${a}
                            </p>
                        </div>

                        <p style="font-size: 14px; line-height: 1.5; color: #555555; margin-top: 0; margin-bottom: 20px;">
                            Aps a confirmao do pagamento, voc receber um e-mail com os dados de acesso.<br><br>
                            Conte com nosso time de suporte se precisar de qualquer ajuda.<br>
                            Atenciosamente,<br>
                            <strong>Super Checkout</strong>
                        </p>
                    </td>
                </tr>
            </table>
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding: 20px; font-family: Arial, sans-serif; font-size: 11px; color: #AAAAAA; text-align: center; border-top: 1px solid #eeeeee; margin-top: 30px;">
                        Este  um e-mail automtico transacional e no deve ser respondido.<br>
                        Seu ${s}  um lanamento da Super Checkout.
                    </td>
                </tr>
            </table>
        </div>
    </center>
</body>
</html>
    `;await this.sendEmail({to:t.customer_email,subject:`Boleto Gerado - ${s}`,html:o})}}const jl=new $re,Bre=Object.freeze(Object.defineProperty({__proto__:null,emailService:jl},Symbol.toStringTag,{value:"Module"})),zre=({isOpen:e,onClose:t})=>{const[r,a]=v.useState(""),[s,o]=v.useState(""),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[m,g]=v.useState(!1),[x,y]=v.useState(!1);v.useEffect(()=>{e&&N()},[e]);const N=async()=>{var E,k;d(!0);try{const S=await ae.getIntegration("resend");S&&(a(((E=S.config)==null?void 0:E.apiKey)||""),o(((k=S.config)==null?void 0:k.senderEmail)||""),y(S.active))}catch(S){console.error("Error loading Resend config:",S)}finally{d(!1)}},_=async()=>{f(!0);try{await ae.saveIntegration({name:"resend",config:{apiKey:r,senderEmail:s},active:x}),t()}catch(E){console.error("Error saving Resend config:",E)}finally{f(!1)}},w=async()=>{g(!0);try{await ae.saveIntegration({name:"resend",config:{apiKey:r,senderEmail:s},active:x});const{data:{user:E}}=await Y.auth.getUser(),k=E==null?void 0:E.email;if(!k)throw new Error("No foi possvel identificar seu e-mail para envio dos testes.");const S={id:"teste-123",checkout_id:"chk_test",offer_id:"offer_test",amount:197.9,customer_email:k,customer_name:"Cliente Teste",status:ot.PAID,payment_method:"pix",items:[{name:"Produto Exemplo",price:197.9,quantity:1}],created_at:new Date().toISOString()};await Promise.all([jl.sendPaymentApproved(S),jl.sendBoletoGenerated(S,"https://exemplo.com/boleto","12345.67890 12345.67890 12345.67890 123456")]),alert(`Sucesso! Enviamos 2 e-mails de teste (Pagamento Aprovado e Boleto) para: ${k}. Verifique sua caixa de entrada e spam.`)}catch(E){console.error("Test error:",E),alert(`Erro ao testar: ${E.message||JSON.stringify(E)}`)}finally{g(!1)}};return n.jsx($a,{isOpen:e,onClose:t,title:"Configurar Resend",className:"max-w-md",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 bg-black dark:bg-white/10 rounded-lg flex items-center justify-center shrink-0",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"R"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Resend Email API"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Envie emails transacionais com alta entregabilidade."})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),n.jsxs("div",{className:"relative",children:[n.jsx(ni,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"password",value:r,onChange:E=>a(E.target.value),placeholder:"re_123456789...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-[#0f0f1a] border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-gray-900 dark:text-white"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Voc pode gerar uma chave em ",n.jsx("a",{href:"https://resend.com/api-keys",target:"_blank",rel:"noreferrer",className:"text-primary hover:underline",children:"resend.com/api-keys"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail de Envio (Remetente)"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 flex items-center justify-center",children:"@"}),n.jsx("input",{type:"email",value:s,onChange:E=>o(E.target.value),placeholder:"ex: contato@suaempresa.com.br",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-[#0f0f1a] border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-gray-900 dark:text-white"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Use um domnio verificado no Resend. Se deixar em branco, usaremos ",n.jsx("strong",{children:"onboarding@resend.dev"})," (apenas para testes)."]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"active",checked:x,onChange:E=>y(E.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),n.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700 dark:text-gray-300 select-none",children:"Ativar integrao"})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-white/5",children:[n.jsx("button",{onClick:w,disabled:m||!r,className:"text-sm text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Enviando...":"Testar Conexo"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),n.jsx("button",{onClick:_,disabled:h||!r,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ft,{className:"w-4 h-4"}),"Salvar Configurao"]})})]})]})]})})},Fre=()=>{const e=mt(),[t,r]=v.useState(!1),[a,s]=v.useState(!1);v.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await ae.getIntegration("resend");s((d==null?void 0:d.active)||!1)}catch(d){console.error("Error loading integration status:",d)}},c=()=>{r(!1),o()};return n.jsxs(ir,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Integraes"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Conecte suas ferramentas favoritas."})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(Te,{className:`p-6 hover:border-primary/50 transition-all cursor-pointer group relative overflow-hidden ${a?"border-green-500 dark:border-green-400":""}`,onClick:()=>r(!0),children:[a&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-transparent to-green-500/5 pointer-events-none"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-black dark:bg-white/10 rounded-xl flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),a?n.jsxs("span",{className:"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full font-medium flex items-center gap-1",children:[n.jsx(ft,{className:"w-3 h-3"}),"Ativo"]}):n.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/5 text-gray-500 text-xs rounded-full",children:"E-mail"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary transition-colors",children:"Resend"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"API de e-mail para desenvolvedores."}),!a&&n.jsx("button",{className:"w-full py-2 px-4 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Conectar"})]})]}),n.jsxs(Te,{className:"p-6 hover:border-primary/50 transition-colors cursor-pointer group",onClick:()=>e("/admin/webhooks"),children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:n.jsx(oZ,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/5 text-gray-500 text-xs rounded-full",children:"Sistema"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary transition-colors",children:"Webhooks"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Receba notificaes de eventos em tempo real."}),n.jsx("button",{className:"w-full py-2 px-4 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Configurar"})]}),n.jsxs(Te,{className:"p-6 hover:border-primary/50 transition-colors cursor-pointer group",onClick:()=>e("/admin/checkouts"),children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center",children:n.jsx(YR,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/5 text-gray-500 text-xs rounded-full",children:"Analytics"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary transition-colors",children:"Pixels e Analytics"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Gerencie pixels do Facebook, TikTok e Google por checkout."}),n.jsx("button",{className:"w-full py-2 px-4 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Ir para Checkouts"})]})]})]}),n.jsx(zre,{isOpen:t,onClose:c})]})},qre=()=>{const e=mt(),{user:t}=fs(),[r,a]=v.useState(!0),[s,o]=v.useState([]),[c,d]=v.useState({isOpen:!1,areaId:null}),[h,f]=v.useState(!1);v.useEffect(()=>{t&&m()},[t]);const m=async()=>{console.log("MemberAreas: loadAreas started"),a(!0);const x=setTimeout(()=>{console.warn("MemberAreas: loadAreas timed out"),a(!1)},5e3);try{console.log("MemberAreas: calling storage.getMemberAreas() with user",t==null?void 0:t.id);const y=await ae.getMemberAreas(t==null?void 0:t.id);console.log("MemberAreas: data received",y),o(y)}catch(y){console.error("Error loading member areas:",y)}finally{clearTimeout(x),a(!1)}},g=async()=>{if(c.areaId){f(!0);try{await ae.deleteMemberArea(c.areaId),o(s.filter(x=>x.id!==c.areaId)),d({isOpen:!1,areaId:null})}catch(x){console.error("Error deleting member area:",x)}finally{f(!1)}}};return n.jsxs(ir,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"reas de Membros"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie seus portais de alunos"})]}),n.jsxs(_e,{onClick:()=>e("/admin/members/new"),children:[n.jsx(sr,{className:"w-4 h-4"})," Nova rea"]})]}),r?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"Carregando..."}):s.length===0?n.jsxs("div",{className:"text-center py-20 bg-white dark:bg-[#0A0A0A] rounded-2xl border border-gray-200 dark:border-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(as,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma rea criada"}),n.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Crie seu primeiro portal para hospedar seus cursos e contedos."}),n.jsx(_e,{onClick:()=>e("/admin/members/new"),children:"Criar Primeira rea"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>n.jsxs("div",{className:"group relative bg-white dark:bg-[#0A0A0A] border border-gray-200 dark:border-white/10 rounded-2xl overflow-hidden hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/5",children:[n.jsxs("div",{className:"h-32 bg-gradient-to-br from-gray-800 to-black relative",children:[x.logo_url?n.jsx("img",{src:x.logo_url,className:"w-full h-full object-cover opacity-50"}):n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(as,{className:"w-12 h-12 text-white/20"})}),n.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:n.jsx("button",{onClick:()=>d({isOpen:!0,areaId:x.id}),className:"p-2 bg-black/50 text-white rounded-lg hover:bg-red-500/80 transition-colors",children:n.jsx($r,{className:"w-4 h-4"})})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:x.name}),n.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["/",x.slug]}),n.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[n.jsx(_e,{className:"flex-1",onClick:()=>e(`/admin/members/${x.id}`),children:"Gerenciar Portal"}),n.jsx("a",{href:`/app/${x.slug}`,target:"_blank",className:"p-2.5 border border-gray-200 dark:border-white/10 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 text-gray-500 transition-colors",children:n.jsx(tn,{className:"w-5 h-5"})})]})]})]},x.id))}),n.jsx(un,{isOpen:c.isOpen,onClose:()=>d({isOpen:!1,areaId:null}),onConfirm:g,title:"Excluir rea de Membros",message:"Tem certeza que deseja excluir esta rea de membros? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",variant:"danger",loading:h})]})},Hre=({memberAreaId:e})=>{const t=mt(),[r,a]=v.useState([]),[s,o]=v.useState(!0),[c,d]=v.useState(""),[h,f]=v.useState(null),[m,g]=v.useState(!1),[x,y]=v.useState({isOpen:!1,title:"",message:"",variant:"info"});v.useEffect(()=>{e&&N()},[e]);const N=async()=>{o(!0);try{const T=await ae.getContents(e);a(T)}catch(T){console.error("Error loading contents:",T),_("Erro","Erro ao carregar contedos.","error")}finally{o(!1)}},_=(T,C,O="info")=>{y({isOpen:!0,title:T,message:C,variant:O})},w=T=>{f(T)},E=async()=>{if(h)try{g(!0),await ae.deleteContent(h),await N(),f(null),_("Sucesso","Contedo excludo com sucesso.","success")}catch(T){console.error("Error deleting content:",T),_("Erro","Erro ao excluir contedo.","error")}finally{g(!1)}},k=T=>{switch(T){case"course":return n.jsx(Fm,{className:"w-4 h-4"});case"pack":return n.jsx(Zr,{className:"w-4 h-4"});case"software":return n.jsx(bQ,{className:"w-4 h-4"});case"ebook":return n.jsx(va,{className:"w-4 h-4"});default:return n.jsx(bn,{className:"w-4 h-4"})}},S=r.filter(T=>T.title.toLowerCase().includes(c.toLowerCase())||T.description.toLowerCase().includes(c.toLowerCase()));return n.jsxs("div",{className:"animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Contedos do Portal"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie os cursos e materiais desta rea."})]}),n.jsxs(_e,{onClick:()=>t(`/admin/contents/new?areaId=${e}`),className:"shadow-xl shadow-primary/20",children:[n.jsx(sr,{className:"w-4 h-4"})," Criar Novo Contedo"]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(ci,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Buscar por ttulo ou descrio...",value:c,onChange:T=>d(T.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-500"})]})}),s?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(T=>n.jsx(Te,{className:"h-[350px] animate-pulse",children:n.jsx("div",{})},T))}):r.length===0?n.jsxs(Te,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(bn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum contedo criado"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(_e,{onClick:()=>t(`/admin/contents/new?areaId=${e}`),children:"Criar Contedo"})})]}):S.length===0?n.jsxs(Te,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ci,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum contedo encontrado"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:S.map(T=>n.jsx(Te,{className:"group relative flex flex-col hover:-translate-y-1 transition-all",noPadding:!0,children:n.jsxs("div",{className:"p-5 flex flex-col h-full",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-1",children:T.title}),n.jsxs("span",{className:"text-[10px] font-bold px-2 py-1 rounded-full border bg-white/5 text-gray-400 flex items-center gap-1",children:[k(T.type),n.jsx("span",{className:"capitalize",children:T.type})]})]}),n.jsx("div",{className:"w-full h-40 rounded-xl overflow-hidden bg-white/5 relative mb-4 border border-white/5",children:T.thumbnail_url?n.jsx("img",{src:T.thumbnail_url,className:"w-full h-full object-cover",alt:T.title}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(bw,{className:"w-8 h-8 text-gray-600"})})}),n.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-6 flex-1",children:T.description||"Sem descrio."}),n.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-gray-500",children:[n.jsxs("span",{children:[T.modules_count||0," mdulos"]}),n.jsxs("span",{children:["Atualizado em ",new Date(T.updated_at||T.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex gap-3 mt-auto",children:[n.jsxs("button",{onClick:()=>t(`/admin/contents/${T.id}`),className:"flex-1 bg-white/5 hover:bg-white/10 text-gray-300 py-2.5 rounded-xl text-sm font-medium border border-white/5 transition-colors",children:[n.jsx(Rl,{className:"w-4 h-4 inline mr-2"})," Editar"]}),n.jsx("button",{onClick:()=>w(T.id),className:"w-12 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl flex items-center justify-center border border-red-500/10 transition-colors",children:n.jsx($r,{className:"w-4 h-4"})})]})]})},T.id))}),n.jsx(un,{isOpen:!!h,onClose:()=>f(null),onConfirm:E,title:"Excluir Contedo",message:"Tem certeza que deseja excluir este contedo? Todos os mdulos e aulas sero perdidos.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:m}),n.jsx(zr,{isOpen:x.isOpen,onClose:()=>y({...x,isOpen:!1}),title:x.title,message:x.message,variant:x.variant})]})},Gre=["instagram","facebook","youtube","tiktok","whatsapp","globe","link"],Vre=({links:e,onChange:t})=>{const[r,a]=v.useState(null),[s,o]=v.useState({title:"",url:"",icon:"link",active:!0}),c=()=>{if(!s.title||!s.url)return;const f={id:crypto.randomUUID(),title:s.title,url:s.url,icon:s.icon||"link",active:!0};t([...e,f]),o({title:"",url:"",icon:"link",active:!0})},d=(f,m)=>{t(e.map(g=>g.id===f?{...g,...m}:g))},h=f=>{t(e.filter(m=>m.id!==f))};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-lg border border-gray-200 dark:border-white/10",children:[n.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Novo Link"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Nome (ex: Instagram)",className:"bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm",value:s.title,onChange:f=>o({...s,title:f.target.value})}),n.jsx("input",{type:"text",placeholder:"URL (https://...)",className:"bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm md:col-span-2",value:s.url,onChange:f=>o({...s,url:f.target.value})}),n.jsxs("div",{className:"flex gap-2 min-w-0",children:[n.jsx("select",{className:"bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm flex-1 min-w-0",value:s.icon,onChange:f=>o({...s,icon:f.target.value}),children:Gre.map(f=>n.jsx("option",{value:f,children:f},f))}),n.jsx(_e,{onClick:c,size:"sm",disabled:!s.title||!s.url,className:"shrink-0",children:n.jsx(sr,{className:"w-4 h-4"})})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[e.map(f=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg",children:[n.jsx("div",{className:"p-2 bg-gray-100 dark:bg-white/10 rounded text-gray-500",children:n.jsx(Kl,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:f.title}),n.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline flex items-center gap-1",children:[f.url," ",n.jsx(tn,{className:"w-3 h-3"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-500 cursor-pointer mr-2",children:[n.jsx("input",{type:"checkbox",checked:f.active,onChange:m=>d(f.id,{active:m.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),"Ativo"]}),n.jsx("button",{onClick:()=>h(f.id),className:"p-1.5 hover:bg-red-500/10 text-red-500 rounded transition-colors",children:n.jsx($r,{className:"w-4 h-4"})})]})]},f.id)),e.length===0&&n.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"Nenhum link cadastrado."})]})]})},Yre=({faqs:e,onChange:t})=>{const[r,a]=v.useState({question:"",answer:"",active:!0}),[s,o]=v.useState(null),c=()=>{if(!r.question||!r.answer)return;const f={id:crypto.randomUUID(),question:r.question,answer:r.answer,active:!0};t([...e,f]),a({question:"",answer:"",active:!0})},d=(f,m)=>{t(e.map(g=>g.id===f?{...g,...m}:g))},h=f=>{t(e.filter(m=>m.id!==f))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-lg border border-gray-200 dark:border-white/10 space-y-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Adicionar Nova Pergunta"}),n.jsx("input",{type:"text",placeholder:"Pergunta",className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm",value:r.question,onChange:f=>a({...r,question:f.target.value})}),n.jsx("textarea",{placeholder:"Resposta",className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm h-24 resize-none",value:r.answer,onChange:f=>a({...r,answer:f.target.value})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(_e,{onClick:c,size:"sm",disabled:!r.question||!r.answer,children:[n.jsx(sr,{className:"w-4 h-4 mr-2"})," Adicionar FAQ"]})})]}),n.jsxs("div",{className:"space-y-2",children:[e.map(f=>n.jsxs("div",{className:"bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",onClick:()=>o(s===f.id?null:f.id),children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx(Hm,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:"font-medium text-sm text-gray-900 dark:text-white",children:f.question})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{onClick:m=>m.stopPropagation(),children:n.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-500 cursor-pointer mr-2",children:[n.jsx("input",{type:"checkbox",checked:f.active,onChange:m=>d(f.id,{active:m.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),"Ativo"]})}),n.jsx("button",{onClick:m=>{m.stopPropagation(),h(f.id)},className:"p-1.5 hover:bg-red-500/10 text-red-500 rounded transition-colors",children:n.jsx($r,{className:"w-4 h-4"})}),s===f.id?n.jsx(Ol,{className:"w-4 h-4 text-gray-500"}):n.jsx(lo,{className:"w-4 h-4 text-gray-500"})]})]}),s===f.id&&n.jsx("div",{className:"p-4 pt-0 text-sm text-gray-600 dark:text-gray-300 border-t border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-black/20",children:n.jsx("div",{className:"mt-3 whitespace-pre-wrap",children:f.answer})})]},f.id)),e.length===0&&n.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"Nenhuma pergunta cadastrada."})]})]})},Wre=({area:e,onSave:t,isNew:r})=>{const[a,s]=v.useState(e),[o,c]=v.useState(!1);v.useRef(null),v.useRef(null);const[d,h]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),f=async()=>{c(!0);try{await t(a),h({isOpen:!0,title:"Sucesso",message:"Configuraes salvas!",variant:"success"})}catch{h({isOpen:!0,title:"Erro",message:"Erro ao salvar.",variant:"error"})}finally{c(!1)}},m=async x=>{if(x.target.files&&x.target.files[0]){const y=x.target.files[0];try{const N=a.id||"temp",_=await ae.uploadMemberAreaLogo(y,N);s({...a,logo_url:_})}catch(N){console.error("Upload error:",N),h({isOpen:!0,title:"Erro no Upload",message:`No foi possvel fazer o upload da logo. Detalhes: ${N.message||"Erro desconhecido"}`,variant:"error"})}}},g=async x=>{if(x.target.files&&x.target.files[0]){const y=x.target.files[0];try{const N=a.id||"temp",_=await ae.uploadMemberAreaFavicon(y,N);s({...a,favicon_url:_})}catch(N){console.error("Upload error:",N),h({isOpen:!0,title:"Erro no Upload",message:`No foi possvel fazer o upload do favicon. Detalhes: ${N.message||"Erro desconhecido"}`,variant:"error"})}}};return n.jsxs("div",{className:"animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Aparncia e Configuraes"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Personalize a identidade visual do seu portal."})]}),n.jsxs(_e,{onClick:f,isLoading:o,children:[n.jsx(li,{className:"w-4 h-4"})," Salvar Alteraes"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Te,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(lu,{className:"w-5 h-5 text-primary"})}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Identidade Visual"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Portal"}),n.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:a.name,onChange:x=>s({...a,name:x.target.value}),placeholder:"Ex: Academia do Jean"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug (URL)"}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"inline-flex items-center px-4 rounded-l-xl border border-r-0 border-gray-200 dark:border-white/10 bg-gray-100 dark:bg-white/5 text-gray-500 text-sm",children:"/app/"}),n.jsx("input",{type:"text",className:"flex-1 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-r-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:a.slug,onChange:x=>s({...a,slug:x.target.value.toLowerCase().replace(/\s+/g,"-")}),placeholder:"academia-jean"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Endereo de acesso ao portal."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Logo do Portal"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden",children:a.logo_url?n.jsx("img",{src:a.logo_url,alt:"Logo",className:"w-full h-full object-contain"}):n.jsx(Dr,{className:"w-6 h-6 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"logo-upload",onChange:m}),n.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium text-white transition-colors inline-block",children:"Escolher Logo"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recomendado: 200x200px (PNG)"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Favicon"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden",children:a.favicon_url?n.jsx("img",{src:a.favicon_url,alt:"Favicon",className:"w-8 h-8 object-contain"}):n.jsx(sn,{className:"w-6 h-6 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"favicon-upload",onChange:g}),n.jsx("label",{htmlFor:"favicon-upload",className:"cursor-pointer px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium text-white transition-colors inline-block",children:"Escolher Favicon"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recomendado: 32x32px (ICO/PNG)"})]})]})]})]})]})]}),n.jsxs(Te,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(lu,{className:"w-5 h-5 text-primary"})}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Banner do Topo (Vitrine)"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Imagem do Banner"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"w-full h-32 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden relative group",children:[a.banner_url?n.jsx("img",{src:a.banner_url,alt:"Banner",className:"w-full h-full object-cover"}):n.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[n.jsx(Dr,{className:"w-8 h-8 mb-2"}),n.jsx("span",{className:"text-xs",children:"Nenhuma imagem"})]}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx("label",{htmlFor:"banner-upload",className:"cursor-pointer px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium text-white transition-colors backdrop-blur-sm",children:"Alterar Imagem"})})]}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"banner-upload",onChange:async x=>{if(x.target.files&&x.target.files[0]){const y=x.target.files[0];try{const N=a.id||"temp",_=await ae.uploadMemberAreaBanner(y,N);s({...a,banner_url:_})}catch(N){console.error("Upload error:",N),h({isOpen:!0,title:"Erro no Upload",message:`No foi possvel fazer o upload do banner. Detalhes: ${N.message||"Erro desconhecido"}`,variant:"error"})}}}})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recomendado: 1920x600px (PNG/JPG). Esta imagem aparecer no topo da rea de membros."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ttulo do Banner"}),n.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:a.banner_title||"",onChange:x=>s({...a,banner_title:x.target.value}),placeholder:"Ex: Bem-vindo  Comunidade"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrio do Banner"}),n.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50 min-h-[100px]",value:a.banner_description||"",onChange:x=>s({...a,banner_description:x.target.value}),placeholder:"Ex: Aprenda tudo sobre marketing digital com nossos cursos exclusivos."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Texto do Boto"}),n.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:a.banner_button_text||"",onChange:x=>s({...a,banner_button_text:x.target.value}),placeholder:"Ex: Comear Agora"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link do Boto"}),n.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:a.banner_button_link||"",onChange:x=>s({...a,banner_button_link:x.target.value}),placeholder:"Ex: /curso/123 ou https://..."})]})]})]})]}),n.jsxs(Te,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Kl,{className:"w-5 h-5 text-primary"})}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Links do Menu"})]}),n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:'Adicione links externos que aparecero no menu dropdown "Links".'}),n.jsx(Vre,{links:a.custom_links||[],onChange:x=>s({...a,custom_links:x})})]}),n.jsxs(Te,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Hm,{className:"w-5 h-5 text-primary"})}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"FAQ (Perguntas Frequentes)"})]}),n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Gerencie as perguntas e respostas que aparecero na pgina de FAQ."}),n.jsx(Yre,{faqs:a.faqs||[],onChange:x=>s({...a,faqs:x})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsxs(Te,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(NQ,{className:"w-5 h-5 text-primary"})}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Cores"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cor Primria"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative w-14 h-14 rounded-xl overflow-hidden border border-white/20 shadow-sm shrink-0",children:[n.jsx("div",{className:"absolute inset-0",style:{backgroundColor:a.primary_color}}),n.jsx("input",{type:"color",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",value:a.primary_color,onChange:x=>s({...a,primary_color:x.target.value})})]}),n.jsx("input",{type:"text",className:"flex-1 min-w-0 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-3 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50 uppercase",value:a.primary_color,onChange:x=>s({...a,primary_color:x.target.value})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Usada em botes, links e destaques."})]})]}),n.jsxs(Te,{children:[n.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4",children:"Preview"}),n.jsxs("div",{className:"aspect-[9/16] bg-[#05050A] rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden relative shadow-2xl",children:[n.jsxs("div",{className:"absolute top-0 left-0 right-0 h-14 border-b border-white/5 flex items-center justify-between px-4",style:{backgroundColor:"#0A0A12"},children:[n.jsx("div",{className:"w-8 h-8 rounded bg-white/10 overflow-hidden",children:a.logo_url&&n.jsx("img",{src:a.logo_url,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"p-4 mt-14 space-y-4",children:[n.jsxs("div",{className:"h-32 rounded-xl bg-gradient-to-br from-gray-800 to-black border border-white/5 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundColor:a.primary_color}}),n.jsx("div",{className:"absolute bottom-3 left-3 font-bold text-white",children:"Curso Exemplo"})]}),n.jsx("div",{className:"h-32 rounded-xl bg-gradient-to-br from-gray-800 to-black border border-white/5"})]})]}),n.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Visualizao simplificada"})]})]})]}),n.jsx(zr,{isOpen:d.isOpen,onClose:()=>h({...d,isOpen:!1}),title:d.title,message:d.message,variant:d.variant})]})},Xre=({area:e,onDomainChange:t})=>{const[r,a]=v.useState([]),[s,o]=v.useState(!0),[c,d]=v.useState(e.domain_id||"");v.useEffect(()=>{h()},[]),v.useEffect(()=>{d(e.domain_id||"")},[e.domain_id]);const h=async()=>{o(!0);try{const m=await ae.getDomains();a(m.filter(g=>g.status==="active"&&g.usage===ht.MEMBER_AREA))}catch(m){console.error("Error loading domains:",m)}finally{o(!1)}},f=m=>{d(m),t(m)};return s?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando domnios..."}):n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsx(Te,{className:"p-6 bg-[#1a1a1a] border-white/10",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:n.jsx(sn,{className:"w-6 h-6 text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Domnio Personalizado"}),n.jsx("p",{className:"text-gray-400 text-sm mb-6",children:'Conecte um domnio personalizado para sua rea de membros. O domnio deve estar verificado e conectado na aba "Domnios".'}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione um domnio"}),n.jsxs("select",{value:c,onChange:m=>f(m.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[n.jsx("option",{value:"",children:"Usar domnio do sistema"}),r.map(m=>n.jsx("option",{value:m.id,children:m.domain},m.id))]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[n.jsx(cQ,{className:"w-3.5 h-3.5 text-yellow-500"}),n.jsx("span",{children:'Aps selecionar, clique em "Salvar Alteraes" no topo da pgina'})]})]}),c&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg text-green-400 text-sm",children:[n.jsx(ft,{className:"w-4 h-4"}),n.jsx("span",{children:"Domnio verificado e pronto para uso."})]}),r.length===0&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-yellow-500 text-sm",children:[n.jsx(nn,{className:"w-4 h-4"}),n.jsx("span",{children:'Nenhum domnio conectado encontrado. Adicione um domnio na aba "Domnios" primeiro.'})]})]})]})]})})})},Kre=({memberAreaId:e})=>{const[t,r]=v.useState([]),[a,s]=v.useState(!0),[o,c]=v.useState(null),[d,h]=v.useState(!1),[f,m]=v.useState(""),[g,x]=v.useState("contents"),[y,N]=v.useState("horizontal"),[_,w]=v.useState(!1),[E,k]=v.useState([]),[S,T]=v.useState(null),[C,O]=v.useState({isOpen:!1,trackId:null}),[M,L]=v.useState(!1);v.useEffect(()=>{z()},[e]);const z=async()=>{s(!0);try{const K=await ae.getTracks(e),he=await Promise.all(K.map(V=>ae.getTrackWithItems(V.id)));r(he.filter(V=>V!==null))}catch(K){console.error("Error loading tracks:",K)}finally{s(!1)}},G=async()=>{if(f)try{await ae.createTrack({member_area_id:e,title:f,type:g,position:t.length,is_visible:!0,card_style:y}),m(""),N("horizontal"),h(!1),z()}catch(K){console.error("Error creating track:",K)}},F=async()=>{if(C.trackId){L(!0);try{await ae.deleteTrack(C.trackId),r(t.filter(K=>K.id!==C.trackId)),O({isOpen:!1,trackId:null})}catch(K){console.error("Error deleting track:",K)}finally{L(!1)}}},se=async(K,he)=>{try{await ae.updateTrack({id:K,card_style:he}),r(t.map(V=>V.id===K?{...V,card_style:he}:V))}catch(V){console.error("Error updating track style:",V)}},J=async K=>{try{await ae.updateTrack({id:K.id,is_visible:!K.is_visible}),r(t.map(he=>he.id===K.id?{...he,is_visible:!he.is_visible}:he))}catch(he){console.error("Error updating visibility:",he)}},xe=async K=>{var he;if(S)try{const V=t.find(R=>R.id===S);if(!V)return;await ae.addTrackItem(S,K.id,((he=V.items)==null?void 0:he.length)||0),w(!1),z()}catch(V){console.error("Error adding item:",V)}},be=async K=>{try{await ae.removeTrackItem(K),z()}catch(he){console.error("Error removing item:",he)}},P=async(K,he)=>{T(K),k([]),w(!0);try{let V=[];if(he==="products")V=await ae.getProducts();else if(he==="contents")V=await ae.getContents(e);else if(he==="modules")V=await ae.getModulesByAreaId(e);else if(he==="lessons"){const R=await ae.getModulesByAreaId(e);V=R.flatMap(H=>H.lessons||[]).map(H=>{var ee;return{...H,title:`${H.title} (Mdulo: ${(ee=R.find(de=>de.id===H.module_id))==null?void 0:ee.title})`}})}k(V)}catch(V){console.error("Error fetching items:",V)}},X=async(K,he)=>{if(he==="up"&&K===0||he==="down"&&K===t.length-1)return;const V=[...t],R=he==="up"?K-1:K+1;[V[K],V[R]]=[V[R],V[K]],V.forEach((H,ee)=>H.position=ee),r(V);try{await ae.updateTrackPositions(V.map(H=>({id:H.id,position:H.position})))}catch(H){console.error("Error updating positions:",H)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Trilhas da Vitrine"}),n.jsxs(_e,{onClick:()=>h(!0),children:[n.jsx(sr,{className:"w-4 h-4 mr-2"})," Nova Trilha"]})]}),d&&n.jsxs(Te,{className:"p-4 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10",children:[n.jsx("h3",{className:"text-sm font-medium mb-4",children:"Criar Nova Trilha"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ttulo da Trilha"}),n.jsx("input",{type:"text",value:f,onChange:K=>m(K.target.value),className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm",placeholder:"Ex: Cursos em Destaque"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Tipo de Item"}),n.jsxs("select",{value:g,onChange:K=>x(K.target.value),className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"contents",className:"bg-white dark:bg-[#0A0A0A]",children:"Contedos"}),n.jsx("option",{value:"products",className:"bg-white dark:bg-[#0A0A0A]",children:"Produtos"}),n.jsx("option",{value:"modules",className:"bg-white dark:bg-[#0A0A0A]",children:"Mdulos"}),n.jsx("option",{value:"lessons",className:"bg-white dark:bg-[#0A0A0A]",children:"Aulas"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Estilo dos Cards"}),n.jsxs("select",{value:y,onChange:K=>N(K.target.value),className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"horizontal",className:"bg-white dark:bg-[#0A0A0A]",children:"Horizontal (Padro)"}),n.jsx("option",{value:"vertical",className:"bg-white dark:bg-[#0A0A0A]",children:"Vertical (Poster)"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(_e,{variant:"ghost",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(_e,{onClick:G,children:"Criar Trilha"})]})]}),n.jsx("div",{className:"space-y-4",children:t.map((K,he)=>{var V;return n.jsxs("div",{className:"bg-white dark:bg-[#0A0A0A] border border-gray-200 dark:border-white/10 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("button",{onClick:()=>X(he,"up"),disabled:he===0,className:"text-gray-400 hover:text-white disabled:opacity-30",children:""}),n.jsx("button",{onClick:()=>X(he,"down"),disabled:he===t.length-1,className:"text-gray-400 hover:text-white disabled:opacity-30",children:""})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:K.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-500 uppercase",children:K.type}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),n.jsxs("select",{value:K.card_style||"horizontal",onChange:R=>se(K.id,R.target.value),className:"text-xs bg-transparent border-none text-gray-500 uppercase cursor-pointer focus:ring-0 p-0",children:[n.jsx("option",{value:"horizontal",className:"bg-white dark:bg-[#0A0A0A]",children:"Horizontal"}),n.jsx("option",{value:"vertical",className:"bg-white dark:bg-[#0A0A0A]",children:"Vertical"})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>J(K),className:`p-2 rounded-lg transition-colors ${K.is_visible?"text-green-500 bg-green-500/10":"text-gray-500 bg-gray-500/10"}`,children:K.is_visible?n.jsx(Gm,{size:18}):n.jsx(WR,{size:18})}),n.jsx("button",{onClick:()=>O({isOpen:!0,trackId:K.id}),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:n.jsx($r,{size:18})})]})]}),n.jsx("div",{className:"pl-8",children:n.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(V=K.items)==null?void 0:V.map(R=>{var H,ee,de,je,I,me,Ce,ne;return n.jsxs("div",{className:"relative group bg-gray-100 dark:bg-white/5 rounded-lg p-2 pr-8 flex items-center gap-2 border border-gray-200 dark:border-white/5",children:[(((H=R.product)==null?void 0:H.imageUrl)||((ee=R.content)==null?void 0:ee.thumbnail_url))&&n.jsx("img",{src:((de=R.product)==null?void 0:de.imageUrl)||((je=R.content)==null?void 0:je.thumbnail_url),className:"w-8 h-8 rounded object-cover"}),n.jsx("span",{className:"text-sm truncate max-w-[150px]",children:((I=R.product)==null?void 0:I.name)||((me=R.content)==null?void 0:me.title)||((Ce=R.module)==null?void 0:Ce.title)||((ne=R.lesson)==null?void 0:ne.title)||"Item desconhecido"}),n.jsx("button",{onClick:()=>be(R.id),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(ea,{size:14})})]},R.id)}),n.jsxs("button",{onClick:()=>P(K.id,K.type),className:"px-3 py-2 rounded-lg border border-dashed border-gray-300 dark:border-white/20 text-gray-500 hover:text-white hover:border-white/40 text-sm transition-colors flex items-center gap-2",children:[n.jsx(sr,{size:14})," Adicionar Item"]})]})})]},K.id)})}),_&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-white dark:bg-[#111] w-full max-w-lg rounded-2xl border border-gray-200 dark:border-white/10 shadow-2xl flex flex-col max-h-[80vh]",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/10 flex justify-between items-center",children:[n.jsx("h3",{className:"font-semibold",children:"Selecionar Item"}),n.jsx("button",{onClick:()=>w(!1),children:n.jsx(ea,{size:20})})]}),n.jsxs("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:[E.map(K=>n.jsxs("div",{onClick:()=>xe(K),className:"p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 cursor-pointer flex items-center gap-3 transition-colors",children:[(K.imageUrl||K.thumbnail_url||K.image_url||K.image_horizontal_url||K.image_vertical_url)&&n.jsx("img",{src:K.imageUrl||K.thumbnail_url||K.image_url||K.image_horizontal_url||K.image_vertical_url,className:"w-10 h-10 rounded object-cover"}),n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:K.name||K.title})})]},K.id)),E.length===0&&n.jsx("div",{className:"text-center text-gray-500 py-8",children:"Nenhum item encontrado."})]})]})}),n.jsx(un,{isOpen:C.isOpen,onClose:()=>O({isOpen:!1,trackId:null}),onConfirm:F,title:"Excluir Trilha",message:"Tem certeza que deseja excluir esta trilha? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",variant:"danger",loading:M})]})};function Jre(e){const t=e+"CollectionProvider",[r,a]=Ym(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:w,children:E}=_,k=nr.useRef(null),S=nr.useRef(new Map).current;return n.jsx(s,{scope:w,itemMap:S,collectionRef:k,children:E})};c.displayName=t;const d=e+"CollectionSlot",h=Jf(d),f=nr.forwardRef((_,w)=>{const{scope:E,children:k}=_,S=o(d,E),T=An(w,S.collectionRef);return n.jsx(h,{ref:T,children:k})});f.displayName=d;const m=e+"CollectionItemSlot",g="data-radix-collection-item",x=Jf(m),y=nr.forwardRef((_,w)=>{const{scope:E,children:k,...S}=_,T=nr.useRef(null),C=An(w,T),O=o(m,E);return nr.useEffect(()=>(O.itemMap.set(T,{ref:T,...S}),()=>void O.itemMap.delete(T))),n.jsx(x,{[g]:"",ref:C,children:k})});y.displayName=m;function N(_){const w=o(e+"CollectionConsumer",_);return nr.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const S=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((O,M)=>S.indexOf(O.ref.current)-S.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:f,ItemSlot:y},N,a]}var Qre=v.createContext(void 0);function UD(e){const t=v.useContext(Qre);return e||t||"ltr"}var fv="rovingFocusGroup.onEntryFocus",Zre={bubbles:!1,cancelable:!0},Wu="RovingFocusGroup",[Ry,$D,eae]=Jre(Wu),[tae,BD]=Ym(Wu,[eae]),[rae,aae]=tae(Wu),zD=v.forwardRef((e,t)=>n.jsx(Ry.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Ry.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(nae,{...e,ref:t})})}));zD.displayName=Wu;var nae=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,x=v.useRef(null),y=An(t,x),N=UD(o),[_,w]=jw({prop:c,defaultProp:d??null,onChange:h,caller:Wu}),[E,k]=v.useState(!1),S=Pl(f),T=$D(r),C=v.useRef(!1),[O,M]=v.useState(0);return v.useEffect(()=>{const L=x.current;if(L)return L.addEventListener(fv,S),()=>L.removeEventListener(fv,S)},[S]),n.jsx(rae,{scope:r,orientation:a,dir:N,loop:s,currentTabStopId:_,onItemFocus:v.useCallback(L=>w(L),[w]),onItemShiftTab:v.useCallback(()=>k(!0),[]),onFocusableItemAdd:v.useCallback(()=>M(L=>L+1),[]),onFocusableItemRemove:v.useCallback(()=>M(L=>L-1),[]),children:n.jsx(Fr.div,{tabIndex:E||O===0?-1:0,"data-orientation":a,...g,ref:y,style:{outline:"none",...e.style},onMouseDown:wr(e.onMouseDown,()=>{C.current=!0}),onFocus:wr(e.onFocus,L=>{const z=!C.current;if(L.target===L.currentTarget&&z&&!E){const G=new CustomEvent(fv,Zre);if(L.currentTarget.dispatchEvent(G),!G.defaultPrevented){const F=T().filter(P=>P.focusable),se=F.find(P=>P.active),J=F.find(P=>P.id===_),be=[se,J,...F].filter(Boolean).map(P=>P.ref.current);HD(be,m)}}C.current=!1}),onBlur:wr(e.onBlur,()=>k(!1))})})}),FD="RovingFocusGroupItem",qD=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:o,children:c,...d}=e,h=uu(),f=o||h,m=aae(FD,r),g=m.currentTabStopId===f,x=$D(r),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:_}=m;return v.useEffect(()=>{if(a)return y(),()=>N()},[a,y,N]),n.jsx(Ry.ItemSlot,{scope:r,id:f,focusable:a,active:s,children:n.jsx(Fr.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:wr(e.onMouseDown,w=>{a?m.onItemFocus(f):w.preventDefault()}),onFocus:wr(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:wr(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=oae(w,m.orientation,m.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=x().filter(T=>T.focusable).map(T=>T.ref.current);if(E==="last")S.reverse();else if(E==="prev"||E==="next"){E==="prev"&&S.reverse();const T=S.indexOf(w.currentTarget);S=m.loop?lae(S,T+1):S.slice(T+1)}setTimeout(()=>HD(S))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:_!=null}):c})})});qD.displayName=FD;var sae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oae(e,t,r){const a=iae(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return sae[a]}function HD(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function lae(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var cae=zD,uae=qD,tp="Tabs",[dae]=Ym(tp,[BD]),GD=BD(),[hae,Sw]=dae(tp),VD=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:o,orientation:c="horizontal",dir:d,activationMode:h="automatic",...f}=e,m=UD(d),[g,x]=jw({prop:a,onChange:s,defaultProp:o??"",caller:tp});return n.jsx(hae,{scope:r,baseId:uu(),value:g,onValueChange:x,orientation:c,dir:m,activationMode:h,children:n.jsx(Fr.div,{dir:m,"data-orientation":c,...f,ref:t})})});VD.displayName=tp;var YD="TabsList",WD=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,o=Sw(YD,r),c=GD(r);return n.jsx(cae,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:a,children:n.jsx(Fr.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});WD.displayName=YD;var XD="TabsTrigger",KD=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...o}=e,c=Sw(XD,r),d=GD(r),h=ZD(c.baseId,a),f=eP(c.baseId,a),m=a===c.value;return n.jsx(uae,{asChild:!0,...d,focusable:!s,active:m,children:n.jsx(Fr.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...o,ref:t,onMouseDown:wr(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:wr(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:wr(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!s&&g&&c.onValueChange(a)})})})});KD.displayName=XD;var JD="TabsContent",QD=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:o,...c}=e,d=Sw(JD,r),h=ZD(d.baseId,a),f=eP(d.baseId,a),m=a===d.value,g=v.useRef(m);return v.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),n.jsx(Yu,{present:s||m,children:({present:x})=>n.jsx(Fr.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:x&&o})})});QD.displayName=JD;function ZD(e,t){return`${e}-trigger-${t}`}function eP(e,t){return`${e}-content-${t}`}var fae=VD,mae=WD,pae=KD,zh=QD;const vC=e=>{switch(e){case"login":return"Acesso ao Sistema";case"status_changed_to_suspended":return"Conta Suspensa";case"status_changed_to_active":return"Conta Ativada";case"status_changed_to_disabled":return"Conta Desativada";case"access_granted":return"Acesso Concedido";case"access_revoked":return"Acesso Revogado";case"create":return"Membro Criado";case"update":return"Dados Atualizados";case"delete":return"Membro Excludo";default:return e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}},yC=e=>{const t=e.metadata||{},r=[];return t.p==="admin"&&r.push("por Admin"),t.method&&r.push(`via ${t.method==="password"?"Senha":t.method}`),t.productIds&&r.push(`Produtos: ${Array.isArray(t.productIds)?t.productIds.length:1}`),t.productId&&r.push(`Produto ID: ${t.productId.slice(0,8)}...`),t.action&&r.push(`Ao: ${t.action}`),t.mode==="direct_db"&&r.push("(Modo Recuperao)"),r.length===0?JSON.stringify(t).slice(0,50):r.join("  ")},gae=({member:e,isOpen:t,onClose:r,onUpdate:a})=>{var xe,be,P,X,K,he;const[s,o]=v.useState("overview"),[c,d]=v.useState(null),[h,f]=v.useState(!0),[m,g]=v.useState(e.status||"active"),[x,y]=v.useState([]),[N,_]=v.useState(null),[w,E]=v.useState({isOpen:!1,action:""}),[k,S]=v.useState({isOpen:!1,title:"",message:"",variant:"success"}),[T,C]=v.useState(!1);v.useEffect(()=>{t&&e&&(_(null),F(),O())},[t,e]);const O=async()=>{try{const V=await ma.getProducts();y(V)}catch(V){console.error("Error loading products:",V)}},M=async V=>{E({isOpen:!0,action:"grant",productId:V})},L=async V=>{E({isOpen:!0,action:"revoke",productId:V})},z=async()=>{if(w.productId){C(!0);try{await ma.grantAccess(e.user_id,[w.productId]),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Acesso liberado com sucesso!",variant:"success"}),F()}catch(V){console.error("Error granting access:",V);const R=V.message||JSON.stringify(V);E({isOpen:!1,action:""}),S({isOpen:!0,title:"Erro",message:`Erro ao liberar acesso: ${R}`,variant:"error"})}finally{C(!1)}}},G=async()=>{if(w.productId){C(!0);try{await ma.revokeAccess(e.user_id,w.productId),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Acesso revogado com sucesso!",variant:"success"}),F()}catch(V){console.error("Error revoking access:",V),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Erro",message:"Erro ao revogar acesso.",variant:"error"})}finally{C(!1)}}},F=async()=>{var V;f(!0),_(null);try{console.log("Loading details for:",e.user_id);const R=await ma.getMemberDetails(e.user_id);console.log("Loaded details:",R),d(R),(V=R==null?void 0:R.profile)!=null&&V.status&&g(R.profile.status)}catch(R){console.error("Error loading member details:",R),_(`Erro ao carregar dados: ${R.message||"Erro desconhecido"}`)}finally{f(!1)}},se=async V=>{V==="suspend"||V==="activate"?E({isOpen:!0,action:V}):J(V)},J=async V=>{C(!0);try{if(V==="suspend")g("suspended"),await ma.updateMemberStatus(e.user_id,"suspended"),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Membro suspenso com sucesso.",variant:"success"}),a&&a();else if(V==="activate")g("active"),await ma.updateMemberStatus(e.user_id,"active"),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Membro reativado com sucesso.",variant:"success"}),a&&a();else if(V==="email_reset"){const R=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"resend_email",userId:e.user_id,type:"reset_password"})});if(!R.ok)throw new Error(await R.text());S({isOpen:!0,title:"Sucesso",message:"Email de redefinio de senha enviado.",variant:"success"})}else V==="email_welcome"&&S({isOpen:!0,title:"Aviso",message:"Funcionalidade de reenviar boas-vindas no implementada no backend ainda.",variant:"error"})}catch(R){console.error("Action failed:",R),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Erro",message:`Erro ao executar ao: ${R.message||"Erro desconhecido"}`,variant:"error"}),F()}finally{C(!1)}};return t?n.jsx(Km,{open:t,onOpenChange:r,children:n.jsxs(Jm,{children:[n.jsx(Qm,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),n.jsxs(Zm,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-5xl h-[90vh] bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 z-50 flex flex-col overflow-hidden outline-none animate-in zoom-in-95 duration-200",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsxs("div",{className:"relative flex-none p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-primary/20",children:e.name.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.name,m==="suspended"&&n.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-700 text-xs font-medium border border-red-200",children:"Suspenso"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx(Ur,{className:"w-4 h-4"}),e.email]}),n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx(yw,{className:"w-4 h-4"}),"Desde ",e.joined_at?Xn(new Date(e.joined_at),"d MMM, yyyy",{locale:em}):"-"]})]})]})]}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(ea,{className:"w-6 h-6 text-gray-500"})})]}),n.jsxs(fae,{value:s,onValueChange:o,className:"flex-1 flex flex-col min-h-0",children:[n.jsx("div",{className:"relative px-6 border-b border-white/10 bg-[#12121A]",children:n.jsx(mae,{className:"flex gap-6",children:[{id:"overview",label:"Viso Geral",icon:Sy},{id:"products",label:"Produtos e Acesso",icon:Gt},{id:"orders",label:"Histrico de Compras",icon:va},{id:"history",label:"Log de Atividades",icon:Vu}].map(V=>n.jsxs(pae,{value:V.id,className:`group flex items-center gap-2 py-4 text-sm font-medium border-b-2 transition-colors outline-none ${s===V.id?"border-purple-500 text-purple-400":"border-transparent text-gray-500 hover:text-gray-300"}`,children:[n.jsx(V.icon,{className:`w-4 h-4 ${s===V.id?"text-purple-400":"text-gray-400 group-hover:text-gray-500"}`}),V.label]},V.id))})}),n.jsx("div",{className:"relative flex-1 overflow-y-auto p-6 bg-black/20",children:h?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin"})}):N?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8 space-y-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(ky,{className:"w-6 h-6 text-red-500"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Erro ao carregar dados"}),n.jsx("p",{className:"text-gray-500 max-w-sm",children:N}),n.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-100 dark:bg-white/5 rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Fechar"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(zh,{value:"overview",className:"space-y-6 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Gasto"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c!=null&&c.orders?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c.orders.reduce((V,R)=>V+(R.amount||0),0)):"R$ 0,00"})]}),n.jsxs("div",{className:"p-4 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"ltimo Acesso"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(xe=c==null?void 0:c.profile)!=null&&xe.last_seen_at?Xn(new Date(c.profile.last_seen_at),"dd/MM/yyyy HH:mm"):"Nunca"})]}),n.jsxs("div",{className:"p-4 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Produtos Ativos"}),n.jsx("div",{className:"text-2xl font-bold text-green-500",children:((be=c==null?void 0:c.accessGrants)==null?void 0:be.filter(V=>V.status==="active").length)||0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 p-5 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4",children:"Aes Rpidas"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:()=>se("email_reset"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10 transition-colors",children:[n.jsx(ni,{className:"w-4 h-4 text-gray-400"}),"Enviar Redefinio de Senha"]}),n.jsxs("button",{onClick:()=>se("email_welcome"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10 transition-colors",children:[n.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),"Reenviar Email de Boas-vindas"]}),n.jsx("hr",{className:"border-gray-100 dark:border-white/5 my-2"}),m==="suspended"?n.jsxs("button",{onClick:()=>se("activate"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 transition-colors",children:[n.jsx(tD,{className:"w-4 h-4"}),"Reativar Acesso"]}):n.jsxs("button",{onClick:()=>se("suspend"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800 transition-colors",children:[n.jsx(ky,{className:"w-4 h-4"}),"Suspender Acesso"]})]})]})}),n.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 p-5 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4",children:"Atividade Recente"}),n.jsxs("div",{className:"space-y-4",children:[(P=c==null?void 0:c.logs)==null?void 0:P.slice(0,5).map(V=>n.jsxs("div",{className:"flex gap-4 items-start",children:[n.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full flex-shrink-0 ${V.event.includes("suspend")||V.event.includes("revoke")?"bg-red-500":V.event.includes("active")||V.event.includes("grant")?"bg-green-500":"bg-blue-500"}`}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:vC(V.event)}),n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:Xn(new Date(V.created_at),"d 'de' MMMM 's' HH:mm",{locale:em})}),V.metadata&&Object.keys(V.metadata).length>0&&n.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 dark:bg-white/5 p-1.5 rounded border border-gray-100 dark:border-white/5 inline-block",children:yC(V)})]})]},V.id)),(!(c!=null&&c.logs)||c.logs.length===0)&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma atividade registrada."})]})]})]})]}),n.jsxs(zh,{value:"products",className:"space-y-4 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:[n.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Acessos Concedidos"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{id:"product-select",className:"bg-white dark:bg-[#1A1A24] border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary",onChange:V=>{const R=V.target.value;R&&M(R),V.target.value=""},children:[n.jsx("option",{value:"",children:"+ Liberar Acesso..."}),x.map(V=>n.jsx("option",{value:V.id,children:V.name},V.id))]})})]}),n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden",children:[n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Produto"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Data Liberao"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Expira em"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase text-right",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:(X=c==null?void 0:c.accessGrants)==null?void 0:X.map(V=>{var R,H;return n.jsxs("tr",{children:[n.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:((R=V.product)==null?void 0:R.name)||((H=V.content)==null?void 0:H.title)||"Produto Desconhecido"}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${V.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:V.status==="active"?"Ativo":"Inativo"})}),n.jsx("td",{className:"p-4 text-sm text-gray-500",children:Xn(new Date(V.granted_at),"dd/MM/yyyy")}),n.jsx("td",{className:"p-4 text-sm text-gray-500",children:V.expires_at?Xn(new Date(V.expires_at),"dd/MM/yyyy"):"Vitalcio"}),n.jsx("td",{className:"p-4 text-right",children:n.jsx("button",{onClick:()=>L(V.product_id),className:"text-red-500 hover:text-red-700 text-sm font-medium hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"Revogar"})})]},V.id)})})]}),(!(c!=null&&c.accessGrants)||c.accessGrants.length===0)&&n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhum produto liberado para este usurio."})]})]}),n.jsx(zh,{value:"orders",className:"space-y-4 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden",children:[n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"ID"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Valor"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Data"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Gateway"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:(K=c==null?void 0:c.orders)==null?void 0:K.map(V=>n.jsxs("tr",{children:[n.jsxs("td",{className:"p-4 font-mono text-xs text-gray-500",children:[V.id.slice(0,8),"..."]}),n.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(V.amount)}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${V.status==="paid"?"bg-green-100 text-green-700":V.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:V.status})}),n.jsx("td",{className:"p-4 text-sm text-gray-500",children:Xn(new Date(V.created_at),"dd/MM/yyyy HH:mm")}),n.jsx("td",{className:"p-4 text-sm text-gray-500",children:V.payment_method||"-"})]},V.id))})]}),(!(c!=null&&c.orders)||c.orders.length===0)&&n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhuma compra encontrada para este usurio."})]})}),n.jsx(zh,{value:"history",className:"outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:n.jsx("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 p-6 shadow-sm",children:n.jsxs("div",{className:"relative border-l border-gray-200 dark:border-white/10 ml-3 space-y-8",children:[(he=c==null?void 0:c.logs)==null?void 0:he.map(V=>n.jsxs("div",{className:"relative pl-8",children:[n.jsx("span",{className:`absolute -left-[5px] top-1.5 w-2.5 h-2.5 rounded-full ring-4 ring-white dark:ring-[#1A1A24] ${V.event.includes("suspend")||V.event.includes("revoke")?"bg-red-500":V.event.includes("active")||V.event.includes("grant")?"bg-green-500":"bg-blue-500"}`}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:vC(V.event)}),V.metadata&&Object.keys(V.metadata).length>0&&n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:yC(V)})]}),n.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:Xn(new Date(V.created_at),"dd/MM/yyyy HH:mm")})]})]},V.id)),(!(c!=null&&c.logs)||c.logs.length===0)&&n.jsx("div",{className:"pl-6 text-gray-500",children:"Sem histrico disponvel."})]})})})]})})]}),n.jsx(un,{isOpen:w.isOpen,onClose:()=>E({isOpen:!1,action:""}),onConfirm:()=>{w.action==="suspend"?J("suspend"):w.action==="activate"?J("activate"):w.action==="grant"?z():w.action==="revoke"&&G()},title:w.action==="suspend"?"Suspender Membro":w.action==="activate"?"Reativar Membro":w.action==="grant"?"Liberar Acesso":"Revogar Acesso",message:w.action==="suspend"?"Tem certeza que deseja suspender este membro? Ele perder acesso imediato.":w.action==="activate"?"Deseja reativar o acesso deste membro?":w.action==="grant"?"Deseja liberar o acesso a este produto para o usurio?":"Deseja revogar o acesso a este produto?",confirmText:"Confirmar",variant:w.action==="suspend"||w.action==="revoke"?"danger":"primary",loading:T}),n.jsx(zr,{isOpen:k.isOpen,onClose:()=>S({isOpen:!1,title:"",message:"",variant:"success"}),title:k.title,message:k.message,variant:k.variant})]})]})}):null},xae=({isOpen:e,onClose:t,onSuccess:r})=>{const[a,s]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState([]),[f,m]=v.useState([]),[g,x]=v.useState(!1),[y,N]=v.useState(""),[_,w]=v.useState(!1);v.useEffect(()=>{e&&(E(),k())},[e]);const E=async()=>{try{const C=await ae.getProducts();m(C)}catch(C){console.error("Error loading products:",C)}},k=()=>{s(""),c(""),h([]),N(""),w(!1)},S=async C=>{C.preventDefault(),x(!0),N("");try{await ma.createMember(a,o,d),w(!0),setTimeout(()=>{r(),t()},1500)}catch(O){console.error("Error creating member:",O),N(O.message||"Erro ao criar membro.")}finally{x(!1)}},T=C=>{h(O=>O.includes(C)?O.filter(M=>M!==C):[...O,C])};return e?n.jsx(Km,{open:e,onOpenChange:t,children:n.jsxs(Jm,{children:[n.jsx(Qm,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),n.jsxs(Zm,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-md bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 z-50 p-0 flex flex-col max-h-[90vh] outline-none animate-in zoom-in-95 duration-200 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsxs("div",{className:"relative p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-center shrink-0",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Adicionar Novo Membro"}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(ea,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:S,className:"relative p-6 space-y-6 overflow-y-auto",children:[y&&n.jsx("div",{className:"p-3 bg-red-100 text-red-700 text-sm rounded-lg border border-red-200",children:y}),_&&n.jsxs("div",{className:"p-3 bg-green-100 text-green-700 text-sm rounded-lg border border-green-200 flex items-center gap-2",children:[n.jsx(ft,{className:"w-4 h-4"}),"Membro adicionado com sucesso!"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome Completo"}),n.jsxs("div",{className:"relative",children:[n.jsx(cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",required:!0,value:o,onChange:C=>c(C.target.value),className:"w-full bg-black/30 border border-purple-500/20 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 placeholder:text-gray-600",placeholder:"Ex: Joo Silva"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"email",required:!0,value:a,onChange:C=>s(C.target.value),className:"w-full bg-black/30 border border-purple-500/20 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 placeholder:text-gray-600",placeholder:"Ex: joao@email.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Liberar Acesso aos Produtos"}),n.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:[f.map(C=>n.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-purple-500/20 hover:bg-white/5 cursor-pointer transition-colors",children:[n.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${d.includes(C.id)?"bg-purple-600 border-purple-600 text-white":"border-gray-600"}`,children:d.includes(C.id)&&n.jsx(ft,{className:"w-3.5 h-3.5"})}),n.jsx("input",{type:"checkbox",className:"hidden",checked:d.includes(C.id),onChange:()=>T(C.id)}),n.jsx("span",{className:"text-sm font-medium text-gray-300",children:C.name})]},C.id)),f.length===0&&n.jsx("div",{className:"text-sm text-gray-500 italic",children:"Nenhum produto cadastrado."})]})]})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("button",{type:"submit",disabled:g||_,className:"w-full flex items-center justify-center gap-2 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-all shadow-lg shadow-purple-500/25 disabled:opacity-70 disabled:cursor-not-allowed",children:g?n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(li,{className:"w-4 h-4"}),"Salvar Membro"]})}),n.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Um email de boas-vindas ser enviado automaticamente."})]})]})]})]})}):null},vae=({memberAreaId:e})=>{const[t,r]=v.useState([]),[a,s]=v.useState(!0),[o,c]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState("all"),[g,x]=v.useState(null),[y,N]=v.useState(!1),[_,w]=v.useState(!1),[E,k]=v.useState({isOpen:!1,memberId:null,memberName:null}),[S,T]=v.useState(!1);v.useEffect(()=>{C()},[e,o,d,f]);const C=async()=>{s(!0);try{const{data:L}=await ma.getMembersByArea(e,1,100,o,d,f),z=Array.from(new Map(L.map(G=>[G.user_id,G])).values());r(z)}catch(L){console.error("Error loading members:",L)}finally{s(!1)}},O=async()=>{try{const L=await ma.exportMembersCSV(e),z=new Blob([L],{type:"text/csv"}),G=window.URL.createObjectURL(z),F=document.createElement("a");F.href=G,F.download=`members-${new Date().toISOString().split("T")[0]}.csv`,F.click()}catch(L){console.error("Error exporting CSV:",L),alert("Erro ao exportar CSV")}},M=async()=>{if(E.memberId){T(!0);try{await ma.deleteMember(E.memberId),k({isOpen:!1,memberId:null,memberName:null}),C()}catch(L){console.error("Error deleting member:",L),alert("Erro ao excluir membro")}finally{T(!1)}}};return n.jsxs("div",{className:"animate-in fade-in duration-500 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Membros"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Acompanhe seus alunos, assinaturas e acessos."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/10 transition-colors",children:[n.jsx(Su,{className:"w-4 h-4"}),"Exportar CSV"]}),n.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-primary/25",children:[n.jsx(sr,{className:"w-4 h-4"}),"Adicionar Membro"]})]})]}),n.jsxs(Te,{className:"p-1",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-white/5 flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-black/40 rounded-lg",children:[n.jsx("button",{onClick:()=>m("all"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${f==="all"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Todos"}),n.jsx("button",{onClick:()=>m("free"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${f==="free"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Gratuito"}),n.jsx("button",{onClick:()=>m("paid"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${f==="paid"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Pago"})]})}),n.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[n.jsxs("div",{className:"relative w-full max-w-md",children:[n.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:o,onChange:L=>c(L.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50"})]}),n.jsxs("div",{className:"relative min-w-[180px]",children:[n.jsxs("select",{value:d,onChange:L=>h(L.target.value),className:"w-full appearance-none bg-white dark:bg-[#1A1A1A] border border-gray-200 dark:border-white/10 rounded-lg pl-4 pr-10 py-2 text-sm text-gray-900 dark:text-gray-200 outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer shadow-sm",children:[n.jsx("option",{value:"",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Todos os Status"}),n.jsx("option",{value:"active",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Ativo"}),n.jsx("option",{value:"suspended",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Suspenso"}),n.jsx("option",{value:"expired",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Expirado"})]}),n.jsx(KR,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50/50 dark:bg-white/5 border-b border-gray-100 dark:border-white/5",children:[n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Aluno"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Entrou em"}),n.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Aes"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[t.map(L=>n.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center text-primary font-bold text-sm border border-white/10",children:L.name.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:L.name}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1.5",children:[n.jsx(Ur,{className:"w-3 h-3"}),L.email]}),n.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5",title:"User ID",children:L.user_id})]})]})}),n.jsxs("td",{className:"p-4",children:[L.status==="active"&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100/50 text-green-700 dark:bg-green-500/10 dark:text-green-400 border border-green-200 dark:border-green-500/20",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Ativo"]}),L.status==="suspended"&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100/50 text-yellow-700 dark:bg-yellow-500/10 dark:text-yellow-400 border border-yellow-200 dark:border-yellow-500/20",children:[n.jsx(br,{className:"w-3 h-3"}),"Suspenso"]}),(L.status==="expired"||L.status==="revoked")&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100/50 text-red-700 dark:bg-red-500/10 dark:text-red-400 border border-red-200 dark:border-red-500/20",children:[n.jsx(YQ,{className:"w-3 h-3"}),"Sem acesso"]})]}),n.jsxs("td",{className:"p-4 text-sm text-gray-500",children:[L.joined_at?Xn(new Date(L.joined_at),"d 'de' MMMM, yyyy",{locale:em}):"-",n.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:["H ",Math.floor((new Date().getTime()-new Date(L.joined_at).getTime())/(1e3*60*60*24))," dias"]})]}),n.jsx("td",{className:"p-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{title:"Reenviar Acesso",className:"p-2 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",children:n.jsx(IQ,{className:"w-4 h-4"})}),n.jsx("button",{title:"Ver Detalhes",onClick:()=>{x(L),N(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Gm,{className:"w-4 h-4"})}),n.jsx("button",{title:"Excluir Membro",onClick:()=>k({isOpen:!0,memberId:L.user_id,memberName:L.name}),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:n.jsx($r,{className:"w-4 h-4"})})]})})]},L.user_id)),t.length===0&&!a&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(cn,{className:"w-12 h-12 text-gray-300 mb-3"}),n.jsx("p",{className:"font-medium",children:"Nenhum membro encontrado"}),n.jsx("p",{className:"text-sm mt-1",children:"Tente ajustar os filtros ou adicione um novo membro."})]})})})]})]})}),n.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-white/5 flex items-center justify-between text-sm text-gray-500",children:n.jsxs("div",{children:["Mostrando ",t.length," resultados"]})})]}),g&&n.jsx(gae,{isOpen:y,onClose:()=>{N(!1),x(null)},member:g,onUpdate:C}),n.jsx(xae,{isOpen:_,onClose:()=>w(!1),onSuccess:()=>{C(),w(!1)}}),n.jsx(un,{isOpen:E.isOpen,onClose:()=>k({isOpen:!1,memberId:null,memberName:null}),onConfirm:M,title:"Excluir Membro",message:`Tem certeza que deseja excluir o membro "${E.memberName}"? Esta ao no pode ser desfeita e remover todos os dados associados.`,confirmText:"Sim, excluir",variant:"danger",loading:S})]})},yae=({memberAreaId:e})=>{const[t,r]=v.useState([]),[a,s]=v.useState([]),[o,c]=v.useState({}),[d,h]=v.useState(!0),[f,m]=v.useState(null),[g,x]=v.useState({isOpen:!1,title:"",message:"",variant:"info"});v.useEffect(()=>{y()},[e]);const y=async()=>{h(!0);try{const w=await ae.getProducts();r(w);const E=await ae.getContents(e);s(E);const k={};await Promise.all(w.map(async S=>{const C=(await ae.getProductContents(S.id)).filter(O=>E.some(M=>M.id===O));k[S.id]=C})),c(k)}catch(w){console.error("Error loading data:",w)}finally{h(!1)}},N=async w=>{m(w.id);try{const E=a.map(k=>k.id);await ae.setProductContents(w.id,E),c(k=>({...k,[w.id]:E})),x({isOpen:!0,title:"Sucesso",message:`Produto "${w.name}" agora d acesso a TODOS os contedos desta rea.`,variant:"success"})}catch(E){console.error("Error linking product:",E),x({isOpen:!0,title:"Erro",message:"Erro ao vincular produto.",variant:"error"})}finally{m(null)}},_=async w=>{m(w.id);try{const k=(await ae.getProductContents(w.id)).filter(S=>!a.some(T=>T.id===S));await ae.setProductContents(w.id,k),c(S=>({...S,[w.id]:[]})),x({isOpen:!0,title:"Sucesso",message:`Acesso removido. O produto "${w.name}" no d mais acesso a esta rea.`,variant:"success"})}catch(E){console.error("Error unlinking product:",E),x({isOpen:!0,title:"Erro",message:"Erro ao desvincular produto.",variant:"error"})}finally{m(null)}};return d?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando produtos..."}):n.jsxs("div",{className:"animate-in fade-in duration-500 space-y-6",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Produtos Vinculados"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Defina quais produtos do acesso aos contedos desta rea de membros."})]})}),t.length===0?n.jsxs(Te,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Zr,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum produto cadastrado"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Crie produtos na aba "Produtos" para vincul-los aqui.'})]}):n.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(w=>{var C;const E=((C=o[w.id])==null?void 0:C.length)||0,k=a.length,S=E===k&&k>0,T=E>0;return n.jsxs(Te,{className:"flex flex-col sm:flex-row items-center justify-between p-4 gap-4 hover:bg-white/5 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden flex-shrink-0",children:w.imageUrl?n.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"}):n.jsx(Zr,{className:"w-6 h-6 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:w.name}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${T?"bg-green-100 text-green-800 dark:bg-green-500/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-500/20 dark:text-gray-400"}`,children:T?"Vinculado":"No Vinculado"}),n.jsxs("span",{className:"text-gray-500",children:[" ",E," de ",k," contedos"]})]})]})]}),n.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:T?n.jsxs(n.Fragment,{children:[!S&&n.jsxs(_e,{variant:"secondary",size:"sm",onClick:()=>N(w),isLoading:f===w.id,className:"flex-1 sm:flex-none",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"}),"Vincular Todos"]}),n.jsxs(_e,{variant:"danger",size:"sm",onClick:()=>_(w),isLoading:f===w.id,className:"flex-1 sm:flex-none",children:[n.jsx(ea,{className:"w-4 h-4 mr-2"}),"Desvincular"]})]}):n.jsxs(_e,{size:"sm",onClick:()=>N(w),isLoading:f===w.id,className:"flex-1 sm:flex-none",children:[n.jsx(Kl,{className:"w-4 h-4 mr-2"}),"Vincular Tudo"]})})]},w.id)})}),n.jsx(zr,{isOpen:g.isOpen,onClose:()=>x({...g,isOpen:!1}),title:g.title,message:g.message,variant:g.variant})]})},bae=()=>{const e=mt(),{id:t}=ta(),r=!t||t==="new",[a,s]=v.useState("contents"),[o,c]=v.useState(!0),[d,h]=v.useState({id:"",owner_id:"",name:"",slug:"",primary_color:"#E50914",created_at:""});v.useEffect(()=>{!r&&t?f(t):(h({...d,id:crypto.randomUUID()}),c(!1),s("settings"))},[t]);const f=async g=>{c(!0);try{const x=await ae.getMemberAreaById(g);x?h(x):e("/admin/members")}catch(x){console.error("Error loading area:",x)}finally{c(!1)}},m=async g=>{try{if(r){const{created_at:x,...y}=g,N=await ae.createMemberArea(y);e(`/admin/members/${N.id}`,{replace:!0})}else await ae.updateMemberArea(g);h(g)}catch(x){console.error("Error saving area:",x),alert(`Erro ao salvar rea de membros: ${x.message}`)}};return o?n.jsx(ir,{children:n.jsx("div",{children:"Carregando..."})}):n.jsxs(ir,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e("/admin/members"),className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:n.jsx(Gu,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Nova rea de Membros":d.name}),n.jsx("p",{className:"text-gray-500 text-sm",children:r?"Configure seu novo portal":`Gerenciando portal /${d.slug}`})]})]}),!r&&n.jsxs("a",{href:`/app/${d.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),"Visualizar Portal"]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-8 border-b border-gray-200 dark:border-white/10 overflow-x-auto",children:[!r&&n.jsxs("button",{onClick:()=>s("contents"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="contents"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[n.jsx(Fm,{className:"w-4 h-4"})," Contedos"]}),!r&&n.jsxs("button",{onClick:()=>s("tracks"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="tracks"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[n.jsx(bn,{className:"w-4 h-4"})," Trilhas (Vitrine)"]}),!r&&n.jsxs("button",{onClick:()=>s("members"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="members"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[n.jsx(as,{className:"w-4 h-4"})," Membros"]}),n.jsxs("button",{onClick:()=>s("settings"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="settings"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[n.jsx(ww,{className:"w-4 h-4"})," Configuraes & Aparncia"]}),!r&&n.jsxs("button",{onClick:()=>s("products"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="products"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[n.jsx(Zr,{className:"w-4 h-4"})," Produtos Vinculados"]})]}),n.jsxs("div",{className:"animate-in fade-in duration-300",children:[a==="contents"&&!r&&n.jsx(Hre,{memberAreaId:d.id}),a==="tracks"&&!r&&n.jsx(Kre,{memberAreaId:d.id}),a==="members"&&!r&&n.jsx(vae,{memberAreaId:d.id}),a==="settings"&&n.jsxs("div",{className:"space-y-12",children:[n.jsx(Wre,{area:d,onSave:m,isNew:r}),!r&&n.jsxs("div",{className:"border-t border-white/10 pt-10",children:[n.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[n.jsx(sn,{className:"w-5 h-5 text-primary"}),"Domnio Personalizado"]}),n.jsx(Xre,{area:d,onSave:m,onDomainChange:g=>h({...d,domain_id:g||void 0})})]})]}),a==="products"&&n.jsx(yae,{memberAreaId:d.id})]})]})},wae=({isOpen:e,onClose:t,onSave:r,lesson:a,moduleId:s})=>{const[o,c]=v.useState(a),[d,h]=v.useState(!1),f=v.useRef(null);if(nr.useEffect(()=>{c(a)},[a]),!e)return null;const m=async _=>{if(_.target.files&&_.target.files[0]){const w=_.target.files[0];try{h(!0);const E=await ae.uploadLessonImage(w,o.id);c({...o,image_url:E})}catch(E){console.error("Error uploading image:",E),alert("Erro ao fazer upload da imagem.")}finally{h(!1)}}},g=async(_,w)=>{if(_.target.files&&_.target.files[0]){const E=_.target.files[0];try{h(!0);const k=await ae.uploadLessonImage(E,w),S=(o.gallery||[]).map(T=>T.id===w?{...T,image_url:k}:T);c({...o,gallery:S})}catch(k){console.error("Error uploading gallery image:",k),alert("Erro ao fazer upload da imagem.")}finally{h(!1)}}},x=()=>{const _={id:crypto.randomUUID(),title:"Novo Recurso",image_url:"",link_url:"",button_text:"Acessar"};c({...o,gallery:[...o.gallery||[],_]})},y=_=>{c({...o,gallery:(o.gallery||[]).filter(w=>w.id!==_)})},N=(_,w,E)=>{c({...o,gallery:(o.gallery||[]).map(k=>k.id===_?{...k,[w]:E}:k)})};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-2xl w-full max-w-4xl p-0 shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Aula"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(ea,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-8",children:[n.jsxs("section",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Informaes Gerais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ttulo da Aula"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:o.title,onChange:_=>c({...o,title:_.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"cone Principal (Lista)"}),n.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:o.content_type,onChange:_=>c({...o,content_type:_.target.value}),children:[n.jsx("option",{value:"video",children:"Vdeo"}),n.jsx("option",{value:"text",children:"Texto"}),n.jsx("option",{value:"file",children:"Arquivo"}),n.jsx("option",{value:"link",children:"Link"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Capa do Card (Horizontal)"}),n.jsx("div",{className:"relative w-full max-w-sm aspect-video rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:o.image_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:o.image_url,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs(_e,{variant:"secondary",size:"xs",onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},children:[n.jsx(Dr,{className:"w-3 h-3 mr-1"})," Trocar"]})})]}):n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},children:[n.jsx(Dr,{className:"w-6 h-6 text-gray-400 mb-1"}),n.jsx("span",{className:"text-[10px] text-gray-400",children:"Upload"})]})}),n.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:m})]}),n.jsx("div",{className:"flex items-center pt-2",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary bg-black/20",checked:o.is_free,onChange:_=>c({...o,is_free:_.target.checked})}),n.jsx("span",{className:"text-sm text-white",children:"Aula Gratuita (Preview)"})]})})]}),n.jsx("div",{className:"h-px bg-white/10"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Organizao do Contedo"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Use as setas para reordenar os blocos"})]}),(o.content_order||["video","text","file","gallery"]).map((_,w,E)=>{const k=()=>{if(w===0)return;const C=[...E];[C[w-1],C[w]]=[C[w],C[w-1]],c({...o,content_order:C})},S=()=>{if(w===E.length-1)return;const C=[...E];[C[w+1],C[w]]=[C[w],C[w+1]],c({...o,content_order:C})},T=()=>n.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[n.jsx("button",{onClick:k,disabled:w===0,className:"p-1 hover:bg-white/10 rounded disabled:opacity-30 text-gray-400",children:n.jsx(Ol,{className:"w-4 h-4"})}),n.jsx("button",{onClick:S,disabled:w===E.length-1,className:"p-1 hover:bg-white/10 rounded disabled:opacity-30 text-gray-400",children:n.jsx(lo,{className:"w-4 h-4"})})]});return _==="video"?n.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aD,{className:"w-5 h-5 text-blue-400"}),n.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Contedo de Vdeo"})]}),T()]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"URL do Vdeo (YouTube, Vimeo, Panda...)"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"https://...",value:o.video_url||"",onChange:C=>c({...o,video_url:C.target.value})})]})]},"video"):_==="text"?n.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(va,{className:"w-5 h-5 text-green-400"}),n.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Contedo de Texto"})]}),T()]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Texto / Artigo (Markdown)"}),n.jsx("textarea",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none font-mono text-sm",rows:8,placeholder:"# Ttulo da aula...",value:o.content_text||"",onChange:C=>c({...o,content_text:C.target.value})})]})]},"text"):_==="file"?n.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(XR,{className:"w-5 h-5 text-orange-400"}),n.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Arquivo / Link Externo"})]}),T()]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"URL do Arquivo ou Link"}),n.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"https://...",value:o.file_url||"",onChange:C=>c({...o,file_url:C.target.value})})]})]},"file"):_==="gallery"?n.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kl,{className:"w-5 h-5 text-purple-400"}),n.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Galeria de Recursos"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(_e,{size:"xs",variant:"secondary",onClick:x,children:[n.jsx(sr,{className:"w-3 h-3 mr-1"})," Adicionar"]}),T()]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:(o.gallery||[]).map((C,O)=>n.jsxs("div",{className:"p-4 bg-black/20 border border-white/10 rounded-xl space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Recurso #",O+1]}),n.jsx("button",{onClick:()=>y(C.id),className:"text-gray-500 hover:text-red-400",children:n.jsx($r,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx("div",{className:"relative w-full aspect-video rounded-lg bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:C.image_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:C.image_url,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 text-white text-xs px-2 py-1 rounded flex items-center",children:[n.jsx(Dr,{className:"w-3 h-3 mr-1"})," Trocar",n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:M=>g(M,C.id)})]})})]}):n.jsxs("label",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",children:[n.jsx(Dr,{className:"w-5 h-5 text-gray-400 mb-1"}),n.jsx("span",{className:"text-[10px] text-gray-400",children:"Img"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:M=>g(M,C.id)})]})})}),n.jsxs("div",{className:"md:col-span-3 space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo do Recurso",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:C.title,onChange:M=>N(C.id,"title",M.target.value)}),n.jsx("input",{type:"text",placeholder:"Link de Destino (URL)",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:C.link_url,onChange:M=>N(C.id,"link_url",M.target.value)}),n.jsx("input",{type:"text",placeholder:"Texto do Boto (ex: Baixar PDF)",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:C.button_text,onChange:M=>N(C.id,"button_text",M.target.value)})]})]})]},C.id))})]},"gallery"):null})]})]}),n.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-[#0A0A0A] rounded-b-2xl",children:[n.jsx(_e,{variant:"secondary",onClick:t,children:"Cancelar"}),n.jsx(_e,{onClick:()=>r(o),children:"Salvar Alteraes"})]})]})})},jae=()=>{console.log("ContentEditor rendering");const e=mt(),{id:t}=ta(),[r]=eA(),a=r.get("areaId"),s=!t||t==="new",[o,c]=v.useState(!0),[d,h]=v.useState(!1),[f,m]=v.useState({id:"",title:"",description:"",thumbnail_url:"",type:"course",member_area_id:a||"",created_at:"",updated_at:""}),[g,x]=v.useState([]),[y,N]=v.useState([]),[_,w]=v.useState(""),[E,k]=v.useState(!1);v.useRef(null);const S=v.useRef(null),T=v.useRef(null),C=v.useRef(null),[O,M]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),[L,z]=v.useState(null),[G,F]=v.useState(null),[se,J]=v.useState(!1),[xe,be]=v.useState(!1),[P,X]=v.useState("info"),[K,he]=v.useState({});v.useEffect(()=>{!s&&t?V(t):(m($=>({...$,id:crypto.randomUUID(),member_area_id:a||""})),c(!1),ae.getProducts().then(N))},[t,a]);const V=async $=>{var ce;c(!0);try{const le=(await ae.getContents()).find(Ae=>Ae.id===$);if(le){m(le),w(((ce=le.associated_product)==null?void 0:ce.id)||"");const Ae=await ae.getModules($);x(Ae);const we={};Ae.forEach(pe=>we[pe.id]=!0),he(we)}else e("/admin/members");const Ne=await ae.getProducts();N(Ne)}catch(ye){console.error("Error loading content:",ye),R("Erro","Erro ao carregar contedo.","error")}finally{c(!1)}},R=($,ce,ye="info")=>{M({isOpen:!0,title:$,message:ce,variant:ye})},H=async()=>{h(!0);try{if(s){if(!f.member_area_id){R("Erro","Erro interno: ID da rea de membros no encontrado.","error");return}await ae.createContent(f,_||void 0),e(`/admin/contents/${f.id}`,{replace:!0})}else await ae.updateContent(f,_||void 0);R("Sucesso","Contedo salvo com sucesso!","success")}catch($){console.error("Error saving content:",$),R("Erro",`Erro ao salvar contedo: ${$.message||$}`,"error")}finally{h(!1)}},ee=()=>{f.member_area_id?e(`/admin/members/${f.member_area_id}`):e("/admin/members")},de=async($,ce)=>{if($.target.files&&$.target.files[0]){const ye=$.target.files[0];try{k(!0);const le=await ae.uploadContentImage(ye,f.id,ce);ce==="vertical"||m({...f,image_horizontal_url:le,thumbnail_url:le})}catch(le){console.error("Error uploading image:",le),R("Erro","Erro ao fazer upload da imagem.","error")}finally{k(!1)}}},je=async($,ce,ye)=>{if($.target.files&&$.target.files[0]&&L){const le=$.target.files[0];try{k(!0);const Ne=await ae.uploadModuleImage(le,ce,ye);z({...L,[ye==="vertical"?"image_vertical_url":"image_horizontal_url"]:Ne})}catch(Ne){console.error("Error uploading module image:",Ne),R("Erro","Erro ao fazer upload da imagem.","error")}finally{k(!1)}}},I=async()=>{const $={id:crypto.randomUUID(),content_id:f.id,title:"Novo Mdulo",description:"",order_index:g.length,created_at:new Date().toISOString(),lessons:[]};x([...g,$]),he({...K,[$.id]:!0});try{await ae.createModule($),z($),J(!0)}catch(ce){console.error("Error creating module:",ce),R("Erro","Erro ao criar mdulo.","error"),V(f.id)}},me=async $=>{try{await ae.updateModule($),x(g.map(ce=>ce.id===$.id?$:ce)),J(!1)}catch(ce){console.error("Error updating module:",ce),R("Erro","Erro ao atualizar mdulo.","error")}},Ce=async $=>{if(confirm("Tem certeza que deseja excluir este mdulo e todas as suas aulas?"))try{await ae.deleteModule($),x(g.filter(ce=>ce.id!==$))}catch(ce){console.error("Error deleting module:",ce),R("Erro","Erro ao excluir mdulo.","error")}},ne=async $=>{var Ne;const ce=g.find(Ae=>Ae.id===$);if(!ce)return;const ye={id:crypto.randomUUID(),module_id:$,title:"Nova Aula",content_type:"video",order_index:((Ne=ce.lessons)==null?void 0:Ne.length)||0,is_free:!1,created_at:new Date().toISOString()},le=g.map(Ae=>Ae.id===$?{...Ae,lessons:[...Ae.lessons||[],ye]}:Ae);x(le);try{await ae.createLesson(ye),F({lesson:ye,moduleId:$}),be(!0)}catch(Ae){console.error("Error creating lesson:",Ae),R("Erro","Erro ao criar aula.","error"),V(f.id)}},Se=async $=>{try{await ae.updateLesson($);const ce=g.map(ye=>{var le;return ye.id===$.module_id?{...ye,lessons:(le=ye.lessons)==null?void 0:le.map(Ne=>Ne.id===$.id?$:Ne)}:ye});x(ce),be(!1)}catch(ce){console.error("Error updating lesson:",ce),R("Erro","Erro ao atualizar aula.","error")}},q=async($,ce)=>{if(confirm("Tem certeza que deseja excluir esta aula?"))try{await ae.deleteLesson($);const ye=g.map(le=>{var Ne;return le.id===ce?{...le,lessons:(Ne=le.lessons)==null?void 0:Ne.filter(Ae=>Ae.id!==$)}:le});x(ye)}catch(ye){console.error("Error deleting lesson:",ye),R("Erro","Erro ao excluir aula.","error")}},ie=$=>{he(ce=>({...ce,[$]:!ce[$]}))};return n.jsx(ir,{children:n.jsxs("div",{className:"animate-in slide-in-from-right duration-300 pb-20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:ee,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:n.jsx(Gu,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Novo Contedo":"Editar Contedo"}),n.jsx("p",{className:"text-gray-400 text-sm",children:f.title||"Sem ttulo"})]})]}),n.jsxs(_e,{onClick:H,isLoading:d,children:[n.jsx(li,{className:"w-4 h-4"})," Salvar Alteraes"]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-8 border-b border-gray-200 dark:border-white/10 overflow-x-auto",children:[n.jsxs("button",{onClick:()=>X("info"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${P==="info"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[n.jsx(va,{className:"w-4 h-4"})," Informaes Bsicas"]}),n.jsxs("button",{onClick:()=>X("structure"),disabled:s,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${P==="structure"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"} ${s?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx(bn,{className:"w-4 h-4"})," Estrutura (Mdulos & Aulas)"]})]}),n.jsxs("div",{className:"animate-in fade-in duration-300",children:[P==="info"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1 space-y-6",children:n.jsxs(Te,{children:[n.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Imagem de Capa"}),n.jsx("div",{className:"relative w-full aspect-video rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden mb-4 group",children:f.image_horizontal_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:f.image_horizontal_url,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs(_e,{variant:"secondary",size:"sm",onClick:()=>{var $;return($=S.current)==null?void 0:$.click()},children:[n.jsx(Dr,{className:"w-4 h-4 mr-2"})," Trocar"]})})]}):n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var $;return($=S.current)==null?void 0:$.click()},children:[n.jsx(Dr,{className:"w-8 h-8 text-gray-400 mb-2"}),n.jsx("span",{className:"text-xs text-gray-400",children:"Clique para upload (16:9)"})]})}),n.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:$=>de($,"horizontal")}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Ou cole uma URL externa:"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-500",placeholder:"https://...",value:f.image_horizontal_url||"",onChange:$=>m({...f,image_horizontal_url:$.target.value,thumbnail_url:$.target.value})})]})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Te,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Ttulo"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"Ttulo do contedo",value:f.title,onChange:$=>m({...f,title:$.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Descrio"}),n.jsx("textarea",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",rows:4,placeholder:"Descreva seu contedo...",value:f.description,onChange:$=>m({...f,description:$.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Tipo de Layout dos Cards"}),n.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50",value:f.modules_layout||"horizontal",onChange:$=>m({...f,modules_layout:$.target.value}),children:[n.jsx("option",{value:"horizontal",children:"Horizontal (Padro)"}),n.jsx("option",{value:"vertical",children:"Vertical (Poster)"})]})]})]})}),n.jsxs(Te,{children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5 text-primary"}),"Configuraes de Acesso"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white",children:"Contedo Gratuito"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Permitir acesso para contas gratuitas/visitantes."})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:f.is_free||!1,onChange:$=>{const ce=$.target.checked;m({...f,is_free:ce}),ce&&w("")}}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]})]}),!f.is_free&&n.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:[n.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center gap-2",children:[n.jsx(br,{className:"w-4 h-4 text-gray-400"}),"Produto Vinculado"]}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Selecione o produto que o aluno precisa comprar para acessar este contedo."}),n.jsxs("select",{value:_,onChange:$=>w($.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50",children:[n.jsx("option",{value:"",className:"bg-gray-900 text-gray-400",children:"Selecione um produto..."}),y.map($=>n.jsx("option",{value:$.id,className:"bg-gray-900 text-white",children:$.name},$.id))]}),y.length===0&&n.jsx("p",{className:"text-xs text-yellow-500 mt-2",children:"Nenhum produto encontrado. Crie um produto primeiro."})]})]})]})]})]}),P==="structure"&&n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Estrutura do Contedo"}),n.jsxs(_e,{size:"sm",variant:"secondary",onClick:I,disabled:s,children:[n.jsx(sr,{className:"w-4 h-4"})," Novo Mdulo"]})]}),s&&n.jsx("div",{className:"p-8 border border-dashed border-white/10 rounded-xl text-center bg-white/5",children:n.jsx("p",{className:"text-gray-400",children:"Salve o contedo primeiro para adicionar mdulos."})}),!s&&g.length===0&&n.jsxs("div",{className:"p-12 border border-dashed border-white/10 rounded-xl text-center bg-white/5 flex flex-col items-center justify-center min-h-[300px]",children:[n.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-6",children:n.jsx(sr,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Comece criando um mdulo"}),n.jsx("p",{className:"text-gray-400 text-sm mb-6 max-w-sm",children:"Organize seu contedo em mdulos e aulas para facilitar o aprendizado dos seus alunos."}),n.jsx(_e,{onClick:I,size:"lg",className:"font-medium",children:"Criar Primeiro Mdulo"})]}),n.jsx("div",{className:"space-y-4",children:g.map(($,ce)=>{var ye;return n.jsxs("div",{className:"border border-white/10 rounded-xl bg-[#0A0A0A] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border-b border-white/5 group",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>ie($.id),children:[n.jsx("div",{className:"p-1 rounded hover:bg-white/10 text-gray-400",children:K[$.id]?n.jsx(lo,{className:"w-4 h-4"}):n.jsx(Ia,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-bold text-white text-sm",children:[$.title,$.is_free&&n.jsx("span",{className:"ml-2 text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded",children:"Grtis"})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[((ye=$.lessons)==null?void 0:ye.length)||0," aulas"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{z($),J(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Editar mdulo",children:n.jsx(Rl,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ce($.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Excluir mdulo",children:n.jsx($r,{className:"w-4 h-4"})}),n.jsxs(_e,{size:"xs",onClick:()=>ne($.id),className:"bg-primary hover:bg-primary/90 text-white border-0 px-3",children:[n.jsx(sr,{className:"w-3 h-3 mr-1"})," Criar Aula"]})]})]}),K[$.id]&&n.jsx("div",{className:"bg-black/20",children:$.lessons&&$.lessons.length>0?n.jsx("div",{className:"divide-y divide-white/5",children:$.lessons.map(le=>n.jsxs("div",{className:"flex items-center justify-between p-3 pl-10 hover:bg-white/5 group transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[le.content_type==="video"&&n.jsx(aD,{className:"w-4 h-4 text-blue-400"}),le.content_type==="text"&&n.jsx(va,{className:"w-4 h-4 text-green-400"}),le.content_type==="file"&&n.jsx(XR,{className:"w-4 h-4 text-orange-400"}),le.content_type==="link"&&n.jsx(Kl,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{className:"text-sm text-gray-300",children:le.title}),le.is_free&&n.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded",children:"Grtis"})]}),n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>{F({lesson:le,moduleId:$.id}),be(!0)},className:"p-1.5 text-gray-400 hover:text-white hover:bg-white/10 rounded",children:n.jsx(Rl,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:()=>q(le.id,$.id),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded",children:n.jsx($r,{className:"w-3.5 h-3.5"})})]})]},le.id))}):n.jsx("div",{className:"p-6 text-center text-xs text-gray-500 italic",children:"Nenhuma aula neste mdulo."})})]},$.id)})})]})]}),se&&L&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-2xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Editar Mdulo"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ttulo do Mdulo"}),n.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:L.title,onChange:$=>z({...L,title:$.target.value}),autoFocus:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Capa Vertical (3:4)"}),n.jsx("div",{className:"relative w-full aspect-[3/4] rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:L.image_vertical_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:L.image_vertical_url,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs(_e,{variant:"secondary",size:"xs",onClick:()=>{var $;return($=T.current)==null?void 0:$.click()},children:[n.jsx(Dr,{className:"w-3 h-3 mr-1"})," Trocar"]})})]}):n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var $;return($=T.current)==null?void 0:$.click()},children:[n.jsx(Dr,{className:"w-6 h-6 text-gray-400 mb-1"}),n.jsx("span",{className:"text-[10px] text-gray-400",children:"Upload"})]})}),n.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:$=>je($,L.id,"vertical")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Capa Horizontal (16:9)"}),n.jsx("div",{className:"relative w-full aspect-video rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:L.image_horizontal_url?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:L.image_horizontal_url,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs(_e,{variant:"secondary",size:"xs",onClick:()=>{var $;return($=C.current)==null?void 0:$.click()},children:[n.jsx(Dr,{className:"w-3 h-3 mr-1"})," Trocar"]})})]}):n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var $;return($=C.current)==null?void 0:$.click()},children:[n.jsx(Dr,{className:"w-6 h-6 text-gray-400 mb-1"}),n.jsx("span",{className:"text-[10px] text-gray-400",children:"Upload"})]})}),n.jsx("input",{type:"file",ref:C,className:"hidden",accept:"image/*",onChange:$=>je($,L.id,"horizontal")})]})]}),n.jsxs("div",{className:"flex items-center pt-4",children:[n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary bg-black/20",checked:L.is_free||!1,onChange:$=>z({...L,is_free:$.target.checked})}),n.jsx("span",{className:"text-sm text-white",children:"Mdulo Gratuito (Acesso liberado)"})]}),n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary bg-black/20",checked:L.is_published!==!1,onChange:$=>z({...L,is_published:$.target.checked})}),n.jsx("span",{className:"text-sm text-white",children:"Publicado (Visvel na vitrine/rea de membros)"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx(_e,{variant:"secondary",onClick:()=>J(!1),children:"Cancelar"}),n.jsx(_e,{onClick:()=>me(L),children:"Salvar"})]})]})]})}),G&&n.jsx(wae,{isOpen:xe,onClose:()=>be(!1),onSave:Se,lesson:G.lesson,moduleId:G.moduleId}),n.jsx(zr,{isOpen:O.isOpen,onClose:()=>M({...O,isOpen:!1}),title:O.title,message:O.message,variant:O.variant})]})})},rp=({isOpen:e,onClose:t,product:r})=>{if(!e||!r)return null;const a=async()=>{const{paymentService:s}=await Dl(async()=>{const{paymentService:h}=await Promise.resolve().then(()=>iP);return{paymentService:h}},void 0),{storage:o}=await Dl(async()=>{const{storage:h}=await Promise.resolve().then(()=>v6);return{storage:h}},void 0),c=await o.getUser(),d=h=>{if(!c)return h;const f=h.includes("?")?"&":"?";return`${h}${f}u=${c.id}`};if(r.redirect_link)window.open(d(r.redirect_link),"_blank");else if(r.checkout_url)window.open(d(r.checkout_url),"_blank");else if(r.checkout_slug){const h=`/checkout/${r.checkout_slug}`;window.open(d(h),"_blank")}};return n.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity",onClick:t}),n.jsxs("div",{className:"relative w-[95%] md:w-full max-w-2xl bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),n.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-black/20 hover:bg-white/10 text-white transition-colors z-10",children:n.jsx(ea,{className:"w-5 h-5"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsxs("div",{className:"relative h-48 md:h-auto bg-black/40",children:[r.imageUrl?n.jsx("img",{src:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:n.jsx(Gt,{className:"w-16 h-16 opacity-20"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1A1D21] via-transparent to-transparent md:bg-gradient-to-r"})]}),n.jsxs("div",{className:"p-6 md:p-8 flex flex-col",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-red-500/10 text-red-500 text-xs font-bold mb-3 border border-red-500/20",children:"OFERTA ESPECIAL"}),n.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight line-clamp-1 md:line-clamp-none",children:r.name}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-1 md:line-clamp-4",children:r.description||"Aproveite esta oportunidade exclusiva para adquirir este produto e desbloquear todo o seu potencial."})]}),n.jsxs("div",{className:"mt-auto space-y-6",children:[n.jsxs("div",{children:[r.price_fake&&r.price_fake>0&&n.jsxs("div",{className:"text-gray-500 text-sm line-through mb-1",children:["de ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.price_fake)]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("span",{className:"text-sm text-gray-400",children:"por apenas"}),n.jsx("span",{className:"text-3xl font-bold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.price_real||0)})]})]}),n.jsxs("button",{onClick:a,className:"w-full py-4 bg-[#D4143C] hover:bg-[#b00e30] text-white font-bold rounded-xl shadow-lg shadow-red-900/20 transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[n.jsx(Gt,{className:"w-5 h-5"}),"COMPRAR AGORA"]}),n.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ft,{className:"w-3 h-3 text-green-500"})," Pagamento Seguro"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ft,{className:"w-3 h-3 text-green-500"})," Acesso Imediato"]})]})]})]})]})]})]})},Jl=(e=[])=>{const{user:t,profile:r}=fs(),a=mt(),{memberArea:s}=uo()||{},o=(d,h)=>{var y,N,_,w,E,k,S,T,C,O,M,L;if((r==null?void 0:r.status)==="suspended")return"SUSPENDED";let f=!1,m,g,x;if("product"in d&&d.product)d.product,m=d.product.id;else if("content"in d&&d.content)f=d.content.is_free||!1,g=d.content.id,x=(y=d.content.associated_product)==null?void 0:y.id;else if("module"in d&&d.module)f=d.module.is_free||!1,g=d.module.content_id,x=(N=d.module.associated_product)==null?void 0:N.id;else if("lesson"in d&&d.lesson){const z=d.lesson.module,G=z==null?void 0:z.content;f=d.lesson.is_free||(z==null?void 0:z.is_free)||(G==null?void 0:G.is_free)||!1,x=((_=d.lesson.associated_product)==null?void 0:_.id)||((w=z==null?void 0:z.associated_product)==null?void 0:w.id)||((E=G==null?void 0:G.associated_product)==null?void 0:E.id),h!=null&&h.content?(g=h.content.id,x||(x=(k=h.content.associated_product)==null?void 0:k.id)):z!=null&&z.content_id&&(g=z.content_id)}else if("is_free"in d){const z=d.is_free||!1,G=((S=h==null?void 0:h.content)==null?void 0:S.is_free)||!1,F=((T=h==null?void 0:h.module)==null?void 0:T.is_free)||!1;f=z||G||F,"content_id"in d&&(g=d.content_id),"id"in d&&!("content_id"in d)&&!("video_url"in d)&&(g=d.id),x=(C=d.associated_product)==null?void 0:C.id,("video_url"in d||"content_text"in d)&&(h!=null&&h.content?(g=h.content.id,x||(x=(O=h.content.associated_product)==null?void 0:O.id)):(M=d.module)!=null&&M.content_id&&(g=(L=d.module)==null?void 0:L.content_id))}else"price_real"in d&&(m=d.id);return f?t?"ACCESS":"LOGIN":m?e.some(G=>G.product_id===m&&G.status==="active")?"ACCESS":"SALES_MODAL":(g||x)&&(g&&e.some(G=>G.content_id===g&&G.status==="active")||x&&e.some(G=>G.product_id===x&&G.status==="active"))?"ACCESS":"SALES_MODAL"};return{checkAccess:o,handleAccess:(d,h,f)=>{var g,x,y,N;const m=o(d,f);if(m==="LOGIN"){const w=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&!window.location.pathname.startsWith("/app/")?"":s?`/app/${s.slug}`:"/app";a(`${w}/signup`)}else if(m==="SUSPENDED")h.onSuspended?h.onSuspended():alert("Sua conta est suspensa. Entre em contato com o suporte.");else if(m==="SALES_MODAL"){let _;"product"in d&&d.product?_=d.product:"price_real"in d?_=d:"content"in d&&((g=d.content)!=null&&g.associated_product)?_=d.content.associated_product:"module"in d&&((x=d.module)!=null&&x.associated_product)?_=d.module.associated_product:"lesson"in d&&((y=d.lesson)!=null&&y.associated_product)?_=d.lesson.associated_product:"associated_product"in d&&(_=d.associated_product),!_&&((N=f==null?void 0:f.content)!=null&&N.associated_product)&&(_=f.content.associated_product),h.onSalesModal(_)}else h.onAccess()}}},Nae=({track:e,onItemClick:t,accessGrants:r=[],primaryColor:a})=>{var k;const{handleAccess:s}=Jl(r),[o,c]=nr.useState(null),[d,h]=nr.useState(!1),f=v.useRef(null),[m,g]=nr.useState(!1),[x,y]=nr.useState(!1),[N,_]=nr.useState(!1),w=()=>{if(f.current){const{scrollLeft:S,scrollWidth:T,clientWidth:C}=f.current;g(S>0),y(S<T-C-1),_(T>C)}};nr.useEffect(()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[e.items]);const E=S=>{f.current&&f.current.scrollBy({left:S==="left"?-300:300,behavior:"smooth"})};return n.jsxs("div",{className:"mb-8",children:[n.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    height: 8px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 4px;
                    margin: 0 16px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: ${a||"#D4143C"};
                    border-radius: 4px;
                    transition: background 0.2s;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: ${a?`color-mix(in srgb, ${a} 80%, white)`:"#E91E63"};
                }
            `}),n.jsxs("div",{className:"flex items-center justify-between mb-4 px-4 md:px-0",children:[n.jsx("h3",{className:"text-xl font-semibold text-white",children:e.title}),N&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>E("left"),disabled:!m,className:`p-1 transition-opacity ${m?"opacity-100":"opacity-30 cursor-not-allowed"}`,style:{color:a||"#D4143C"},children:n.jsx(qm,{size:24,strokeWidth:2.5})}),n.jsx("button",{onClick:()=>E("right"),disabled:!x,className:`p-1 transition-opacity ${x?"opacity-100":"opacity-30 cursor-not-allowed"}`,style:{color:a||"#D4143C"},children:n.jsx(Ia,{size:24,strokeWidth:2.5})})]})]}),n.jsxs("div",{className:"relative",children:[x&&n.jsx("div",{className:"absolute right-0 top-0 bottom-4 w-40 md:w-64 pointer-events-none z-10",style:{background:"linear-gradient(to right, transparent, #0E1012 100%)"}}),n.jsx("div",{ref:f,onScroll:w,className:"flex overflow-x-auto gap-4 pb-4 px-4 md:px-0 snap-x custom-scrollbar",children:(k=e.items)==null?void 0:k.map(S=>n.jsx(_ae,{item:S,onClick:()=>{s(S,{onAccess:()=>t(S),onSalesModal:T=>{const C=T||S.product;C?(c(C),h(!0)):alert("Contedo exclusivo para assinantes.")}})},accessGrants:r,cardStyle:e.card_style||"vertical",primaryColor:a},S.id))})]}),n.jsx(rp,{isOpen:d,onClose:()=>h(!1),product:o})]})},_ae=({item:e,onClick:t,accessGrants:r,cardStyle:a,primaryColor:s})=>{const{checkAccess:o}=Jl(r);let c="",d="",h=Zr,f=!1,m=!1;const g=a==="vertical";e.product?(c=e.product.name,d=e.product.imageUrl||"",h=Zr,m=r.some(y=>y.product_id===e.product.id&&y.status==="active")):e.content?(c=e.content.title,f=e.content.is_free||!1,g?d=e.content.image_vertical_url||e.content.image_horizontal_url||e.content.thumbnail_url||"":d=e.content.image_horizontal_url||e.content.image_vertical_url||e.content.thumbnail_url||"",h=Fm):e.module?(c=e.module.title,f=e.module.is_free||!1,g?d=e.module.image_vertical_url||e.module.image_horizontal_url||"":d=e.module.image_horizontal_url||e.module.image_vertical_url||"",h=va):e.lesson&&(c=e.lesson.title,f=e.lesson.is_free||!1,d=e.lesson.image_url||(e.lesson.video_url?`https://img.youtube.com/vi/${Eae(e.lesson.video_url)}/mqdefault.jpg`:""),h=DJ);const x=nr.useMemo(()=>e?o(e)==="SALES_MODAL":!1,[e,r,o]);return n.jsxs("div",{onClick:t,className:`flex-none ${g?"w-52 md:w-60":"w-72 md:w-80"} snap-start cursor-pointer group/card relative transition-transform hover:scale-105 duration-300`,children:[n.jsxs("div",{className:`${g?"aspect-[2/3]":"aspect-video"} rounded-xl overflow-hidden bg-gray-800 relative ${x?"grayscale":""} shadow-lg ring-1 ring-white/5`,children:[d?n.jsx(n.Fragment,{children:e.product?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:d,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-50 blur-2xl scale-125"}),n.jsx("div",{className:"absolute inset-0 bg-black/20"})," ",n.jsx("img",{src:d,alt:c,className:"relative w-full h-full object-contain p-4 z-10 drop-shadow-xl"})]}):n.jsxs(n.Fragment,{children:[n.jsx("img",{src:d,alt:c,className:"w-full h-full object-cover transition-transform duration-500 group-hover/card:scale-110"}),!x&&n.jsx("div",{className:"absolute inset-0 z-30 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 flex items-center justify-center backdrop-blur-[1px]",style:{background:`linear-gradient(to top right, ${s||"#D4143C"}4D 0%, transparent 100%)`},children:n.jsx("div",{className:"bg-white/20 p-5 rounded-full backdrop-blur-md border border-white/30 transform scale-75 group-hover/card:scale-100 transition-transform duration-300 shadow-2xl flex items-center justify-center group/btn",children:n.jsx(oi,{size:32,className:"text-white fill-white ml-1 transition-transform duration-300 group-hover/btn:scale-110",strokeWidth:0})})})]})}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 bg-gray-900",children:n.jsx(h,{size:48,strokeWidth:1.5})}),x&&n.jsx("div",{className:"absolute top-3 right-3 bg-black/60 p-2 rounded-full text-white z-20 backdrop-blur-md",children:n.jsx(br,{size:16})}),f&&n.jsxs("div",{className:"absolute top-3 left-3 bg-green-500 text-black text-[10px] font-extrabold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg flex items-center gap-1 z-20",children:[n.jsx(Or,{size:10,strokeWidth:3}),"Gratuito"]}),m&&n.jsxs("div",{className:"absolute top-3 left-3 bg-white text-black text-[10px] font-extrabold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg flex items-center gap-1 z-20",children:[n.jsx(Zr,{size:10,strokeWidth:3}),"Seu"]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover/card:opacity-40 transition-opacity z-20"})]}),n.jsxs("div",{className:"mt-4 px-1",children:[n.jsx("h4",{className:"text-base font-semibold text-gray-100 group-hover/card:text-white truncate transition-colors",children:c}),e.content&&n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[e.content.modules_count||0," Mdulos"]})]})]})};function Eae(e){const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=e.match(t);return r&&r[2].length===11?r[2]:null}const eu=()=>{const e=mt(),{memberArea:t}=uo(),[r,a]=v.useState([]),[s,o]=v.useState(!0),[c,d]=v.useState(null),[h,f]=v.useState([]),{handleAccess:m}=Jl(h),[g,x]=v.useState(null),[y,N]=v.useState(!1);t&&`${t.slug}`,v.useEffect(()=>{_()},[t]);const _=async()=>{if(t){o(!0);try{const E=await ae.getTracks(t.id),S=(await Promise.all(E.map(C=>ae.getTrackWithItems(C.id)))).filter(C=>C!==null);a(S);const T=await ae.getAccessGrants();if(f(T),S.length>0&&S[0].items&&S[0].items.length>0){const C=S[0].items[0];C.content&&d(C.content)}}catch(E){console.error("Error loading dashboard data:",E)}finally{o(!1)}}},w=async E=>{if(console.log("Item clicked:",E),E.product){console.log("Product clicked:",E.product);try{const k=await ae.getProductContents(E.product.id);if(k&&k.length>0){const S=k[0],C=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&window.location.pathname.startsWith("/app/")===!1?"":t?`/app/${t.slug}`:"/app";e(`${C}/course/${S}`)}else alert("Este produto ainda no tem contedo disponvel.")}catch(k){console.error("Error loading product contents:",k),alert("Erro ao carregar contedo do produto.")}return}m(E,{onAccess:()=>{console.log("Access granted");const S=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&window.location.pathname.startsWith("/app/")===!1?"":t?`/app/${t.slug}`:"/app";if(console.log("Navigating to:",S),E.content)e(`${S}/content/${E.content.id}`);else if(E.module)e(`${S}/course/${E.module.content_id}`);else if(E.lesson){const T=Array.isArray(E.lesson.module)?E.lesson.module[0]:E.lesson.module,C=T==null?void 0:T.content_id;console.log("Lesson Navigation:",{lesson:E.lesson,module:T,contentId:C}),C?e(`${S}/course/${C}?lesson_id=${E.lesson.id}`):(console.error("Content ID not found for lesson",E.lesson),alert("Erro ao navegar: Contedo da aula no encontrado."))}},onSalesModal:k=>{console.log("Sales modal triggered",k),k?(x(k),N(!0)):alert("Contedo exclusivo para assinantes.")}})};return s&&r.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin",style:{borderColor:t!=null&&t.primary_color?`${t.primary_color} transparent transparent transparent`:void 0}})}):n.jsxs(n.Fragment,{children:[((t==null?void 0:t.banner_url)||(c==null?void 0:c.thumbnail_url))&&n.jsxs("div",{className:"relative h-[50vh] md:h-[70vh] w-full -mt-20 mb-12",children:[n.jsxs("div",{className:"absolute inset-0",children:[t!=null&&t.banner_url?n.jsx("img",{src:t.banner_url,className:"w-full h-full object-cover",alt:t.name}):c!=null&&c.thumbnail_url?n.jsx("img",{src:c.thumbnail_url,className:"w-full h-full object-cover",alt:c.title}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-900 to-[#0E1012]"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0E1012] via-[#0E1012]/50 to-transparent"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0E1012] via-transparent to-transparent"})]}),n.jsxs("div",{className:"absolute bottom-0 left-0 p-8 md:p-16 w-full md:w-2/3 lg:w-1/2 space-y-2 md:space-y-4",children:[!(t!=null&&t.banner_title)&&c&&n.jsx("span",{className:"text-red-600 font-bold tracking-widest text-sm uppercase bg-black/50 px-3 py-1 rounded backdrop-blur-sm border border-red-600/30 inline-block mb-2",style:{color:t==null?void 0:t.primary_color,borderColor:t!=null&&t.primary_color?`${t.primary_color}4D`:void 0},children:"Destaque"}),n.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white leading-tight drop-shadow-lg",children:(t==null?void 0:t.banner_title)||(c==null?void 0:c.title)}),n.jsx("p",{className:"text-lg text-gray-200 line-clamp-3 drop-shadow-md pb-2",children:(t==null?void 0:t.banner_description)||(c==null?void 0:c.description)}),n.jsx("div",{className:"flex items-center gap-4",children:t!=null&&t.banner_button_text&&(t!=null&&t.banner_button_link)?n.jsx("a",{href:t.banner_button_link,className:"flex items-center gap-2 bg-white text-black px-8 py-3 rounded font-bold hover:bg-gray-200 transition-colors",style:{backgroundColor:t.primary_color,color:"#fff"},children:t.banner_button_text}):c?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>w({content:c}),className:"flex items-center gap-2 bg-white text-black px-8 py-3 rounded font-bold hover:bg-gray-200 transition-colors",style:{backgroundColor:t==null?void 0:t.primary_color,color:"#fff"},children:[n.jsx(oi,{className:"w-5 h-5 fill-current"})," Assistir"]}),n.jsxs("button",{className:"flex items-center gap-2 bg-gray-500/70 text-white px-8 py-3 rounded font-bold hover:bg-gray-500/90 transition-colors backdrop-blur-sm",children:[n.jsx(QR,{className:"w-5 h-5"})," Mais Info"]})]}):null})]})]}),n.jsx("div",{className:"px-4 md:px-24 lg:px-32 space-y-12 relative z-10 -mt-10 pb-20",children:r.length===0?n.jsx("div",{className:"text-gray-500 py-10 text-center border border-white/10 rounded-xl bg-white/5",children:t?"Nenhuma trilha configurada.":"Selecione uma rea de membros."}):r.map(E=>n.jsx(Nae,{track:E,onItemClick:w,accessGrants:h,primaryColor:t==null?void 0:t.primary_color},E.id))}),n.jsx(rp,{isOpen:y,onClose:()=>N(!1),product:g})]})},tu=({icon:e,label:t,to:r,onClick:a,isActive:s,disabled:o,color:c})=>{const d=n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:a,disabled:o,className:`
                    w-12 h-12 rounded-xl flex items-center justify-center
                    transition-all duration-200
                    ${s?"bg-white/10 text-white shadow-lg":o?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-white/10"}
                `,style:s&&c?{backgroundColor:`${c}20`,color:c,borderColor:c,border:"1px solid"}:{color:c},children:n.jsx(e,{className:"w-5 h-5"})}),n.jsxs("div",{className:`absolute left-full ml-4 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg
                          opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap
                          shadow-xl border border-white/10 z-50`,children:[t,n.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-gray-800"})]})]});return r&&!o?n.jsx(Cr,{to:r,children:d}):d},Sae=({onToggleMenu:e,isMenuOpen:t,memberAreaSlug:r,primaryColor:a})=>{const s=ja(),o=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&!window.location.pathname.startsWith("/app/"),c=o?"":r?`/app/${r}`:"/app",d=h=>o?s.pathname===h:s.pathname.startsWith(`${c}${h}`);return n.jsxs("div",{className:`fixed left-0 top-0 z-[100] bg-[#0E1012] border-white/10 
            /* Mobile: Horizontal Top Bar */
            w-full h-16 flex flex-row items-center justify-between px-4 border-b
            /* Desktop: Vertical Left Sidebar */
            md:w-16 md:h-screen md:flex-col md:justify-start md:py-6 md:gap-3 md:border-r md:border-b-0
        `,children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(tu,{icon:t?qm:Fm,label:t?"Fechar Menu":"Abrir Menu",onClick:e,isActive:t,color:a})}),n.jsx("div",{className:"hidden md:block w-8 h-px bg-white/10 my-2"}),n.jsxs("div",{className:"flex flex-row md:flex-col gap-2 md:gap-3 overflow-x-auto md:overflow-visible no-scrollbar",children:[n.jsx(tu,{icon:JR,label:"Incio",to:`${c}/`,isActive:d("/")}),n.jsx(tu,{icon:Gt,label:"Vitrine",to:`${c}/products`,isActive:d("/products")}),n.jsx(tu,{icon:Zr,label:"Meus Produtos",to:`${c}/my-products`,isActive:d("/my-products")}),n.jsx("div",{className:"hidden md:block flex-1"}),n.jsx(tu,{icon:cn,label:"Perfil",to:`${c}/profile`,isActive:d("/profile")})]})]})},bC=({forcedSlug:e}={})=>{const{slug:t,id:r}=ta(),a=mt(),[s]=eA(),o=e||t,[c,d]=v.useState(!0),[h,f]=v.useState(null),[m,g]=v.useState([]),[x,y]=v.useState(null),[N,_]=v.useState([]),[w,E]=v.useState(null),[k,S]=v.useState({}),[T,C]=v.useState([]),{handleAccess:O}=Jl(T),[M,L]=v.useState(null),[z,G]=v.useState(!1),[F,se]=v.useState(!0),[J,xe]=v.useState(null),[be,P]=v.useState(""),[X,K]=v.useState(!0),[he,V]=v.useState(null);v.useEffect(()=>{r&&R(r)},[r,o]);const R=async $=>{var ce;d(!0),V(null);try{const ye=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&!window.location.pathname.startsWith("/app/");let le=x,Ne=x==null?void 0:x.id;if(o&&!le)le=await ae.getMemberAreaBySlug(o),le&&(y(le),Ne=le.id);else if(ye&&!o&&!le){const Ze=window.location.hostname;le=await ae.getMemberAreaByDomain(Ze),le&&(y(le),Ne=le.id)}if(!le&&ye)throw new Error("rea de membros no encontrada para este domnio.");let Ae=[];Ne?Ae=await ae.getContents(Ne):Ae=await ae.getContents();const we=Ae.find(Ze=>Ze.id===$);if(!we)throw console.error(`Content not found: ${$}`),new Error("Contedo no encontrado.");!Ne&&we.member_area_id&&(Ne=we.member_area_id,Ae=Ae.filter(Ze=>Ze.member_area_id===Ne)),g(Ae),f(we);const pe=await ae.getModules($);_(pe);const De=await ae.getAccessGrants();C(De);let Fe=null;const ke=s.get("lesson_id"),He=s.get("module_id");if(ke)for(const Ze of pe){const pt=(ce=Ze.lessons)==null?void 0:ce.find(Vt=>Vt.id===ke);if(pt){Fe=pt;break}}else if(He){const Ze=pe.find(pt=>pt.id===He);Ze&&Ze.lessons&&Ze.lessons.length>0&&(Fe=Ze.lessons[0])}!Fe&&pe.length>0&&pe[0].lessons&&pe[0].lessons.length>0&&(Fe=pe[0].lessons[0]),Fe?(E(Fe),xe(Fe.module_id),H(Fe.id)):pe.length>0&&xe(pe[0].id)}catch(ye){console.error("Error loading course:",ye),V(ye instanceof Error?ye.message:"Erro ao carregar curso.")}finally{d(!1)}},H=async $=>{const ce=await ae.getLessonProgress($);ce!=null&&ce.completed&&S(ye=>({...ye,[$]:!0}))};v.useEffect(()=>{if(!c&&w){const $=N.find(ce=>{var ye;return(ye=ce.lessons)==null?void 0:ye.some(le=>le.id===w.id)});O(w,{onAccess:()=>{},onSalesModal:ce=>{L(ce),G(!0)}},{content:h||void 0,module:$})}},[w,c,T,h,N]);const ee=$=>{const ce=N.find(ye=>{var le;return(le=ye.lessons)==null?void 0:le.some(Ne=>Ne.id===$.id)});O($,{onAccess:()=>{E($),H($.id),window.innerWidth<768&&se(!1)},onSalesModal:ye=>{L(ye),G(!0)}},{content:h||void 0,module:ce})},de=$=>{if($.id===(h==null?void 0:h.id)){K(!X);return}O($,{onAccess:()=>{K(!0),d(!0);const ce=t?`/app/${t}/course/${$.id}`:`/course/${$.id}`;a(ce)},onSalesModal:ce=>{const ye=ce||$.associated_product;ye?(L(ye),G(!0)):console.warn("No product associated with this content to sell")}})},je=$=>{xe(ce=>ce===$?null:$)},I=async()=>{if(!w)return;const $=!k[w.id];S(ce=>({...ce,[w.id]:$})),await ae.updateLessonProgress({lesson_id:w.id,completed:$})},me=()=>{if(!w)return;const $=N.flatMap(ye=>ye.lessons||[]),ce=$.findIndex(ye=>ye.id===w.id);ce>0&&ee($[ce-1])},Ce=()=>{if(!w)return;const $=N.flatMap(ye=>ye.lessons||[]),ce=$.findIndex(ye=>ye.id===w.id);ce<$.length-1&&ee($[ce+1])},ne=()=>{var we;if(!w)return n.jsx("div",{className:"text-white",children:"Selecione uma aula"});const $=N.flatMap(pe=>pe.lessons||[]),ce=$.findIndex(pe=>pe.id===w.id),ye=ce>0,le=ce<$.length-1,Ne=pe=>{switch(pe){case"video":return w.video_url?n.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden shadow-2xl border border-white/10 w-full",children:n.jsx("iframe",{src:w.video_url.replace("watch?v=","embed/"),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},"video"):null;case"text":return w.content_text?n.jsx("div",{className:"bg-white/5 rounded-xl p-8 border border-white/5",children:n.jsx("div",{className:"prose prose-invert max-w-none whitespace-pre-wrap",children:w.content_text})},"text"):null;case"file":return w.file_url?n.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/5 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:n.jsx(va,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-white text-sm",children:"Material Complementar"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Clique para acessar o arquivo ou link externo"})]})]}),n.jsxs("a",{href:w.file_url,target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[n.jsx(Su,{className:"w-4 h-4"})," Acessar Recurso"]})]},"file"):null;case"gallery":return w.gallery&&w.gallery.length>0?n.jsxs("div",{className:"pt-8 border-t border-white/5",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Galeria de Recursos"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3",children:w.gallery.map(De=>n.jsxs("div",{className:"bg-[#1a1e26] rounded-xl overflow-hidden border border-white/5 hover:border-white/10 transition-all group",children:[n.jsx("div",{className:"aspect-video w-full bg-black/20 relative overflow-hidden",children:De.image_url?n.jsx("img",{src:De.image_url,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5",children:n.jsx(va,{className:"w-10 h-10 text-gray-600"})})}),n.jsxs("div",{className:"p-3",children:[n.jsx("h4",{className:"font-bold text-white mb-2 text-sm line-clamp-2 leading-snug",children:De.title}),n.jsx("a",{href:De.link_url,target:"_blank",rel:"noreferrer",className:"block w-full text-center py-2 rounded-lg font-bold text-xs transition-colors bg-white/5 hover:bg-white/10 border border-white/10 text-gray-300 hover:text-white",children:"Acessar"})]})]},De.id))})]},"gallery"):null;default:return null}},Ae=w.content_order||["video","text","file","gallery"];return n.jsxs("div",{className:"LESSON-CONTAINER w-full max-w-[1100px] mx-auto px-6 space-y-8 pb-20",children:[n.jsx("div",{className:"space-y-8",children:Ae.map(pe=>Ne(pe))}),n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 pt-8 border-t border-white/10 pb-8",children:[n.jsxs("div",{className:"w-full md:w-auto",children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:w.title}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Mdulo: ",(we=N.find(pe=>pe.id===w.module_id))==null?void 0:we.title]})]}),n.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-between md:justify-end",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:me,disabled:!ye,className:`p-3 rounded-full border transition-colors ${ye?"border-white/10 text-white hover:bg-white/10 hover:border-white/20":"border-white/5 text-gray-600 cursor-not-allowed"}`,children:n.jsx(qm,{className:"w-5 h-5"})}),n.jsx("button",{onClick:Ce,disabled:!le,className:`p-3 rounded-full border transition-colors ${le?"border-white/10 text-white hover:bg-white/10 hover:border-white/20":"border-white/5 text-gray-600 cursor-not-allowed"}`,children:n.jsx(Ia,{className:"w-5 h-5"})})]}),n.jsx("button",{onClick:I,className:`flex items-center gap-2 px-6 py-3 rounded-full font-bold transition-all ${k[w.id]?"bg-green-500 text-white hover:bg-green-600":"bg-white/10 text-white hover:bg-white/20"}`,style:k[w.id]&&(x!=null&&x.primary_color)?{backgroundColor:x.primary_color}:{},children:k[w.id]?n.jsxs(n.Fragment,{children:[n.jsx(Or,{className:"w-5 h-5"})," Concluda"]}):n.jsxs(n.Fragment,{children:[n.jsx(UJ,{className:"w-5 h-5"})," Marcar como Concluda"]})})]})]})]})},Se=(x==null?void 0:x.primary_color)||"#dc2626",q=nr.useMemo(()=>{if(!be)return N;const $=be.toLowerCase();return N.map(ce=>{var Ne;const ye=ce.title.toLowerCase().includes($),le=(Ne=ce.lessons)==null?void 0:Ne.filter(Ae=>Ae.title.toLowerCase().includes($));return ye?ce:le&&le.length>0?{...ce,lessons:le}:null}).filter(Boolean)},[N,be]),ie=nr.useMemo(()=>{let $=m;if(x!=null&&x.id?$=m.filter(ye=>ye.member_area_id===x.id):m.length>0&&(h!=null&&h.member_area_id)&&($=m.filter(ye=>ye.member_area_id===h.member_area_id)),!be)return $;const ce=be.toLowerCase();return $.filter(ye=>ye.title.toLowerCase().includes(ce)||ye.id===(h==null?void 0:h.id))},[m,be,h,x]);return v.useEffect(()=>{be&&q.length>0&&q.length>0&&xe(q[0].id)},[be,q]),n.jsxs("div",{className:"flex h-screen bg-[#0D1118] text-white overflow-hidden",children:[n.jsx(Sae,{onToggleMenu:()=>se(!F),isMenuOpen:F,memberAreaSlug:t,primaryColor:Se}),n.jsx("aside",{className:`
              fixed md:static inset-x-0 bottom-0 z-40 md:z-50 bg-gradient-to-b from-[#0f131a] to-[#0b0f16] border-r border-white/5 flex flex-col transition-all duration-300 md:ml-16
              /* Mobile: Top-16 (header), Bottom-0 */
              top-16 w-full md:w-auto
              /* Desktop: Top-0, Bottom-0 */
              md:inset-y-0 md:top-0
              ${F?"translate-x-0":"-translate-x-full md:translate-x-0"}
              ${F?"md:w-80":"md:w-0"}
            `,children:F&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 flex items-center justify-between gap-2 sticky top-0 bg-[#0f131a]/95 backdrop-blur-sm z-20 border-b border-white/5",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 w-4 h-4"}),n.jsx("input",{id:"search-input",type:"text",placeholder:"Buscar contedo",value:be,onChange:$=>P($.target.value),className:"w-full bg-[#1a1e26] border-none rounded-lg py-2 pl-9 pr-4 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-white/20 transition-all"})]}),n.jsx("button",{onClick:()=>se(!1),className:"p-2 text-white hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",style:{color:Se},children:n.jsx(EQ,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:ie.map($=>{var Ne,Ae,we;const ce=$.id===(h==null?void 0:h.id),ye=$.image_url||((Ne=$.associated_product)==null?void 0:Ne.imageUrl)||((Ae=$.associated_product)==null?void 0:Ae.image_url),le=((we=$.associated_product)==null?void 0:we.name)||$.title;return n.jsxs("div",{className:"border-b border-white/5 last:mb-0",children:[n.jsxs("div",{className:`p-4 cursor-pointer hover:bg-white/5 flex items-center justify-between ${ce?"bg-[#1a1e26]/50":""}`,onClick:()=>de($),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[ye?n.jsx("img",{src:ye,className:"w-10 h-10 rounded-lg object-cover"}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:n.jsx(va,{size:16})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`text-sm font-bold truncate leading-tight ${ce?"text-white":"text-gray-400"}`,style:ce?{color:Se}:{},children:le}),!ce&&n.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Clique para acessar"})]})]}),ce?X?n.jsx(Ol,{size:16,style:{color:Se}}):n.jsx(lo,{size:16,style:{color:Se}}):n.jsx(Ia,{size:16,className:"text-gray-600"})]}),ce&&X&&n.jsx("div",{className:"relative ml-4 pl-4 pt-4 pb-2 space-y-4 border-l border-white/10",children:q.map((pe,De)=>{var Fe;return n.jsxs("div",{className:"relative pr-2",children:[n.jsx("div",{className:"absolute top-[2.5rem] -left-4 w-4 h-[1px] bg-white/10"}),n.jsxs("div",{onClick:()=>je(pe.id),className:"relative overflow-hidden group cursor-pointer transition-all pr-4 py-6 md:py-8 rounded-lg border border-white/5 shadow-lg hover:shadow-xl hover:border-white/10 transform hover:translate-x-1 duration-300",style:{backgroundImage:pe.image_url?`url(${pe.image_url})`:void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#1a1e26"},children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-black/95 via-black/80 to-transparent transition-opacity ${J===pe.id?"opacity-95":"opacity-90 group-hover:opacity-95"}`}),n.jsxs("div",{className:"relative z-10 flex items-center justify-between px-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[n.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider mb-1 inline-block px-1.5 py-0.5 rounded bg-black/40 backdrop-blur-sm border border-white/10",style:{color:Se,borderColor:`${Se}40`},children:["Mdulo ",N.findIndex(ke=>ke.id===pe.id)+1]}),n.jsx("h3",{className:"text-base md:text-lg font-bold text-white leading-tight drop-shadow-md",children:pe.title})]}),n.jsx("div",{className:"bg-black/40 backdrop-blur-sm p-1.5 rounded-full border border-white/10 flex-shrink-0 transition-transform duration-300",children:J===pe.id?n.jsx(Ol,{size:16,style:{color:Se}}):n.jsx(lo,{size:16,className:"text-gray-300"})})]})]}),J===pe.id&&n.jsxs("div",{className:"bg-transparent pl-4 mt-2 space-y-1 ml-2 border-l border-white/5",children:[(Fe=pe.lessons)==null?void 0:Fe.map((ke,He)=>{var Ct;const Ze=(w==null?void 0:w.id)===ke.id,pt=k[ke.id];let Vt=ke.image_url;if(!Vt&&ke.video_url){const Tn=(Ct=ke.video_url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/))==null?void 0:Ct[1];Tn&&(Vt=`https://img.youtube.com/vi/${Tn}/mqdefault.jpg`)}return n.jsxs("button",{onClick:()=>ee(ke),className:`group w-full text-left p-2 flex items-center gap-3 rounded-xl transition-all border ${Ze?"shadow-lg relative z-10":"bg-transparent hover:bg-[#1a1e26] border-transparent"}`,style:Ze?{backgroundColor:`${Se}15`,borderColor:Se}:{},children:[n.jsxs("div",{className:"relative w-16 aspect-video flex-shrink-0 bg-gray-800 rounded-lg overflow-hidden shadow-sm",children:[Vt?n.jsx("img",{src:Vt,className:`w-full h-full object-cover transition-opacity ${Ze?"opacity-40":"opacity-80 group-hover:opacity-100"}`,alt:""}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:n.jsx(va,{size:14})}),Ze&&n.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-[1px]",children:n.jsx(oi,{size:10,className:"text-white fill-white"})})]}),n.jsx("div",{className:"flex-1 min-w-0 py-0.5",children:n.jsx("p",{className:`text-xs font-medium line-clamp-2 leading-snug ${Ze?"text-white":"text-gray-400 group-hover:text-white"}`,children:ke.title})}),n.jsx("div",{className:"flex-shrink-0 pr-1",children:pt?n.jsx("div",{className:"bg-green-500/20 rounded-full p-0.5",children:n.jsx(Or,{className:"w-3 h-3 text-green-500 fill-green-500/20"})}):n.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${Ze?"border-white/20":"border-gray-700/50"}`})})]},ke.id)}),(!pe.lessons||pe.lessons.length===0)&&n.jsx("div",{className:"p-4 text-xs text-gray-500 text-center",children:"Nenhuma aula neste mdulo."})]})]},pe.id)})})]},$.id)})})]})}),n.jsx("main",{className:"flex-1 flex flex-col h-full relative",children:n.jsx("div",{className:"LESSON-WRAP flex-1 overflow-y-auto bg-[#0D1118] p-4 md:p-8 pt-20 md:pt-16 flex justify-center",children:c?n.jsx("div",{className:"flex items-center justify-center h-64 w-full",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-t-transparent rounded-full",style:{borderColor:`${Se} transparent transparent transparent`}})}):he?n.jsx("div",{className:"flex items-center justify-center h-64 w-full text-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-red-500 font-bold mb-2",children:"Erro"}),n.jsx("p",{className:"text-gray-400",children:he}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 text-sm font-medium",children:"Tentar Novamente"})]})}):ne()})}),n.jsx(rp,{isOpen:z,onClose:()=>G(!1),product:M})]})},wC=()=>{const e=mt(),{slug:t,id:r}=ta(),{memberArea:a}=uo(),[s,o]=v.useState(null),[c,d]=v.useState([]),[h,f]=v.useState(!0),[m,g]=v.useState([]),{handleAccess:x}=Jl(m),[y,N]=v.useState(null),[_,w]=v.useState(!1);v.useEffect(()=>{E()},[t,r]);const E=async()=>{f(!0);try{if(r){const{data:T}=await Y.from("contents").select("*").eq("id",r).single();o(T);const C=await ae.getModules(r);d(C);const O=await ae.getAccessGrants();g(O)}}catch(T){console.error("Error loading content modules:",T)}finally{f(!1)}},k=a?`/app/${a.slug}`:"/app",S=(s==null?void 0:s.modules_layout)==="vertical";return h?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})}):s?n.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8",children:[n.jsxs("button",{onClick:()=>e(k),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-6 transition-colors",children:[n.jsx(Gu,{className:"w-4 h-4"})," Voltar"]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-12",children:[n.jsx("div",{className:"w-full md:w-1/3 lg:w-1/4",children:n.jsx("div",{className:`aspect-[2/3] rounded-xl overflow-hidden shadow-2xl ${S?"":"aspect-video"}`,children:n.jsx("img",{src:S?s.image_vertical_url:s.image_horizontal_url,alt:s.title,className:"w-full h-full object-cover"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:s.title}),n.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-6",children:s.description}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(va,{className:"w-4 h-4"}),c.length," Mdulos"]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Mdulos"}),n.jsx("div",{className:"grid gap-4",children:c.map((T,C)=>n.jsxs("div",{onClick:()=>{x(T,{onAccess:()=>e(`${k}/course/${s.id}?module_id=${T.id}`),onSalesModal:O=>{N(O),w(!0)}})},className:"bg-[#1A1D21] p-4 rounded-xl border border-white/5 hover:border-white/20 transition-all cursor-pointer group flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-lg flex items-center justify-center text-gray-400 group-hover:text-white group-hover:bg-red-600 transition-colors",children:n.jsx("span",{className:"font-bold text-lg",children:C+1})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-red-500 transition-colors",children:T.title}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:T.description})]}),n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(oi,{className:"w-4 h-4 text-white fill-white"})})]},T.id))})]})]}):null},kae=e=>{if(!e)return!1;const t=e.trim();return t.length<6||t.split(" ").length<2?!1:/^[a-zA-Z\u00C0-\u00FF\s]+$/.test(t)},Cae=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Aae=e=>{const t=e.replace(/\D/g,"");if(t.length<10||t.length>11)return!1;const r=parseInt(t.substring(0,2));return!(r<11||r>99)},Tae=e=>{const t=e.replace(/\D/g,"");if(t.length!==11||/^(\d)\1+$/.test(t))return!1;let r=0,a;for(let s=1;s<=9;s++)r=r+parseInt(t.substring(s-1,s))*(11-s);if(a=r*10%11,(a===10||a===11)&&(a=0),a!==parseInt(t.substring(9,10)))return!1;r=0;for(let s=1;s<=10;s++)r=r+parseInt(t.substring(s-1,s))*(12-s);return a=r*10%11,(a===10||a===11)&&(a=0),a===parseInt(t.substring(10,11))},Oae=e=>e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),jC=[{code:"BR",name:"Brasil",ddi:"+55",mask:"(99) 9 9999-9999"},{code:"US",name:"Estados Unidos",ddi:"+1",mask:"(999) 999-9999"},{code:"PT",name:"Portugal",ddi:"+351",mask:"999 999 999"},{code:"AR",name:"Argentina",ddi:"+54",mask:"(999) 999-9999"},{code:"UY",name:"Uruguai",ddi:"+598",mask:"99 999 999"},{code:"PY",name:"Paraguai",ddi:"+595",mask:"(999) 999-999"},{code:"CL",name:"Chile",ddi:"+56",mask:"9 9999 9999"},{code:"BO",name:"Bolvia",ddi:"+591",mask:"9999 9999"},{code:"PE",name:"Peru",ddi:"+51",mask:"999 999 999"},{code:"CO",name:"Colmbia",ddi:"+57",mask:"399 999 9999"},{code:"EC",name:"Equador",ddi:"+593",mask:"99 999 9999"},{code:"VE",name:"Venezuela",ddi:"+58",mask:"(999) 999-9999"},{code:"MX",name:"Mxico",ddi:"+52",mask:"(999) 999-9999"},{code:"ES",name:"Espanha",ddi:"+34",mask:"999 99 99 99"},{code:"FR",name:"Frana",ddi:"+33",mask:"9 99 99 99 99"},{code:"DE",name:"Alemanha",ddi:"+49",mask:"9999 999999"},{code:"IT",name:"Itlia",ddi:"+39",mask:"399 999 9999"},{code:"GB",name:"Reino Unido",ddi:"+44",mask:"7999 999999"},{code:"CA",name:"Canad",ddi:"+1",mask:"(999) 999-9999"},{code:"AU",name:"Austrlia",ddi:"+61",mask:"499 999 999"},{code:"JP",name:"Japo",ddi:"+81",mask:"90-9999-9999"},{code:"CN",name:"China",ddi:"+86",mask:"199 9999 9999"},{code:"IN",name:"ndia",ddi:"+91",mask:"99999 99999"},{code:"RU",name:"Rssia",ddi:"+7",mask:"(999) 999-99-99"},{code:"ZA",name:"frica do Sul",ddi:"+27",mask:"99 999 9999"},{code:"AO",name:"Angola",ddi:"+244",mask:"999 999 999"},{code:"MZ",name:"Moambique",ddi:"+258",mask:"89 999 9999"},{code:"CV",name:"Cabo Verde",ddi:"+238",mask:"999 99 99"}],Rae=({value:e,onChange:t,error:r,isValid:a,className:s,...o})=>{const[c,d]=v.useState(jC[0]),[h,f]=v.useState(!1),[m,g]=v.useState(""),x=v.useRef(null);v.useEffect(()=>{const E=k=>{x.current&&!x.current.contains(k.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const y=E=>{d(E),f(!1),g("")},N=(E,k)=>{if(!k)return E;const S=E.replace(/\D/g,"");let T="",C=0;for(let O=0;O<k.length&&!(C>=S.length);O++)k[O]==="9"?(T+=S[C],C++):T+=k[O];return T},_=E=>{let k=E.target.value;if(c.mask){const T=k.replace(/\D/g,"");k=N(T,c.mask)}const S={...E,target:{...E.target,name:o.name||"phone",value:k}};t(S)},w=jC.filter(E=>E.name.toLowerCase().includes(m.toLowerCase())||E.ddi.includes(m)||E.code.toLowerCase().includes(m.toLowerCase()));return n.jsxs("div",{className:"relative",ref:x,children:[n.jsx("div",{className:"absolute left-[1px] top-[1px] bottom-[1px] flex items-center z-20",children:n.jsxs("button",{type:"button",onClick:()=>f(!h),className:"h-full flex items-center gap-1.5 bg-gray-50 hover:bg-gray-100 border-r border-gray-200 rounded-l-lg px-2 transition-colors focus:outline-none",children:[n.jsx("img",{src:`https://flagcdn.com/w40/${c.code.toLowerCase()}.png`,alt:c.name,className:"w-5 h-3.5 object-cover rounded-sm shadow-sm opacity-90"}),n.jsx("span",{className:"text-xs font-semibold text-gray-600",children:c.ddi}),n.jsx(lo,{className:`w-3 h-3 text-gray-400 transition-transform ${h?"rotate-180":""}`})]})}),h&&n.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[280px] bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[n.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50",children:n.jsxs("div",{className:"relative",children:[n.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar pas...",className:"w-full pl-8 pr-3 py-1.5 text-xs bg-white border border-gray-200 rounded-md focus:outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/10",value:m,onChange:E=>g(E.target.value),autoFocus:!0})]})}),n.jsx("div",{className:"max-h-[200px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent",children:w.length>0?w.map(E=>n.jsxs("button",{type:"button",onClick:()=>y(E),className:`w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 transition-colors text-left ${c.code===E.code?"bg-green-50/50":""}`,children:[n.jsx("img",{src:`https://flagcdn.com/w40/${E.code.toLowerCase()}.png`,alt:E.name,className:"w-5 h-3.5 object-cover rounded-sm shadow-sm flex-shrink-0"}),n.jsx("span",{className:"flex-1 text-xs text-gray-700 font-medium truncate",children:E.name}),n.jsx("span",{className:"text-xs text-gray-400 font-mono",children:E.ddi}),c.code===E.code&&n.jsx(ft,{className:"w-3.5 h-3.5 text-[#10B981]"})]},E.code)):n.jsx("div",{className:"p-3 text-center text-xs text-gray-500",children:"Nenhum pas encontrado"})})]}),n.jsx("input",{type:"tel",value:e,onChange:_,placeholder:c.mask||"(00) 00000-0000",className:`w-full pl-[95px] pr-10 py-3 rounded-lg border bg-white focus:ring-2 focus:ring-opacity-50 transition-all outline-none ${r?"border-red-400 focus:border-red-500 focus:ring-red-200":a?"border-green-400 focus:border-green-500 focus:ring-green-200":"border-gray-200 focus:border-[#10B981] focus:ring-[#10B981]/20"} ${s||""}`,...o})]})},tP=v.createContext(void 0),rP=({config:e,children:t})=>{const[r,a]=v.useState(!1),s=v.useRef(!1),o=e==null?void 0:e.pixels,c=o==null?void 0:o.active,d=()=>window;v.useEffect(()=>{!c||s.current||(o!=null&&o.gtm_id?(console.log(" [Tracking] Initializing GTM:",o.gtm_id),Dae(o.gtm_id)):(o!=null&&o.facebook_pixel_id&&(console.log(" [Tracking] Initializing Facebook Pixel:",o.facebook_pixel_id),Pae(o.facebook_pixel_id)),o!=null&&o.tiktok_pixel_id&&(console.log(" [Tracking] Initializing TikTok Pixel:",o.tiktok_pixel_id),Mae(o.tiktok_pixel_id)),o!=null&&o.google_analytics_id&&(console.log(" [Tracking] Initializing GA4:",o.google_analytics_id),Iae(o.google_analytics_id)),o!=null&&o.google_ads_id&&(console.log(" [Tracking] Initializing Google Ads:",o.google_ads_id),Lae(o.google_ads_id))),s.current=!0,a(!0))},[e]);const h=()=>{var g,x,y,N,_,w;if(c){if(console.log(" [Tracking] PageView"),o!=null&&o.gtm_id){(g=d().dataLayer)==null||g.push({event:"page_view"});return}o!=null&&o.facebook_pixel_id&&((y=(x=d()).fbq)==null||y.call(x,"track","PageView")),o!=null&&o.tiktok_pixel_id&&((N=d().ttq)==null||N.page()),o!=null&&o.google_analytics_id&&((w=(_=d()).gtag)==null||w.call(_,"event","page_view"))}},f=()=>{var g,x,y,N,_,w;if(c){if(console.log(" [Tracking] InitiateCheckout"),o!=null&&o.gtm_id){(g=d().dataLayer)==null||g.push({event:"begin_checkout"});return}o!=null&&o.facebook_pixel_id&&((y=(x=d()).fbq)==null||y.call(x,"track","InitiateCheckout")),o!=null&&o.tiktok_pixel_id&&((N=d().ttq)==null||N.track("InitiateCheckout")),o!=null&&o.google_analytics_id&&((w=(_=d()).gtag)==null||w.call(_,"event","begin_checkout"))}},m=g=>{var N,_,w,E,k,S,T,C;if(!c)return;const x=g.currency||"BRL",y=`tracked_order_${g.id}`;if(localStorage.getItem(y)){console.warn(" [Tracking] Purchase event blocked (Duplicate):",g.id);return}if(console.log(" [Tracking] Purchase:",g),localStorage.setItem(y,"true"),o!=null&&o.gtm_id){(N=d().dataLayer)==null||N.push({event:"purchase",ecommerce:{transaction_id:g.id,value:g.amount,currency:x,coupon:g.coupon}});return}o!=null&&o.facebook_pixel_id&&((w=(_=d()).fbq)==null||w.call(_,"track","Purchase",{value:g.amount,currency:x,order_id:g.id})),o!=null&&o.tiktok_pixel_id&&((E=d().ttq)==null||E.track("CompletePayment",{content_type:"product",quantity:1,price:g.amount,value:g.amount,currency:x})),o!=null&&o.google_analytics_id&&((S=(k=d()).gtag)==null||S.call(k,"event","purchase",{transaction_id:g.id,value:g.amount,currency:x})),o!=null&&o.google_ads_id&&((C=(T=d()).gtag)==null||C.call(T,"event","conversion",{send_to:o.google_ads_id,value:g.amount,currency:x,transaction_id:g.id}))};return n.jsx(tP.Provider,{value:{trackPageView:h,trackInitiateCheckout:f,trackPurchase:m,isInitialized:r},children:t})},aP=()=>{const e=v.useContext(tP);return e||{trackPageView:()=>{},trackInitiateCheckout:()=>{},trackPurchase:()=>{}}};function Dae(e){const t=document.createElement("script");t.innerHTML=`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','${e}');`,document.head.appendChild(t);const r=document.createElement("noscript");r.innerHTML=`<iframe src="https://www.googletagmanager.com/ns.html?id=${e}"
    height="0" width="0" style="display:none;visibility:hidden"></iframe>`,document.body.appendChild(r)}function Pae(e){const t=document.createElement("script");t.innerHTML=`!function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '${e}');`,document.head.appendChild(t)}function Mae(e){const t=document.createElement("script");t.innerHTML=`!function (w, d, t) {
      w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];
      ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],
      ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};
      for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);
      ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e};
      ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";
      ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};
      var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;
      var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
      ttq.load('${e}');
    }(window, document, 'ttq');`,document.head.appendChild(t)}function Iae(e){const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t);const r=document.createElement("script");r.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${e}');
    `,document.head.appendChild(r)}function Lae(e){if(document.querySelector('script[src*="googletagmanager.com/gtag/js"]')){const t=document.createElement("script");t.innerHTML=`gtag('config', '${e}');`,document.head.appendChild(t)}else{const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t);const r=document.createElement("script");r.innerHTML=`
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', '${e}');
        `,document.head.appendChild(r)}}const Uae=()=>{const{trackPageView:e,trackInitiateCheckout:t,isInitialized:r}=aP();return v.useEffect(()=>{r&&(e(),t())},[r]),null},mv=({checkoutId:e})=>{var ie,$,ce,ye,le,Ne,Ae;const{id:t}=ta(),r=e||t,a=mt(),[s,o]=v.useState(!0),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(null),[x,y]=v.useState([]),[N,_]=v.useState({minutes:15,seconds:0}),[w,E]=v.useState(!1),[k,S]=v.useState(!1),[T,C]=v.useState({}),[O,M]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),L=(we,pe,De="info")=>{M({isOpen:!0,title:we,message:pe,variant:De})},z=()=>{M(we=>({...we,isOpen:!1}))},[G,F]=v.useState({name:"",email:"",cpf:"",phone:"",cardNumber:"",expiry:"",installments:"1",cvc:""}),[se,J]=v.useState({}),[xe,be]=v.useState({}),[P,X]=v.useState("default"),K=we=>{const pe=we.replace(/\D/g,"");return/^(636368|438935|504175|451416|636297|5067|4576|4011)/.test(pe)?"elo":/^(606282|3841)/.test(pe)?"hipercard":/^3[47]/.test(pe)?"amex":/^(36|38|30[0-5])/.test(pe)?"diners":/^5[1-5]/.test(pe)||/^2(22[1-9]|2[3-9][0-9]|[3-6][0-9]{2}|7[0-1][0-9]|720)/.test(pe)?"mastercard":/^(6011|65|64[4-9])/.test(pe)?"discover":/^4/.test(pe)?"visa":"default"},V={visa:{gradient:"from-[#1A1F71] to-[#0D47A1]",logo:"VISA",textColor:"text-white"},mastercard:{gradient:"from-[#EB001B] to-[#F79E1B]",logo:"MASTERCARD",textColor:"text-white"},elo:{gradient:"from-[#FFCB05] to-[#000000]",logo:"ELO",textColor:"text-white"},amex:{gradient:"from-[#006FCF] to-[#003366]",logo:"AMEX",textColor:"text-white"},hipercard:{gradient:"from-[#D32F2F] to-[#B71C1C]",logo:"HIPERCARD",textColor:"text-white"},diners:{gradient:"from-[#0079BE] to-[#00457C]",logo:"DINERS",textColor:"text-white"},discover:{gradient:"from-[#FF6000] to-[#CC4D00]",logo:"DISCOVER",textColor:"text-white"},default:{gradient:"from-gray-900 to-gray-800",logo:"CARD",textColor:"text-white"}}[P],[R,H]=v.useState(void 0);v.useEffect(()=>{r?(async()=>{var pe,De;try{const Fe=await ae.getUser();if(Fe)H(Fe.id),console.log("[PublicCheckout] User logged in (session):",Fe.id);else{const Ct=new URLSearchParams(window.location.search).get("u");Ct&&(H(Ct),console.log("[PublicCheckout] User ID from URL:",Ct))}const ke=await ae.getPublicCheckout(r);if(!ke){f("Checkout no encontrado."),o(!1);return}if(!ke.active){f("Este checkout est inativo no momento."),o(!1);return}const He=await ae.getPublicProduct(ke.product_id),Ze=await ae.getPublicGateway(ke.gateway_id);if(!He||!Ze){f("Configurao invlida de produto ou gateway."),o(!1);return}const pt=[];if(ke.order_bump_ids&&ke.order_bump_ids.length>0)for(const Vt of ke.order_bump_ids){const Ct=await ae.getPublicProduct(Vt);Ct&&pt.push(Ct)}d({checkout:ke,product:He,gateway:Ze,bumps:pt}),(De=(pe=ke.config)==null?void 0:pe.timer)!=null&&De.active&&_({minutes:ke.config.timer.minutes,seconds:0}),o(!1)}catch(Fe){console.error("Error loading checkout:",Fe),f("Erro ao carregar checkout. Tente novamente."),o(!1)}})():(f("Checkout no especificado."),o(!1))},[r]),v.useEffect(()=>{var pe,De,Fe;if(!((Fe=(De=(pe=c==null?void 0:c.checkout)==null?void 0:pe.config)==null?void 0:De.timer)!=null&&Fe.active))return;const we=setInterval(()=>{_(ke=>ke.seconds===0?ke.minutes===0?ke:{minutes:ke.minutes-1,seconds:59}:{...ke,seconds:ke.seconds-1})},1e3);return()=>clearInterval(we)},[c]);const ee=(we,pe)=>{let De="";switch(we){case"name":kae(pe)||(De="Digite seu nome completo (mnimo 2 palavras)");break;case"email":Cae(pe)||(De="Digite um e-mail vlido");break;case"phone":Aae(pe)||(De="Nmero de WhatsApp invlido");break;case"cpf":Tae(pe)||(De="CPF invlido");break}return De},de=we=>{const{name:pe,value:De}=we.target;J(ke=>({...ke,[pe]:!0}));const Fe=ee(pe,De);be(ke=>({...ke,[pe]:Fe}))},je=we=>{const{name:pe,value:De}=we.target;let Fe=De;if(pe==="cpf"&&(Fe=Oae(De)),F(ke=>({...ke,[pe]:Fe})),se[pe]){const ke=ee(pe,Fe);be(He=>({...He,[pe]:ke}))}else{const ke=ee(pe,Fe);be(He=>({...He,[pe]:ke}))}},I=we=>{y(pe=>pe.includes(we)?pe.filter(De=>De!==we):[...pe,we])},me=()=>{if(!c)return 0;let we=c.product.price_real||0;return x.forEach(pe=>{const De=c.bumps.find(Fe=>Fe.id===pe);De&&(we+=De.price_real||0)}),we},Ce=async()=>{var De,Fe;if(!m||!c)return;const we={},pe={};if(q.fields.name){pe.name=!0;const ke=ee("name",G.name);ke&&(we.name=ke)}if(q.fields.email){pe.email=!0;const ke=ee("email",G.email);ke&&(we.email=ke)}if(q.fields.phone){pe.phone=!0;const ke=ee("phone",G.phone);ke&&(we.phone=ke)}if(q.fields.cpf){pe.cpf=!0;const ke=ee("cpf",G.cpf);ke&&(we.cpf=ke)}if(J(ke=>({...ke,...pe})),be(we),Object.keys(we).length>0){const ke=Object.keys(we)[0],He=document.getElementById(`input-${ke}`);He==null||He.scrollIntoView({behavior:"smooth",block:"center"}),He==null||He.focus();return}if(m==="credit_card"){const ke=G.cardNumber.replace(/\D/g,"");if(!ke||ke.length<13){L("Erro","Por favor, verifique o nmero do carto.","error");return}if(!G.expiry||!G.expiry.includes("/")){L("Erro","Por favor, preencha a validade do carto (MM/AA).","error");return}const[He,Ze]=G.expiry.split("/");if(!He||!Ze||parseInt(He)<1||parseInt(He)>12||Ze.length!==2){L("Erro","Data de validade invlida.","error");return}if(!G.cvc||G.cvc.length<3){L("Erro","Por favor, verifique o cdigo de segurana (CVC).","error");return}}S(!0);try{const ke=me(),He=[{name:c.product.name,price:c.product.price_real||0,quantity:1,type:"main",product_id:c.product.id}];x.forEach(Vt=>{const Ct=c.bumps.find(Tn=>Tn.id===Vt);Ct&&He.push({name:Ct.name,price:Ct.price_real||0,quantity:1,type:"bump",product_id:Ct.id})}),console.log("[PublicCheckout] Importing paymentService...");const{paymentService:Ze}=await Dl(async()=>{const{paymentService:Vt}=await Promise.resolve().then(()=>iP);return{paymentService:Vt}},void 0);console.log("[PublicCheckout] paymentService imported. Calling processPayment...");const pt=await Ze.processPayment({checkoutId:c.checkout.id,offerId:c.checkout.offer_id||"direct",amount:ke,customerName:G.name||"Cliente",customerEmail:G.email||"cliente@email.com",customerPhone:G.phone,customerCpf:G.cpf,gatewayId:c.gateway.id,paymentMethod:m,items:He,customerUserId:R,cardData:m==="credit_card"?{number:G.cardNumber,holderName:G.name,expiryMonth:G.expiry.split("/")[0],expiryYear:G.expiry.split("/")[1],cvc:G.cvc}:void 0});console.log("[PublicCheckout] processPayment returned:",pt),pt.success?(console.log("[PublicCheckout] Payment success. Method:",m),m==="pix"&&pt.pixData?(console.log("[PublicCheckout] Navigating to Pix page..."),a(`/pagamento/pix/${pt.orderId}`,{state:{pixData:{qr_code:pt.pixData.qr_code,transaction_amount:ke},orderData:{items:He,totalAmount:ke,customer:{name:G.name,email:G.email}}}})):m==="boleto"&&pt.boletoData?window.location.href=pt.boletoData.url:(Fe=(De=c.checkout.config)==null?void 0:De.upsell)!=null&&Fe.active?a(`/upsell/${pt.orderId}`):a(`/thank-you/${pt.orderId}`)):(L("Erro no pagamento",pt.message||"Transao recusada","error"),S(!1))}catch(ke){console.error("Payment error:",ke),console.error("Payment Error Details:",{message:ke.message,stack:ke.stack,name:ke.name}),L("Erro",`Erro ao processar pagamento: ${ke.message||"Verifique os dados e tente novamente."}`,"error"),S(!1)}},ne=(we,pe,De="text")=>{const Fe=se[we]&&xe[we],ke=se[we]&&!xe[we]&&G[we];return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"relative",children:[we==="phone"?n.jsx(Rae,{name:we,value:G[we],onChange:je,onBlur:de,error:!!Fe,isValid:!!ke,placeholder:pe}):n.jsx("input",{id:`input-${we}`,type:De,name:we,placeholder:pe,value:G[we],onChange:je,onBlur:de,className:`w-full pl-4 pr-10 py-3 rounded-lg border bg-white focus:ring-2 focus:ring-opacity-50 transition-all outline-none ${Fe?"border-red-400 focus:border-red-500 focus:ring-red-200":ke?"border-green-400 focus:border-green-500 focus:ring-green-200":"border-gray-200 focus:border-[#10B981] focus:ring-[#10B981]/20"}`}),Fe&&n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500 animate-pulse pointer-events-none",children:n.jsx(nn,{className:"w-5 h-5"})}),ke&&n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500 animate-in zoom-in pointer-events-none",children:n.jsx(ft,{className:"w-5 h-5"})})]}),Fe&&n.jsx("p",{className:"text-xs text-red-500 flex items-center gap-1 animate-in slide-in-from-top-1",children:xe[we]})]})};if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f9fafb]",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#10B981]"})});if(h||!c)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f9fafb] text-gray-500",children:h});const Se=me(),q=c.checkout.config||{fields:{name:!0,email:!0,phone:!0,cpf:!0},payment_methods:{pix:!0,credit_card:!0,boleto:!0},timer:{active:!1,minutes:0,bg_color:"",text_color:""}};return n.jsxs(rP,{config:q,children:[n.jsx(Uae,{}),n.jsxs("div",{className:"checkout-padrao-container min-h-screen bg-[#f9fafb] font-sans text-gray-800 pb-12",children:[((ie=q.timer)==null?void 0:ie.active)&&n.jsx("div",{className:"py-3 shadow-lg transition-colors",style:{backgroundColor:q.timer.bg_color,color:q.timer.text_color},children:n.jsxs("div",{className:"max-w-2xl mx-auto px-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium opacity-90",children:[n.jsx(Vu,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"A oferta expira em:"}),n.jsx("span",{className:"sm:hidden",children:"Expira em:"})]}),n.jsxs("div",{className:"flex gap-2 text-gray-900",children:[n.jsxs("div",{className:"time-box flex flex-col items-center bg-white rounded px-2 py-0.5 min-w-[36px]",children:[n.jsx("span",{className:"time-number font-bold text-sm",children:"00"}),n.jsx("span",{className:"time-label text-[8px] uppercase text-gray-500",children:"Hrs"})]}),n.jsxs("div",{className:"time-box flex flex-col items-center bg-white rounded px-2 py-0.5 min-w-[36px]",children:[n.jsx("span",{className:"time-number font-bold text-sm",children:N.minutes.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label text-[8px] uppercase text-gray-500",children:"Min"})]}),n.jsxs("div",{className:"time-box flex flex-col items-center bg-white rounded px-2 py-0.5 min-w-[36px]",children:[n.jsx("span",{className:"time-number font-bold text-sm",children:N.seconds.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label text-[8px] uppercase text-gray-500",children:"Seg"})]})]})]})}),n.jsxs("div",{className:"max-w-2xl mx-auto px-4 mt-6 space-y-6",children:[q.header_image&&n.jsx("div",{className:`w-full h-[150px] sm:h-[200px] rounded-2xl overflow-hidden shadow-sm ${($=q.timer)!=null&&$.active?"":"mt-4"}`,children:n.jsx("img",{src:q.header_image,alt:"Header",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:c.product.imageUrl?n.jsx("img",{src:c.product.imageUrl,className:"w-full h-full object-cover"}):n.jsx(Gt,{className:"w-full h-full p-4 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-gray-900 leading-tight",children:c.product.name}),c.product.price_fake&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["De ",n.jsxs("span",{className:"line-through",children:["R$ ",c.product.price_fake.toFixed(2)]})," por apenas"]}),n.jsxs("p",{className:"text-lg font-bold text-[#10B981]",children:["R$ ",(ce=c.product.price_real)==null?void 0:ce.toFixed(2)]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[n.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-[#10B981] text-white flex items-center justify-center text-xs",children:"1"}),"Dados Pessoais"]}),q.fields.name&&ne("name","Nome Completo"),q.fields.email&&ne("email","Seu melhor E-mail","email"),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[q.fields.cpf&&ne("cpf","CPF/CNPJ"),q.fields.phone&&ne("phone","DDD + Celular","tel")]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"bg-gray-900 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs",children:"2"}),"Pagamento"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6",children:[((ye=q.payment_methods)==null?void 0:ye.credit_card)&&n.jsxs("button",{onClick:()=>g("credit_card"),className:`relative flex items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${m==="credit_card"?"bg-[#F0FDF4] border-[#10B981] text-[#10B981]":"bg-gray-100 border-transparent text-gray-600 hover:bg-gray-200"}`,children:[m==="credit_card"&&n.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-[#10B981] text-white rounded-bl-lg rounded-tr-lg p-0.5 shadow-sm animate-in zoom-in",children:n.jsx(ft,{size:12,strokeWidth:3})}),n.jsx(mo,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-bold",children:"Carto de Crdito"})]}),((le=q.payment_methods)==null?void 0:le.pix)&&n.jsxs("button",{onClick:()=>g("pix"),className:`relative flex items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${m==="pix"?"bg-[#F0FDF4] border-[#10B981] text-[#10B981]":"bg-gray-100 border-transparent text-gray-600 hover:bg-gray-200"}`,children:[m==="pix"&&n.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-[#10B981] text-white rounded-bl-lg rounded-tr-lg p-0.5 shadow-sm animate-in zoom-in",children:n.jsx(ft,{size:12,strokeWidth:3})}),n.jsx(Kf,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-bold",children:"Pix"})]}),((Ne=q.payment_methods)==null?void 0:Ne.boleto)&&n.jsxs("button",{onClick:()=>g("boleto"),className:`relative flex items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${m==="boleto"?"bg-[#F0FDF4] border-[#10B981] text-[#10B981]":"bg-gray-100 border-transparent text-gray-600 hover:bg-gray-200"}`,children:[m==="boleto"&&n.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-[#10B981] text-white rounded-bl-lg rounded-tr-lg p-0.5 shadow-sm animate-in zoom-in",children:n.jsx(ft,{size:12,strokeWidth:3})}),n.jsx(Cy,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-bold",children:"Boleto"})]})]}),m==="credit_card"&&n.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[n.jsx("div",{className:"w-full max-w-[280px] mx-auto",children:n.jsx("div",{className:"perspective-1000 w-full h-[176px] relative cursor-pointer group",onClick:()=>E(!w),children:n.jsxs("div",{className:`w-full h-full relative preserve-3d transition-transform duration-700 ${w?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d",transform:w?"rotateY(180deg)":"rotateY(0deg)"},children:[n.jsxs("div",{className:`absolute w-full h-full backface-hidden bg-gradient-to-br ${V.gradient} rounded-xl shadow-xl p-4 text-white flex flex-col justify-between z-10 transition-all duration-500`,style:{backfaceVisibility:"hidden"},children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:"w-10 h-7 bg-yellow-500/80 rounded-md border-2 border-white"}),n.jsx("span",{className:`font-mono text-base italic font-bold ${V.textColor}`,children:V.logo})]}),n.jsx("div",{children:n.jsx("p",{className:"font-mono text-base tracking-widest shadow-black drop-shadow-md",children:G.cardNumber||"0000 0000 0000 0000"})}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[7px] uppercase text-gray-400",children:"Titular"}),n.jsx("p",{className:"font-medium uppercase text-xs tracking-wide",children:G.name||"NOME DO TITULAR"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[7px] uppercase text-gray-400",children:"Validade"}),n.jsx("p",{className:"font-medium text-xs",children:G.expiry||"MM/AA"})]})]})]}),n.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-gray-800 rounded-xl shadow-xl overflow-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[n.jsx("div",{className:"w-full h-8 bg-black mt-4"}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"bg-white h-6 w-full flex items-center justify-end px-2",children:n.jsx("span",{className:"font-mono text-sm text-gray-900",children:G.cvc||"123"})})})]})]})})}),n.jsxs("div",{className:"w-full max-w-[280px] mx-auto space-y-3 pt-2",children:[n.jsx("div",{children:n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all",placeholder:"Nmero do Carto",value:G.cardNumber,onChange:we=>{const pe=we.target.value;F({...G,cardNumber:pe}),X(K(pe))},onFocus:()=>E(!1)})}),n.jsxs("div",{className:"grid grid-cols-[1fr_80px] gap-3",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all",placeholder:"MM/AA",maxLength:5,value:G.expiry,onChange:we=>{let pe=we.target.value.replace(/\D/g,"");pe.length>=2&&(pe=pe.slice(0,2)+"/"+pe.slice(2,4)),F({...G,expiry:pe})},onFocus:()=>E(!1)}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all",placeholder:"CVV",maxLength:4,value:G.cvc,onChange:we=>F({...G,cvc:we.target.value}),onFocus:()=>E(!0)})]}),n.jsx("div",{children:n.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all bg-white",value:G.installments,onChange:we=>F({...G,installments:we.target.value}),children:[n.jsx("option",{value:"1",children:"1x sem juros"}),n.jsx("option",{value:"2",children:"2x sem juros"}),n.jsx("option",{value:"3",children:"3x sem juros"}),n.jsx("option",{value:"4",children:"4x sem juros"}),n.jsx("option",{value:"5",children:"5x sem juros"}),n.jsx("option",{value:"6",children:"6x sem juros"}),n.jsx("option",{value:"7",children:"7x sem juros"}),n.jsx("option",{value:"8",children:"8x sem juros"}),n.jsx("option",{value:"9",children:"9x sem juros"}),n.jsx("option",{value:"10",children:"10x sem juros"}),n.jsx("option",{value:"11",children:"11x sem juros"}),n.jsx("option",{value:"12",children:"12x sem juros"})]})})]})]}),m==="pix"&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 animate-in fade-in duration-300",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800 font-bold mb-3",children:[n.jsx(Kf,{className:"w-5 h-5"})," Pague com Pix"]}),n.jsx("p",{className:"text-sm text-green-900",children:"Liberao imediata do acesso aps o pagamento."})]}),m==="boleto"&&n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 animate-in fade-in duration-300",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-bold mb-2",children:[n.jsx(Cy,{className:"w-5 h-5"})," Informaes do Boleto"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Vencimento em 2 dias teis."})]}),!m&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-center gap-3 text-yellow-800 text-sm animate-pulse",children:[n.jsx(nn,{className:"w-5 h-5"}),"Escolha uma forma de pagamento."]})]}),m&&c.bumps.length>0&&n.jsxs("div",{className:"space-y-4 animate-in zoom-in-95 duration-300",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 px-4 py-2 rounded-xl shadow-sm",children:n.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wide text-center flex items-center justify-center gap-2",children:" Oportunidade especial agora"})}),n.jsx("div",{className:"space-y-4",children:c.bumps.map(we=>{const pe=m==="credit_card",De=parseInt(G.installments)||1,Fe=we.price_real||0;let ke="",He="";if(pe){const Ze=De>1?1.2:1;ke=(Fe*Ze/De).toFixed(2),He=" na parcela"}else ke=Fe.toFixed(2);return n.jsx("div",{className:`p-4 rounded-xl border-2 border-dashed transition-all cursor-pointer relative overflow-hidden ${x.includes(we.id)?"border-[#10B981] bg-green-50/50":"border-[#D71A21] bg-white hover:border-[#B71520]"}`,onClick:()=>I(we.id),children:n.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden",children:we.imageUrl&&n.jsx("img",{src:we.imageUrl,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex justify-between items-start",children:n.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:we.name})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-snug line-clamp-2",children:we.description}),n.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[n.jsx("div",{className:`w-5 h-5 rounded border-2 flex-shrink-0 flex items-center justify-center transition-colors ${x.includes(we.id)?"bg-[#10B981] border-[#10B981]":"border-gray-400 bg-transparent"}`,children:x.includes(we.id)&&n.jsx(ft,{className:"w-3.5 h-3.5 text-white"})}),n.jsxs("p",{className:"text-sm font-bold text-gray-900 leading-tight",children:["Sim, quero aproveitar por apenas ",n.jsxs("span",{className:"text-[#10B981]",children:["R$ ",ke]}),He]})]})]})]})},we.id)})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resumo"}),n.jsxs("div",{className:"space-y-3 mb-4 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-3 text-gray-600",children:[n.jsx("span",{className:"flex-1 break-words",children:c.product.name}),c.product.price_fake?n.jsxs("span",{className:"line-through text-gray-400 whitespace-nowrap",children:["R$ ",c.product.price_fake.toFixed(2)]}):n.jsxs("span",{className:"text-[#10B981] whitespace-nowrap",children:["R$ ",(Ae=c.product.price_real)==null?void 0:Ae.toFixed(2)]})]}),x.map(we=>{var De;const pe=c.bumps.find(Fe=>Fe.id===we);return pe?n.jsxs("div",{className:"flex justify-between gap-3 text-[#10B981]",children:[n.jsxs("span",{className:"flex items-center gap-1 flex-1 break-words",children:[n.jsx(ft,{className:"w-3 h-3 flex-shrink-0"})," ",pe.name]}),n.jsxs("span",{className:"whitespace-nowrap",children:["+ R$ ",(De=pe.price_real)==null?void 0:De.toFixed(2)]})]},pe.id):null}),n.jsxs("div",{className:"border-t border-gray-100 pt-3 flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold text-[#10B981]",children:["R$ ",Se.toFixed(2)]}),m==="credit_card"&&n.jsxs("p",{className:"text-xs text-gray-500",children:["ou 12x de R$ ",(Se/12*1.2).toFixed(2)]})]})]})]}),n.jsx("button",{onClick:Ce,disabled:k||!m,className:"w-full bg-[#10B981] hover:bg-[#059669] disabled:bg-gray-400 text-white font-bold py-4 rounded-xl shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:k?"Processando...":n.jsxs(n.Fragment,{children:[n.jsx(br,{className:"w-5 h-5"}),m==="pix"?"Gerar Pix Copia e Cola":"Finalizar Compra Agora"]})})]}),n.jsx("div",{className:"text-center py-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[n.jsx(Vm,{className:"w-3 h-3"})," Compra 100% segura"]})})]}),n.jsx(zr,{isOpen:O.isOpen,onClose:z,title:O.title,message:O.message,variant:O.variant})]})]})},nP=e=>e.startsWith("/")?e:`/${e}`,$ae={items:[{name:"Master Pack Completo",price:197,quantity:1}],totalAmount:197,customer:{name:"Cliente Visitante",email:"cliente@exemplo.com"}},pv={qr_code_base64:"00020126330014BR.GOV.BCB.PIX0114+5511999999999520400005303986540510.005802BR5913SuperCheckout6008SaoPaulo62070503***63041D3D",transaction_amount:197},NC=()=>{var S,T,C;const{orderId:e}=ta(),t=mt(),r=ja(),[a,s]=v.useState({minutes:14,seconds:59}),[o,c]=v.useState(!1),[d,h]=v.useState(!0),[f,m]=v.useState(null),[g,x]=v.useState(""),[y,N]=v.useState({isOpen:!1,title:"",message:"",variant:"info"}),_=()=>{N(O=>({...O,isOpen:!1}))};v.useEffect(()=>{(async()=>{var M,L,z,G,F,se;if((M=r.state)!=null&&M.orderData&&((L=r.state)!=null&&L.pixData)){m(r.state.orderData),x(r.state.pixData.qr_code_base64||r.state.pixData.qr_code||pv.qr_code_base64),h(!1);return}if(e)try{const{data:J,error:xe}=await Y.from("orders").select("*").eq("id",e).single();if(J&&!xe){const{data:be,error:P}=await Y.from("payments").select("raw_response").eq("order_id",e).order("created_at",{ascending:!1}).limit(1);let X=pv.qr_code_base64;if(be&&be.length>0&&be[0].raw_response)try{const he=typeof be[0].raw_response=="string"?JSON.parse(be[0].raw_response):be[0].raw_response,V=((G=(z=he.point_of_interaction)==null?void 0:z.transaction_data)==null?void 0:G.qr_code_base64)||((se=(F=he.point_of_interaction)==null?void 0:F.transaction_data)==null?void 0:se.qr_code);V&&(X=V)}catch(he){console.warn("Erro ao parsear QR code do pagamento:",he)}const K={items:J.items||[{name:"Produto/Oferta Selecionada",price:J.total,quantity:1}],totalAmount:J.total,customer:{name:J.customer_name,email:J.customer_email}};m(K),x(X),h(!1);return}}catch(J){console.error("[PixPayment] Error loading order/payment:",J)}m($ae),x(pv.qr_code_base64),h(!1)})()},[e,r.state]);const[w,E]=v.useState(null);v.useEffect(()=>{let O=0;const M=5,L=async()=>{var z,G,F,se,J;try{if((z=r.state)!=null&&z.checkoutId){const P=await ae.getPublicCheckout(r.state.checkoutId);if((F=(G=P==null?void 0:P.config)==null?void 0:G.upsell)!=null&&F.active){E(!0);return}}if(!e){E(!1);return}const{data:xe,error:be}=await Y.from("orders").select("checkout_id").eq("id",e).single();if(xe!=null&&xe.checkout_id){const P=await ae.getPublicCheckout(xe.checkout_id);if((J=(se=P==null?void 0:P.config)==null?void 0:se.upsell)!=null&&J.active){E(!0);return}}else if(O<M){O++,setTimeout(L,1e3);return}E(!1)}catch(xe){console.error("Error checking upsell:",xe),E(!1)}};setTimeout(L,500)},[e,r.state]),v.useEffect(()=>{if(!e)return;const M=setInterval(async()=>{try{const L=await fetch(nP(`/api/check-status?orderId=${e}&t=${Date.now()}`));let z=!1;const G=L.headers.get("content-type");if(L.ok&&G&&G.includes("application/json"))(await L.json()).status===ot.PAID&&(z=!0);else{const{data:F}=await Y.from("orders").select("status").eq("id",e).single();F&&F.status===ot.PAID&&(z=!0)}z&&w!==null&&(console.log("[PixPayment] Payment confirmed. Upsell Active:",w),w?window.location.href=`/upsell/${e}`:t(`/thank-you/${e}`))}catch(L){console.error("Erro ao verificar status:",L)}},3e3);return()=>clearInterval(M)},[e,t,w]),v.useEffect(()=>{const O=setInterval(()=>{s(M=>M.seconds===0?M.minutes===0?M:{minutes:M.minutes-1,seconds:59}:{...M,seconds:M.seconds-1})},1e3);return()=>clearInterval(O)},[]);const k=()=>{navigator.clipboard.writeText(g),c(!0),setTimeout(()=>c(!1),2e3)};return d?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Ir,{className:"w-8 h-8 animate-spin text-primary"})}):n.jsxs("div",{className:"min-h-screen bg-[#F3F4F6] font-sans text-gray-800 pb-12",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 py-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xl",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-white",children:n.jsx(Vm,{className:"w-5 h-5"})}),n.jsx("span",{children:"Pagamento Seguro"})]}),n.jsxs("div",{className:"text-xs text-gray-500 hidden sm:block",children:["ID do Pedido: ",n.jsx("span",{className:"font-mono font-medium text-gray-900",children:e})]})]})}),n.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"md:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-green-100 overflow-hidden",children:[n.jsxs("div",{className:"bg-green-50 p-4 border-b border-green-100 flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center animate-pulse",children:n.jsx(Kf,{className:"w-5 h-5 text-[#10B981]"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Pix gerado com sucesso!"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Realize o pagamento para liberar seu acesso imediatamente."})]})]}),n.jsxs("div",{className:"p-6 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Escaneie o QR Code abaixo no app do seu banco:"}),n.jsx("div",{className:"bg-white p-2 border-2 border-gray-100 rounded-xl mb-6 shadow-sm",children:n.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${g}`,alt:"QR Code Pix",className:"w-52 h-52 object-contain"})}),n.jsxs("div",{className:"w-full max-w-md space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 px-1",children:[n.jsx("span",{children:"Pix Copia e Cola"}),n.jsxs("span",{className:"flex items-center gap-1 text-orange-500 font-medium",children:[n.jsx(Vu,{className:"w-3 h-3"}),"Expira em ",a.minutes,":",a.seconds.toString().padStart(2,"0")]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("input",{type:"text",readOnly:!0,value:g,className:"w-full bg-gray-50 border border-gray-200 text-gray-500 text-xs rounded-lg pl-4 pr-24 py-3 focus:outline-none focus:ring-2 focus:ring-primary/20 font-mono truncate"}),n.jsxs("button",{onClick:k,className:`absolute right-1 top-1 bottom-1 px-4 rounded-md text-xs font-bold transition-all flex items-center gap-2 ${o?"bg-green-500 text-white":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 shadow-sm"}`,children:[o?n.jsx(ft,{className:"w-3 h-3"}):n.jsx(Tr,{className:"w-3 h-3"}),o?"Copiado!":"Copiar"]})]}),n.jsxs("p",{className:"text-[10px] text-gray-400 mt-4",children:["Aps o pagamento, a aprovao ocorre em instantes e voc receber os dados de acesso no e-mail ",n.jsx("span",{className:"text-gray-600 font-medium",children:(S=f==null?void 0:f.customer)==null?void 0:S.email}),"."]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 border-t border-gray-100 flex items-center justify-center gap-3",children:[n.jsx(Ir,{className:"w-4 h-4 animate-spin text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Aguardando confirmao do banco..."})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(nn,{className:"w-5 h-5 text-blue-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Como pagar?"}),n.jsxs("ol",{className:"text-xs text-gray-500 list-decimal list-inside mt-2 space-y-1",children:[n.jsx("li",{children:"Abra o aplicativo do seu banco."}),n.jsxs("li",{children:["Escolha a opo ",n.jsx("strong",{children:"Pix"}),"."]}),n.jsxs("li",{children:["Selecione ",n.jsx("strong",{children:"Ler QR Code"})," ou ",n.jsx("strong",{children:"Pix Copia e Cola"}),"."]}),n.jsx("li",{children:"Confira os dados e confirme o pagamento."})]})]})]})})]})," ",n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4 pb-4 border-b border-gray-100",children:"Resumo da Compra"}),n.jsx("div",{className:"space-y-3",children:(T=f==null?void 0:f.items)==null?void 0:T.map((O,M)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 w-2/3",children:O.name}),n.jsxs("span",{className:"font-medium text-gray-900",children:["R$ ",O.price.toFixed(2)]})]},M))}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Total a pagar"}),n.jsxs("span",{className:"text-2xl font-bold text-[#10B981]",children:["R$ ",(C=f==null?void 0:f.totalAmount)==null?void 0:C.toFixed(2)]})]})})]}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Vendido e entregue por"}),n.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-70",children:[n.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-[10px] font-bold text-gray-500",children:"SC"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Super Checkout Inc."})]})]})]})]})}),n.jsx(zr,{isOpen:y.isOpen,onClose:_,title:y.title,message:y.message,variant:y.variant})]})};var _C={};class EC{constructor(t,r){this.accessToken=t,typeof r=="boolean"||r!=null&&r.isProduction;const a=typeof r=="object"?r.baseUrl:void 0;this.baseUrl=a||"/mp-api"}async createCardToken(t,r){try{const a=r||_C.MERCADO_PAGO_PUBLIC_KEY;if(!a)throw new Error("Public Key not provided for tokenization");const s=await fetch(`${this.baseUrl}/v1/card_tokens?public_key=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const c=await s.json();throw new Error(`Card Token Error: ${JSON.stringify(c)}`)}return(await s.json()).id}catch(a){throw console.error("[MercadoPagoAdapter] Tokenization error:",a),new Error(`Failed to tokenize card: ${a.message}`)}}async createPayment(t){try{const a=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c=>{const d=Math.random()*16|0;return(c==="x"?d:d&3|8).toString(16)});console.log("[MercadoPagoAdapter] Starting fetch to",`${this.baseUrl}/v1/payments`);const s=new AbortController,o=setTimeout(()=>s.abort(),15e3);try{const c=await fetch(`${this.baseUrl}/v1/payments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.accessToken}`,"X-Idempotency-Key":a},body:JSON.stringify(t),signal:s.signal});clearTimeout(o),console.log("[MercadoPagoAdapter] Response Status:",c.status);const d=await c.text();if(console.log("[MercadoPagoAdapter] Response Body:",d),!c.ok)throw new Error(`Mercado Pago API Error: ${c.status} - ${d}`);return JSON.parse(d)}catch(c){throw clearTimeout(o),c.name==="AbortError"?new Error("Payment request timed out"):c}}catch(r){throw console.error("[MercadoPagoAdapter] Create payment error:",r),new Error(`Failed to process payment: ${r.message}`)}}async validateWebhookSignature(t,r,a,s){var o;if(!r||!a)return!1;try{const c=r.split(","),d=c.find(C=>C.startsWith("ts=")),h=c.find(C=>C.startsWith("v1="));if(!d||!h)return!1;const f=d.split("=")[1],m=h.split("=")[1],g=`id:${((o=t.data)==null?void 0:o.id)||t.id};request-id:${a};ts:${f};`,x=s||_C.MERCADO_PAGO_WEBHOOK_SECRET||"";if(!x)return console.warn("[MercadoPagoAdapter] Webhook secret not found"),!1;const y=new TextEncoder,N=y.encode(x),_=y.encode(g),E=await(async()=>{if(typeof crypto<"u"&&crypto.subtle)return crypto;if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto;try{return(await Dl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).webcrypto}catch(C){console.error("Web Crypto API not available:",C);return}})();if(!E||!E.subtle)return console.warn("[MercadoPagoAdapter] Crypto.subtle not available for signature validation"),!0;const k=await E.subtle.importKey("raw",N,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),S=await E.subtle.sign("HMAC",k,_),T=Array.from(new Uint8Array(S)).map(C=>C.toString(16).padStart(2,"0")).join("");return m===T}catch(c){return console.error("[MercadoPagoAdapter] Signature validation error:",c),!1}}translateStatus(t){return{approved:ot.PAID,pending:ot.PENDING,in_process:ot.PENDING,rejected:ot.FAILED,cancelled:ot.CANCELED,refunded:ot.REFUNDED,charged_back:ot.REFUNDED}[t]||ot.PENDING}async getPaymentInfo(t){const r=await fetch(`${this.baseUrl}/v1/payments/${t}`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!r.ok)throw new Error("Failed to fetch payment info");return await r.json()}}const SC=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});class Bae{async processPayment(t){try{console.log("[PaymentService] processPayment started");const r=await ae.getPublicGateway(t.gatewayId);if(console.log("[PaymentService] Gateway fetched:",r?"Found":"Not Found"),!r||!r.active)return{success:!1,message:"Payment Gateway unavailable"};console.log("[PaymentService] Creating local order...");const a={id:SC(),checkout_id:t.checkoutId,offer_id:t.offerId==="direct"||t.offerId==="upsell"?void 0:t.offerId,amount:t.amount,customer_email:t.customerEmail,customer_name:t.customerName,customer_phone:t.customerPhone,customer_cpf:t.customerCpf,status:ot.PENDING,payment_method:t.paymentMethod,items:t.items,created_at:new Date().toISOString(),customer_user_id:t.customerUserId};await ae.createOrder(a);let s;switch(r.name){case Qa.MERCADO_PAGO:s=await this.processMercadoPago(r,a,t);break;case Qa.STRIPE:s={success:!1,message:"Stripe not implemented yet"};break;default:s={success:!1,message:"Unknown gateway provider"}}if(s.success)return!s.pixData&&!s.boletoData&&(jl.sendPaymentApproved(a).catch(console.error),this.grantAccess(a).catch(console.error)),{success:!0,orderId:a.id,...s};try{await this.updateOrderStatus(a.id,ot.FAILED)}catch(o){console.warn("[PaymentService] Failed to update order status (likely RLS for anon user):",o)}return{success:!1,message:s.message}}catch(r){return console.error("[PaymentService] Error processing payment:",r),{success:!1,message:r.message||"Payment processing failed"}}}async processMercadoPago(t,r,a){var c,d,h;if(!t.private_key||!t.public_key)return{success:!1,message:"Mercado Pago credentials missing in settings"};const s="/api/proxy?endpoint=";console.log("[PaymentService] Initializing Adapter with Base URL:",s);const o=new EC(t.private_key,{isProduction:!1,baseUrl:s});try{const f=nP("");let m="",g;if(a.paymentMethod==="credit_card"){if(!a.cardData)throw new Error("Card data is required for credit card payment");g=await o.createCardToken({card_number:a.cardData.number.replace(/\s/g,""),expiration_month:a.cardData.expiryMonth,expiration_year:"20"+a.cardData.expiryYear,security_code:a.cardData.cvc,cardholder:{name:a.cardData.holderName}},t.public_key),m=this.detectCardBrand(a.cardData.number)||"master"}else a.paymentMethod==="pix"?m="pix":a.paymentMethod==="boleto"&&(m="bolbradesco");if(!r.amount||r.amount<=0)throw new Error("Invalid payment amount. Amount must be greater than zero.");const x=await o.createPayment({transaction_amount:Number(r.amount),token:g,description:`Pedido #${r.id}`,installments:1,payment_method_id:m,external_reference:r.customer_user_id,payer:{email:r.customer_email,first_name:r.customer_name.split(" ")[0],last_name:r.customer_name.split(" ").slice(1).join(" "),identification:{type:"CPF",number:((c=r.customer_cpf)==null?void 0:c.replace(/\D/g,""))||""}},notification_url:window.location.hostname.includes("localhost")||window.location.hostname.includes("127.0.0.1")?void 0:`${window.location.origin}/api/webhooks/mercadopago`}),y={id:SC(),order_id:r.id,gateway_id:t.id,status:o.translateStatus(x.status),transaction_id:x.id.toString(),raw_response:JSON.stringify(x),created_at:new Date().toISOString()};console.log("[PaymentService] Saving payment to DB...");try{await this.savePayment(y),console.log("[PaymentService] Payment saved successfully")}catch(N){console.error("[PaymentService] Payment save failed:",N)}if(console.log("[PaymentService] Proceeding to handle response immediately..."),x.status==="approved"||x.status==="in_process"||x.status==="pending"){if(a.paymentMethod==="pix"&&((d=x.point_of_interaction)!=null&&d.transaction_data))return{success:!0,pixData:{qr_code:x.point_of_interaction.transaction_data.qr_code||"",qr_code_base64:x.point_of_interaction.transaction_data.qr_code_base64||""}};if(a.paymentMethod==="boleto"&&((h=x.point_of_interaction)!=null&&h.transaction_data)){const N={barcode:x.point_of_interaction.transaction_data.qr_code||"",url:x.point_of_interaction.transaction_data.ticket_url||""};return jl.sendBoletoGenerated(r,N.url,N.barcode).catch(console.error),{success:!0,boletoData:N}}return{success:!0}}else return{success:!1,message:x.status_detail||"Payment rejected"}}catch(f){return console.error("[PaymentService] Mercado Pago error:",f),{success:!1,message:f.message||"Failed to process with Mercado Pago"}}}detectCardBrand(t){const r=t.replace(/\D/g,"");return/^4/.test(r)?"visa":/^5[1-5]/.test(r)?"master":/^3[47]/.test(r)?"amex":/^6/.test(r)?"elo":"master"}async handleMercadoPagoWebhook(t,r,a){var s;try{const c=(await ae.getGateways()).find(N=>N.name===Qa.MERCADO_PAGO&&N.active);if(!c||!c.webhook_secret||!c.private_key)return console.warn("[PaymentService] No active Mercado Pago gateway found for webhook or missing credentials"),{received:!0,processed:!1,message:"Gateway configuration missing"};const d=new EC(c.private_key,!1);if(!await d.validateWebhookSignature(t,r,a,c.webhook_secret))return console.warn("[PaymentService] Invalid webhook signature"),{received:!0,processed:!1,message:"Invalid signature"};const f=((s=t.data)==null?void 0:s.id)||t.id,m=t.action||t.type;if(!f)return{received:!0,processed:!1,message:"Missing payment ID"};const g=await d.getPaymentInfo(f),x=await ae.getPaymentByTransactionId(f.toString());if(!x)return console.warn("[PaymentService] Payment not found for webhook"),{received:!0,processed:!1,message:"Payment not found"};const y=d.translateStatus(g.status);if(await this.updateOrderStatus(x.order_id,y),await this.updatePaymentStatus(x.id,y,f),y===ot.PAID){const _=(await ae.getOrders()).find(w=>w.id===x.order_id);_&&(jl.sendPaymentApproved(_).catch(console.error),this.grantAccess(_).catch(console.error))}return await this.logWebhook({gateway_id:x.gateway_id,event:m||"payment.updated",payload:JSON.stringify(t),processed:!0}),console.log(`[PaymentService] Webhook processed: ${x.order_id} -> ${y}`),{received:!0,processed:!0}}catch(o){return console.error("[PaymentService] Webhook processing error:",o),await this.logWebhook({event:"webhook.error",payload:JSON.stringify({error:o.message,originalPayload:t}),processed:!1}),{received:!0,processed:!1,message:o.message}}}async grantAccess(t){if(!t.customer_user_id){console.warn("[PaymentService] No customer user ID found for order. Cannot grant access automatically.");return}console.log("[PaymentService] Granting access for order:",t.id);const r=[];if(t.items&&t.items.length>0)for(const s of t.items)s.product_id?r.push(s.product_id):console.warn("[PaymentService] Item missing product_id:",s.name);else{const s=await ae.getPublicCheckout(t.checkout_id);s&&r.push(s.product_id)}const a=Array.from(new Set(r));console.log("[PaymentService] Products to grant:",a);for(const s of a){console.log(`[PaymentService] Processing grants for Product ID: ${s}`);try{await ae.createAccessGrant({user_id:t.customer_user_id,content_id:null,product_id:s,status:"active"})}catch(c){console.error(`[PaymentService] Failed to create product-level grant for ${s}`,c)}const o=await ae.getContentsByProduct(s);if(o.length===0)console.warn(`[PaymentService] Product ${s} has no linked contents. Only product-level access granted.`);else{console.log(`[PaymentService] Granting access to ${o.length} contents for product ${s}`);for(const c of o)try{await ae.createAccessGrant({user_id:t.customer_user_id,content_id:c.id,product_id:s,status:"active"})}catch(d){console.error(`[PaymentService] Failed to grant content access ${c.id}`,d)}}}}async savePayment(t){await ae.createPayment(t)}async updateOrderStatus(t,r){const s=(await ae.getOrders()).find(o=>o.id===t);s&&await ae.saveOrders([{...s,status:r}])}async updatePaymentStatus(t,r,a){const o=(await ae.getPayments()).map(c=>c.id===t?{...c,status:r,...a&&{transaction_id:a}}:c);await ae.savePayments(o)}async logWebhook(t){const r={id:`wh_${Date.now()}`,gateway_id:t.gateway_id,direction:"incoming",event:t.event,payload:t.payload,raw_data:t.payload,processed:t.processed,created_at:new Date().toISOString()},a=await ae.getWebhookLogs();await ae.saveWebhookLogs([r,...a])}}const sP=new Bae,iP=Object.freeze(Object.defineProperty({__proto__:null,paymentService:sP},Symbol.toStringTag,{value:"Module"})),kC=()=>{var L;const{orderId:e}=ta(),t=mt(),[r,a]=v.useState(!0),[s,o]=v.useState(!1),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(null),[x,y]=v.useState(""),[N,_]=v.useState(""),[w,E]=v.useState(!1),[k,S]=v.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvc:""});v.useEffect(()=>{(async()=>{var G;try{if(!e)return;const{data:F,error:se}=await Y.from("orders").select("*").eq("id",e).single();if(se||!F){console.error("Order fetch error:",se),y("Pedido original no encontrado."),a(!1);return}const J={...F,amount:F.total||F.amount};d(J);const xe=await ae.getPublicCheckout(F.checkout_id);if(!xe||!((G=xe.config.upsell)!=null&&G.active)){t(`/thank-you/${e}`);return}f(xe);const be=await ae.getPublicProduct(xe.config.upsell.product_id);if(!be){t(`/thank-you/${e}`);return}g(be)}catch(F){console.error(F),y("Erro ao carregar oferta.")}finally{a(!1)}})()},[e,t]);const T=async()=>{if(!(!c||!m||!h)){o(!0);try{c.payment_method==="pix"?await C("pix"):(E(!0),o(!1))}catch(z){console.error(z),alert("Erro ao processar. Tente novamente."),o(!1)}}},C=async(z,G)=>{if(!(!c||!m||!h)){o(!0);try{const F=await sP.processPayment({checkoutId:h.id,offerId:"upsell",amount:m.price_real||0,customerName:c.customer_name,customerEmail:c.customer_email,customerPhone:c.customer_phone,customerCpf:c.customer_cpf,gatewayId:h.gateway_id,paymentMethod:z,items:[{name:m.name,price:m.price_real||0,quantity:1,type:"upsell",product_id:m.id}],customerUserId:c.customer_user_id,cardData:G});F.success?F.pixData?(_(F.pixData.qr_code),o(!1)):t(`/thank-you/${F.orderId}?upsell=true`):(alert("Pagamento recusado: "+F.message),o(!1))}catch(F){console.error(F),alert("Erro ao processar pagamento."),o(!1)}}},O=()=>{t(`/thank-you/${e}`)};if(r)return n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:"Carregando oferta..."});if(x)return n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:x});const M=h==null?void 0:h.config.upsell;return N?n.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-4",children:n.jsxs("div",{className:"bg-[#111] p-8 rounded-2xl border border-white/10 max-w-md w-full text-center space-y-6",children:[n.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto",children:n.jsx(Or,{className:"w-8 h-8 text-green-500"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Oferta Reservada!"}),n.jsx("p",{className:"text-gray-400",children:"Escaneie o QR Code abaixo para concluir o pagamento do item adicional."})]}),n.jsx("div",{className:"bg-white p-4 rounded-xl mx-auto w-64 h-64 flex items-center justify-center",children:n.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(N)}`,className:"w-full h-full"})}),n.jsx("textarea",{readOnly:!0,value:N,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-xs text-gray-500 h-24 resize-none"}),n.jsx(_e,{onClick:()=>t(`/thank-you/${e}`),className:"w-full",children:"J realizei o pagamento"})]})}):n.jsx("div",{className:"min-h-screen bg-[#05050A] text-white",children:n.jsxs("div",{className:"max-w-[800px] mx-auto px-4 py-8 md:py-12 flex flex-col items-center gap-8",children:[n.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-green-500 h-full w-[80%]"})}),M.show_title&&n.jsx("h1",{className:"text-2xl md:text-4xl font-extrabold text-center leading-tight",children:n.jsx("span",{className:"text-primary",children:M.title||"Oferta Especial"})}),M.show_subtitle&&n.jsx("p",{className:"text-lg md:text-xl text-gray-300 text-center max-w-2xl",children:M.subtitle||"No feche essa pgina! Tenho algo exclusivo para voc."}),M.show_media&&M.media_url&&n.jsx("div",{className:"w-full aspect-video bg-black rounded-2xl border border-white/10 overflow-hidden shadow-2xl relative group",children:M.media_type==="video"?n.jsx("iframe",{src:M.media_url.replace("watch?v=","embed/"),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):n.jsx("img",{src:M.media_url,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"w-full bg-[#111] border-2 border-primary/30 p-6 md:p-8 rounded-2xl flex flex-col items-center gap-6 shadow-[0_0_40px_rgba(138,43,226,0.1)]",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-400 uppercase tracking-widest mb-2 font-bold",children:"Resumo do Pedido"}),n.jsx("h3",{className:"text-xl font-bold",children:m==null?void 0:m.name}),n.jsxs("p",{className:"text-2xl font-black text-green-400 mt-2",children:["R$ ",(L=m==null?void 0:m.price_real)==null?void 0:L.toFixed(2)]})]}),w?n.jsxs("div",{className:"w-full max-w-sm space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[n.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[n.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[n.jsx(mo,{className:"w-4 h-4 text-primary"})," Dados do Carto"]}),n.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded mb-3 p-3 text-sm",placeholder:"Nmero do Carto",value:k.number,onChange:z=>S({...k,number:z.target.value})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"MM",value:k.expiryMonth,onChange:z=>S({...k,expiryMonth:z.target.value})}),n.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"AA",value:k.expiryYear,onChange:z=>S({...k,expiryYear:z.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"CVC",value:k.cvc,onChange:z=>S({...k,cvc:z.target.value})}),n.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"Nome no Carto",value:k.holderName,onChange:z=>S({...k,holderName:z.target.value})})]})]}),n.jsx(_e,{onClick:()=>C("credit_card",k),className:"w-full bg-green-500 hover:bg-green-400 text-black font-bold h-12",disabled:s,children:s?"Finalizando...":"Confirmar Pagamento"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:T,disabled:s,className:"w-full md:w-auto px-8 py-4 bg-green-500 hover:bg-green-400 text-black font-black text-lg md:text-xl rounded-full shadow-lg hover:scale-105 transition-all flex items-center justify-center gap-2 animate-pulse",children:s?"Processando...":M.button_text||"SIM, QUERO ADICIONAR AO MEU PEDIDO"}),n.jsx("button",{onClick:O,className:"text-sm text-gray-500 hover:text-white underline decoration-gray-700 underline-offset-4 transition-colors",children:"No, obrigado. Vou perder essa oportunidade."})]})]}),M.show_description&&M.description&&n.jsx("div",{className:"max-w-2xl text-center text-gray-400 text-sm md:text-base leading-relaxed",children:M.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mt-8",children:[n.jsx(br,{className:"w-3 h-3"})," Ambiente Seguro e Criptografado"]})]})})},zae=({order:e})=>{const{trackPurchase:t,isInitialized:r}=aP();return v.useEffect(()=>{r&&e&&e.status==="paid"&&t({id:e.id,amount:e.total||e.amount||0,currency:"BRL"})},[e,r]),null},CC=()=>{var f,m,g;const{orderId:e}=ta(),t=mt(),[r,a]=v.useState(null),[s,o]=v.useState(null),[c,d]=v.useState(!0);if(v.useEffect(()=>{(async()=>{if(e)try{const{data:y,error:N}=await Y.from("orders").select("*").eq("id",e).single();if(N)throw N;if(a(y),y!=null&&y.checkout_id){const{data:_,error:w}=await Y.from("checkouts").select("thank_you_button_url, thank_you_button_text, config").eq("id",y.checkout_id).single();!w&&_&&o(_)}}catch(y){console.error("Error fetching order:",y)}finally{d(!1)}})()},[e]),c)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),n.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})]})});const h=(s==null?void 0:s.config)||{};return n.jsx("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:n.jsxs(rP,{config:h,children:[r&&n.jsx(zae,{order:r}),n.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-12 sm:py-20",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden text-center p-8 sm:p-12",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-in zoom-in duration-300",children:n.jsx(Or,{className:"w-10 h-10 text-green-600"})}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Pagamento Confirmado!"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-lg mx-auto",children:"Sua compra foi realizada com sucesso. Voc receber os detalhes do acesso no seu e-mail em instantes."}),n.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6 mb-8 text-left max-w-md mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[n.jsx("div",{className:"w-10 h-10 bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:n.jsx(Zr,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:["Pedido #",e==null?void 0:e.slice(0,8)]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[(f=r==null?void 0:r.items)==null?void 0:f.map((x,y)=>{var N;return n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:x.name}),n.jsxs("span",{className:"font-medium",children:["R$ ",(N=x.price)==null?void 0:N.toFixed(2)]})]},y)}),n.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-200 flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-gray-900",children:"Total Pago"}),n.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["R$ ",((m=r==null?void 0:r.total)==null?void 0:m.toFixed(2))||((g=r==null?void 0:r.amount)==null?void 0:g.toFixed(2))]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-lg mx-auto",children:[n.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 bg-blue-50/50 flex items-start gap-3 text-left",children:[n.jsx(Ur,{className:"w-5 h-5 text-blue-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"Verifique seu E-mail"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enviamos o link de acesso e a nota fiscal para ",r==null?void 0:r.customer_email,"."]})]})]}),n.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 bg-purple-50/50 flex items-start gap-3 text-left",children:[n.jsx(Gt,{className:"w-5 h-5 text-purple-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"Acompanhe o Pedido"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Voc pode ver o status da sua compra a qualquer momento."})]})]})]}),n.jsx("div",{className:"mt-10 flex justify-center",children:n.jsxs(_e,{onClick:()=>{const x=(s==null?void 0:s.thank_you_button_url)||"https://clube.discow.com.br/login";x.startsWith("http")?window.open(x,"_blank"):t(x)},className:"w-full sm:w-auto min-w-[200px]",children:[(s==null?void 0:s.thank_you_button_text)||"Acessar",n.jsx(ds,{className:"w-4 h-4 ml-2"})]})})]}),n.jsxs("p",{className:"text-center text-gray-400 text-sm mt-8",children:["Super Checkout  ",new Date().getFullYear()]})]})]})})},Fae=()=>{const e=mt(),[t,r]=v.useState(!1),[a,s]=v.useState("login"),[o,c]=v.useState(null),[d,h]=v.useState(null);v.useEffect(()=>{(async()=>{console.log("[Login] Verifying setup status...");const{data:k,error:S}=await Y.rpc("is_setup_required");if(console.log("[Login] Setup check result:",{data:k,error:S}),S){console.error("[Login] Error checking setup:",S);return}k===!0?(console.log("[Login] Setup required. Redirecting..."),e("/setup")):console.log("[Login] Setup not required.")})()},[]);const[f,m]=v.useState(""),[g,x]=v.useState(""),[y,N]=v.useState(""),_=async E=>{E.preventDefault(),r(!0),c(null),h(null);try{if(a==="login"){const{data:{user:k},error:S}=await Y.auth.signInWithPassword({email:g,password:y});if(S)throw S;if(k){ma.updateLastSeen(k.id).catch(console.error),ma.logActivity(k.id,"login",{method:"password"}).catch(console.error);const{data:T}=await Y.from("profiles").select("role").eq("id",k.id).single();T==null||T.role,e("/admin")}}else if(a==="signup"){const{error:k}=await Y.auth.signUp({email:g,password:y,options:{data:{name:f}}});if(k)throw k;h("Conta criada com sucesso! Verifique seu e-mail para confirmar.")}else if(a==="recovery"){const{error:k}=await Y.auth.resetPasswordForEmail(g,{redirectTo:window.location.origin+"/update-password"});if(k)throw k;h("Link de recuperao enviado! Verifique seu e-mail.")}}catch(k){console.error(k),c(w(k.message))}finally{r(!1)}},w=E=>{if(!E)return"Ocorreu um erro. Tente novamente.";const k=E.toLowerCase();return k.includes("invalid login credentials")?"E-mail ou senha invlidos.":k.includes("email not confirmed")?"E-mail no confirmado. Verifique sua caixa de entrada.":k.includes("user not found")?"Usurio no encontrado.":k.includes("too many requests")?"Muitas tentativas. Aguarde um pouco.":"Erro ao acessar: "+E};return n.jsxs("div",{className:"min-h-screen flex bg-[#05050A] text-white font-sans",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-[#0A0A12] items-center justify-center p-12",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[n.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[70%] h-[70%] bg-primary/20 rounded-full blur-[120px] animate-pulse-slow"}),n.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] bg-purple-900/20 rounded-full blur-[100px] animate-pulse-slow delay-1000"})]}),n.jsxs("div",{className:"relative z-10 max-w-lg",children:[n.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["Seu sistema de checkout ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-400",children:"sem taxas."})]}),n.jsx("p",{className:"text-2xl text-white font-semibold leading-relaxed mb-8",children:"Liberdade total para escalar seu negcio."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center shrink-0",children:n.jsx(ft,{className:"w-5 h-5 text-green-400"})}),n.jsx("p",{className:"text-lg text-gray-300",children:"Sem bloqueios"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center shrink-0",children:n.jsx(ft,{className:"w-5 h-5 text-green-400"})}),n.jsx("p",{className:"text-lg text-gray-300",children:"Sem comisses por venda"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center shrink-0",children:n.jsx(ft,{className:"w-5 h-5 text-green-400"})}),n.jsx("p",{className:"text-lg text-gray-300",children:"Dinheiro direto na sua conta"})]})]})]})]}),n.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12 relative",children:[n.jsx("div",{className:"absolute top-0 right-0 w-full h-full overflow-hidden z-0 lg:hidden pointer-events-none",children:n.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[80%] h-[50%] bg-primary/10 rounded-full blur-[80px]"})}),n.jsxs("div",{className:"w-full max-w-md relative z-10",children:[n.jsxs("div",{className:"text-center lg:text-left mb-8",children:[n.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[a==="login"&&"Bem-vindo de volta",a==="signup"&&"Crie sua conta",a==="recovery"&&"Recuperar Senha"]}),n.jsxs("p",{className:"text-gray-400",children:[a==="login"&&"Acesse seu painel administrativo.",a==="signup"&&"Comece a vender sem taxas hoje mesmo.",a==="recovery"&&"Digite seu e-mail para receber o link de redefinio."]})]}),o&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-xl mb-6 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[n.jsx(nn,{className:"w-5 h-5 shrink-0 mt-0.5"}),n.jsx("span",{className:"text-sm",children:o})]}),d&&n.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 p-4 rounded-xl mb-6 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[n.jsx(Or,{className:"w-5 h-5 shrink-0 mt-0.5"}),n.jsx("span",{className:"text-sm",children:d})]}),n.jsxs("form",{onSubmit:_,className:"space-y-5",children:[a==="signup"&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"Nome Completo"}),n.jsxs("div",{className:"relative group",children:[n.jsx(cn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),n.jsx("input",{type:"text",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"Seu nome",value:f,onChange:E=>m(E.target.value)})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"E-mail"}),n.jsxs("div",{className:"relative group",children:[n.jsx(Ur,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),n.jsx("input",{type:"email",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"seu@email.com",value:g,onChange:E=>x(E.target.value)})]})]}),a!=="recovery"&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex justify-between items-center ml-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Senha"}),a==="login"&&n.jsx("button",{type:"button",onClick:()=>{s("recovery"),c(null),h(null)},className:"text-xs text-primary hover:text-primary-light transition-colors",children:"Esqueceu a senha?"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),n.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"",value:y,onChange:E=>N(E.target.value)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary-hover hover:to-purple-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-primary/25 hover:shadow-primary/40 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-4 group",children:t?n.jsx(Ir,{className:"w-5 h-5 animate-spin"}):n.jsxs(n.Fragment,{children:[a==="login"&&"Entrar na Conta",a==="signup"&&"Criar Conta Grtis",a==="recovery"&&"Enviar Link de Recuperao",n.jsx(ds,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:a==="recovery"?n.jsx("button",{onClick:()=>{s("login"),c(null),h(null)},className:"text-gray-400 hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:"Voltar para Login"}):n.jsxs("p",{className:"text-gray-400",children:[a==="login"?"Ainda no tem uma conta?":"J tem uma conta?",n.jsx("button",{onClick:()=>{s(a==="login"?"signup":"login"),c(null),h(null)},className:"ml-2 text-white font-medium hover:text-primary transition-colors",children:a==="login"?"Cadastre-se":"Fazer Login"})]})})]})]})]})},qae=()=>{const e=mt(),[t,r]=v.useState(!1),[a,s]=v.useState(""),[o,c]=v.useState(""),[d,h]=v.useState(null),[f,m]=v.useState(null);v.useEffect(()=>{Y.auth.getSession().then(({data:{session:x}})=>{x||e("/login")})},[e]);const g=async x=>{if(x.preventDefault(),a!==o){h("As senhas no coincidem");return}r(!0),h(null),m(null);try{const{error:y}=await Y.auth.updateUser({password:a});if(y)throw y;m("Senha atualizada com sucesso! Redirecionando..."),setTimeout(()=>{e("/admin")},2e3)}catch(y){console.error(y),h(y.message||"Erro ao atualizar senha.")}finally{r(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#05050A] text-white p-4 font-sans",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(br,{className:"w-6 h-6 text-primary"})}),n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Definir Nova Senha"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Digite sua nova senha abaixo para recuperar o acesso  sua conta."})]}),d&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded-lg mb-6 text-sm flex items-center gap-2",children:[n.jsx(nn,{className:"w-4 h-4"})," ",d]}),f&&n.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 p-3 rounded-lg mb-6 text-sm flex items-center gap-2",children:[n.jsx(Or,{className:"w-4 h-4"})," ",f]}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"Nova Senha"}),n.jsxs("div",{className:"relative group",children:[n.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),n.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"",value:a,onChange:x=>s(x.target.value)})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"Confirmar Senha"}),n.jsxs("div",{className:"relative group",children:[n.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),n.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"",value:o,onChange:x=>c(x.target.value)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full bg-primary hover:bg-primary-hover text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:t?n.jsx(Ir,{className:"w-5 h-5 animate-spin"}):n.jsxs(n.Fragment,{children:["Atualizar Senha",n.jsx(ds,{className:"w-4 h-4"})]})})]})]})})})},AC=({forcedSlug:e})=>{const{slug:t}=ta(),r=e||t,a=mt(),[s,o]=v.useState(null),[c,d]=v.useState(!0),[h,f]=v.useState(""),[m,g]=v.useState(""),[x,y]=v.useState(!1),[N,_]=v.useState("");v.useEffect(()=>{r&&w(r)},[r]);const w=async S=>{try{const T=await ae.getMemberAreaBySlug(S);T?o(T):a("/app")}catch(T){console.error("Error loading member area:",T)}finally{d(!1)}},E=async S=>{S.preventDefault(),y(!0),_("");try{const{data:T,error:C}=await Y.auth.signInWithPassword({email:h,password:m});if(C)throw C;T.user&&a(`/app/${r}`)}catch(T){console.error("Login error:",T),_("Email ou senha incorretos.")}finally{y(!1)}};if(c)return n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:"Carregando..."});if(!s)return null;const k=s.primary_color||"#E50914";return n.jsxs("div",{className:"min-h-screen flex bg-[#141414] text-white",children:[n.jsxs("div",{className:"hidden lg:block w-1/2 relative overflow-hidden",children:[s.login_image_url?n.jsx("img",{src:s.login_image_url,alt:"Login Background",className:"absolute inset-0 w-full h-full object-cover"}):n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 to-black"}),n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-12",children:[s.logo_url&&n.jsx("img",{src:s.logo_url,alt:s.name,className:"h-24 object-contain mb-8 drop-shadow-2xl"}),n.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:s.name}),n.jsx("p",{className:"text-xl text-gray-200 max-w-md drop-shadow-md",children:"Acesse sua conta para continuar aprendendo."})]})]}),n.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:n.jsxs("div",{className:"w-full max-w-md space-y-8",children:[n.jsxs("div",{className:"text-center lg:hidden mb-8",children:[s.logo_url&&n.jsx("img",{src:s.logo_url,alt:s.name,className:"h-16 object-contain mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold",children:s.name})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Bem-vindo de volta"}),n.jsx("p",{className:"text-gray-400",children:"Entre com suas credenciais para acessar."})]}),N&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-xl text-sm",children:N}),n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),n.jsx("input",{type:"email",required:!0,value:h,onChange:S=>f(S.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"seu@email.com",style:{"--tw-ring-color":k}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),n.jsx("input",{type:"password",required:!0,value:m,onChange:S=>g(S.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"",style:{"--tw-ring-color":k}})]})]}),n.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",style:{backgroundColor:k},children:x?n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:["Entrar ",n.jsx(ds,{className:"w-5 h-5"})]})})]}),s.allow_free_signup!==!1&&n.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"Ainda no tem uma conta?"}),n.jsx(Cr,{to:`/app/${r}/signup`,className:"inline-flex items-center gap-2 text-white hover:underline transition-all",style:{color:k},children:"Criar conta gratuita"})]})]})})]})},TC=({forcedSlug:e})=>{const{slug:t}=ta(),r=e||t,a=mt(),[s,o]=v.useState(null),[c,d]=v.useState(!0),[h,f]=v.useState(""),[m,g]=v.useState(""),[x,y]=v.useState(""),[N,_]=v.useState(!1),[w,E]=v.useState("");v.useEffect(()=>{r&&k(r)},[r]);const k=async C=>{try{const O=await ae.getMemberAreaBySlug(C);O?(o(O),O.allow_free_signup===!1&&a(`/app/${C}/login`)):a("/app")}catch(O){console.error("Error loading member area:",O)}finally{d(!1)}},S=async C=>{C.preventDefault(),_(!0),E("");try{const{data:O,error:M}=await Y.auth.signUp({email:m,password:x,options:{data:{full_name:h}}});if(M)throw M;O.user&&a(`/app/${r}`)}catch(O){console.error("Signup error:",O),E(O.message||"Erro ao criar conta.")}finally{_(!1)}};if(c)return n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:"Carregando..."});if(!s)return null;const T=s.primary_color||"#E50914";return n.jsxs("div",{className:"min-h-screen flex bg-[#141414] text-white",children:[n.jsxs("div",{className:"hidden lg:block w-1/2 relative overflow-hidden",children:[s.login_image_url?n.jsx("img",{src:s.login_image_url,alt:"Login Background",className:"absolute inset-0 w-full h-full object-cover"}):n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 to-black"}),n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-12",children:[s.logo_url&&n.jsx("img",{src:s.logo_url,alt:s.name,className:"h-24 object-contain mb-8 drop-shadow-2xl"}),n.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:"Crie sua conta gratuita"}),n.jsx("p",{className:"text-xl text-gray-200 max-w-md drop-shadow-md",children:"Junte-se a ns e comece a aprender hoje mesmo."})]})]}),n.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:n.jsxs("div",{className:"w-full max-w-md space-y-8",children:[n.jsxs("div",{className:"text-center lg:hidden mb-8",children:[s.logo_url&&n.jsx("img",{src:s.logo_url,alt:s.name,className:"h-16 object-contain mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold",children:s.name})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Criar Conta"}),n.jsx("p",{className:"text-gray-400",children:"Preencha os dados abaixo para se cadastrar."})]}),w&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-xl text-sm",children:w}),n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Nome Completo"}),n.jsxs("div",{className:"relative",children:[n.jsx(cn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),n.jsx("input",{type:"text",required:!0,value:h,onChange:C=>f(C.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"Seu nome",style:{"--tw-ring-color":T}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ur,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),n.jsx("input",{type:"email",required:!0,value:m,onChange:C=>g(C.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"seu@email.com",style:{"--tw-ring-color":T}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),n.jsx("input",{type:"password",required:!0,value:x,onChange:C=>y(C.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"",style:{"--tw-ring-color":T}})]})]}),n.jsx("button",{type:"submit",disabled:N,className:"w-full py-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",style:{backgroundColor:T},children:N?n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:["Criar Conta ",n.jsx(ds,{className:"w-5 h-5"})]})})]}),n.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[n.jsx("p",{className:"text-gray-400 mb-4",children:"J tem uma conta?"}),n.jsx(Cr,{to:`/app/${r}/login`,className:"inline-flex items-center gap-2 text-white hover:underline transition-all",style:{color:T},children:"Fazer Login"})]})]})})]})};function Hae(){const e=mt(),{fetchProfile:t}=fs(),[r,a]=v.useState(""),[s,o]=v.useState(""),[c,d]=v.useState(""),[h,f]=v.useState(!1),[m,g]=v.useState(""),[x,y]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const{data:w,error:E}=await Y.rpc("is_setup_required");if(E)throw E;w||e("/login")}catch(w){console.error("Error checking setup status:",w)}})()},[e]);const N=async _=>{_.preventDefault(),f(!0),g("");try{const{data:w,error:E}=await Y.rpc("is_setup_required");if(E)throw E;if(!w){alert("O sistema j possui um administrador. Redirecionando para login..."),e("/login");return}const{data:k,error:S}=await Y.auth.signUp({email:s,password:c,options:{data:{full_name:r,role:"admin"}}});if(S)throw S;k.user&&y(!0)}catch(w){console.error(w),w.message&&w.message.includes("already registered")?g("Este e-mail j est cadastrado. Verifique se recebeu o link de confirmao ou execute o script de correo de perfis no banco de dados."):w.message&&w.message.includes("Error sending confirmation email")?g("Erro ao enviar e-mail de confirmao pelo Supabase. Verifique se o limite de emails foi atingido ou configure um SMTP customizado no painel do Supabase (Project Settings > Auth > SMTP)."):g(w.message||"Erro ao criar conta de administrador.")}finally{f(!1)}};return x?n.jsxs("div",{className:"min-h-screen bg-[#05050A] text-white selection:bg-primary/30 font-sans relative overflow-hidden flex items-center justify-center",children:[n.jsx("div",{className:"fixed top-0 left-0 w-[500px] h-[500px] bg-[#3ECF8E]/10 rounded-full blur-[128px] pointer-events-none -translate-x-1/2 -translate-y-1/2 mix-blend-screen"}),n.jsx("div",{className:"fixed bottom-0 right-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[128px] pointer-events-none translate-x-1/2 translate-y-1/2 mix-blend-screen"}),n.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-[#3ECF8E]/10 border border-[#3ECF8E]/20 shadow-2xl backdrop-blur-sm animate-in zoom-in duration-500",children:n.jsx(ft,{className:"w-8 h-8 text-[#3ECF8E]"})}),n.jsx("h1",{className:"text-3xl font-extrabold tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400",children:"Conta Criada com Sucesso!"}),n.jsx("p",{className:"text-gray-400",children:"Sua conta de administrador foi criada."})]}),n.jsx("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-[#3ECF8E]/10 border border-[#3ECF8E]/20 rounded-xl",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ur,{className:"w-5 h-5 text-[#3ECF8E] shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-white mb-1",children:"Confirme seu e-mail"}),n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Enviamos um link de confirmao para:"}),n.jsx("p",{className:"text-sm font-mono bg-black/40 px-3 py-2 rounded-lg text-[#3ECF8E] break-all",children:s})]})]})}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-[#3ECF8E] font-bold mt-0.5",children:"1."}),n.jsxs("span",{children:["Verifique sua caixa de entrada e tambm a pasta de ",n.jsx("strong",{className:"text-white",children:"spam/lixo eletrnico"})]})]}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-[#3ECF8E] font-bold mt-0.5",children:"2."}),n.jsx("span",{children:"Clique no link de confirmao no e-mail"})]}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-[#3ECF8E] font-bold mt-0.5",children:"3."}),n.jsx("span",{children:"Aps confirmar, faa login com suas credenciais"})]})]}),n.jsxs("button",{onClick:()=>e("/login"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#3ECF8E]/20 hover:shadow-[#3ECF8E]/40 hover:-translate-y-1 mt-6",children:["Ir para Login ",n.jsx(Ia,{className:"w-4 h-4"})]})]})}),n.jsx("p",{className:"text-center text-gray-600 text-xs mt-8",children:" Super Checkout System"})]})]}):n.jsxs("div",{className:"min-h-screen bg-[#05050A] text-white selection:bg-primary/30 font-sans relative overflow-hidden flex items-center justify-center",children:[n.jsx("div",{className:"fixed top-0 left-0 w-[500px] h-[500px] bg-[#3ECF8E]/10 rounded-full blur-[128px] pointer-events-none -translate-x-1/2 -translate-y-1/2 mix-blend-screen"}),n.jsx("div",{className:"fixed bottom-0 right-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[128px] pointer-events-none translate-x-1/2 translate-y-1/2 mix-blend-screen"}),n.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-white/5 border border-white/10 shadow-2xl backdrop-blur-sm animate-in zoom-in duration-500",children:n.jsx(Vm,{className:"w-8 h-8 text-[#3ECF8E]"})}),n.jsx("h1",{className:"text-3xl font-extrabold tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400",children:"Bem-vindo(a)"}),n.jsxs("p",{className:"text-gray-400",children:["Vamos criar sua conta de ",n.jsx("strong",{children:"Administrador"})," para acessar o sistema."]})]}),n.jsx("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5 uppercase tracking-wider",children:"Nome Completo"}),n.jsxs("div",{className:"relative group",children:[n.jsx(cn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),n.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-[#3ECF8E]/50 focus:ring-1 focus:ring-[#3ECF8E]/50 outline-none transition-all",placeholder:"Seu Nome",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5 uppercase tracking-wider",children:"E-mail de Acesso"}),n.jsxs("div",{className:"relative group",children:[n.jsx(Ur,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),n.jsx("input",{type:"email",value:s,onChange:_=>o(_.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-[#3ECF8E]/50 focus:ring-1 focus:ring-[#3ECF8E]/50 outline-none transition-all",placeholder:"seu@email.com",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5 uppercase tracking-wider",children:"Senha Segura"}),n.jsxs("div",{className:"relative group",children:[n.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),n.jsx("input",{type:"password",value:c,onChange:_=>d(_.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-[#3ECF8E]/50 focus:ring-1 focus:ring-[#3ECF8E]/50 outline-none transition-all",placeholder:"",required:!0,minLength:6})]})]}),m&&n.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm flex items-center gap-2 animate-in slide-in-from-top-2",children:[n.jsx(nn,{className:"w-4 h-4 shrink-0"}),m]}),n.jsx("button",{type:"submit",disabled:h,className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#3ECF8E]/20 hover:shadow-[#3ECF8E]/40 hover:-translate-y-1 mt-4",children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Criando Conta..."]}):n.jsxs(n.Fragment,{children:["Criar Conta e Acessar ",n.jsx(Ia,{className:"w-4 h-4"})]})})]})}),n.jsx("p",{className:"text-center text-gray-600 text-xs mt-8",children:" Super Checkout System"})]})]})}const Gae=({children:e,memberArea:t})=>{var w,E,k,S;console.log("[Layout] Rendering with memberArea:",t?t.name:"null");const{user:r,profile:a,signOut:s}=fs(),o=mt(),c=ja(),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[g,x]=v.useState([]);if((a==null?void 0:a.status)==="suspended")return n.jsx("div",{className:"min-h-screen bg-[#0E1012] flex items-center justify-center text-white p-4 font-sans",children:n.jsxs("div",{className:"max-w-md w-full bg-[#1A1D21] p-8 rounded-2xl border border-red-500/20 text-center space-y-6 shadow-2xl",children:[n.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto ring-4 ring-red-500/5",children:n.jsx(ky,{className:"w-10 h-10 text-red-500"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"Acesso Suspenso"}),n.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Sua conta foi temporariamente suspensa por um administrador.",n.jsx("br",{}),"Entre em contato com o suporte para mais informaes."]})]}),n.jsxs("button",{onClick:()=>{s(),o("/login")},className:"w-full py-3 bg-white/5 hover:bg-white/10 active:bg-white/15 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 text-sm border border-white/5 hover:border-white/10",children:[n.jsx(Wf,{className:"w-4 h-4"}),"Sair da conta"]}),n.jsx("div",{className:"pt-4 border-t border-white/5",children:n.jsxs("p",{className:"text-xs text-gray-600",children:["ID: ",r==null?void 0:r.id]})})]})});const N=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&window.location.pathname.startsWith("/app/")===!1?"":t?`/app/${t.slug}`:"/app";v.useEffect(()=>{const T=()=>{m(window.scrollY>50)};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[]),v.useEffect(()=>{if(t!=null&&t.favicon_url){const T=document.querySelector("link[rel*='icon']")||document.createElement("link"),C=T.href;return T.type="image/x-icon",T.rel="shortcut icon",T.href=t.favicon_url,T.parentElement||document.head.appendChild(T),()=>{T.href=C}}},[t==null?void 0:t.favicon_url]);const _=T=>{x(C=>C.includes(T)?C.filter(O=>O!==T):[...C,T])};return n.jsxs("div",{className:"min-h-screen bg-[#0E1012] text-white font-sans selection:bg-red-600 selection:text-white",children:[n.jsxs("nav",{className:`fixed top-0 w-full z-50 px-4 md:px-8 py-4 flex items-center justify-between transition-all duration-300 ${f?"bg-[#0E1012]/80 backdrop-blur-md shadow-lg":"bg-gradient-to-b from-black/80 to-transparent"}`,children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("button",{onClick:()=>h(!0),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(ZR,{className:"w-6 h-6 text-white"})}),n.jsx(Cr,{to:N,className:"flex items-center gap-2 hover:scale-105 transition-transform",children:t!=null&&t.logo_url?n.jsx("img",{src:t.logo_url,alt:t.name,className:"h-8 object-contain"}):n.jsxs("div",{className:"text-red-600 font-bold text-2xl tracking-tighter",children:[((w=t==null?void 0:t.name)==null?void 0:w.toUpperCase())||"MEMBER"," ",n.jsx("span",{className:"text-white text-xs font-normal tracking-normal opacity-70",children:"AREA"})]})})]}),n.jsx("div",{className:"flex items-center gap-6",children:r?n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"flex items-center gap-2 cursor-pointer",children:n.jsx("div",{className:"w-8 h-8 rounded bg-blue-600 flex items-center justify-center text-xs font-bold",style:{backgroundColor:t==null?void 0:t.primary_color},children:((k=(E=r==null?void 0:r.user_metadata)==null?void 0:E.name)==null?void 0:k.substring(0,2).toUpperCase())||"US"})}),n.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#1A1D21] border border-white/10 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right",children:n.jsxs("div",{className:"py-2",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-white/10 mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-white truncate",children:((S=r==null?void 0:r.user_metadata)==null?void 0:S.name)||"Usurio"}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:r==null?void 0:r.email})]}),n.jsxs(Cr,{to:`${N}/profile`,className:"block px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/10",children:[n.jsx(cn,{className:"w-4 h-4 inline mr-2"})," Perfil"]}),n.jsxs("button",{onClick:()=>{s(),o(`${N}/login`)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/10",children:[n.jsx(Wf,{className:"w-4 h-4 inline mr-2"})," Sair"]})]})})]}):n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cr,{to:`${N}/signup`,className:"hidden md:block px-4 py-2 text-sm font-medium text-white border border-white/30 rounded hover:bg-white/10 transition-colors",children:"Cadastre-se aqui"}),n.jsx(Cr,{to:`${N}/login`,className:"px-4 py-2 text-sm font-medium text-[#0E1012] bg-white rounded hover:bg-gray-100 transition-colors",children:"Entrar"})]})})]}),n.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] transition-opacity duration-300 ${d?"opacity-100 visible":"opacity-0 invisible"}`,onClick:()=>h(!1)}),n.jsxs("div",{className:`fixed top-0 left-0 h-full w-80 bg-[#0E1012]/80 backdrop-blur-md border-r border-white/5 z-[70] transform transition-transform duration-300 shadow-2xl flex flex-col ${d?"translate-x-0":"-translate-x-full"}`,children:[n.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/5",children:[n.jsx("div",{className:"flex items-center gap-2",children:t!=null&&t.logo_url?n.jsx("img",{src:t.logo_url,alt:t.name,className:"h-8 object-contain"}):n.jsx("span",{className:"font-bold text-lg tracking-tight",children:(t==null?void 0:t.name)||"Menu"})}),n.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:n.jsx(ea,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-4",children:n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs(Cr,{to:N,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${c.pathname===N?"bg-[#D4143C] text-white shadow-lg shadow-red-900/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,style:c.pathname===N&&(t!=null&&t.primary_color)?{backgroundColor:t.primary_color}:{},children:[n.jsx(JR,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Incio"})]})}),n.jsx("li",{children:n.jsxs(Cr,{to:`${N}/my-products`,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${c.pathname.includes("/my-products")?"bg-[#D4143C] text-white shadow-lg shadow-red-900/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,style:c.pathname.includes("/my-products")&&(t!=null&&t.primary_color)?{backgroundColor:t.primary_color}:{},children:[n.jsx(Zr,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Meus Produtos"})]})}),n.jsx("li",{children:n.jsxs(Cr,{to:`${N}/products`,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${c.pathname.includes("/products")?"bg-[#D4143C] text-white shadow-lg shadow-red-900/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,style:c.pathname.includes("/products")&&(t!=null&&t.primary_color)?{backgroundColor:t.primary_color}:{},children:[n.jsx(Gt,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Produtos  venda"})]})}),n.jsxs("li",{children:[n.jsxs("button",{onClick:()=>_("links"),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all duration-200 group ${g.includes("links")?"text-white bg-white/5":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kl,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Links"})]}),n.jsx(Ol,{className:`w-4 h-4 transition-transform duration-300 ${g.includes("links")?"rotate-0":"rotate-180"}`})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${g.includes("links")?"max-h-96 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:n.jsxs("ul",{className:"space-y-1 pl-4",children:[((t==null?void 0:t.custom_links)||[]).filter(T=>T.active).map(T=>n.jsx("li",{children:n.jsxs("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-4 py-2.5 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-colors group",onClick:()=>h(!1),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[T.title.toLowerCase().includes("instagram")?n.jsx(aQ,{className:"w-4 h-4"}):n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:T.title})]}),n.jsx(pJ,{className:"w-3 h-3 opacity-0 group-hover:opacity-50 transition-opacity"})]})},T.id)),n.jsx("li",{children:n.jsx(Cr,{to:`${N}/faq`,onClick:()=>h(!1),className:`flex items-center justify-between px-4 py-2.5 rounded-lg text-sm transition-colors group ${c.pathname.includes("/faq")?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Hm,{className:"w-4 h-4"}),n.jsx("span",{children:"Dvidas frequentes"})]})})})]})})]})]})}),n.jsx("div",{className:"p-6 border-t border-white/5",children:n.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-600 font-medium",children:[n.jsx("span",{className:"text-[10px]",children:"Create by"}),n.jsxs("span",{className:"text-gray-500 font-bold tracking-wide",children:["Super Checkout .APP",n.jsx("sup",{className:"text-[8px] ml-0.5",children:""})]})]})})]}),n.jsx("main",{className:"pt-20 pb-20 min-h-screen",children:e}),n.jsxs("footer",{className:"py-12 px-4 md:px-12 text-center text-gray-500 text-sm bg-black/50 mt-auto flex items-center justify-center gap-2",children:[n.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-4 h-4 object-contain opacity-50"}),n.jsxs("p",{children:["Copyright  2025 Create ",(t==null?void 0:t.name)||"Netflix Academy"]})]})]})},OC=({forcedSlug:e})=>{const{slug:t}=ta(),r=e||t,a=mt(),[s,o]=v.useState(null),[c,d]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(console.log("[Wrapper] Loading Member Area for slug:",r),!!r)try{const f=await ae.getMemberAreaBySlug(r);console.log("[Wrapper] Found area:",f),f?o(f):(console.error("[Wrapper] Member Area not found for slug:",r),a("/app"))}catch(f){console.error("[Wrapper] Error loading member area:",f)}finally{d(!1)}})()},[r,a]),c?n.jsx("div",{className:"min-h-screen bg-[#0E1012] flex items-center justify-center",children:n.jsx(Ir,{className:"w-8 h-8 animate-spin text-red-600"})}):n.jsx(Gae,{memberArea:s,children:n.jsx(jI,{context:{memberArea:s}})})},RC=()=>{const{memberArea:e}=uo(),{slug:t}=ta(),r=mt(),[a,s]=v.useState([]),[o,c]=v.useState([]),[d,h]=v.useState(!0),[f,m]=v.useState(null),[g,x]=v.useState(!1),{handleAccess:y}=Jl(o);v.useEffect(()=>{N()},[e]);const N=async()=>{try{if(e!=null&&e.id){const[w,E]=await Promise.all([ae.getMemberAreaProducts(e.id),ae.getAccessGrants()]);c(E);const k=E.filter(T=>T.product_id&&T.status==="active").map(T=>T.product_id),S=w.filter(T=>!k.includes(T.id));s(S)}}catch(w){console.error("Erro ao carregar produtos:",w)}finally{h(!1)}},_=async w=>{y(w,{onAccess:async()=>{try{const E=await ae.getProductContents(w.id);if(E.length>0){const k=E[0],S=t?`/app/${t}/course/${k.content_id}`:`/course/${k.content_id}`;r(S)}}catch(E){console.error("Erro ao navegar:",E)}},onSalesModal:E=>{const k=E||w;w.member_area_action==="sales_page"?(m(k),x(!0)):w.redirect_link?window.open(w.redirect_link,"_blank"):(m(k),x(!0))}})};return d?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx(Ir,{className:"w-8 h-8 animate-spin text-red-600"})}):n.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Produtos  Venda"}),n.jsx("p",{className:"text-gray-400",children:"Confira outros produtos disponveis para voc."})]}),a.length===0?n.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-white/10",children:[n.jsx(Gt,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhum produto disponvel"}),n.jsx("p",{className:"text-gray-400",children:"Voc j possui acesso a todos os produtos ou no h produtos  venda no momento."})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(w=>n.jsxs("div",{className:"bg-[#1A1D21] rounded-xl overflow-hidden border border-white/10 hover:border-white/20 transition-all hover:transform hover:scale-[1.02] group cursor-pointer",onClick:()=>_(w),children:[n.jsxs("div",{className:"aspect-video relative overflow-hidden bg-black/40",children:[w.imageUrl?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:w.imageUrl,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-50 blur-xl scale-110 group-hover:scale-125 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("img",{src:w.imageUrl,alt:w.name,className:"relative w-full h-full object-contain p-2 z-10 transition-transform duration-500 group-hover:scale-105"})]}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:n.jsx(Gt,{className:"w-12 h-12 opacity-20"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20"}),n.jsx("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-sm rounded-full p-2 z-30",children:n.jsx(br,{className:"w-4 h-4 text-white"})})]}),n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-1",children:w.name}),n.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2 min-h-[2.5rem]",children:w.description||"Sem descrio."}),n.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w.price_real||0)}),n.jsxs("button",{className:"px-4 py-2 bg-white text-black font-bold rounded-lg text-sm hover:bg-gray-200 transition-colors flex items-center gap-2",children:["Comprar ",n.jsx(tn,{className:"w-3 h-3"})]})]})]})]},w.id))}),n.jsx(rp,{isOpen:g,onClose:()=>x(!1),product:f})]})},DC=()=>{const{memberArea:e}=uo(),{slug:t}=ta(),r=mt(),[a,s]=v.useState([]),[o,c]=v.useState(!0);v.useEffect(()=>{d()},[e]);const d=async()=>{try{const m=(await ae.getAccessGrants()).filter(x=>x.product_id&&x.status==="active").map(x=>x.product_id);if(m.length===0){s([]),c(!1);return}const g=await ae.getProductsByIds(m);s(g)}catch(f){console.error("Erro ao carregar produtos:",f)}finally{c(!1)}},h=async f=>{try{const m=await ae.getProductContents(f.id);if(m.length>0){const g=m[0],x=t?`/app/${t}/course/${g}`:`/course/${g}`;r(x)}else console.warn("Nenhum contedo encontrado para o produto:",f.name)}catch(m){console.error("Erro ao navegar para contedo:",m)}};return o?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx(Ir,{className:"w-8 h-8 animate-spin text-red-600"})}):n.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Meus Produtos"}),n.jsx("p",{className:"text-gray-400",children:"Produtos que voc j adquiriu e tem acesso."})]}),a.length===0?n.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-white/10",children:[n.jsx(Zr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhum produto adquirido"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Voc ainda no possui nenhum produto."}),n.jsx("button",{onClick:()=>r(t?`/app/${t}/products`:"/products"),className:"px-6 py-3 bg-white text-black font-bold rounded-lg hover:bg-gray-200 transition-colors",children:"Ver Produtos  Venda"})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(f=>n.jsxs("div",{className:"bg-[#1A1D21] rounded-xl overflow-hidden border border-white/10 hover:border-white/20 transition-all hover:transform hover:scale-[1.02] group cursor-pointer relative",onClick:()=>h(f),children:[n.jsxs("div",{className:"absolute top-3 left-3 z-10 bg-orange-500/20 text-orange-500 border border-orange-500/20 text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wide shadow-sm flex items-center gap-1 backdrop-blur-sm",children:[n.jsx(Zr,{className:"w-3 h-3",strokeWidth:3}),"Adquirido"]}),n.jsxs("div",{className:"aspect-video relative overflow-hidden bg-black/40",children:[f.imageUrl?n.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:n.jsx(Zr,{className:"w-12 h-12 opacity-20"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:n.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-4",children:n.jsx(oi,{className:"w-8 h-8 text-white fill-white"})})})]}),n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-1",children:f.name}),n.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2 min-h-[2.5rem]",children:f.description||"Sem descrio."}),n.jsxs("button",{className:"w-full px-4 py-2 bg-white text-black font-bold rounded-lg text-sm hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[n.jsx(oi,{className:"w-4 h-4"})," Acessar Contedo"]})]})]},f.id))})]})},PC=()=>{var o;const{memberArea:e}=uo(),[t,r]=v.useState(null),a=((o=e==null?void 0:e.faqs)==null?void 0:o.filter(c=>c.active))||[],s=c=>{r(t===c?null:c)};return n.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8 max-w-4xl",children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/5 rounded-full mb-4",children:n.jsx(Hm,{className:"w-8 h-8 text-red-600",style:{color:e==null?void 0:e.primary_color}})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Perguntas Frequentes"}),n.jsx("p",{className:"text-gray-400",children:"Tire suas dvidas sobre o contedo e a plataforma."})]}),a.length===0?n.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-white/10",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhuma dvida encontrada"}),n.jsx("p",{className:"text-gray-400",children:"No momento no h perguntas frequentes cadastradas."})]}):n.jsx("div",{className:"space-y-4",children:a.map((c,d)=>n.jsxs("div",{className:"bg-[#1A1D21] rounded-xl border border-white/10 overflow-hidden transition-all duration-300",children:[n.jsxs("button",{onClick:()=>s(d),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[n.jsx("span",{className:"font-medium text-white text-lg pr-4",children:c.question}),t===d?n.jsx(Ol,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):n.jsx(lo,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),n.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${t===d?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"px-6 pb-6 text-gray-400 leading-relaxed border-t border-white/5 pt-4",children:c.answer})})]},c.id))})]})},MC=()=>{var m;const{user:e,signOut:t}=fs(),r=mt(),{memberArea:a}=uo(),[s,o]=v.useState([]),[c,d]=v.useState(!0);v.useEffect(()=>{h()},[]);const h=async()=>{try{const g=await ae.getAccessGrants();o(g)}catch(g){console.error("Error loading profile data:",g)}finally{d(!1)}},f=async()=>{await t(),r(a?`/app/${a.slug}/login`:"/login")};return c?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin",style:{borderColor:a!=null&&a.primary_color?`${a.primary_color} transparent transparent transparent`:void 0}})}):n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Meu Perfil"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"md:col-span-1 space-y-6",children:[n.jsxs("div",{className:"bg-[#1A1D21] rounded-xl p-6 border border-white/5 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-700 to-gray-900 rounded-full flex items-center justify-center mb-4 border-2 border-white/10",children:n.jsx(cn,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:((m=e==null?void 0:e.user_metadata)==null?void 0:m.full_name)||"Usurio"}),n.jsx("p",{className:"text-gray-400 text-sm mb-6",children:e==null?void 0:e.email}),n.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 bg-red-500/10 text-red-500 hover:bg-red-500/20 py-2 px-4 rounded-lg transition-colors border border-red-500/20",children:[n.jsx(Wf,{className:"w-4 h-4"}),"Sair da conta"]})]}),n.jsxs("div",{className:"bg-[#1A1D21] rounded-xl p-6 border border-white/5",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[n.jsx(tD,{className:"w-5 h-5 text-gray-400"}),"Segurana"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 uppercase mb-1",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-300 bg-black/20 p-3 rounded-lg border border-white/5 break-all",children:[n.jsx(Ur,{className:"w-4 h-4 text-gray-500"}),e==null?void 0:e.email]})]}),n.jsx("button",{className:"w-full text-left text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Alterar senha"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"bg-[#1A1D21] rounded-xl p-6 border border-white/5 h-full",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[n.jsx(mo,{className:"w-6 h-6 text-gray-400"}),"Minhas Assinaturas e Compras"]}),s.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:n.jsx("p",{children:"Nenhuma assinatura ou compra ativa encontrada."})}):n.jsx("div",{className:"space-y-4",children:s.map(g=>n.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/5 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${g.status==="active"?"bg-green-500":"bg-red-500"}`}),n.jsx("h4",{className:"font-bold text-white text-lg",children:g.product_id?"Produto / Assinatura":"Contedo Avulso"})]}),n.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-1",children:[n.jsx(yw,{className:"w-3 h-3"}),"Acesso liberado em: ",new Date(g.granted_at).toLocaleDateString()]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${g.status==="active"?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-red-500/10 text-red-500 border border-red-500/20"}`,children:g.status==="active"?"Ativo":"Inativo"})})]},g.id))})]})})]})]})},Vae=({children:e})=>{const[t,r]=v.useState(null),[a,s]=v.useState(""),[o,c]=v.useState(!0),d=void 0;return v.useEffect(()=>{(async()=>{{console.log("No license key found. Assuming SaaS mode."),r(!0),c(!1);return}})()},[]),o?n.jsx("div",{className:"min-h-screen bg-[#0F0F13] flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}):t===!1?n.jsx("div",{className:"min-h-screen bg-[#0F0F13] flex items-center justify-center p-4",children:n.jsxs("div",{className:"max-w-md w-full bg-black/40 border border-red-500/20 rounded-2xl p-8 text-center backdrop-blur-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:n.jsx(br,{className:"w-8 h-8"})}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Bloqueado"}),n.jsx("p",{className:"text-gray-400 mb-6",children:a==="Missing key or domain"?"Esta instalao no possui uma licena configurada.":a}),n.jsx("div",{className:"bg-red-500/5 border border-red-500/10 rounded-lg p-4 text-left mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(si,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-gray-300",children:[n.jsx("p",{className:"font-bold text-red-400 mb-1",children:"Motivo:"}),n.jsx("p",{children:a}),d]})]})}),n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-white/5 hover:bg-white/10 text-white rounded-xl transition-colors font-medium",children:"Tentar Novamente"})]})}):n.jsx(n.Fragment,{children:e})};var Yae={};const IC=`-- Super Checkout - Definitive Fail-Proof Schema
-- Run this in the Supabase SQL Editor. It is idempotent (safe to run multiple times).

-- ==========================================
-- 1. EXTENSIONS & CONFIGURATION
-- ==========================================
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- ==========================================
-- 2. CORE TABLES (Idempotent Creation)
-- ==========================================

-- 2.1 Domains
CREATE TABLE IF NOT EXISTS domains(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    domain TEXT NOT NULL UNIQUE,
    status TEXT DEFAULT 'pending_verification',
    type TEXT DEFAULT 'cname',
    usage TEXT DEFAULT 'checkout',
    verified_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS user_id UUID REFERENCES auth.users(id);
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS usage TEXT DEFAULT 'checkout';
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS type TEXT DEFAULT 'cname';
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS verified_at TIMESTAMP WITH TIME ZONE;
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS checkout_id UUID;
EXCEPTION
    WHEN duplicate_column THEN RAISE NOTICE 'Column already exists in domains.';
END $$;

-- 2.2 Member Areas
CREATE TABLE IF NOT EXISTS member_areas(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    owner_id UUID REFERENCES auth.users(id) NOT NULL,
    name TEXT NOT NULL,
    slug TEXT NOT NULL UNIQUE,
    domain_id UUID REFERENCES domains(id),
    logo_url TEXT,
    favicon_url TEXT,
    primary_color TEXT DEFAULT '#E50914',
    banner_url TEXT,
    login_image_url TEXT,
    allow_free_signup BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS domain_id UUID REFERENCES domains(id);
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS favicon_url TEXT;
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS primary_color TEXT DEFAULT '#E50914';
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS banner_url TEXT;
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS login_image_url TEXT;
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS allow_free_signup BOOLEAN DEFAULT TRUE;
END $$;

-- 2.3 Products
CREATE TABLE IF NOT EXISTS products(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL,
    currency TEXT DEFAULT 'BRL',
    image_url TEXT,
    active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE products ADD COLUMN IF NOT EXISTS price_real DECIMAL(10, 2);
    ALTER TABLE products ADD COLUMN IF NOT EXISTS price_fake DECIMAL(10, 2);
    ALTER TABLE products ADD COLUMN IF NOT EXISTS sku TEXT;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS category TEXT DEFAULT 'general';
    ALTER TABLE products ADD COLUMN IF NOT EXISTS redirect_link TEXT;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS is_order_bump BOOLEAN DEFAULT false;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS is_upsell BOOLEAN DEFAULT false;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS visible_in_member_area BOOLEAN DEFAULT true;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS for_sale BOOLEAN DEFAULT true;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS member_area_action TEXT DEFAULT 'none';
    ALTER TABLE products ADD COLUMN IF NOT EXISTS member_area_checkout_id UUID;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS currency TEXT DEFAULT 'BRL';
END $$;

-- 2.4 Gateways (Essential for checkout)
CREATE TABLE IF NOT EXISTS gateways(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    name TEXT,
    provider TEXT NOT NULL,
    credentials JSONB DEFAULT '{}'::jsonb,
    active BOOLEAN DEFAULT true,
    is_active BOOLEAN DEFAULT true,
    public_key TEXT,
    private_key TEXT,
    webhook_secret TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT true;
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS public_key TEXT;
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS private_key TEXT;
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS webhook_secret TEXT;
END $$;

-- 2.5 Checkouts
CREATE TABLE IF NOT EXISTS checkouts(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    product_id UUID REFERENCES products(id) NOT NULL,
    name TEXT NOT NULL,
    slug TEXT UNIQUE,
    theme JSONB DEFAULT '{}'::jsonb,
    settings JSONB DEFAULT '{}'::jsonb,
    active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS offer_id UUID;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS gateway_id UUID REFERENCES gateways(id);
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS domain_id UUID REFERENCES domains(id);
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS order_bump_ids JSONB;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS upsell_product_id UUID;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS custom_url_slug TEXT;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS config JSONB;
END $$;

-- Fix FK for products AFTER checkouts exists
DO $$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_constraint WHERE conname = 'products_member_area_checkout_fk') THEN
        ALTER TABLE products
        ADD CONSTRAINT products_member_area_checkout_fk
        FOREIGN KEY(member_area_checkout_id)
        REFERENCES checkouts(id)
        ON DELETE SET NULL;
    END IF;
END $$;

-- 2.6 Tracks (BEFORE contents because contents references member_areas)
CREATE TABLE IF NOT EXISTS tracks(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    member_area_id UUID REFERENCES member_areas(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    type TEXT NOT NULL CHECK(type IN('products', 'contents', 'modules', 'lessons')),
    position INTEGER NOT NULL DEFAULT 0,
    is_visible BOOLEAN DEFAULT true,
    card_style TEXT DEFAULT 'horizontal',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.7 Contents (MUST BE BEFORE modules, lessons, product_contents, access_grants)
CREATE TABLE IF NOT EXISTS contents(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    member_area_id UUID REFERENCES member_areas(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    thumbnail_url TEXT,
    type TEXT DEFAULT 'course',
    author_id UUID REFERENCES auth.users(id),
    position INTEGER NOT NULL DEFAULT 0,
    is_visible BOOLEAN DEFAULT true,
    is_published BOOLEAN DEFAULT true,
    is_free BOOLEAN DEFAULT false,
    card_style TEXT DEFAULT 'horizontal',
    modules_layout TEXT DEFAULT 'horizontal',
    image_vertical_url TEXT,
    image_horizontal_url TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.8 Modules (AFTER contents)
CREATE TABLE IF NOT EXISTS modules(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    content_id UUID REFERENCES contents(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    order_index INTEGER NOT NULL DEFAULT 0,
    is_published BOOLEAN DEFAULT true,
    image_vertical_url TEXT,
    image_horizontal_url TEXT,
    is_free BOOLEAN DEFAULT false,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS image_vertical_url TEXT;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS image_horizontal_url TEXT;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS is_free BOOLEAN DEFAULT false;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS order_index INTEGER DEFAULT 0;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS is_published BOOLEAN DEFAULT true;
    -- Force default to true for existing tables
    ALTER TABLE modules ALTER COLUMN is_published SET DEFAULT true;
END $$;

-- 2.9 Lessons (AFTER modules)
CREATE TABLE IF NOT EXISTS lessons(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    module_id UUID REFERENCES modules(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    content_type TEXT,
    video_url TEXT,
    content_text TEXT,
    file_url TEXT,
    order_index INTEGER DEFAULT 0,
    duration INTEGER,
    is_free BOOLEAN DEFAULT false,
    image_url TEXT,
    gallery JSONB,
    content_order JSONB DEFAULT '["video", "text", "file", "gallery"]'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS video_url TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS duration INTEGER;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS image_url TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS order_index INTEGER DEFAULT 0;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS content_type TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS content_text TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS file_url TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS is_free BOOLEAN DEFAULT false;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS gallery JSONB;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS content_order JSONB DEFAULT '["video", "text", "file", "gallery"]'::jsonb;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS is_published BOOLEAN DEFAULT true;
    -- Force default to true for existing tables
    ALTER TABLE lessons ALTER COLUMN is_published SET DEFAULT true;
END $$;

-- 2.10 Track Items (AFTER tracks)
CREATE TABLE IF NOT EXISTS track_items(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    track_id UUID REFERENCES tracks(id) ON DELETE CASCADE NOT NULL,
    item_id UUID NOT NULL,
    position INTEGER NOT NULL DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.11 Product Contents (AFTER products AND contents)
CREATE TABLE IF NOT EXISTS product_contents(
    product_id UUID REFERENCES products(id) ON DELETE CASCADE NOT NULL,
    content_id UUID REFERENCES contents(id) ON DELETE CASCADE NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    PRIMARY KEY(product_id, content_id)
);

-- 2.12 Orders
CREATE TABLE IF NOT EXISTS orders(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    checkout_id UUID REFERENCES checkouts(id),
    customer_email TEXT NOT NULL,
    customer_name TEXT,
    customer_phone TEXT,
    customer_document TEXT,
    total DECIMAL(10, 2) NOT NULL,
    status TEXT NOT NULL,
    payment_method TEXT,
    payment_id TEXT,
    metadata JSONB,
    user_id UUID REFERENCES auth.users(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_user_id UUID REFERENCES auth.users(id);
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_cpf TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS offer_id UUID;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS payment_method TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS payment_id TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS utm_source TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS utm_medium TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS utm_campaign TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS items JSONB;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS total DECIMAL(10, 2);
END $$;

-- 2.13 Payments
CREATE TABLE IF NOT EXISTS payments(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    order_id UUID REFERENCES orders(id) NOT NULL,
    gateway_id UUID REFERENCES gateways(id) NOT NULL,
    status TEXT NOT NULL,
    transaction_id TEXT,
    raw_response JSONB,
    user_id UUID REFERENCES auth.users(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.14 Access Grants (AFTER contents AND products)
CREATE TABLE IF NOT EXISTS access_grants(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    content_id UUID REFERENCES contents(id) ON DELETE CASCADE,
    product_id UUID REFERENCES products(id) ON DELETE CASCADE,
    status TEXT DEFAULT 'active',
    granted_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    expires_at TIMESTAMP WITH TIME ZONE,
    is_subscription BOOLEAN DEFAULT false,
    subscription_provider_id TEXT,
    subscription_status TEXT DEFAULT 'active',
    UNIQUE(user_id, content_id),
    UNIQUE(user_id, product_id)
);

DO $$
BEGIN
    ALTER TABLE access_grants ADD COLUMN IF NOT EXISTS is_subscription BOOLEAN DEFAULT false;
    ALTER TABLE access_grants ADD COLUMN IF NOT EXISTS subscription_provider_id TEXT;
    ALTER TABLE access_grants ADD COLUMN IF NOT EXISTS subscription_status TEXT DEFAULT 'active';
END $$;

-- 2.15 Licenses (Installer logic)
CREATE TABLE IF NOT EXISTS licenses(
    key UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    client_email TEXT NOT NULL,
    client_name TEXT,
    status TEXT DEFAULT 'active',
    allowed_domain TEXT,
    plan TEXT DEFAULT 'lifetime',
    activated_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS validation_logs(
    id BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    license_key UUID REFERENCES licenses(key),
    ip_address TEXT,
    domain TEXT,
    user_agent TEXT,
    valid BOOLEAN,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- ==========================================
-- 3. MEMBER MANAGEMENT
-- ==========================================
CREATE TABLE IF NOT EXISTS public.profiles(
    id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL PRIMARY KEY,
    full_name TEXT,
    email TEXT,
    avatar_url TEXT,
    status TEXT DEFAULT 'active',
    role TEXT DEFAULT 'member',
    last_seen_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.member_notes(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    author_id UUID REFERENCES auth.users(id) NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.member_tags(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    tag TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    UNIQUE(user_id, tag)
);

CREATE TABLE IF NOT EXISTS public.activity_logs(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    event TEXT NOT NULL,
    metadata JSONB DEFAULT '{}'::jsonb,
    ip_address TEXT,
    user_agent TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.integrations(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    name TEXT NOT NULL,
    provider TEXT NOT NULL,
    active BOOLEAN DEFAULT true,
    config JSONB DEFAULT '{}'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    UNIQUE(user_id, name)
);

-- ==========================================
-- 4. VIEWS & FUNCTIONS
-- ==========================================

-- 4.1 Admin Helper Function
CREATE OR REPLACE FUNCTION public.is_admin()
RETURNS BOOLEAN AS $$
BEGIN
  RETURN EXISTS(
    SELECT 1 FROM public.profiles
    WHERE id = auth.uid() AND role = 'admin'
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 4.2 Handle New User
CREATE OR REPLACE FUNCTION public.handle_new_user()
RETURNS TRIGGER AS $$
DECLARE
  is_first_user BOOLEAN;
  v_full_name TEXT;
BEGIN
  SELECT NOT EXISTS(SELECT 1 FROM public.profiles) INTO is_first_user;
  
  -- Flexible name retrieval
  v_full_name := COALESCE(
    NEW.raw_user_meta_data ->> 'full_name', 
    NEW.raw_user_meta_data ->> 'name'
  );

  INSERT INTO public.profiles(id, email, full_name, role)
  VALUES(
    NEW.id,
    NEW.email,
    v_full_name,
    CASE 
      WHEN is_first_user THEN 'admin' 
      ELSE COALESCE(NEW.raw_user_meta_data ->> 'role', 'member') 
    END
  )
  ON CONFLICT(id) DO NOTHING;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 4.3 Check if Setup is Required
CREATE OR REPLACE FUNCTION public.is_setup_required()
RETURNS BOOLEAN AS $$
DECLARE
  admin_count INTEGER;
BEGIN
  SELECT COUNT(*) INTO admin_count FROM public.profiles WHERE role = 'admin';
  RETURN admin_count = 0;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

GRANT EXECUTE ON FUNCTION public.is_setup_required() TO anon;
GRANT EXECUTE ON FUNCTION public.is_setup_required() TO authenticated;
GRANT EXECUTE ON FUNCTION public.is_setup_required() TO service_role;

DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION public.handle_new_user();

-- 4.4 Handle Order Access
CREATE OR REPLACE FUNCTION handle_new_order_access()
RETURNS TRIGGER AS $$
DECLARE
  v_product_id UUID;
  v_user_id UUID;
  v_content_record RECORD;
BEGIN
  IF NEW.status = 'paid' AND (OLD.status IS NULL OR OLD.status != 'paid') THEN
    SELECT product_id INTO v_product_id FROM checkouts WHERE id = NEW.checkout_id;
    SELECT id INTO v_user_id FROM auth.users WHERE email = NEW.customer_email;

    IF v_product_id IS NOT NULL AND v_user_id IS NOT NULL THEN
      FOR v_content_record IN 
        SELECT content_id FROM product_contents WHERE product_id = v_product_id
      LOOP
        INSERT INTO access_grants(user_id, content_id, product_id, granted_at, status)
        VALUES(v_user_id, v_content_record.content_id, v_product_id, NOW(), 'active')
        ON CONFLICT(user_id, content_id) 
        DO UPDATE SET status = 'active', granted_at = NOW();
      END LOOP;
      
      INSERT INTO access_grants(user_id, product_id, granted_at, status)
      VALUES(v_user_id, v_product_id, NOW(), 'active')
      ON CONFLICT(user_id, product_id)
      DO UPDATE SET status = 'active', granted_at = NOW();
    END IF;
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

DROP TRIGGER IF EXISTS on_order_paid_grant_access ON orders;
CREATE TRIGGER on_order_paid_grant_access
  AFTER UPDATE ON orders
  FOR EACH ROW
  EXECUTE FUNCTION handle_new_order_access();

-- 4.5 Get Member Area Members
CREATE OR REPLACE FUNCTION get_member_area_members(area_id uuid)
RETURNS TABLE(
    user_id uuid,
    email text,
    name text,
    joined_at timestamptz,
    status text
)
SECURITY DEFINER
AS $$
BEGIN
  RETURN QUERY
  SELECT DISTINCT
    u.id as user_id,
    u.email::text,
    COALESCE((u.raw_user_meta_data ->> 'name')::text, 'Sem nome') as name,
    MIN(ag.granted_at) as joined_at,
    ag.status::text
  FROM access_grants ag
  JOIN auth.users u ON ag.user_id = u.id
  JOIN contents c ON ag.content_id = c.id
  WHERE c.member_area_id = area_id
  GROUP BY u.id, u.email, u.raw_user_meta_data, ag.status;
END;
$$ LANGUAGE plpgsql;

-- 4.5.1 Get Enriched Member Area Members (Isolated)
-- 4.5.1 Get Enriched Member Area Members (Isolated)
-- 4.5.1 Get Enriched Member Area Members (Isolated)
CREATE OR REPLACE FUNCTION get_area_members_enriched(
    p_area_id UUID,
    p_page INTEGER DEFAULT 1,
    p_limit INTEGER DEFAULT 20,
    p_search TEXT DEFAULT '',
    p_status_filter TEXT DEFAULT '',
    p_type_filter TEXT DEFAULT 'all'
)
RETURNS TABLE (
    user_id UUID,
    email TEXT,
    name TEXT,
    status TEXT,
    joined_at TIMESTAMPTZ,
    orders_count BIGINT,
    active_products_count BIGINT,
    total_count BIGINT
)
SECURITY DEFINER
SET search_path = public, auth
AS $$
DECLARE
    v_offset INTEGER := (p_page - 1) * p_limit;
BEGIN
    RETURN QUERY
    WITH target_users AS (
        SELECT DISTINCT ag.user_id
        FROM public.access_grants ag
        LEFT JOIN public.contents c_direct ON ag.content_id = c_direct.id
        LEFT JOIN public.product_contents pc ON ag.product_id = pc.product_id
        LEFT JOIN public.contents c_via_prod ON pc.content_id = c_via_prod.id
        WHERE 
            ag.status = 'active'
            AND (
                (c_direct.member_area_id = p_area_id)
                OR
                (c_via_prod.member_area_id = p_area_id)
            )
    ),
    filtered_base AS (
        SELECT
            p.id as pid,
            p.email as p_email,
             -- TRY PROFILES FIRST, THEN AUTH METADATA (name OR full_name), THEN DEFAULT
            COALESCE(
                p.full_name, 
                (u.raw_user_meta_data ->> 'name'),
                (u.raw_user_meta_data ->> 'full_name'),
                'Sem nome'
            ) as p_name,
            p.status as p_status,
            COALESCE(p.created_at, NOW()) as p_joined_at,
            (SELECT COUNT(*) FROM public.orders o WHERE o.customer_user_id = p.id) as o_count,
            -- Calculate active grants count for this area (for display/filtering)
            (
                SELECT COUNT(DISTINCT ag_count.id)
                FROM public.access_grants ag_count
                LEFT JOIN public.contents c_d ON ag_count.content_id = c_d.id
                LEFT JOIN public.product_contents pc_c ON ag_count.product_id = pc_c.product_id
                LEFT JOIN public.contents c_vp ON pc_c.content_id = c_vp.id
                WHERE ag_count.user_id = p.id
                  AND ag_count.status = 'active'
                  AND (c_d.member_area_id = p_area_id OR c_vp.member_area_id = p_area_id)
            ) as ap_count
        FROM public.profiles p
        JOIN auth.users u ON u.id = p.id  -- JOIN AUTH.USERS TO ACCESS METADATA
        JOIN target_users tu ON tu.user_id = p.id
        WHERE
            (p_search = '' OR p.email ILIKE '%' || p_search || '%' OR COALESCE(p.full_name, u.raw_user_meta_data->>'name', 'Sem nome') ILIKE '%' || p_search || '%')
            AND (p_status_filter = '' OR p.status = p_status_filter)
    ),
    final_filtered AS (
        SELECT * FROM filtered_base
        WHERE
            (p_type_filter = 'all') OR
            (p_type_filter = 'paid' AND o_count > 0) OR
            (p_type_filter = 'free' AND o_count = 0)
    ),
    total_c AS (
        SELECT COUNT(*) as t_count FROM final_filtered
    )
    SELECT
        pid,
        p_email,
        p_name,
        p_status,
        p_joined_at,
        o_count,
        ap_count,
        (SELECT t_count FROM total_c)
    FROM final_filtered
    ORDER BY p_joined_at DESC
    LIMIT p_limit OFFSET v_offset;
END;
$$ LANGUAGE plpgsql;

-- 4.6 Admin Members View
CREATE OR REPLACE VIEW public.admin_members_view AS 
SELECT
  p.id as user_id,
  p.email,
  p.full_name,
  p.status,
  p.last_seen_at,
  p.created_at as joined_at,
  (SELECT COUNT(*) FROM access_grants ag WHERE ag.user_id = p.id AND ag.status = 'active') as active_products_count,
  (SELECT COUNT(*) FROM orders o WHERE o.customer_user_id = p.id) as orders_count
FROM public.profiles p;

-- 5. STORAGE & BUCKETS
-- ==========================================
INSERT INTO storage.buckets(id, name, public) VALUES('products', 'products', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('checkouts', 'checkouts', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('contents', 'contents', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('avatars', 'avatars', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('member-areas', 'member-areas', true) ON CONFLICT(id) DO NOTHING;

-- ==========================================
-- 6. RLS POLICIES (Security)
-- ==========================================
ALTER TABLE domains ENABLE ROW LEVEL SECURITY;
ALTER TABLE member_areas ENABLE ROW LEVEL SECURITY;
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE contents ENABLE ROW LEVEL SECURITY;
ALTER TABLE modules ENABLE ROW LEVEL SECURITY;
ALTER TABLE lessons ENABLE ROW LEVEL SECURITY;
ALTER TABLE product_contents ENABLE ROW LEVEL SECURITY;
ALTER TABLE checkouts ENABLE ROW LEVEL SECURITY;
ALTER TABLE orders ENABLE ROW LEVEL SECURITY;
ALTER TABLE access_grants ENABLE ROW LEVEL SECURITY;
ALTER TABLE tracks ENABLE ROW LEVEL SECURITY;
ALTER TABLE track_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE gateways ENABLE ROW LEVEL SECURITY;
ALTER TABLE licenses ENABLE ROW LEVEL SECURITY;
ALTER TABLE validation_logs ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.member_notes ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.member_tags ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.activity_logs ENABLE ROW LEVEL SECURITY;
ALTER TABLE payments ENABLE ROW LEVEL SECURITY;

-- Drop all existing policies to avoid conflicts
DO $$
DECLARE
  r RECORD;
BEGIN
  FOR r IN SELECT policyname, tablename FROM pg_policies WHERE schemaname = 'public' LOOP
    EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON "' || r.tablename || '";';
  END LOOP;
END $$;

-- Domains
CREATE POLICY "Users can manage their own domains" ON domains FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view active domains" ON domains FOR SELECT USING(true);

-- Member Areas
CREATE POLICY "Users and public can view member areas" ON member_areas FOR SELECT USING(auth.uid() = owner_id OR true);
CREATE POLICY "Users can create member areas" ON member_areas FOR INSERT WITH CHECK(auth.uid() = owner_id);
CREATE POLICY "Users can update own member areas" ON member_areas FOR UPDATE USING(auth.uid() = owner_id);
CREATE POLICY "Users can delete own member areas" ON member_areas FOR DELETE USING(auth.uid() = owner_id);

-- Products
CREATE POLICY "Users can manage their own products" ON products FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view products" ON products FOR SELECT USING(true);

-- Gateways
CREATE POLICY "Users can manage their own gateways" ON gateways FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view active gateways" ON gateways FOR SELECT USING(active = true OR is_active = true);

-- Checkouts
CREATE POLICY "Users can manage their own checkouts" ON checkouts FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view active checkouts" ON checkouts FOR SELECT USING(active = true);

-- Orders
CREATE POLICY "Users can manage their own orders" ON orders FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Customers can view their own orders" ON orders FOR SELECT USING(auth.uid() = customer_user_id);
CREATE POLICY "Public can create orders" ON orders FOR INSERT WITH CHECK(true);
CREATE POLICY "Public can view orders" ON orders FOR SELECT USING(true);

-- Payments
CREATE POLICY "Users can manage their own payments" ON payments FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can create payments" ON payments FOR INSERT WITH CHECK(true);
CREATE POLICY "Public can view payments" ON payments FOR SELECT USING(true);

-- Contents
CREATE POLICY "Users can manage their own contents" ON contents FOR ALL USING(
    EXISTS(SELECT 1 FROM member_areas ma WHERE ma.id = contents.member_area_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view published contents" ON contents FOR SELECT USING(is_published = true);

-- Modules
CREATE POLICY "Users can manage their own modules" ON modules FOR ALL USING(
    EXISTS(SELECT 1 FROM contents c JOIN member_areas ma ON ma.id = c.member_area_id WHERE c.id = modules.content_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view published modules" ON modules FOR SELECT USING(is_published = true);

-- Lessons
CREATE POLICY "Users can manage their own lessons" ON lessons FOR ALL USING(
    EXISTS(SELECT 1 FROM modules m JOIN contents c ON c.id = m.content_id JOIN member_areas ma ON ma.id = c.member_area_id WHERE m.id = lessons.module_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view published lessons" ON lessons FOR SELECT USING(is_published = true);

-- Tracks
CREATE POLICY "Admins can manage tracks" ON tracks FOR ALL USING(
    EXISTS(SELECT 1 FROM member_areas ma WHERE ma.id = tracks.member_area_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view visible tracks" ON tracks FOR SELECT USING(is_visible = true);

-- Track Items
CREATE POLICY "Admins can manage track items" ON track_items FOR ALL USING(
    EXISTS(SELECT 1 FROM tracks JOIN member_areas ma ON ma.id = tracks.member_area_id WHERE tracks.id = track_items.track_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view track items" ON track_items FOR SELECT USING(
    EXISTS(SELECT 1 FROM tracks WHERE tracks.id = track_items.track_id AND tracks.is_visible = true)
);

-- Profiles
CREATE POLICY "Users can view their own profile" ON public.profiles FOR SELECT USING(auth.uid() = id);
CREATE POLICY "Users can update their own profile" ON public.profiles FOR UPDATE USING(auth.uid() = id);
CREATE POLICY "Admins can manage all profiles" ON public.profiles FOR ALL USING(public.is_admin());

-- Config Tables
CREATE POLICY "Admins can manage member notes" ON public.member_notes FOR ALL USING(EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin'));
CREATE POLICY "Admins can manage member tags" ON public.member_tags FOR ALL USING(EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin'));

-- Logs
CREATE POLICY "Users can create their own logs" ON public.activity_logs FOR INSERT WITH CHECK(auth.uid() = user_id);
CREATE POLICY "Users can view their own logs" ON public.activity_logs FOR SELECT USING(auth.uid() = user_id);
CREATE POLICY "Admins can view all logs" ON public.activity_logs FOR SELECT USING(EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin'));

CREATE POLICY "Users can manage their own integrations" ON public.integrations FOR ALL USING(auth.uid() = user_id);

-- Licenses
CREATE POLICY "Admin can manage licenses" ON licenses USING(auth.role() = 'authenticated') WITH CHECK(auth.role() = 'authenticated');
CREATE POLICY "Admin can view validation logs" ON validation_logs FOR SELECT USING(auth.role() = 'authenticated');

-- Product Contents
CREATE POLICY "Users can manage product contents" ON product_contents FOR ALL USING(
    EXISTS(SELECT 1 FROM products p WHERE p.id = product_contents.product_id AND p.user_id = auth.uid())
);
CREATE POLICY "Public can view product contents" ON product_contents FOR SELECT USING(true);

-- Access Grants
CREATE POLICY "Users can view their own access grants" ON access_grants FOR SELECT USING(auth.uid() = user_id);
CREATE POLICY "Admins can manage access grants" ON access_grants FOR ALL USING(
    EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin')
);

-- ==========================================
-- 7. STORAGE POLICIES
-- ==========================================

-- Drop existing storage policies
DROP POLICY IF EXISTS "Public Access Member Areas" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Member Areas" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Member Areas" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Contents" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Contents" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Contents" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Delete Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Products" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Products" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Products" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Delete Products" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Avatars" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Avatars" ON storage.objects;

-- Re-create Storage Policies
CREATE POLICY "Public Access Member Areas" ON storage.objects FOR SELECT USING(bucket_id = 'member-areas');
CREATE POLICY "Authenticated Upload Member Areas" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'member-areas' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Member Areas" ON storage.objects FOR UPDATE USING(bucket_id = 'member-areas' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Contents" ON storage.objects FOR SELECT USING(bucket_id = 'contents');
CREATE POLICY "Authenticated Upload Contents" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'contents' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Contents" ON storage.objects FOR UPDATE USING(bucket_id = 'contents' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Checkouts" ON storage.objects FOR SELECT USING(bucket_id = 'checkouts');
CREATE POLICY "Authenticated Upload Checkouts" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'checkouts' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Checkouts" ON storage.objects FOR UPDATE USING(bucket_id = 'checkouts' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Delete Checkouts" ON storage.objects FOR DELETE USING(bucket_id = 'checkouts' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Products" ON storage.objects FOR SELECT USING(bucket_id = 'products');
CREATE POLICY "Authenticated Upload Products" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'products' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Products" ON storage.objects FOR UPDATE USING(bucket_id = 'products' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Delete Products" ON storage.objects FOR DELETE USING(bucket_id = 'products' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Avatars" ON storage.objects FOR SELECT USING(bucket_id = 'avatars');
CREATE POLICY "Authenticated Upload Avatars" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'avatars' AND auth.role() = 'authenticated');

-- ==========================================
-- 8. LICENSE SECURITY SHIELD (Critical)
-- ==========================================
CREATE OR REPLACE FUNCTION public.enforce_active_license()
RETURNS TRIGGER AS $$
DECLARE
    v_license_status TEXT;
    v_expires_at TIMESTAMPTZ;
BEGIN
    -- Fetch the most recent license
    SELECT status, expires_at INTO v_license_status, v_expires_at
    FROM public.licenses
    ORDER BY created_at DESC
    LIMIT 1;

    -- Strict Checking
    IF v_license_status IS NULL THEN
        RAISE EXCEPTION 'System Locked: No license found.';
    END IF;

    IF v_license_status != 'active' THEN
        RAISE EXCEPTION 'System Locked: License is not active (%s).', v_license_status;
    END IF;
    
    IF v_expires_at IS NOT NULL AND NOW() > v_expires_at THEN
         RAISE EXCEPTION 'System Locked: License expired on %.', v_expires_at;
    END IF;

    RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Apply Triggers to Critical Business Tables
DROP TRIGGER IF EXISTS check_license_checkouts ON public.checkouts;
CREATE TRIGGER check_license_checkouts 
    BEFORE INSERT OR UPDATE ON public.checkouts 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

DROP TRIGGER IF EXISTS check_license_products ON public.products;
CREATE TRIGGER check_license_products 
    BEFORE INSERT OR UPDATE ON public.products 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

DROP TRIGGER IF EXISTS check_license_orders ON public.orders;
CREATE TRIGGER check_license_orders 
    BEFORE INSERT OR UPDATE ON public.orders 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

DROP TRIGGER IF EXISTS check_license_gateways ON public.gateways;
CREATE TRIGGER check_license_gateways 
    BEFORE INSERT OR UPDATE ON public.gateways 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

-- ==========================================
-- 8.5 SETUP UTILITIES
-- ==========================================
CREATE OR REPLACE FUNCTION public.is_setup_required()
RETURNS BOOLEAN
LANGUAGE plpgsql
SECURITY DEFINER
SET search_path = public
AS $$
BEGIN
  -- If there are no profiles (admins), setup is required
  IF NOT EXISTS (SELECT 1 FROM public.profiles LIMIT 1) THEN
    RETURN TRUE;
  END IF;
  RETURN FALSE;
END;
$$;

GRANT EXECUTE ON FUNCTION public.is_setup_required() TO anon, authenticated, service_role;

-- ==========================================
-- 9. CACHE RELOAD (Critical for API to see new columns immediately)
-- ==========================================
NOTIFY pgrst, 'reload schema';
`;function Wae(){const[e,t]=v.useState("check_subscription"),[r,a]=v.useState([]),[s,o]=v.useState(""),[c,d]=v.useState(""),[h,f]=v.useState(""),[m,g]=v.useState(""),[x,y]=v.useState(!1),[N,_]=v.useState("auto"),[w,E]=v.useState(""),[k,S]=v.useState(""),[T,C]=v.useState(""),[O,M]=v.useState(""),[L,z]=v.useState(""),[G,F]=v.useState(""),[se,J]=v.useState(""),[xe,be]=v.useState(!1),[P,X]=v.useState(null),[K,he]=v.useState({isOpen:!1,title:"",message:"",variant:"success"}),[V,R]=v.useState(!1),[H,ee]=v.useState({show:!1,msg:""}),de=le=>a(Ne=>[...Ne,`[${new Date().toLocaleTimeString()}] ${le} `]),je=(le,Ne,Ae="success")=>{he({isOpen:!0,title:le,message:Ne,variant:Ae})},I=(le,Ne)=>{navigator.clipboard.writeText(le),Ne?(X(Ne),setTimeout(()=>X(null),2e3)):(X("generic"),setTimeout(()=>X(null),2e3))},me=(le,Ne)=>{ee({show:!0,msg:le}),setTimeout(()=>{ee({show:!1,msg:""}),Ne()},2e3)},Ce=async le=>{le.preventDefault(),y(!0),g("");const Ne=s;try{const Ae=await fetch("/api/licenses/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:Ne,domain:window.location.hostname,skip_lock:!0})});if(!Ae.ok){let De=`Erro no Servidor(${Ae.status})`;try{De=(await Ae.json()).message||De}catch(Fe){console.error("Non-JSON response:",Fe)}throw new Error(De)}const we=await Ae.json();if(we.valid)de("Licena validada com sucesso!"),setTimeout(()=>{y(!1),me("Licena Validada!",()=>{t("supabase_setup"),e==="license"&&localStorage.setItem("installer_license_key",s)})},500);else throw new Error(we.message||"Licena invlida")}catch(Ae){console.error(Ae),de(`Erro: ${Ae.message} `),je("Erro de Licena",Ae.message,"error"),y(!1)}},ne=()=>{y(!0);const le=Yae.NEXT_PUBLIC_SUPABASE_CLIENT_ID||"mock_client_id",Ne=`${window.location.origin}/installer`,we=btoa(JSON.stringify({step:"supabase",key:s})),pe=new URLSearchParams({client_id:le,redirect_uri:Ne,response_type:"code",scope:"projects:read projects:write secrets:read secrets:write organizations:read",state:we});window.location.href=`https://api.supabase.com/v1/oauth/authorize?${pe.toString()}`},Se=()=>{if(!w)return g("URL  obrigatria");t("supabase_migrations")},q=async le=>{try{const Ne=await fetch("/api/installer/supabase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"create_project",code:le,licenseKey:s||localStorage.getItem("installer_license_key"),organizationSlug:c||localStorage.getItem("installer_org_slug")})});let Ae;const we=Ne.headers.get("content-type");if(we&&we.includes("application/json"))Ae=await Ne.json();else{const De=await Ne.text();throw new Error(`Erro na API (${Ne.status}): ${De.substring(0,200)}`)}if(!Ne.ok)throw new Error(Ae.error||"Falha ao criar projeto Supabase");const pe=`https://${Ae.projectRef}.supabase.co`;E(pe),localStorage.setItem("installer_supabase_url",pe),localStorage.setItem("installer_supabase_ref",Ae.projectRef),localStorage.setItem("installer_supabase_dbpass",Ae.dbPass),de(" Projeto Supabase criado com sucesso!"),R(!1),me("Conexo Estabelecida!",()=>{t("supabase_migrations")})}catch(Ne){console.error(Ne),de(`Erro: ${Ne.message}`),je("Erro Supabase",Ne.message,"error")}finally{y(!1),R(!1)}},ie=le=>{if(le.preventDefault(),!O){je("Campo Obrigatrio","Por favor, cole o domnio (URL) do seu projeto na Vercel.","error");return}let Ne=O.replace("https://","").replace("http://","").split("/")[0];localStorage.setItem("installer_vercel_domain",Ne),me("Domnio Configurado!",()=>{t("success")})};v.useEffect(()=>{s&&localStorage.setItem("installer_license_key",s),c&&localStorage.setItem("installer_org_slug",c),e&&localStorage.setItem("installer_step",e)},[s,c,e]),v.useEffect(()=>{const le=localStorage.getItem("installer_license_key");le&&o(le),S(localStorage.getItem("installer_supabase_anon_key")||""),C(localStorage.getItem("installer_supabase_service_key")||""),E(localStorage.getItem("installer_supabase_url")||"");const Ne=localStorage.getItem("installer_step");Ne&&Ne!=="success"&&t(Ne==="license"?"check_subscription":Ne);const Ae=new URLSearchParams(window.location.search),we=Ae.get("code"),pe=Ae.get("state");if(we&&pe)try{const De=JSON.parse(atob(pe));De.key&&o(De.key),window.history.replaceState({},"","/installer"),De.step==="supabase"&&(R(!0),q(we))}catch{}},[]);const $="https://vercel.com/new/clone?repository-url=https://github.com/DigitalMarketingSia/super-checkout-platform&env=NEXT_PUBLIC_SUPABASE_URL,NEXT_PUBLIC_SUPABASE_ANON_KEY,SUPABASE_SERVICE_ROLE_KEY&envDescription=Configuracao%20Super%20Checkout&project-name=super-checkout&repository-name=super-checkout",ce=["check_subscription","supabase_setup","supabase_migrations","supabase_keys","deploy","vercel_config","success"],ye=ce.indexOf(e);return n.jsxs("div",{className:"min-h-screen bg-[#05050A] text-white selection:bg-primary/30 font-sans relative overflow-hidden",children:[n.jsx("div",{className:"fixed top-0 left-0 w-[500px] h-[500px] bg-[#3ECF8E]/10 rounded-full blur-[128px] pointer-events-none -translate-x-1/2 -translate-y-1/2 mix-blend-screen"}),n.jsx("div",{className:"fixed bottom-0 right-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[128px] pointer-events-none translate-x-1/2 translate-y-1/2 mix-blend-screen"}),H.show&&n.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/90 backdrop-blur-md animate-in fade-in duration-300",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 bg-[#3ECF8E] rounded-full flex items-center justify-center mb-6 shadow-[0_0_50px_rgba(62,207,142,0.5)] animate-in zoom-in-50 duration-500",children:n.jsx(ft,{className:"w-12 h-12 text-black animate-in spin-in-90 duration-700",strokeWidth:3})}),n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-[#3ECF8E] animate-ping opacity-20"})]}),n.jsx("h2",{className:"text-3xl font-bold text-white animate-in slide-in-from-bottom-5 duration-500",children:H.msg})]}),V&&n.jsxs("div",{className:"fixed inset-0 z-[90] flex flex-col items-center justify-center bg-[#05050A] animate-in fade-in",children:[n.jsx("div",{className:"w-20 h-20 border-4 border-[#3ECF8E]/30 border-t-[#3ECF8E] rounded-full animate-spin mb-8 shadow-[0_0_30px_rgba(62,207,142,0.2)]"}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Conectando ao Supabase..."}),n.jsx("p",{className:"text-gray-400",children:"Estamos configurando seu projeto e banco de dados."})]}),n.jsxs("div",{className:"container mx-auto px-4 py-12 relative z-10 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-white/5 border border-white/10 shadow-2xl backdrop-blur-sm",children:n.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain",onError:le=>le.currentTarget.src="https://via.placeholder.com/48"})}),n.jsx("h1",{className:"text-5xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400",children:"Instalao Super Checkout"}),n.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Configure seu sistema de pagamentos em poucos minutos."})]}),n.jsxs("div",{className:"max-w-xl mx-auto mb-16 relative",children:[n.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden backdrop-blur-sm",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-[#3ECF8E] to-emerald-400 transition-all duration-700 ease-out relative",style:{width:`${ye/(ce.length-1)*100}%`},children:n.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.8)]"})})}),n.jsxs("div",{className:"flex justify-between mt-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[n.jsx("span",{children:"Licena"}),n.jsx("span",{children:"Banco de Dados"}),n.jsx("span",{children:"Configurao"}),n.jsx("span",{children:"Concluso"})]})]}),n.jsxs("div",{className:"max-w-2xl mx-auto",children:[e==="check_subscription"&&n.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 text-white shadow-lg",children:n.jsx(Vm,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Validar Licena"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Digite sua chave de licena para validar o uso."}),n.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Chave da Licena"}),n.jsxs("div",{className:"relative group",children:[n.jsx(ni,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),n.jsx("input",{type:"text",value:s,onChange:le=>o(le.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-gray-600 focus:border-white/30 focus:ring-1 focus:ring-white/30 outline-none transition-all font-mono",placeholder:"XXXX-XXXX-XXXX-XXXX",required:!0})]})]}),m&&n.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm flex items-center gap-2",children:[n.jsx(nn,{className:"w-4 h-4 shrink-0"}),m]}),n.jsx("button",{type:"submit",disabled:x,className:"w-full bg-white text-black font-bold py-3.5 rounded-xl hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-xl shadow-white/5 flex items-center justify-center gap-2 mt-2",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Verificando..."]}):n.jsxs(n.Fragment,{children:["Continuar ",n.jsx(Ia,{className:"w-4 h-4"})]})})]})]}),e==="supabase_setup"&&n.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#3ECF8E]/20 rounded-xl flex items-center justify-center mb-6 text-[#3ECF8E] shadow-lg shadow-[#3ECF8E]/10",children:n.jsx(Mh,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Criar Banco de Dados"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Escolha como deseja conectar seu Supabase."}),n.jsxs("div",{className:"flex p-1 bg-black/40 rounded-xl mb-6 border border-white/10",children:[n.jsx("button",{onClick:()=>_("auto"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${N==="auto"?"bg-[#3ECF8E] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Automtico"}),n.jsx("button",{onClick:()=>_("manual"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${N==="manual"?"bg-white text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Manual"})]}),N==="auto"?n.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[n.jsxs("div",{className:"p-4 bg-[#3ECF8E]/10 border border-[#3ECF8E]/20 rounded-xl",children:[n.jsx("p",{className:"text-sm text-[#3ECF8E] mb-2 font-bold",children:"Recomendado"}),n.jsx("p",{className:"text-sm text-gray-300",children:"Vamos criar o projeto e configurar tudo para voc automaticamente."})]}),n.jsx("button",{onClick:ne,disabled:x,className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#3ECF8E]/20",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Conectando..."]}):n.jsxs(n.Fragment,{children:["Conectar com Supabase ",n.jsx(tn,{className:"w-4 h-4"})]})})]}):n.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[n.jsxs("a",{href:"https://database.new",target:"_blank",rel:"noopener noreferrer",className:"block p-4 bg-black/40 border border-white/10 rounded-xl hover:border-[#3ECF8E]/50 transition-all group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-white group-hover:text-[#3ECF8E] transition-colors",children:"1. Criar Projeto Supabase"}),n.jsx(tn,{className:"w-4 h-4 text-gray-500"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:"Clique para abrir o Supabase e criar um novo projeto."})]}),n.jsxs("div",{className:"p-4 bg-black/40 border border-white/10 rounded-xl",children:[n.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"2. Cole a URL do Projeto:"}),n.jsx("input",{type:"text",value:w,onChange:le=>E(le.target.value),placeholder:"https://xxx.supabase.co",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-sm text-white mb-2"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Encontre em: Settings ",">"," API ",">"," Project URL"]})]}),n.jsxs("button",{onClick:Se,className:"w-full bg-white hover:bg-gray-100 text-black font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2",children:[n.jsx(Mh,{className:"w-5 h-5"}),"Continuar"]})]})]}),e==="supabase_migrations"&&n.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#3ECF8E]/20 rounded-xl flex items-center justify-center mb-6 text-[#3ECF8E] shadow-lg shadow-[#3ECF8E]/10",children:n.jsx(Mh,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Criar Tabelas"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Execute o script SQL para estruturar seu banco."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:()=>be(!0),className:"w-full bg-white/10 hover:bg-white/20 text-white font-medium py-4 rounded-xl transition-all flex items-center justify-center gap-2 border border-white/10",children:[n.jsx(Tr,{className:"w-4 h-4"}),"Ver e Copiar SQL"]}),n.jsx("div",{className:"text-center text-sm text-gray-500",children:"Cole no SQL Editor do Supabase e execute."}),n.jsxs("button",{onClick:()=>t("supabase_keys"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-4",children:["J executei o SQL ",n.jsx(Ia,{className:"w-4 h-4"})]})]})]}),e==="supabase_keys"&&n.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#3ECF8E]/20 rounded-xl flex items-center justify-center mb-6 text-[#3ECF8E] shadow-lg shadow-[#3ECF8E]/10",children:n.jsx(ni,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Chaves de Acesso"}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["Copie as chaves do Supabase em Project Settings ",">"," API."]}),n.jsxs("form",{onSubmit:async le=>{le.preventDefault();try{localStorage.setItem("installer_supabase_anon_key",k),localStorage.setItem("installer_supabase_service_key",T),localStorage.setItem("installer_supabase_url",w);const{createClient:Ne}=await Dl(async()=>{const{createClient:pe}=await Promise.resolve().then(()=>h6);return{createClient:pe}},void 0),Ae=Ne(w,k);console.log(" Reloading schema cache...");const{error:we}=await Ae.rpc("exec_sql",{sql:"NOTIFY pgrst, 'reload schema';"});we&&(console.warn(" exec_sql not available, trying alternative method..."),await Ae.from("contents").select("id").limit(0)),console.log(" Schema cache reloaded successfully")}catch(Ne){console.warn(" Could not reload schema cache automatically:",Ne)}t("deploy")},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Anon Public Key"}),n.jsx("input",{type:"text",value:k,onChange:le=>S(le.target.value),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white text-xs font-mono"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Service Role Key (Secret)"}),n.jsx("input",{type:"text",value:T,onChange:le=>C(le.target.value),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white text-xs font-mono"})]}),n.jsxs("button",{type:"submit",className:"w-full bg-[#3ECF8E] text-black font-bold py-3 rounded-xl mt-2 hover:bg-[#3ECF8E]/90 flex justify-center items-center gap-2",children:["Salvar e Continuar ",n.jsx(Ia,{className:"w-4 h-4"})]})]})]}),e==="deploy"&&n.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 text-white shadow-lg",children:n.jsx(sn,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Publicar na Vercel"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Crie seu site automaticamente na Vercel."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-black/40 rounded-xl p-6 border border-white/10",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-4 font-bold",children:"1. Copie e cole estas chaves ao fazer o deploy:"}),n.jsx("div",{className:"bg-black/50 rounded-xl p-4 border border-white/10 space-y-3 mb-6",children:[{k:"NEXT_PUBLIC_SUPABASE_URL",v:w},{k:"NEXT_PUBLIC_SUPABASE_ANON_KEY",v:k},{k:"SUPABASE_SERVICE_ROLE_KEY",v:T}].map((le,Ne)=>n.jsxs("div",{className:"flex items-center justify-between gap-3 bg-white/5 p-3 rounded-xl cursor-pointer hover:bg-white/10 group transition-all",onClick:()=>I(le.v,le.k),children:[n.jsxs("div",{className:"overflow-hidden flex-1",children:[n.jsx("div",{className:"text-xs text-gray-400 font-mono mb-1",children:le.k}),n.jsx("div",{className:"text-xs text-green-400 font-mono truncate",children:le.v||"..."})]}),n.jsx("div",{className:`p-2 rounded-lg transition-all ${P===le.k?"bg-green-500/20 text-green-500 scale-110":"bg-white/5 text-gray-500 group-hover:bg-white/10 group-hover:text-white"}`,children:P===le.k?n.jsx(ft,{className:"w-4 h-4"}):n.jsx(Tr,{className:"w-4 h-4"})})]},Ne))}),n.jsxs("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-white text-black font-bold py-4 rounded-xl flex items-center justify-center gap-3 hover:bg-gray-100 transition-all shadow-xl shadow-white/10 group",children:[n.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 1155 1000",fill:"black",children:n.jsx("path",{d:"M577.344 0L1154.69 1000H0L577.344 0Z"})}),"Deploy to Vercel",n.jsx(tn,{className:"w-4 h-4 opacity-50 group-hover:opacity-100"})]})]}),n.jsxs("button",{onClick:()=>t("vercel_config"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3 rounded-xl flex items-center justify-center gap-2",children:["J fiz o Deploy, quero configurar ",n.jsx(Ia,{className:"w-4 h-4"})]})]})]}),e==="vercel_config"&&n.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-6 text-purple-400 shadow-lg shadow-purple-500/10",children:n.jsx(ww,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Configurao Ps-Deploy"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Adicione estas variveis no painel da Vercel para ativar o sistema."}),n.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl mb-8 flex items-start gap-3",children:[n.jsx(QR,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),n.jsxs("p",{className:"text-sm text-yellow-200",children:["Aps adicionar as variveis abaixo no seu projeto Vercel, voc precisar fazer um ",n.jsx("strong",{children:"Redeploy"})," para que elas tenham efeito."]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{children:n.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:["1. VERCEL_TOKEN",n.jsxs("a",{href:"https://vercel.com/account/settings/tokens",target:"_blank",className:"text-xs font-normal text-purple-400 hover:text-purple-300 bg-purple-500/10 px-2 py-1 rounded-full flex items-center gap-1 transition-colors",children:["Gerar Token ",n.jsx(tn,{className:"w-3 h-3"})]})]})})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-gray-400 font-mono text-sm flex items-center",children:"VERCEL_TOKEN"}),n.jsxs("button",{onClick:()=>I("VERCEL_TOKEN"),className:`px-6 rounded-xl font-bold transition-all flex items-center gap-2 ${P==="VERCEL_TOKEN"?"bg-green-500 text-black":"bg-white/10 hover:bg-white/20 text-white"}`,children:[P==="VERCEL_TOKEN"?n.jsx(ft,{className:"w-5 h-5"}):n.jsx(Tr,{className:"w-5 h-5"}),P==="VERCEL_TOKEN"?"Copiado!":"Copiar"]})]})]}),n.jsx("div",{className:"h-px bg-white/5"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{children:n.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:["2. VERCEL_PROJECT_ID",n.jsxs("a",{href:"https://vercel.com/account/settings",target:"_blank",className:"text-xs font-normal text-purple-400 hover:text-purple-300 bg-purple-500/10 px-2 py-1 rounded-full flex items-center gap-1 transition-colors",children:["Ver Configuraes ",n.jsx(tn,{className:"w-3 h-3"})]})]})})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-gray-400 font-mono text-sm flex items-center",children:"VERCEL_PROJECT_ID"}),n.jsxs("button",{onClick:()=>I("VERCEL_PROJECT_ID"),className:`px-6 rounded-xl font-bold transition-all flex items-center gap-2 ${P==="VERCEL_PROJECT_ID"?"bg-green-500 text-black":"bg-white/10 hover:bg-white/20 text-white"}`,children:[P==="VERCEL_PROJECT_ID"?n.jsx(ft,{className:"w-5 h-5"}):n.jsx(Tr,{className:"w-5 h-5"}),P==="VERCEL_PROJECT_ID"?"Copiado!":"Copiar"]})]})]}),n.jsx("div",{className:"h-8"}),n.jsxs("form",{onSubmit:ie,className:"pt-4 border-t border-white/10",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Cole a URL do seu site para finalizar (Ex: minhaloja.vercel.app)"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(sn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),n.jsx("input",{type:"text",value:O,onChange:le=>M(le.target.value),placeholder:"minhaloja.vercel.app",className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 pl-12 pr-4 text-white focus:border-white/30 outline-none transition-all",required:!0})]}),n.jsxs("button",{type:"submit",className:"bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black px-8 rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg shadow-[#3ECF8E]/20",children:["Concluir ",n.jsx(ds,{className:"w-5 h-5"})]})]})]})]})]}),e==="success"&&n.jsxs("div",{className:"glass-panel border border-green-500/20 bg-green-500/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6 text-green-500 shadow-lg shadow-green-500/20 mx-auto animate-in zoom-in duration-300",children:n.jsx(ft,{className:"w-10 h-10"})}),n.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Instalao Concluda!"}),n.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Parabns! Seu Super Checkout est configurado."}),n.jsxs("div",{className:"bg-black/40 rounded-xl p-6 mb-6 border border-white/5 text-center",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Painel Administrativo:"}),n.jsx("a",{href:`https://${localStorage.getItem("installer_vercel_domain")||O}`,target:"_blank",rel:"noopener noreferrer",className:"text-xl font-bold text-primary hover:underline font-mono",children:localStorage.getItem("installer_vercel_domain")||O})]}),n.jsxs("a",{href:`https://${localStorage.getItem("installer_vercel_domain")||O}`,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary/20 hover:shadow-primary/40 hover:-translate-y-1",children:["Acessar meu Sistema",n.jsx(Ia,{className:"w-5 h-5"})]})]})]})]}),xe&&n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:n.jsxs("div",{className:"w-full max-w-4xl bg-[#0F0F13] border border-white/10 rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[n.jsx(Mh,{className:"w-5 h-5 text-[#3ECF8E]"}),"SQL de Migrao (Supabase)"]}),n.jsx("button",{onClick:()=>be(!1),className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(ea,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"flex-1 overflow-auto p-6 bg-black/40",children:n.jsx("div",{className:"relative",children:n.jsx("pre",{className:"text-xs font-mono text-gray-300 whitespace-pre-wrap break-all",children:IC})})}),n.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-[#0F0F13] rounded-b-2xl",children:[n.jsx("button",{onClick:()=>be(!1),className:"px-6 py-3 rounded-xl font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Fechar"}),n.jsxs("button",{onClick:()=>I(IC,"sql_modal"),className:`px-8 py-3 rounded-xl font-bold shadow-lg flex items-center gap-2 transition-all ${P==="sql_modal"?"bg-green-500 text-white shadow-green-500/20 scale-105":"bg-primary hover:bg-primary/90 text-white shadow-primary/20 hover:shadow-primary/40"}`,children:[P==="sql_modal"?n.jsx(ft,{className:"w-4 h-4"}):n.jsx(Tr,{className:"w-4 h-4"}),P==="sql_modal"?"Copiado!":"Copiar SQL Completo"]})]})]})}),n.jsx(zr,{isOpen:K.isOpen,onClose:()=>he(le=>({...le,isOpen:!1})),title:K.title,message:K.message,variant:K.variant,buttonText:"Entendi"})]})}const Xae=()=>n.jsx(ir,{children:n.jsxs("div",{className:"max-w-5xl mx-auto py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Documentao de Webhooks"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Guia completo para integrar o Super Checkout com sistemas externos."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"lg:col-span-1 space-y-2",children:[n.jsx("a",{href:"#intro",className:"block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors",children:"Introduo"}),n.jsx("a",{href:"#security",className:"block text-sm font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Segurana & Assinatura"}),n.jsx("a",{href:"#incoming",className:"block text-sm font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Webhooks de Entrada"}),n.jsx("a",{href:"#outgoing",className:"block text-sm font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Webhooks de Sada"})]}),n.jsxs("div",{className:"lg:col-span-3 space-y-12",children:[n.jsxs("section",{id:"intro",className:"space-y-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(sn,{className:"w-6 h-6 text-primary"})," Introduo"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Os Webhooks permitem que o Super Checkout se comunique em tempo real com outros sistemas. Voc pode configurar notificaes para eventos como vendas aprovadas, carrinhos abandonados, ou receber comandos para liberar acessos e atualizar pedidos."}),n.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:n.jsxs("p",{className:"text-blue-400 text-sm",children:[n.jsx("strong",{children:"Nota:"})," Todas as requisies so enviadas como JSON e esperam um status 200 OK para confirmao."]})})]}),n.jsxs("section",{id:"security",className:"space-y-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(br,{className:"w-6 h-6 text-primary"})," Segurana"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Para garantir que os dados recebidos vieram realmente do Super Checkout, ns enviamos um hash de assinatura no cabealho de cada requisio."}),n.jsxs(Te,{children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Cabealho de Assinatura"}),n.jsx("code",{className:"block bg-black/50 p-3 rounded text-sm text-green-400 font-mono mb-4",children:"X-Super-Checkout-Signature: <sua-chave-secreta>"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Voc pode (e deve) verificar se este cabealho corresponde  chave secreta configurada no painel do seu webhook."})]})]}),n.jsxs("section",{id:"incoming",className:"space-y-6",children:[n.jsxs("div",{className:"border-b border-gray-200 dark:border-white/10 pb-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(ds,{className:"w-6 h-6 text-green-500"})," Webhooks de Entrada"]}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Use nossa API para enviar comandos para o Super Checkout."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[n.jsx("code",{className:"text-primary font-bold",children:"pedido.atualizar"}),n.jsx("span",{className:"text-xs text-gray-500",children:"POST"})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"Atualiza o status de um pedido existente."}),n.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:n.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap",children:`{
  "event": "pedido.atualizar",
  "order_id": "ord_123456789",
  "status": "paid" // pending, paid, failed, canceled, refunded
}`})})]})]}),n.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[n.jsx("code",{className:"text-primary font-bold",children:"acesso.liberar"}),n.jsx("span",{className:"text-xs text-gray-500",children:"POST"})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-300",children:"Libera acesso a um produto para um usurio especfico."}),n.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:n.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap",children:`{
  "event": "acesso.liberar",
  "email": "cliente@email.com",
  "product_id": "prod_abc123"
}`})})]})]})]})]}),n.jsxs("section",{id:"outgoing",className:"space-y-6",children:[n.jsxs("div",{className:"border-b border-gray-200 dark:border-white/10 pb-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(ds,{className:"w-6 h-6 text-blue-500 transform rotate-180"})," Webhooks de Sada"]}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Eventos enviados pelo Super Checkout para o seu URL configurado."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[n.jsx("code",{className:"text-primary font-bold",children:"pagamento.aprovado"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Enviado quando uma venda  confirmada"})]}),n.jsx("div",{className:"p-6 space-y-4",children:n.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:n.jsx("pre",{className:"text-xs text-blue-300 font-mono whitespace-pre-wrap",children:`{
  "event": "pagamento.aprovado",
  "order_id": "ord_987654",
  "amount": 197.00,
  "status": "paid",
  "customer": {
     "name": "Joo da Silva",
     "email": "joao@exemplo.com",
     "phone": "5511999998888",
     "cpf": "123.456.789-00"
  },
  "items": [
     { "name": "Curso React Pro", "qty": 1, "price": 197.00 }
  ],
  "created_at": "2023-10-27T14:30:00Z"
}`})})})]}),n.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[n.jsx("code",{className:"text-primary font-bold",children:"checkout.abandonado"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Enviado 15min aps abandono"})]}),n.jsx("div",{className:"p-6 space-y-4",children:n.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:n.jsx("pre",{className:"text-xs text-blue-300 font-mono whitespace-pre-wrap",children:`{
  "event": "checkout.abandonado",
  "checkout_id": "chk_123456",
  "recovered_url": "https://seu-checkout.com/r/abc123",
  "customer": {
     "email": "joao@exemplo.com",
     "name": "Joo"
  }
}`})})})]})]})]})]})]})]})});class Kae extends v.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-[#0D1118] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-[#1a1e26] border border-red-500/20 rounded-xl p-8 max-w-lg w-full shadow-2xl",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),n.jsx("p",{className:"text-gray-300 mb-6",children:"Ocorreu um erro inesperado que impediu o carregamento da aplicao."}),n.jsx("div",{className:"bg-black/30 p-4 rounded-lg mb-6 overflow-auto max-h-48",children:n.jsx("code",{className:"text-xs text-red-400 font-mono",children:(t=this.state.error)==null?void 0:t.message})}),n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const Jae=()=>{const[e,t]=v.useState(!0),[r,a]=v.useState(null),[s,o]=v.useState(null),[c,d]=v.useState(null);return v.useEffect(()=>{const h=async()=>{const m=window.location.hostname;if(console.log("Current hostname:",m),m.includes("localhost")||m.includes("127.0.0.1")||m.includes(".vercel.app")||m.includes(".webcontainer.io")||m==="super-checkout.vercel.app"){console.log("System domain detected, skipping custom domain check."),t(!1);return}try{console.log("Checking custom domain in DB...");const g=await ae.getDomainByHostname(m);if(console.log("Domain found:",g),g){if(g.status!=="active"){console.log("Domain pending. Attempting auto-verification...");try{const N=await(await fetch(`/api/domains/verify?domain=${m}`)).json();if(N.verified&&N.status==="active"){console.log("Auto-verification successful! Reloading..."),window.location.reload();return}}catch(y){console.error("Auto-verification failed:",y)}d("Domnio ainda em verificao. Aguarde a propagao do DNS."),t(!1);return}const x=window.location.pathname;if(g.usage===ht.CHECKOUT){if(x.startsWith("/thank-you")||x.startsWith("/pagamento")||x.startsWith("/upsell")){t(!1),a("system");return}const y=x.substring(1),N=await ae.getCheckoutByDomainAndSlug(g.id,y);N?a(N.id):d("Checkout no encontrado neste domnio."),t(!1);return}if(g.usage===ht.MEMBER_AREA){const y=await ae.getMemberAreaByDomain(g.id);y?o(y.slug):d("Nenhuma rea de Membros configurada para este domnio."),t(!1);return}if(g.usage===ht.SYSTEM){console.log("System domain detected, allowing standard routing."),t(!1);return}console.log("Unknown domain usage, allowing standard routing."),t(!1)}else d("Domnio no configurado no sistema."),t(!1)}catch(g){console.error("Erro ao verificar domnio:",g),d("Erro ao carregar configurao do domnio."),t(!1)}},f=setTimeout(()=>{console.warn("DomainDispatcher: Check timed out, forcing standard load."),t(!1)},4e3);return h().finally(()=>clearTimeout(f)),()=>clearTimeout(f)},[]),e?n.jsx(Xy,{}):c?n.jsxs("div",{className:"min-h-screen bg-[#0F0F13] flex flex-col items-center justify-center text-white p-4 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 text-red-500",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),n.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),n.jsx("h1",{className:"text-xl font-bold mb-2",children:"Acesso Indisponvel"}),n.jsx("p",{className:"text-gray-400 max-w-md",children:c})]}):r?n.jsxs(Nx,{children:[n.jsx(Le,{path:"/",element:n.jsx(mv,{checkoutId:r})}),n.jsx(Le,{path:"/:slug",element:n.jsx(mv,{checkoutId:r})}),n.jsx(Le,{path:"/pagamento/pix/:orderId",element:n.jsx(NC,{})}),n.jsx(Le,{path:"/upsell/:orderId",element:n.jsx(kC,{})}),n.jsx(Le,{path:"/thank-you/:orderId",element:n.jsx(CC,{})}),n.jsx(Le,{path:"*",element:n.jsx(Fh,{to:"/",replace:!0})})]}):s?n.jsxs(Nx,{children:[n.jsx(Le,{path:"/login",element:n.jsx(AC,{forcedSlug:s})}),n.jsx(Le,{path:"/signup",element:n.jsx(TC,{forcedSlug:s})}),n.jsxs(Le,{path:"/",element:n.jsx(OC,{forcedSlug:s}),children:[n.jsx(Le,{index:!0,element:n.jsx(eu,{})}),n.jsx(Le,{path:"products",element:n.jsx(RC,{})}),n.jsx(Le,{path:"my-products",element:n.jsx(DC,{})}),n.jsx(Le,{path:"faq",element:n.jsx(PC,{})}),n.jsx(Le,{path:"my-list",element:n.jsx(eu,{})}),n.jsx(Le,{path:"content/:id",element:n.jsx(wC,{})}),n.jsx(Le,{path:"profile",element:n.jsx(MC,{})})]}),n.jsx(Le,{path:"/course/:id",element:n.jsx(bC,{forcedSlug:s})}),n.jsx(Le,{path:"*",element:n.jsx(Fh,{to:"/",replace:!0})})]}):n.jsxs(Nx,{children:[n.jsx(Le,{path:"/setup",element:n.jsx(Hae,{})}),n.jsx(Le,{path:"/debug-auth",element:n.jsx(b6,{})}),n.jsx(Le,{path:"/login",element:n.jsx(Fae,{})}),n.jsx(Le,{path:"/update-password",element:n.jsx(qae,{})}),n.jsx(Le,{path:"/pagamento/pix/:orderId",element:n.jsx(NC,{})}),n.jsx(Le,{path:"/upsell/:orderId",element:n.jsx(kC,{})}),n.jsx(Le,{path:"/thank-you/:orderId",element:n.jsx(CC,{})}),n.jsx(Le,{path:"/c/:id",element:n.jsx(mv,{})}),n.jsx(Le,{path:"/installer",element:n.jsx(Wae,{})}),n.jsx(Le,{path:"/admin",element:n.jsx(mr,{children:n.jsx(uZ,{})})}),n.jsx(Le,{path:"/admin/products",element:n.jsx(mr,{children:n.jsx(dZ,{})})}),n.jsx(Le,{path:"/admin/offers",element:n.jsx(mr,{children:n.jsx(hZ,{})})}),n.jsx(Le,{path:"/admin/checkouts",element:n.jsx(mr,{children:n.jsx(fZ,{})})}),n.jsx(Le,{path:"/admin/checkouts/edit/:id",element:n.jsx(mr,{children:n.jsx(mZ,{})})}),n.jsx(Le,{path:"/admin/gateways",element:n.jsx(mr,{children:n.jsx(pZ,{})})}),n.jsx(Le,{path:"/admin/domains",element:n.jsx(mr,{children:n.jsx(gZ,{})})}),n.jsx(Le,{path:"/admin/settings",element:n.jsx(mr,{children:n.jsx(xZ,{})})}),n.jsx(Le,{path:"/admin/orders",element:n.jsx(mr,{children:n.jsx(Pre,{})})}),n.jsx(Le,{path:"/admin/webhooks",element:n.jsx(mr,{children:n.jsx(Ire,{})})}),n.jsx(Le,{path:"/admin/licenses",element:n.jsx(mr,{children:n.jsx(Lre,{})})}),n.jsx(Le,{path:"/admin/marketing",element:n.jsx(mr,{children:n.jsx(Ure,{})})}),n.jsx(Le,{path:"/admin/integrations",element:n.jsx(mr,{children:n.jsx(Fre,{})})}),n.jsx(Le,{path:"/admin/members",element:n.jsx(mr,{children:n.jsx(qre,{})})}),n.jsx(Le,{path:"/admin/members/:id",element:n.jsx(mr,{children:n.jsx(bae,{})})}),n.jsx(Le,{path:"/admin/contents/:id",element:n.jsx(mr,{children:n.jsx(jae,{})})}),n.jsx(Le,{path:"/docs/webhooks",element:n.jsx(mr,{children:n.jsx(Xae,{})})}),n.jsx(Le,{path:"/app/:slug/login",element:n.jsx(AC,{})}),n.jsx(Le,{path:"/app/:slug/signup",element:n.jsx(TC,{})}),n.jsxs(Le,{path:"/app/:slug",element:n.jsx(OC,{}),children:[n.jsx(Le,{index:!0,element:n.jsx(eu,{})}),n.jsx(Le,{path:"products",element:n.jsx(RC,{})}),n.jsx(Le,{path:"my-products",element:n.jsx(DC,{})}),n.jsx(Le,{path:"faq",element:n.jsx(PC,{})}),n.jsx(Le,{path:"my-list",element:n.jsx(eu,{})}),n.jsx(Le,{path:"new",element:n.jsx(eu,{})}),n.jsx(Le,{path:"content/:id",element:n.jsx(wC,{})}),n.jsx(Le,{path:"profile",element:n.jsx(MC,{})})]}),n.jsx(Le,{path:"/app/:slug/course/:id",element:n.jsx(bC,{})}),n.jsx(Le,{path:"/",element:n.jsx(Fh,{to:"/admin",replace:!0})})]})},Qae=()=>n.jsx(Kae,{children:n.jsx(y6,{children:n.jsx(cZ,{children:n.jsx(YI,{children:n.jsx(Vae,{children:n.jsx(Jae,{})})})})})}),oP=document.getElementById("root");if(!oP)throw new Error("Could not find root element to mount to");const Zae=OM.createRoot(oP);Zae.render(n.jsx(Qae,{}));
