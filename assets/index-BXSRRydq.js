var rL=Object.defineProperty;var aL=(t,e,r)=>e in t?rL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var t0=(t,e,r)=>aL(t,typeof e!="symbol"?e+"":e,r);function hC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Wn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var r0={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function sL(){if(NE)return Ad;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var l=null;if(i!==void 0&&(l=""+i),s.key!==void 0&&(l=""+s.key),"key"in s){i={};for(var d in s)d!=="key"&&(i[d]=s[d])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:l,ref:s!==void 0?s:null,props:i}}return Ad.Fragment=e,Ad.jsx=r,Ad.jsxs=r,Ad}var _E;function iL(){return _E||(_E=1,r0.exports=sL()),r0.exports}var a=iL(),a0={exports:{}},Cd={},n0={exports:{}},s0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function oL(){return EE||(EE=1,(function(t){function e(B,I){var z=B.length;B.push(I);e:for(;0<z;){var oe=z-1>>>1,K=B[oe];if(0<s(K,I))B[oe]=I,B[z]=K,z=oe;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var I=B[0],z=B.pop();if(z!==I){B[0]=z;e:for(var oe=0,K=B.length,D=K>>>1;oe<D;){var U=2*(oe+1)-1,W=B[U],re=U+1,he=B[re];if(0>s(W,z))re<K&&0>s(he,W)?(B[oe]=he,B[re]=z,oe=re):(B[oe]=W,B[U]=z,oe=U);else if(re<K&&0>s(he,z))B[oe]=he,B[re]=z,oe=re;else break e}}return I}function s(B,I){var z=B.sortIndex-I.sortIndex;return z!==0?z:B.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],f=[],m=1,p=null,x=3,v=!1,y=!1,N=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var I=r(f);I!==null;){if(I.callback===null)n(f);else if(I.startTime<=B)n(f),I.sortIndex=I.expirationTime,e(u,I);else break;I=r(f)}}function C(B){if(N=!1,A(B),!y)if(r(u)!==null)y=!0,O||(O=!0,q());else{var I=r(f);I!==null&&ue(C,I.startTime-B)}}var O=!1,R=-1,L=5,$=-1;function M(){return w?!0:!(t.unstable_now()-$<L)}function H(){if(w=!1,O){var B=t.unstable_now();$=B;var I=!0;try{e:{y=!1,N&&(N=!1,k(R),R=-1),v=!0;var z=x;try{t:{for(A(B),p=r(u);p!==null&&!(p.expirationTime>B&&M());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,x=p.priorityLevel;var K=oe(p.expirationTime<=B);if(B=t.unstable_now(),typeof K=="function"){p.callback=K,A(B),I=!0;break t}p===r(u)&&n(u),A(B)}else n(u);p=r(u)}if(p!==null)I=!0;else{var D=r(f);D!==null&&ue(C,D.startTime-B),I=!1}}break e}finally{p=null,x=z,v=!1}I=void 0}}finally{I?q():O=!1}}}var q;if(typeof S=="function")q=function(){S(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=H,q=function(){X.postMessage(null)}}else q=function(){E(H,0)};function ue(B,I){R=E(function(){B(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(B){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var z=x;x=I;try{return B()}finally{x=z}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var z=x;x=B;try{return I()}finally{x=z}},t.unstable_scheduleCallback=function(B,I,z){var oe=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?oe+z:oe):z=oe,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=z+K,B={id:m++,callback:I,priorityLevel:B,startTime:z,expirationTime:K,sortIndex:-1},z>oe?(B.sortIndex=z,e(f,B),r(u)===null&&B===r(f)&&(N?(k(R),R=-1):N=!0,ue(C,z-oe))):(B.sortIndex=K,e(u,B),y||v||(y=!0,O||(O=!0,q()))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var I=x;return function(){var z=x;x=I;try{return B.apply(this,arguments)}finally{x=z}}}})(s0)),s0}var SE;function lL(){return SE||(SE=1,n0.exports=oL()),n0.exports}var i0={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function cL(){if(kE)return Je;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function E(D,U,W){this.props=D,this.context=U,this.refs=w,this.updater=W||y}E.prototype.isReactComponent={},E.prototype.setState=function(D,U){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,U,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=E.prototype;function S(D,U,W){this.props=D,this.context=U,this.refs=w,this.updater=W||y}var A=S.prototype=new k;A.constructor=S,N(A,E.prototype),A.isPureReactComponent=!0;var C=Array.isArray;function O(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function $(D,U,W){var re=W.ref;return{$$typeof:t,type:D,key:U,ref:re!==void 0?re:null,props:W}}function M(D,U){return $(D.type,U,D.props)}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function q(D){var U={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return U[W]})}var F=/\/+/g;function X(D,U){return typeof D=="object"&&D!==null&&D.key!=null?q(""+D.key):U.toString(36)}function ue(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(O,O):(D.status="pending",D.then(function(U){D.status==="pending"&&(D.status="fulfilled",D.value=U)},function(U){D.status==="pending"&&(D.status="rejected",D.reason=U)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,U,W,re,he){var J=typeof D;(J==="undefined"||J==="boolean")&&(D=null);var ve=!1;if(D===null)ve=!0;else switch(J){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(D.$$typeof){case t:case e:ve=!0;break;case m:return ve=D._init,B(ve(D._payload),U,W,re,he)}}if(ve)return he=he(D),ve=re===""?"."+X(D,0):re,C(he)?(W="",ve!=null&&(W=ve.replace(F,"$&/")+"/"),B(he,U,W,"",function(Ae){return Ae})):he!=null&&(H(he)&&(he=M(he,W+(he.key==null||D&&D.key===he.key?"":(""+he.key).replace(F,"$&/")+"/")+ve)),U.push(he)),1;ve=0;var Te=re===""?".":re+":";if(C(D))for(var ae=0;ae<D.length;ae++)re=D[ae],J=Te+X(re,ae),ve+=B(re,U,W,J,he);else if(ae=v(D),typeof ae=="function")for(D=ae.call(D),ae=0;!(re=D.next()).done;)re=re.value,J=Te+X(re,ae++),ve+=B(re,U,W,J,he);else if(J==="object"){if(typeof D.then=="function")return B(ue(D),U,W,re,he);throw U=String(D),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ve}function I(D,U,W){if(D==null)return D;var re=[],he=0;return B(D,re,"","",function(J){return U.call(W,J,he++)}),re}function z(D){if(D._status===-1){var U=D._result;U=U(),U.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=U)}if(D._status===1)return D._result.default;throw D._result}var oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},K={map:I,forEach:function(D,U,W){I(D,function(){U.apply(this,arguments)},W)},count:function(D){var U=0;return I(D,function(){U++}),U},toArray:function(D){return I(D,function(U){return U})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Je.Activity=p,Je.Children=K,Je.Component=E,Je.Fragment=r,Je.Profiler=s,Je.PureComponent=S,Je.StrictMode=n,Je.Suspense=u,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Je.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},Je.cache=function(D){return function(){return D.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(D,U,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=N({},D.props),he=D.key;if(U!=null)for(J in U.key!==void 0&&(he=""+U.key),U)!L.call(U,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&U.ref===void 0||(re[J]=U[J]);var J=arguments.length-2;if(J===1)re.children=W;else if(1<J){for(var ve=Array(J),Te=0;Te<J;Te++)ve[Te]=arguments[Te+2];re.children=ve}return $(D.type,he,re)},Je.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:i,_context:D},D},Je.createElement=function(D,U,W){var re,he={},J=null;if(U!=null)for(re in U.key!==void 0&&(J=""+U.key),U)L.call(U,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=U[re]);var ve=arguments.length-2;if(ve===1)he.children=W;else if(1<ve){for(var Te=Array(ve),ae=0;ae<ve;ae++)Te[ae]=arguments[ae+2];he.children=Te}if(D&&D.defaultProps)for(re in ve=D.defaultProps,ve)he[re]===void 0&&(he[re]=ve[re]);return $(D,J,he)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(D){return{$$typeof:d,render:D}},Je.isValidElement=H,Je.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:z}},Je.memo=function(D,U){return{$$typeof:f,type:D,compare:U===void 0?null:U}},Je.startTransition=function(D){var U=R.T,W={};R.T=W;try{var re=D(),he=R.S;he!==null&&he(W,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(O,oe)}catch(J){oe(J)}finally{U!==null&&W.types!==null&&(U.types=W.types),R.T=U}},Je.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Je.use=function(D){return R.H.use(D)},Je.useActionState=function(D,U,W){return R.H.useActionState(D,U,W)},Je.useCallback=function(D,U){return R.H.useCallback(D,U)},Je.useContext=function(D){return R.H.useContext(D)},Je.useDebugValue=function(){},Je.useDeferredValue=function(D,U){return R.H.useDeferredValue(D,U)},Je.useEffect=function(D,U){return R.H.useEffect(D,U)},Je.useEffectEvent=function(D){return R.H.useEffectEvent(D)},Je.useId=function(){return R.H.useId()},Je.useImperativeHandle=function(D,U,W){return R.H.useImperativeHandle(D,U,W)},Je.useInsertionEffect=function(D,U){return R.H.useInsertionEffect(D,U)},Je.useLayoutEffect=function(D,U){return R.H.useLayoutEffect(D,U)},Je.useMemo=function(D,U){return R.H.useMemo(D,U)},Je.useOptimistic=function(D,U){return R.H.useOptimistic(D,U)},Je.useReducer=function(D,U,W){return R.H.useReducer(D,U,W)},Je.useRef=function(D){return R.H.useRef(D)},Je.useState=function(D){return R.H.useState(D)},Je.useSyncExternalStore=function(D,U,W){return R.H.useSyncExternalStore(D,U,W)},Je.useTransition=function(){return R.H.useTransition()},Je.version="19.2.0",Je}var AE;function jc(){return AE||(AE=1,i0.exports=cL()),i0.exports}var o0={exports:{}},ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function dL(){if(CE)return ra;CE=1;var t=jc();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:u,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ra.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(u,f,null,m)},ra.flushSync=function(u){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=f,n.p=m,n.d.f()}},ra.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},ra.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ra.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,p=d(m,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:v}):m==="script"&&n.d.X(u,{crossOrigin:p,integrity:x,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ra.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=d(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},ra.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=d(m,f.crossOrigin);n.d.L(u,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ra.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=d(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},ra.requestFormReset=function(u){n.d.r(u)},ra.unstable_batchedUpdates=function(u,f){return u(f)},ra.useFormState=function(u,f,m){return l.H.useFormState(u,f,m)},ra.useFormStatus=function(){return l.H.useHostTransitionStatus()},ra.version="19.2.0",ra}var TE;function fC(){if(TE)return o0.exports;TE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o0.exports=dL(),o0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function uL(){if(OE)return Cd;OE=1;var t=lL(),e=jc(),r=fC();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(n(188))}function f(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,g=c;;){var j=h.return;if(j===null)break;var _=j.alternate;if(_===null){if(g=j.return,g!==null){h=g;continue}break}if(j.child===_.child){for(_=j.child;_;){if(_===h)return u(j),o;if(_===g)return u(j),c;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=j,g=_;else{for(var T=!1,P=j.child;P;){if(P===h){T=!0,h=j,g=_;break}if(P===g){T=!0,g=j,h=_;break}P=P.sibling}if(!T){for(P=_.child;P;){if(P===h){T=!0,h=_,g=j;break}if(P===g){T=!0,g=_,h=j;break}P=P.sibling}if(!T)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case S:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case A:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return c=o.displayName||null,c!==null?c:X(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return X(o(c))}catch{}}return null}var ue=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},oe=[],K=-1;function D(o){return{current:o}}function U(o){0>K||(o.current=oe[K],oe[K]=null,K--)}function W(o,c){K++,oe[K]=o.current,o.current=c}var re=D(null),he=D(null),J=D(null),ve=D(null);function Te(o,c){switch(W(J,c),W(he,o),W(re,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?V_(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=V_(c),o=Y_(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(re),W(re,o)}function ae(){U(re),U(he),U(J)}function Ae(o){o.memoizedState!==null&&W(ve,o);var c=re.current,h=Y_(c,o.type);c!==h&&(W(he,o),W(re,h))}function Ce(o){he.current===o&&(U(re),U(he)),ve.current===o&&(U(ve),_d._currentValue=z)}var ge,Y;function me(o){if(ge===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);ge=c&&c[1]||"",Y=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+o+Y}var ke=!1;function Z(o,c){if(!o||ke)return"";ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(fe){var de=fe}Reflect.construct(o,[],we)}else{try{we.call()}catch(fe){de=fe}o.call(we.prototype)}}else{try{throw Error()}catch(fe){de=fe}(we=o())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),T=_[0],P=_[1];if(T&&P){var G=T.split(`
`),le=P.split(`
`);for(j=g=0;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;for(;j<le.length&&!le[j].includes("DetermineComponentFrameRoot");)j++;if(g===G.length||j===le.length)for(g=G.length-1,j=le.length-1;1<=g&&0<=j&&G[g]!==le[j];)j--;for(;1<=g&&0<=j;g--,j--)if(G[g]!==le[j]){if(g!==1||j!==1)do if(g--,j--,0>j||G[g]!==le[j]){var be=`
`+G[g].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=g&&0<=j);break}}}finally{ke=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?me(h):""}function te(o,c){switch(o.tag){case 26:case 27:case 5:return me(o.type);case 16:return me("Lazy");case 13:return o.child!==c&&c!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Z(o.type,!1);case 11:return Z(o.type.render,!1);case 1:return Z(o.type,!0);case 31:return me("Activity");default:return""}}function Oe(o){try{var c="",h=null;do c+=te(o,h),h=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var He=Object.prototype.hasOwnProperty,Re=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ee=t.unstable_now,xe=t.unstable_getCurrentPriorityLevel,Pe=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,rt=t.unstable_LowPriority,Ze=t.unstable_IdlePriority,rr=t.log,Br=t.unstable_setDisableYieldValue,sn=null,Kt=null;function ea(o){if(typeof rr=="function"&&Br(o),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(sn,o)}catch{}}var Wt=Math.clz32?Math.clz32:zr,ft=Math.log,ca=Math.LN2;function zr(o){return o>>>=0,o===0?32:31-(ft(o)/ca|0)|0}var La=256,vs=262144,Zn=4194304;function Ua(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ke(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var j=0,_=o.suspendedLanes,T=o.pingedLanes;o=o.warmLanes;var P=g&134217727;return P!==0?(g=P&~_,g!==0?j=Ua(g):(T&=P,T!==0?j=Ua(T):h||(h=P&~o,h!==0&&(j=Ua(h))))):(P=g&~_,P!==0?j=Ua(P):T!==0?j=Ua(T):h||(h=g&~o,h!==0&&(j=Ua(h)))),j===0?0:c!==0&&c!==j&&(c&_)===0&&(_=j&-j,h=c&-c,_>=h||_===32&&(h&4194048)!==0)?c:j}function Ct(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ar(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var o=Zn;return Zn<<=1,(Zn&62914560)===0&&(Zn=4194304),o}function kn(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Rt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ne(o,c,h,g,j,_){var T=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var P=o.entanglements,G=o.expirationTimes,le=o.hiddenUpdates;for(h=T&~h;0<h;){var be=31-Wt(h),we=1<<be;P[be]=0,G[be]=-1;var de=le[be];if(de!==null)for(le[be]=null,be=0;be<de.length;be++){var fe=de[be];fe!==null&&(fe.lane&=-536870913)}h&=~we}g!==0&&Lt(o,g,0),_!==0&&j===0&&o.tag!==0&&(o.suspendedLanes|=_&~(T&~c))}function Lt(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Wt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function xt(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-Wt(h),j=1<<g;j&c|o[g]&c&&(o[g]|=c),h&=~j}}function ta(o,c){var h=c&-c;return h=(h&42)!==0?1:tl(h),(h&(o.suspendedLanes|c))!==0?0:h}function tl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function An(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Gp(){var o=I.p;return o!==0?o:(o=window.event,o===void 0?32:gE(o.type))}function R1(o,c){var h=I.p;try{return I.p=o,c()}finally{I.p=h}}var hi=Math.random().toString(36).slice(2),Fr="__reactFiber$"+hi,va="__reactProps$"+hi,rl="__reactContainer$"+hi,Vp="__reactEvents$"+hi,GI="__reactListeners$"+hi,VI="__reactHandles$"+hi,D1="__reactResources$"+hi,$c="__reactMarker$"+hi;function Yp(o){delete o[Fr],delete o[va],delete o[Vp],delete o[GI],delete o[VI]}function al(o){var c=o[Fr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[rl]||h[Fr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=eE(o);o!==null;){if(h=o[Fr])return h;o=eE(o)}return c}o=h,h=o.parentNode}return null}function nl(o){if(o=o[Fr]||o[rl]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Bc(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function sl(o){var c=o[D1];return c||(c=o[D1]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Tr(o){o[$c]=!0}var I1=new Set,P1={};function no(o,c){il(o,c),il(o+"Capture",c)}function il(o,c){for(P1[o]=c,o=0;o<c.length;o++)I1.add(c[o])}var YI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),M1={},L1={};function WI(o){return He.call(L1,o)?!0:He.call(M1,o)?!1:YI.test(o)?L1[o]=!0:(M1[o]=!0,!1)}function Fu(o,c,h){if(WI(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function qu(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function ys(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}function on(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function U1(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function XI(o,c,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var j=g.get,_=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return j.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Wp(o){if(!o._valueTracker){var c=U1(o)?"checked":"value";o._valueTracker=XI(o,c,""+o[c])}}function $1(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=U1(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function Hu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var KI=/[\n"\\]/g;function ln(o){return o.replace(KI,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Xp(o,c,h,g,j,_,T,P){o.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?o.type=T:o.removeAttribute("type"),c!=null?T==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+on(c)):o.value!==""+on(c)&&(o.value=""+on(c)):T!=="submit"&&T!=="reset"||o.removeAttribute("value"),c!=null?Kp(o,T,on(c)):h!=null?Kp(o,T,on(h)):g!=null&&o.removeAttribute("value"),j==null&&_!=null&&(o.defaultChecked=!!_),j!=null&&(o.checked=j&&typeof j!="function"&&typeof j!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.name=""+on(P):o.removeAttribute("name")}function B1(o,c,h,g,j,_,T,P){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),c!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Wp(o);return}h=h!=null?""+on(h):"",c=c!=null?""+on(c):h,P||c===o.value||(o.value=c),o.defaultValue=c}g=g??j,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=P?o.checked:!!g,o.defaultChecked=!!g,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.name=T),Wp(o)}function Kp(o,c,h){c==="number"&&Hu(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function ol(o,c,h,g){if(o=o.options,c){c={};for(var j=0;j<h.length;j++)c["$"+h[j]]=!0;for(h=0;h<o.length;h++)j=c.hasOwnProperty("$"+o[h].value),o[h].selected!==j&&(o[h].selected=j),j&&g&&(o[h].defaultSelected=!0)}else{for(h=""+on(h),c=null,j=0;j<o.length;j++){if(o[j].value===h){o[j].selected=!0,g&&(o[j].defaultSelected=!0);return}c!==null||o[j].disabled||(c=o[j])}c!==null&&(c.selected=!0)}}function z1(o,c,h){if(c!=null&&(c=""+on(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+on(h):""}function F1(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(ue(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=on(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),Wp(o)}function ll(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var JI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function q1(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||JI.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function H1(o,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var j in c)g=c[j],c.hasOwnProperty(j)&&h[j]!==g&&q1(o,j,g)}else for(var _ in c)c.hasOwnProperty(_)&&q1(o,_,c[_])}function Jp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gu(o){return ZI.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ws(){}var Qp=null;function Zp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var cl=null,dl=null;function G1(o){var c=nl(o);if(c&&(o=c.stateNode)){var h=o[va]||null;e:switch(o=c.stateNode,c.type){case"input":if(Xp(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ln(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var j=g[va]||null;if(!j)throw Error(n(90));Xp(g,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&$1(g)}break e;case"textarea":z1(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ol(o,!!h.multiple,c,!1)}}}var eg=!1;function V1(o,c,h){if(eg)return o(c,h);eg=!0;try{var g=o(c);return g}finally{if(eg=!1,(cl!==null||dl!==null)&&(Rh(),cl&&(c=cl,o=dl,dl=cl=null,G1(c),o)))for(c=0;c<o.length;c++)G1(o[c])}}function zc(o,c){var h=o.stateNode;if(h===null)return null;var g=h[va]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=!1;if(js)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){tg=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{tg=!1}var fi=null,rg=null,Vu=null;function Y1(){if(Vu)return Vu;var o,c=rg,h=c.length,g,j="value"in fi?fi.value:fi.textContent,_=j.length;for(o=0;o<h&&c[o]===j[o];o++);var T=h-o;for(g=1;g<=T&&c[h-g]===j[_-g];g++);return Vu=j.slice(o,1<g?1-g:void 0)}function Yu(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Wu(){return!0}function W1(){return!1}function ya(o){function c(h,g,j,_,T){this._reactName=h,this._targetInst=j,this.type=g,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(h=o[P],this[P]=h?h(_):_[P]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Wu:W1,this.isPropagationStopped=W1,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),c}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=ya(so),qc=p({},so,{view:0,detail:0}),eP=ya(qc),ag,ng,Hc,Ku=p({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Hc&&(Hc&&o.type==="mousemove"?(ag=o.screenX-Hc.screenX,ng=o.screenY-Hc.screenY):ng=ag=0,Hc=o),ag)},movementY:function(o){return"movementY"in o?o.movementY:ng}}),X1=ya(Ku),tP=p({},Ku,{dataTransfer:0}),rP=ya(tP),aP=p({},qc,{relatedTarget:0}),sg=ya(aP),nP=p({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),sP=ya(nP),iP=p({},so,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),oP=ya(iP),lP=p({},so,{data:0}),K1=ya(lP),cP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hP(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=uP[o])?!!c[o]:!1}function ig(){return hP}var fP=p({},qc,{key:function(o){if(o.key){var c=cP[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Yu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?dP[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(o){return o.type==="keypress"?Yu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Yu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),mP=ya(fP),pP=p({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=ya(pP),gP=p({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),xP=ya(gP),bP=p({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),vP=ya(bP),yP=p({},Ku,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wP=ya(yP),jP=p({},so,{newState:0,oldState:0}),NP=ya(jP),_P=[9,13,27,32],og=js&&"CompositionEvent"in window,Gc=null;js&&"documentMode"in document&&(Gc=document.documentMode);var EP=js&&"TextEvent"in window&&!Gc,Q1=js&&(!og||Gc&&8<Gc&&11>=Gc),Z1=" ",ej=!1;function tj(o,c){switch(o){case"keyup":return _P.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rj(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ul=!1;function SP(o,c){switch(o){case"compositionend":return rj(c);case"keypress":return c.which!==32?null:(ej=!0,Z1);case"textInput":return o=c.data,o===Z1&&ej?null:o;default:return null}}function kP(o,c){if(ul)return o==="compositionend"||!og&&tj(o,c)?(o=Y1(),Vu=rg=fi=null,ul=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Q1&&c.locale!=="ko"?null:c.data;default:return null}}var AP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aj(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!AP[o.type]:c==="textarea"}function nj(o,c,h,g){cl?dl?dl.push(g):dl=[g]:cl=g,c=$h(c,"onChange"),0<c.length&&(h=new Xu("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var Vc=null,Yc=null;function CP(o){B_(o,0)}function Ju(o){var c=Bc(o);if($1(c))return o}function sj(o,c){if(o==="change")return c}var ij=!1;if(js){var lg;if(js){var cg="oninput"in document;if(!cg){var oj=document.createElement("div");oj.setAttribute("oninput","return;"),cg=typeof oj.oninput=="function"}lg=cg}else lg=!1;ij=lg&&(!document.documentMode||9<document.documentMode)}function lj(){Vc&&(Vc.detachEvent("onpropertychange",cj),Yc=Vc=null)}function cj(o){if(o.propertyName==="value"&&Ju(Yc)){var c=[];nj(c,Yc,o,Zp(o)),V1(CP,c)}}function TP(o,c,h){o==="focusin"?(lj(),Vc=c,Yc=h,Vc.attachEvent("onpropertychange",cj)):o==="focusout"&&lj()}function OP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ju(Yc)}function RP(o,c){if(o==="click")return Ju(c)}function DP(o,c){if(o==="input"||o==="change")return Ju(c)}function IP(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var $a=typeof Object.is=="function"?Object.is:IP;function Wc(o,c){if($a(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var j=h[g];if(!He.call(c,j)||!$a(o[j],c[j]))return!1}return!0}function dj(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function uj(o,c){var h=dj(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=dj(h)}}function hj(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?hj(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function fj(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Hu(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Hu(o.document)}return c}function dg(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var PP=js&&"documentMode"in document&&11>=document.documentMode,hl=null,ug=null,Xc=null,hg=!1;function mj(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hg||hl==null||hl!==Hu(g)||(g=hl,"selectionStart"in g&&dg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Xc&&Wc(Xc,g)||(Xc=g,g=$h(ug,"onSelect"),0<g.length&&(c=new Xu("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=hl)))}function io(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var fl={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionrun:io("Transition","TransitionRun"),transitionstart:io("Transition","TransitionStart"),transitioncancel:io("Transition","TransitionCancel"),transitionend:io("Transition","TransitionEnd")},fg={},pj={};js&&(pj=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function oo(o){if(fg[o])return fg[o];if(!fl[o])return o;var c=fl[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in pj)return fg[o]=c[h];return o}var gj=oo("animationend"),xj=oo("animationiteration"),bj=oo("animationstart"),MP=oo("transitionrun"),LP=oo("transitionstart"),UP=oo("transitioncancel"),vj=oo("transitionend"),yj=new Map,mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mg.push("scrollEnd");function Cn(o,c){yj.set(o,c),no(c,[o])}var Qu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},cn=[],ml=0,pg=0;function Zu(){for(var o=ml,c=pg=ml=0;c<o;){var h=cn[c];cn[c++]=null;var g=cn[c];cn[c++]=null;var j=cn[c];cn[c++]=null;var _=cn[c];if(cn[c++]=null,g!==null&&j!==null){var T=g.pending;T===null?j.next=j:(j.next=T.next,T.next=j),g.pending=j}_!==0&&wj(h,j,_)}}function eh(o,c,h,g){cn[ml++]=o,cn[ml++]=c,cn[ml++]=h,cn[ml++]=g,pg|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function gg(o,c,h,g){return eh(o,c,h,g),th(o)}function lo(o,c){return eh(o,null,null,c),th(o)}function wj(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var j=!1,_=o.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(j=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,j&&c!==null&&(j=31-Wt(h),o=_.hiddenUpdates,g=o[j],g===null?o[j]=[c]:g.push(c),c.lane=h|536870912),_):null}function th(o){if(50<xd)throw xd=0,Ex=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var pl={};function $P(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(o,c,h,g){return new $P(o,c,h,g)}function xg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ns(o,c){var h=o.alternate;return h===null?(h=Ba(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function jj(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function rh(o,c,h,g,j,_){var T=0;if(g=o,typeof o=="function")xg(o)&&(T=1);else if(typeof o=="string")T=HM(o,h,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=Ba(31,h,c,j),o.elementType=$,o.lanes=_,o;case N:return co(h.children,j,_,c);case w:T=8,j|=24;break;case E:return o=Ba(12,h,c,j|2),o.elementType=E,o.lanes=_,o;case C:return o=Ba(13,h,c,j),o.elementType=C,o.lanes=_,o;case O:return o=Ba(19,h,c,j),o.elementType=O,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:T=10;break e;case k:T=9;break e;case A:T=11;break e;case R:T=14;break e;case L:T=16,g=null;break e}T=29,h=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=Ba(T,h,c,j),c.elementType=o,c.type=g,c.lanes=_,c}function co(o,c,h,g){return o=Ba(7,o,g,c),o.lanes=h,o}function bg(o,c,h){return o=Ba(6,o,null,c),o.lanes=h,o}function Nj(o){var c=Ba(18,null,null,0);return c.stateNode=o,c}function vg(o,c,h){return c=Ba(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var _j=new WeakMap;function dn(o,c){if(typeof o=="object"&&o!==null){var h=_j.get(o);return h!==void 0?h:(c={value:o,source:c,stack:Oe(c)},_j.set(o,c),c)}return{value:o,source:c,stack:Oe(c)}}var gl=[],xl=0,ah=null,Kc=0,un=[],hn=0,mi=null,es=1,ts="";function _s(o,c){gl[xl++]=Kc,gl[xl++]=ah,ah=o,Kc=c}function Ej(o,c,h){un[hn++]=es,un[hn++]=ts,un[hn++]=mi,mi=o;var g=es;o=ts;var j=32-Wt(g)-1;g&=~(1<<j),h+=1;var _=32-Wt(c)+j;if(30<_){var T=j-j%5;_=(g&(1<<T)-1).toString(32),g>>=T,j-=T,es=1<<32-Wt(c)+j|h<<j|g,ts=_+o}else es=1<<_|h<<j|g,ts=o}function yg(o){o.return!==null&&(_s(o,1),Ej(o,1,0))}function wg(o){for(;o===ah;)ah=gl[--xl],gl[xl]=null,Kc=gl[--xl],gl[xl]=null;for(;o===mi;)mi=un[--hn],un[hn]=null,ts=un[--hn],un[hn]=null,es=un[--hn],un[hn]=null}function Sj(o,c){un[hn++]=es,un[hn++]=ts,un[hn++]=mi,es=c.id,ts=c.overflow,mi=o}var qr=null,Ut=null,ot=!1,pi=null,fn=!1,jg=Error(n(519));function gi(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jc(dn(c,o)),jg}function kj(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Fr]=o,c[va]=g,h){case"dialog":nt("cancel",c),nt("close",c);break;case"iframe":case"object":case"embed":nt("load",c);break;case"video":case"audio":for(h=0;h<vd.length;h++)nt(vd[h],c);break;case"source":nt("error",c);break;case"img":case"image":case"link":nt("error",c),nt("load",c);break;case"details":nt("toggle",c);break;case"input":nt("invalid",c),B1(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":nt("invalid",c);break;case"textarea":nt("invalid",c),F1(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||H_(c.textContent,h)?(g.popover!=null&&(nt("beforetoggle",c),nt("toggle",c)),g.onScroll!=null&&nt("scroll",c),g.onScrollEnd!=null&&nt("scrollend",c),g.onClick!=null&&(c.onclick=ws),c=!0):c=!1,c||gi(o,!0)}function Aj(o){for(qr=o.return;qr;)switch(qr.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:qr=qr.return}}function bl(o){if(o!==qr)return!1;if(!ot)return Aj(o),ot=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Bx(o.type,o.memoizedProps)),h=!h),h&&Ut&&gi(o),Aj(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Ut=Z_(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Ut=Z_(o)}else c===27?(c=Ut,Ti(o.type)?(o=Gx,Gx=null,Ut=o):Ut=c):Ut=qr?pn(o.stateNode.nextSibling):null;return!0}function uo(){Ut=qr=null,ot=!1}function Ng(){var o=pi;return o!==null&&(_a===null?_a=o:_a.push.apply(_a,o),pi=null),o}function Jc(o){pi===null?pi=[o]:pi.push(o)}var _g=D(null),ho=null,Es=null;function xi(o,c,h){W(_g,c._currentValue),c._currentValue=h}function Ss(o){o._currentValue=_g.current,U(_g)}function Eg(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function Sg(o,c,h,g){var j=o.child;for(j!==null&&(j.return=o);j!==null;){var _=j.dependencies;if(_!==null){var T=j.child;_=_.firstContext;e:for(;_!==null;){var P=_;_=j;for(var G=0;G<c.length;G++)if(P.context===c[G]){_.lanes|=h,P=_.alternate,P!==null&&(P.lanes|=h),Eg(_.return,h,o),g||(T=null);break e}_=P.next}}else if(j.tag===18){if(T=j.return,T===null)throw Error(n(341));T.lanes|=h,_=T.alternate,_!==null&&(_.lanes|=h),Eg(T,h,o),T=null}else T=j.child;if(T!==null)T.return=j;else for(T=j;T!==null;){if(T===o){T=null;break}if(j=T.sibling,j!==null){j.return=T.return,T=j;break}T=T.return}j=T}}function vl(o,c,h,g){o=null;for(var j=c,_=!1;j!==null;){if(!_){if((j.flags&524288)!==0)_=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var T=j.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var P=j.type;$a(j.pendingProps.value,T.value)||(o!==null?o.push(P):o=[P])}}else if(j===ve.current){if(T=j.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(o!==null?o.push(_d):o=[_d])}j=j.return}o!==null&&Sg(c,o,h,g),c.flags|=262144}function nh(o){for(o=o.firstContext;o!==null;){if(!$a(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function fo(o){ho=o,Es=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Hr(o){return Cj(ho,o)}function sh(o,c){return ho===null&&fo(o),Cj(o,c)}function Cj(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Es===null){if(o===null)throw Error(n(308));Es=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Es=Es.next=c;return h}var BP=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},zP=t.unstable_scheduleCallback,FP=t.unstable_NormalPriority,lr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kg(){return{controller:new BP,data:new Map,refCount:0}}function Qc(o){o.refCount--,o.refCount===0&&zP(FP,function(){o.controller.abort()})}var Zc=null,Ag=0,yl=0,wl=null;function qP(o,c){if(Zc===null){var h=Zc=[];Ag=0,yl=Ox(),wl={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Ag++,c.then(Tj,Tj),c}function Tj(){if(--Ag===0&&Zc!==null){wl!==null&&(wl.status="fulfilled");var o=Zc;Zc=null,yl=0,wl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function HP(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(j){h.push(j)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var j=0;j<h.length;j++)(0,h[j])(c)},function(j){for(g.status="rejected",g.reason=j,j=0;j<h.length;j++)(0,h[j])(void 0)}),g}var Oj=B.S;B.S=function(o,c){m_=Ee(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&qP(o,c),Oj!==null&&Oj(o,c)};var mo=D(null);function Cg(){var o=mo.current;return o!==null?o:Tt.pooledCache}function ih(o,c){c===null?W(mo,mo.current):W(mo,c.pool)}function Rj(){var o=Cg();return o===null?null:{parent:lr._currentValue,pool:o}}var jl=Error(n(460)),Tg=Error(n(474)),oh=Error(n(542)),lh={then:function(){}};function Dj(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ij(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(ws,ws),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Mj(o),o;default:if(typeof c.status=="string")c.then(ws,ws);else{if(o=Tt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var j=c;j.status="fulfilled",j.value=g}},function(g){if(c.status==="pending"){var j=c;j.status="rejected",j.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Mj(o),o}throw go=c,jl}}function po(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(go=h,jl):h}}var go=null;function Pj(){if(go===null)throw Error(n(459));var o=go;return go=null,o}function Mj(o){if(o===jl||o===oh)throw Error(n(483))}var Nl=null,ed=0;function ch(o){var c=ed;return ed+=1,Nl===null&&(Nl=[]),Ij(Nl,o,c)}function td(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function dh(o,c){throw c.$$typeof===x?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Lj(o){function c(ee,Q){if(o){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function h(ee,Q){if(!o)return null;for(;Q!==null;)c(ee,Q),Q=Q.sibling;return null}function g(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function j(ee,Q){return ee=Ns(ee,Q),ee.index=0,ee.sibling=null,ee}function _(ee,Q,ie){return ee.index=ie,o?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=67108866,Q):ie):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function T(ee){return o&&ee.alternate===null&&(ee.flags|=67108866),ee}function P(ee,Q,ie,ye){return Q===null||Q.tag!==6?(Q=bg(ie,ee.mode,ye),Q.return=ee,Q):(Q=j(Q,ie),Q.return=ee,Q)}function G(ee,Q,ie,ye){var qe=ie.type;return qe===N?be(ee,Q,ie.props.children,ye,ie.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===L&&po(qe)===Q.type)?(Q=j(Q,ie.props),td(Q,ie),Q.return=ee,Q):(Q=rh(ie.type,ie.key,ie.props,null,ee.mode,ye),td(Q,ie),Q.return=ee,Q)}function le(ee,Q,ie,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=vg(ie,ee.mode,ye),Q.return=ee,Q):(Q=j(Q,ie.children||[]),Q.return=ee,Q)}function be(ee,Q,ie,ye,qe){return Q===null||Q.tag!==7?(Q=co(ie,ee.mode,ye,qe),Q.return=ee,Q):(Q=j(Q,ie),Q.return=ee,Q)}function we(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=bg(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return ie=rh(Q.type,Q.key,Q.props,null,ee.mode,ie),td(ie,Q),ie.return=ee,ie;case y:return Q=vg(Q,ee.mode,ie),Q.return=ee,Q;case L:return Q=po(Q),we(ee,Q,ie)}if(ue(Q)||q(Q))return Q=co(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return we(ee,ch(Q),ie);if(Q.$$typeof===S)return we(ee,sh(ee,Q),ie);dh(ee,Q)}return null}function de(ee,Q,ie,ye){var qe=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return qe!==null?null:P(ee,Q,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===qe?G(ee,Q,ie,ye):null;case y:return ie.key===qe?le(ee,Q,ie,ye):null;case L:return ie=po(ie),de(ee,Q,ie,ye)}if(ue(ie)||q(ie))return qe!==null?null:be(ee,Q,ie,ye,null);if(typeof ie.then=="function")return de(ee,Q,ch(ie),ye);if(ie.$$typeof===S)return de(ee,Q,sh(ee,ie),ye);dh(ee,ie)}return null}function fe(ee,Q,ie,ye,qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ee=ee.get(ie)||null,P(Q,ee,""+ye,qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return ee=ee.get(ye.key===null?ie:ye.key)||null,G(Q,ee,ye,qe);case y:return ee=ee.get(ye.key===null?ie:ye.key)||null,le(Q,ee,ye,qe);case L:return ye=po(ye),fe(ee,Q,ie,ye,qe)}if(ue(ye)||q(ye))return ee=ee.get(ie)||null,be(Q,ee,ye,qe,null);if(typeof ye.then=="function")return fe(ee,Q,ie,ch(ye),qe);if(ye.$$typeof===S)return fe(ee,Q,ie,sh(Q,ye),qe);dh(Q,ye)}return null}function Ue(ee,Q,ie,ye){for(var qe=null,ct=null,$e=Q,et=Q=0,it=null;$e!==null&&et<ie.length;et++){$e.index>et?(it=$e,$e=null):it=$e.sibling;var dt=de(ee,$e,ie[et],ye);if(dt===null){$e===null&&($e=it);break}o&&$e&&dt.alternate===null&&c(ee,$e),Q=_(dt,Q,et),ct===null?qe=dt:ct.sibling=dt,ct=dt,$e=it}if(et===ie.length)return h(ee,$e),ot&&_s(ee,et),qe;if($e===null){for(;et<ie.length;et++)$e=we(ee,ie[et],ye),$e!==null&&(Q=_($e,Q,et),ct===null?qe=$e:ct.sibling=$e,ct=$e);return ot&&_s(ee,et),qe}for($e=g($e);et<ie.length;et++)it=fe($e,ee,et,ie[et],ye),it!==null&&(o&&it.alternate!==null&&$e.delete(it.key===null?et:it.key),Q=_(it,Q,et),ct===null?qe=it:ct.sibling=it,ct=it);return o&&$e.forEach(function(Pi){return c(ee,Pi)}),ot&&_s(ee,et),qe}function Ye(ee,Q,ie,ye){if(ie==null)throw Error(n(151));for(var qe=null,ct=null,$e=Q,et=Q=0,it=null,dt=ie.next();$e!==null&&!dt.done;et++,dt=ie.next()){$e.index>et?(it=$e,$e=null):it=$e.sibling;var Pi=de(ee,$e,dt.value,ye);if(Pi===null){$e===null&&($e=it);break}o&&$e&&Pi.alternate===null&&c(ee,$e),Q=_(Pi,Q,et),ct===null?qe=Pi:ct.sibling=Pi,ct=Pi,$e=it}if(dt.done)return h(ee,$e),ot&&_s(ee,et),qe;if($e===null){for(;!dt.done;et++,dt=ie.next())dt=we(ee,dt.value,ye),dt!==null&&(Q=_(dt,Q,et),ct===null?qe=dt:ct.sibling=dt,ct=dt);return ot&&_s(ee,et),qe}for($e=g($e);!dt.done;et++,dt=ie.next())dt=fe($e,ee,et,dt.value,ye),dt!==null&&(o&&dt.alternate!==null&&$e.delete(dt.key===null?et:dt.key),Q=_(dt,Q,et),ct===null?qe=dt:ct.sibling=dt,ct=dt);return o&&$e.forEach(function(tL){return c(ee,tL)}),ot&&_s(ee,et),qe}function St(ee,Q,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===N&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var qe=ie.key;Q!==null;){if(Q.key===qe){if(qe=ie.type,qe===N){if(Q.tag===7){h(ee,Q.sibling),ye=j(Q,ie.props.children),ye.return=ee,ee=ye;break e}}else if(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===L&&po(qe)===Q.type){h(ee,Q.sibling),ye=j(Q,ie.props),td(ye,ie),ye.return=ee,ee=ye;break e}h(ee,Q);break}else c(ee,Q);Q=Q.sibling}ie.type===N?(ye=co(ie.props.children,ee.mode,ye,ie.key),ye.return=ee,ee=ye):(ye=rh(ie.type,ie.key,ie.props,null,ee.mode,ye),td(ye,ie),ye.return=ee,ee=ye)}return T(ee);case y:e:{for(qe=ie.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){h(ee,Q.sibling),ye=j(Q,ie.children||[]),ye.return=ee,ee=ye;break e}else{h(ee,Q);break}else c(ee,Q);Q=Q.sibling}ye=vg(ie,ee.mode,ye),ye.return=ee,ee=ye}return T(ee);case L:return ie=po(ie),St(ee,Q,ie,ye)}if(ue(ie))return Ue(ee,Q,ie,ye);if(q(ie)){if(qe=q(ie),typeof qe!="function")throw Error(n(150));return ie=qe.call(ie),Ye(ee,Q,ie,ye)}if(typeof ie.then=="function")return St(ee,Q,ch(ie),ye);if(ie.$$typeof===S)return St(ee,Q,sh(ee,ie),ye);dh(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(h(ee,Q.sibling),ye=j(Q,ie),ye.return=ee,ee=ye):(h(ee,Q),ye=bg(ie,ee.mode,ye),ye.return=ee,ee=ye),T(ee)):h(ee,Q)}return function(ee,Q,ie,ye){try{ed=0;var qe=St(ee,Q,ie,ye);return Nl=null,qe}catch($e){if($e===jl||$e===oh)throw $e;var ct=Ba(29,$e,null,ee.mode);return ct.lanes=ye,ct.return=ee,ct}finally{}}}var xo=Lj(!0),Uj=Lj(!1),bi=!1;function Og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function vi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function yi(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(mt&2)!==0){var j=g.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),g.pending=c,c=th(o),wj(o,null,h),c}return eh(o,g,c,h),th(o)}function rd(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,xt(o,h)}}function Dg(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var j=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var T={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?j=_=T:_=_.next=T,h=h.next}while(h!==null);_===null?j=_=c:_=_.next=c}else j=_=c;h={baseState:g.baseState,firstBaseUpdate:j,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Ig=!1;function ad(){if(Ig){var o=wl;if(o!==null)throw o}}function nd(o,c,h,g){Ig=!1;var j=o.updateQueue;bi=!1;var _=j.firstBaseUpdate,T=j.lastBaseUpdate,P=j.shared.pending;if(P!==null){j.shared.pending=null;var G=P,le=G.next;G.next=null,T===null?_=le:T.next=le,T=G;var be=o.alternate;be!==null&&(be=be.updateQueue,P=be.lastBaseUpdate,P!==T&&(P===null?be.firstBaseUpdate=le:P.next=le,be.lastBaseUpdate=G))}if(_!==null){var we=j.baseState;T=0,be=le=G=null,P=_;do{var de=P.lane&-536870913,fe=de!==P.lane;if(fe?(st&de)===de:(g&de)===de){de!==0&&de===yl&&(Ig=!0),be!==null&&(be=be.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ue=o,Ye=P;de=c;var St=h;switch(Ye.tag){case 1:if(Ue=Ye.payload,typeof Ue=="function"){we=Ue.call(St,we,de);break e}we=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ye.payload,de=typeof Ue=="function"?Ue.call(St,we,de):Ue,de==null)break e;we=p({},we,de);break e;case 2:bi=!0}}de=P.callback,de!==null&&(o.flags|=64,fe&&(o.flags|=8192),fe=j.callbacks,fe===null?j.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:P.tag,payload:P.payload,callback:P.callback,next:null},be===null?(le=be=fe,G=we):be=be.next=fe,T|=de;if(P=P.next,P===null){if(P=j.shared.pending,P===null)break;fe=P,P=fe.next,fe.next=null,j.lastBaseUpdate=fe,j.shared.pending=null}}while(!0);be===null&&(G=we),j.baseState=G,j.firstBaseUpdate=le,j.lastBaseUpdate=be,_===null&&(j.shared.lanes=0),Ei|=T,o.lanes=T,o.memoizedState=we}}function $j(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Bj(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)$j(h[o],c)}var _l=D(null),uh=D(0);function zj(o,c){o=Ps,W(uh,o),W(_l,c),Ps=o|c.baseLanes}function Pg(){W(uh,Ps),W(_l,_l.current)}function Mg(){Ps=uh.current,U(_l),U(uh)}var za=D(null),mn=null;function wi(o){var c=o.alternate;W(nr,nr.current&1),W(za,o),mn===null&&(c===null||_l.current!==null||c.memoizedState!==null)&&(mn=o)}function Lg(o){W(nr,nr.current),W(za,o),mn===null&&(mn=o)}function Fj(o){o.tag===22?(W(nr,nr.current),W(za,o),mn===null&&(mn=o)):ji()}function ji(){W(nr,nr.current),W(za,za.current)}function Fa(o){U(za),mn===o&&(mn=null),U(nr)}var nr=D(0);function hh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||qx(h)||Hx(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ks=0,Qe=null,_t=null,cr=null,fh=!1,El=!1,bo=!1,mh=0,sd=0,Sl=null,GP=0;function Jt(){throw Error(n(321))}function Ug(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!$a(o[h],c[h]))return!1;return!0}function $g(o,c,h,g,j,_){return ks=_,Qe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=o===null||o.memoizedState===null?EN:ex,bo=!1,_=h(g,j),bo=!1,El&&(_=Hj(c,h,g,j)),qj(o),_}function qj(o){B.H=ld;var c=_t!==null&&_t.next!==null;if(ks=0,cr=_t=Qe=null,fh=!1,sd=0,Sl=null,c)throw Error(n(300));o===null||dr||(o=o.dependencies,o!==null&&nh(o)&&(dr=!0))}function Hj(o,c,h,g){Qe=o;var j=0;do{if(El&&(Sl=null),sd=0,El=!1,25<=j)throw Error(n(301));if(j+=1,cr=_t=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}B.H=SN,_=c(h,g)}while(El);return _}function VP(){var o=B.H,c=o.useState()[0];return c=typeof c.then=="function"?id(c):c,o=o.useState()[0],(_t!==null?_t.memoizedState:null)!==o&&(Qe.flags|=1024),c}function Bg(){var o=mh!==0;return mh=0,o}function zg(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Fg(o){if(fh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}fh=!1}ks=0,cr=_t=Qe=null,El=!1,sd=mh=0,Sl=null}function da(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Qe.memoizedState=cr=o:cr=cr.next=o,cr}function sr(){if(_t===null){var o=Qe.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var c=cr===null?Qe.memoizedState:cr.next;if(c!==null)cr=c,_t=o;else{if(o===null)throw Qe.alternate===null?Error(n(467)):Error(n(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},cr===null?Qe.memoizedState=cr=o:cr=cr.next=o}return cr}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function id(o){var c=sd;return sd+=1,Sl===null&&(Sl=[]),o=Ij(Sl,o,c),c=Qe,(cr===null?c.memoizedState:cr.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?EN:ex),o}function gh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return id(o);if(o.$$typeof===S)return Hr(o)}throw Error(n(438,String(o)))}function qg(o){var c=null,h=Qe.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(j){return j.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=ph(),Qe.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=M;return c.index++,h}function As(o,c){return typeof c=="function"?c(o):c}function xh(o){var c=sr();return Hg(c,_t,o)}function Hg(o,c,h){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var j=o.baseQueue,_=g.pending;if(_!==null){if(j!==null){var T=j.next;j.next=_.next,_.next=T}c.baseQueue=j=_,g.pending=null}if(_=o.baseState,j===null)o.memoizedState=_;else{c=j.next;var P=T=null,G=null,le=c,be=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(st&we)===we:(ks&we)===we){var de=le.revertLane;if(de===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===yl&&(be=!0);else if((ks&de)===de){le=le.next,de===yl&&(be=!0);continue}else we={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(P=G=we,T=_):G=G.next=we,Qe.lanes|=de,Ei|=de;we=le.action,bo&&h(_,we),_=le.hasEagerState?le.eagerState:h(_,we)}else de={lane:we,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(P=G=de,T=_):G=G.next=de,Qe.lanes|=we,Ei|=we;le=le.next}while(le!==null&&le!==c);if(G===null?T=_:G.next=P,!$a(_,o.memoizedState)&&(dr=!0,be&&(h=wl,h!==null)))throw h;o.memoizedState=_,o.baseState=T,o.baseQueue=G,g.lastRenderedState=_}return j===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Gg(o){var c=sr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var g=h.dispatch,j=h.pending,_=c.memoizedState;if(j!==null){h.pending=null;var T=j=j.next;do _=o(_,T.action),T=T.next;while(T!==j);$a(_,c.memoizedState)||(dr=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),h.lastRenderedState=_}return[_,g]}function Gj(o,c,h){var g=Qe,j=sr(),_=ot;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=c();var T=!$a((_t||j).memoizedState,h);if(T&&(j.memoizedState=h,dr=!0),j=j.queue,Wg(Wj.bind(null,g,j,o),[o]),j.getSnapshot!==c||T||cr!==null&&cr.memoizedState.tag&1){if(g.flags|=2048,kl(9,{destroy:void 0},Yj.bind(null,g,j,h,c),null),Tt===null)throw Error(n(349));_||(ks&127)!==0||Vj(g,c,h)}return h}function Vj(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Qe.updateQueue,c===null?(c=ph(),Qe.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function Yj(o,c,h,g){c.value=h,c.getSnapshot=g,Xj(c)&&Kj(o)}function Wj(o,c,h){return h(function(){Xj(c)&&Kj(o)})}function Xj(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!$a(o,h)}catch{return!0}}function Kj(o){var c=lo(o,2);c!==null&&Ea(c,o,2)}function Vg(o){var c=da();if(typeof o=="function"){var h=o;if(o=h(),bo){ea(!0);try{h()}finally{ea(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:o},c}function Jj(o,c,h,g){return o.baseState=h,Hg(o,_t,typeof g=="function"?g:As)}function YP(o,c,h,g,j){if(yh(o))throw Error(n(485));if(o=c.action,o!==null){var _={payload:j,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){_.listeners.push(T)}};B.T!==null?h(!0):_.isTransition=!1,g(_),h=c.pending,h===null?(_.next=c.pending=_,Qj(c,_)):(_.next=h.next,c.pending=h.next=_)}}function Qj(o,c){var h=c.action,g=c.payload,j=o.state;if(c.isTransition){var _=B.T,T={};B.T=T;try{var P=h(j,g),G=B.S;G!==null&&G(T,P),Zj(o,c,P)}catch(le){Yg(o,c,le)}finally{_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}else try{_=h(j,g),Zj(o,c,_)}catch(le){Yg(o,c,le)}}function Zj(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){eN(o,c,g)},function(g){return Yg(o,c,g)}):eN(o,c,h)}function eN(o,c,h){c.status="fulfilled",c.value=h,tN(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,Qj(o,h)))}function Yg(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,tN(c),c=c.next;while(c!==g)}o.action=null}function tN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function rN(o,c){return c}function aN(o,c){if(ot){var h=Tt.formState;if(h!==null){e:{var g=Qe;if(ot){if(Ut){t:{for(var j=Ut,_=fn;j.nodeType!==8;){if(!_){j=null;break t}if(j=pn(j.nextSibling),j===null){j=null;break t}}_=j.data,j=_==="F!"||_==="F"?j:null}if(j){Ut=pn(j.nextSibling),g=j.data==="F!";break e}}gi(g)}g=!1}g&&(c=h[0])}}return h=da(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rN,lastRenderedState:c},h.queue=g,h=jN.bind(null,Qe,g),g.dispatch=h,g=Vg(!1),_=Zg.bind(null,Qe,!1,g.queue),g=da(),j={state:c,dispatch:null,action:o,pending:null},g.queue=j,h=YP.bind(null,Qe,j,_,h),j.dispatch=h,g.memoizedState=o,[c,h,!1]}function nN(o){var c=sr();return sN(c,_t,o)}function sN(o,c,h){if(c=Hg(o,c,rN)[0],o=xh(As)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=id(c)}catch(T){throw T===jl?oh:T}else g=c;c=sr();var j=c.queue,_=j.dispatch;return h!==c.memoizedState&&(Qe.flags|=2048,kl(9,{destroy:void 0},WP.bind(null,j,h),null)),[g,_,o]}function WP(o,c){o.action=c}function iN(o){var c=sr(),h=_t;if(h!==null)return sN(c,h,o);sr(),c=c.memoizedState,h=sr();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function kl(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=Qe.updateQueue,c===null&&(c=ph(),Qe.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function oN(){return sr().memoizedState}function bh(o,c,h,g){var j=da();Qe.flags|=o,j.memoizedState=kl(1|c,{destroy:void 0},h,g===void 0?null:g)}function vh(o,c,h,g){var j=sr();g=g===void 0?null:g;var _=j.memoizedState.inst;_t!==null&&g!==null&&Ug(g,_t.memoizedState.deps)?j.memoizedState=kl(c,_,h,g):(Qe.flags|=o,j.memoizedState=kl(1|c,_,h,g))}function lN(o,c){bh(8390656,8,o,c)}function Wg(o,c){vh(2048,8,o,c)}function XP(o){Qe.flags|=4;var c=Qe.updateQueue;if(c===null)c=ph(),Qe.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function cN(o){var c=sr().memoizedState;return XP({ref:c,nextImpl:o}),function(){if((mt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function dN(o,c){return vh(4,2,o,c)}function uN(o,c){return vh(4,4,o,c)}function hN(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function fN(o,c,h){h=h!=null?h.concat([o]):null,vh(4,4,hN.bind(null,c,o),h)}function Xg(){}function mN(o,c){var h=sr();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Ug(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function pN(o,c){var h=sr();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Ug(c,g[1]))return g[0];if(g=o(),bo){ea(!0);try{o()}finally{ea(!1)}}return h.memoizedState=[g,c],g}function Kg(o,c,h){return h===void 0||(ks&1073741824)!==0&&(st&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=g_(),Qe.lanes|=o,Ei|=o,h)}function gN(o,c,h,g){return $a(h,c)?h:_l.current!==null?(o=Kg(o,h,g),$a(o,c)||(dr=!0),o):(ks&42)===0||(ks&1073741824)!==0&&(st&261930)===0?(dr=!0,o.memoizedState=h):(o=g_(),Qe.lanes|=o,Ei|=o,c)}function xN(o,c,h,g,j){var _=I.p;I.p=_!==0&&8>_?_:8;var T=B.T,P={};B.T=P,Zg(o,!1,c,h);try{var G=j(),le=B.S;if(le!==null&&le(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var be=HP(G,g);od(o,c,be,Ga(o))}else od(o,c,g,Ga(o))}catch(we){od(o,c,{then:function(){},status:"rejected",reason:we},Ga())}finally{I.p=_,T!==null&&P.types!==null&&(T.types=P.types),B.T=T}}function KP(){}function Jg(o,c,h,g){if(o.tag!==5)throw Error(n(476));var j=bN(o).queue;xN(o,j,c,z,h===null?KP:function(){return vN(o),h(g)})}function bN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:z},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function vN(o){var c=bN(o);c.next===null&&(c=o.alternate.memoizedState),od(o,c.next.queue,{},Ga())}function Qg(){return Hr(_d)}function yN(){return sr().memoizedState}function wN(){return sr().memoizedState}function JP(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ga();o=vi(h);var g=yi(c,o,h);g!==null&&(Ea(g,c,h),rd(g,c,h)),c={cache:kg()},o.payload=c;return}c=c.return}}function QP(o,c,h){var g=Ga();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},yh(o)?NN(c,h):(h=gg(o,c,h,g),h!==null&&(Ea(h,o,g),_N(h,c,g)))}function jN(o,c,h){var g=Ga();od(o,c,h,g)}function od(o,c,h,g){var j={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(yh(o))NN(c,j);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var T=c.lastRenderedState,P=_(T,h);if(j.hasEagerState=!0,j.eagerState=P,$a(P,T))return eh(o,c,j,0),Tt===null&&Zu(),!1}catch{}finally{}if(h=gg(o,c,j,g),h!==null)return Ea(h,o,g),_N(h,c,g),!0}return!1}function Zg(o,c,h,g){if(g={lane:2,revertLane:Ox(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},yh(o)){if(c)throw Error(n(479))}else c=gg(o,h,g,2),c!==null&&Ea(c,o,2)}function yh(o){var c=o.alternate;return o===Qe||c!==null&&c===Qe}function NN(o,c){El=fh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function _N(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,xt(o,h)}}var ld={readContext:Hr,use:gh,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};ld.useEffectEvent=Jt;var EN={readContext:Hr,use:gh,useCallback:function(o,c){return da().memoizedState=[o,c===void 0?null:c],o},useContext:Hr,useEffect:lN,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,bh(4194308,4,hN.bind(null,c,o),h)},useLayoutEffect:function(o,c){return bh(4194308,4,o,c)},useInsertionEffect:function(o,c){bh(4,2,o,c)},useMemo:function(o,c){var h=da();c=c===void 0?null:c;var g=o();if(bo){ea(!0);try{o()}finally{ea(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=da();if(h!==void 0){var j=h(c);if(bo){ea(!0);try{h(c)}finally{ea(!1)}}}else j=c;return g.memoizedState=g.baseState=j,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:j},g.queue=o,o=o.dispatch=QP.bind(null,Qe,o),[g.memoizedState,o]},useRef:function(o){var c=da();return o={current:o},c.memoizedState=o},useState:function(o){o=Vg(o);var c=o.queue,h=jN.bind(null,Qe,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Xg,useDeferredValue:function(o,c){var h=da();return Kg(h,o,c)},useTransition:function(){var o=Vg(!1);return o=xN.bind(null,Qe,o.queue,!0,!1),da().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=Qe,j=da();if(ot){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Tt===null)throw Error(n(349));(st&127)!==0||Vj(g,c,h)}j.memoizedState=h;var _={value:h,getSnapshot:c};return j.queue=_,lN(Wj.bind(null,g,_,o),[o]),g.flags|=2048,kl(9,{destroy:void 0},Yj.bind(null,g,_,h,c),null),h},useId:function(){var o=da(),c=Tt.identifierPrefix;if(ot){var h=ts,g=es;h=(g&~(1<<32-Wt(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=mh++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=GP++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Qg,useFormState:aN,useActionState:aN,useOptimistic:function(o){var c=da();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Zg.bind(null,Qe,!0,h),h.dispatch=c,[o,c]},useMemoCache:qg,useCacheRefresh:function(){return da().memoizedState=JP.bind(null,Qe)},useEffectEvent:function(o){var c=da(),h={impl:o};return c.memoizedState=h,function(){if((mt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},ex={readContext:Hr,use:gh,useCallback:mN,useContext:Hr,useEffect:Wg,useImperativeHandle:fN,useInsertionEffect:dN,useLayoutEffect:uN,useMemo:pN,useReducer:xh,useRef:oN,useState:function(){return xh(As)},useDebugValue:Xg,useDeferredValue:function(o,c){var h=sr();return gN(h,_t.memoizedState,o,c)},useTransition:function(){var o=xh(As)[0],c=sr().memoizedState;return[typeof o=="boolean"?o:id(o),c]},useSyncExternalStore:Gj,useId:yN,useHostTransitionStatus:Qg,useFormState:nN,useActionState:nN,useOptimistic:function(o,c){var h=sr();return Jj(h,_t,o,c)},useMemoCache:qg,useCacheRefresh:wN};ex.useEffectEvent=cN;var SN={readContext:Hr,use:gh,useCallback:mN,useContext:Hr,useEffect:Wg,useImperativeHandle:fN,useInsertionEffect:dN,useLayoutEffect:uN,useMemo:pN,useReducer:Gg,useRef:oN,useState:function(){return Gg(As)},useDebugValue:Xg,useDeferredValue:function(o,c){var h=sr();return _t===null?Kg(h,o,c):gN(h,_t.memoizedState,o,c)},useTransition:function(){var o=Gg(As)[0],c=sr().memoizedState;return[typeof o=="boolean"?o:id(o),c]},useSyncExternalStore:Gj,useId:yN,useHostTransitionStatus:Qg,useFormState:iN,useActionState:iN,useOptimistic:function(o,c){var h=sr();return _t!==null?Jj(h,_t,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:qg,useCacheRefresh:wN};SN.useEffectEvent=cN;function tx(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var rx={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Ga(),j=vi(g);j.payload=c,h!=null&&(j.callback=h),c=yi(o,j,g),c!==null&&(Ea(c,o,g),rd(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Ga(),j=vi(g);j.tag=1,j.payload=c,h!=null&&(j.callback=h),c=yi(o,j,g),c!==null&&(Ea(c,o,g),rd(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Ga(),g=vi(h);g.tag=2,c!=null&&(g.callback=c),c=yi(o,g,h),c!==null&&(Ea(c,o,h),rd(c,o,h))}};function kN(o,c,h,g,j,_,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,_,T):c.prototype&&c.prototype.isPureReactComponent?!Wc(h,g)||!Wc(j,_):!0}function AN(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&rx.enqueueReplaceState(c,c.state,null)}function vo(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var j in o)h[j]===void 0&&(h[j]=o[j])}return h}function CN(o){Qu(o)}function TN(o){console.error(o)}function ON(o){Qu(o)}function wh(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function RN(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function ax(o,c,h){return h=vi(h),h.tag=3,h.payload={element:null},h.callback=function(){wh(o,c)},h}function DN(o){return o=vi(o),o.tag=3,o}function IN(o,c,h,g){var j=h.type.getDerivedStateFromError;if(typeof j=="function"){var _=g.value;o.payload=function(){return j(_)},o.callback=function(){RN(c,h,g)}}var T=h.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(o.callback=function(){RN(c,h,g),typeof j!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function ZP(o,c,h,g,j){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&vl(c,h,j,!0),h=za.current,h!==null){switch(h.tag){case 31:case 13:return mn===null?Dh():h.alternate===null&&Qt===0&&(Qt=3),h.flags&=-257,h.flags|=65536,h.lanes=j,g===lh?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Ax(o,g,j)),!1;case 22:return h.flags|=65536,g===lh?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Ax(o,g,j)),!1}throw Error(n(435,h.tag))}return Ax(o,g,j),Dh(),!1}if(ot)return c=za.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=j,g!==jg&&(o=Error(n(422),{cause:g}),Jc(dn(o,h)))):(g!==jg&&(c=Error(n(423),{cause:g}),Jc(dn(c,h))),o=o.current.alternate,o.flags|=65536,j&=-j,o.lanes|=j,g=dn(g,h),j=ax(o.stateNode,g,j),Dg(o,j),Qt!==4&&(Qt=2)),!1;var _=Error(n(520),{cause:g});if(_=dn(_,h),gd===null?gd=[_]:gd.push(_),Qt!==4&&(Qt=2),c===null)return!0;g=dn(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=j&-j,h.lanes|=o,o=ax(h.stateNode,g,o),Dg(h,o),!1;case 1:if(c=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Si===null||!Si.has(_))))return h.flags|=65536,j&=-j,h.lanes|=j,j=DN(j),IN(j,o,h,g),Dg(h,j),!1}h=h.return}while(h!==null);return!1}var nx=Error(n(461)),dr=!1;function Gr(o,c,h,g){c.child=o===null?Uj(c,null,h,g):xo(c,o.child,h,g)}function PN(o,c,h,g,j){h=h.render;var _=c.ref;if("ref"in g){var T={};for(var P in g)P!=="ref"&&(T[P]=g[P])}else T=g;return fo(c),g=$g(o,c,h,T,_,j),P=Bg(),o!==null&&!dr?(zg(o,c,j),Cs(o,c,j)):(ot&&P&&yg(c),c.flags|=1,Gr(o,c,g,j),c.child)}function MN(o,c,h,g,j){if(o===null){var _=h.type;return typeof _=="function"&&!xg(_)&&_.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=_,LN(o,c,_,g,j)):(o=rh(h.type,null,g,c,c.mode,j),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,!hx(o,j)){var T=_.memoizedProps;if(h=h.compare,h=h!==null?h:Wc,h(T,g)&&o.ref===c.ref)return Cs(o,c,j)}return c.flags|=1,o=Ns(_,g),o.ref=c.ref,o.return=c,c.child=o}function LN(o,c,h,g,j){if(o!==null){var _=o.memoizedProps;if(Wc(_,g)&&o.ref===c.ref)if(dr=!1,c.pendingProps=g=_,hx(o,j))(o.flags&131072)!==0&&(dr=!0);else return c.lanes=o.lanes,Cs(o,c,j)}return sx(o,c,h,g,j)}function UN(o,c,h,g){var j=g.children,_=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,o!==null){for(g=c.child=o.child,j=0;g!==null;)j=j|g.lanes|g.childLanes,g=g.sibling;g=j&~_}else g=0,c.child=null;return $N(o,c,_,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&ih(c,_!==null?_.cachePool:null),_!==null?zj(c,_):Pg(),Fj(c);else return g=c.lanes=536870912,$N(o,c,_!==null?_.baseLanes|h:h,h,g)}else _!==null?(ih(c,_.cachePool),zj(c,_),ji(),c.memoizedState=null):(o!==null&&ih(c,null),Pg(),ji());return Gr(o,c,j,h),c.child}function cd(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function $N(o,c,h,g,j){var _=Cg();return _=_===null?null:{parent:lr._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},o!==null&&ih(c,null),Pg(),Fj(c),o!==null&&vl(o,c,g,!0),c.childLanes=j,null}function jh(o,c){return c=_h({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function BN(o,c,h){return xo(c,o.child,null,h),o=jh(c,c.pendingProps),o.flags|=2,Fa(c),c.memoizedState=null,o}function eM(o,c,h){var g=c.pendingProps,j=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ot){if(g.mode==="hidden")return o=jh(c,g),c.lanes=536870912,cd(null,o);if(Lg(c),(o=Ut)?(o=Q_(o,fn),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:mi!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},h=Nj(o),h.return=c,c.child=h,qr=c,Ut=null)):o=null,o===null)throw gi(c);return c.lanes=536870912,null}return jh(c,g)}var _=o.memoizedState;if(_!==null){var T=_.dehydrated;if(Lg(c),j)if(c.flags&256)c.flags&=-257,c=BN(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(dr||vl(o,c,h,!1),j=(h&o.childLanes)!==0,dr||j){if(g=Tt,g!==null&&(T=ta(g,h),T!==0&&T!==_.retryLane))throw _.retryLane=T,lo(o,T),Ea(g,o,T),nx;Dh(),c=BN(o,c,h)}else o=_.treeContext,Ut=pn(T.nextSibling),qr=c,ot=!0,pi=null,fn=!1,o!==null&&Sj(c,o),c=jh(c,g),c.flags|=4096;return c}return o=Ns(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Nh(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function sx(o,c,h,g,j){return fo(c),h=$g(o,c,h,g,void 0,j),g=Bg(),o!==null&&!dr?(zg(o,c,j),Cs(o,c,j)):(ot&&g&&yg(c),c.flags|=1,Gr(o,c,h,j),c.child)}function zN(o,c,h,g,j,_){return fo(c),c.updateQueue=null,h=Hj(c,g,h,j),qj(o),g=Bg(),o!==null&&!dr?(zg(o,c,_),Cs(o,c,_)):(ot&&g&&yg(c),c.flags|=1,Gr(o,c,h,_),c.child)}function FN(o,c,h,g,j){if(fo(c),c.stateNode===null){var _=pl,T=h.contextType;typeof T=="object"&&T!==null&&(_=Hr(T)),_=new h(g,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=rx,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=g,_.state=c.memoizedState,_.refs={},Og(c),T=h.contextType,_.context=typeof T=="object"&&T!==null?Hr(T):pl,_.state=c.memoizedState,T=h.getDerivedStateFromProps,typeof T=="function"&&(tx(c,h,T,g),_.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(T=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),T!==_.state&&rx.enqueueReplaceState(_,_.state,null),nd(c,g,_,j),ad(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){_=c.stateNode;var P=c.memoizedProps,G=vo(h,P);_.props=G;var le=_.context,be=h.contextType;T=pl,typeof be=="object"&&be!==null&&(T=Hr(be));var we=h.getDerivedStateFromProps;be=typeof we=="function"||typeof _.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,be||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P||le!==T)&&AN(c,_,g,T),bi=!1;var de=c.memoizedState;_.state=de,nd(c,g,_,j),ad(),le=c.memoizedState,P||de!==le||bi?(typeof we=="function"&&(tx(c,h,we,g),le=c.memoizedState),(G=bi||kN(c,h,G,g,de,le,T))?(be||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=le),_.props=g,_.state=le,_.context=T,g=G):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{_=c.stateNode,Rg(o,c),T=c.memoizedProps,be=vo(h,T),_.props=be,we=c.pendingProps,de=_.context,le=h.contextType,G=pl,typeof le=="object"&&le!==null&&(G=Hr(le)),P=h.getDerivedStateFromProps,(le=typeof P=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==we||de!==G)&&AN(c,_,g,G),bi=!1,de=c.memoizedState,_.state=de,nd(c,g,_,j),ad();var fe=c.memoizedState;T!==we||de!==fe||bi||o!==null&&o.dependencies!==null&&nh(o.dependencies)?(typeof P=="function"&&(tx(c,h,P,g),fe=c.memoizedState),(be=bi||kN(c,h,be,g,de,fe,G)||o!==null&&o.dependencies!==null&&nh(o.dependencies))?(le||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,fe,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,fe,G)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=fe),_.props=g,_.state=fe,_.context=G,g=be):(typeof _.componentDidUpdate!="function"||T===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),g=!1)}return _=g,Nh(o,c),g=(c.flags&128)!==0,_||g?(_=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,o!==null&&g?(c.child=xo(c,o.child,null,j),c.child=xo(c,null,h,j)):Gr(o,c,h,j),c.memoizedState=_.state,o=c.child):o=Cs(o,c,j),o}function qN(o,c,h,g){return uo(),c.flags|=256,Gr(o,c,h,g),c.child}var ix={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ox(o){return{baseLanes:o,cachePool:Rj()}}function lx(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Ha),o}function HN(o,c,h){var g=c.pendingProps,j=!1,_=(c.flags&128)!==0,T;if((T=_)||(T=o!==null&&o.memoizedState===null?!1:(nr.current&2)!==0),T&&(j=!0,c.flags&=-129),T=(c.flags&32)!==0,c.flags&=-33,o===null){if(ot){if(j?wi(c):ji(),(o=Ut)?(o=Q_(o,fn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:mi!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},h=Nj(o),h.return=c,c.child=h,qr=c,Ut=null)):o=null,o===null)throw gi(c);return Hx(o)?c.lanes=32:c.lanes=536870912,null}var P=g.children;return g=g.fallback,j?(ji(),j=c.mode,P=_h({mode:"hidden",children:P},j),g=co(g,j,h,null),P.return=c,g.return=c,P.sibling=g,c.child=P,g=c.child,g.memoizedState=ox(h),g.childLanes=lx(o,T,h),c.memoizedState=ix,cd(null,g)):(wi(c),cx(c,P))}var G=o.memoizedState;if(G!==null&&(P=G.dehydrated,P!==null)){if(_)c.flags&256?(wi(c),c.flags&=-257,c=dx(o,c,h)):c.memoizedState!==null?(ji(),c.child=o.child,c.flags|=128,c=null):(ji(),P=g.fallback,j=c.mode,g=_h({mode:"visible",children:g.children},j),P=co(P,j,h,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,xo(c,o.child,null,h),g=c.child,g.memoizedState=ox(h),g.childLanes=lx(o,T,h),c.memoizedState=ix,c=cd(null,g));else if(wi(c),Hx(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var le=T.dgst;T=le,g=Error(n(419)),g.stack="",g.digest=T,Jc({value:g,source:null,stack:null}),c=dx(o,c,h)}else if(dr||vl(o,c,h,!1),T=(h&o.childLanes)!==0,dr||T){if(T=Tt,T!==null&&(g=ta(T,h),g!==0&&g!==G.retryLane))throw G.retryLane=g,lo(o,g),Ea(T,o,g),nx;qx(P)||Dh(),c=dx(o,c,h)}else qx(P)?(c.flags|=192,c.child=o.child,c=null):(o=G.treeContext,Ut=pn(P.nextSibling),qr=c,ot=!0,pi=null,fn=!1,o!==null&&Sj(c,o),c=cx(c,g.children),c.flags|=4096);return c}return j?(ji(),P=g.fallback,j=c.mode,G=o.child,le=G.sibling,g=Ns(G,{mode:"hidden",children:g.children}),g.subtreeFlags=G.subtreeFlags&65011712,le!==null?P=Ns(le,P):(P=co(P,j,h,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,cd(null,g),g=c.child,P=o.child.memoizedState,P===null?P=ox(h):(j=P.cachePool,j!==null?(G=lr._currentValue,j=j.parent!==G?{parent:G,pool:G}:j):j=Rj(),P={baseLanes:P.baseLanes|h,cachePool:j}),g.memoizedState=P,g.childLanes=lx(o,T,h),c.memoizedState=ix,cd(o.child,g)):(wi(c),h=o.child,o=h.sibling,h=Ns(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(T=c.deletions,T===null?(c.deletions=[o],c.flags|=16):T.push(o)),c.child=h,c.memoizedState=null,h)}function cx(o,c){return c=_h({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function _h(o,c){return o=Ba(22,o,null,c),o.lanes=0,o}function dx(o,c,h){return xo(c,o.child,null,h),o=cx(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function GN(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Eg(o.return,c,h)}function ux(o,c,h,g,j,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:j,treeForkCount:_}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=h,T.tailMode=j,T.treeForkCount=_)}function VN(o,c,h){var g=c.pendingProps,j=g.revealOrder,_=g.tail;g=g.children;var T=nr.current,P=(T&2)!==0;if(P?(T=T&1|2,c.flags|=128):T&=1,W(nr,T),Gr(o,c,g,h),g=ot?Kc:0,!P&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&GN(o,h,c);else if(o.tag===19)GN(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(j){case"forwards":for(h=c.child,j=null;h!==null;)o=h.alternate,o!==null&&hh(o)===null&&(j=h),h=h.sibling;h=j,h===null?(j=c.child,c.child=null):(j=h.sibling,h.sibling=null),ux(c,!1,j,h,_,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,j=c.child,c.child=null;j!==null;){if(o=j.alternate,o!==null&&hh(o)===null){c.child=j;break}o=j.sibling,j.sibling=h,h=j,j=o}ux(c,!0,h,null,_,g);break;case"together":ux(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Cs(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Ei|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(vl(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Ns(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Ns(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function hx(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&nh(o)))}function tM(o,c,h){switch(c.tag){case 3:Te(c,c.stateNode.containerInfo),xi(c,lr,o.memoizedState.cache),uo();break;case 27:case 5:Ae(c);break;case 4:Te(c,c.stateNode.containerInfo);break;case 10:xi(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Lg(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(wi(c),c.flags|=128,null):(h&c.child.childLanes)!==0?HN(o,c,h):(wi(c),o=Cs(o,c,h),o!==null?o.sibling:null);wi(c);break;case 19:var j=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(vl(o,c,h,!1),g=(h&c.childLanes)!==0),j){if(g)return VN(o,c,h);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),W(nr,nr.current),g)break;return null;case 22:return c.lanes=0,UN(o,c,h,c.pendingProps);case 24:xi(c,lr,o.memoizedState.cache)}return Cs(o,c,h)}function YN(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)dr=!0;else{if(!hx(o,h)&&(c.flags&128)===0)return dr=!1,tM(o,c,h);dr=(o.flags&131072)!==0}else dr=!1,ot&&(c.flags&1048576)!==0&&Ej(c,Kc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=po(c.elementType),c.type=o,typeof o=="function")xg(o)?(g=vo(o,g),c.tag=1,c=FN(null,c,o,g,h)):(c.tag=0,c=sx(null,c,o,g,h));else{if(o!=null){var j=o.$$typeof;if(j===A){c.tag=11,c=PN(null,c,o,g,h);break e}else if(j===R){c.tag=14,c=MN(null,c,o,g,h);break e}}throw c=X(o)||o,Error(n(306,c,""))}}return c;case 0:return sx(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,j=vo(g,c.pendingProps),FN(o,c,g,j,h);case 3:e:{if(Te(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var _=c.memoizedState;j=_.element,Rg(o,c),nd(c,g,null,h);var T=c.memoizedState;if(g=T.cache,xi(c,lr,g),g!==_.cache&&Sg(c,[lr],h,!0),ad(),g=T.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:T.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=qN(o,c,g,h);break e}else if(g!==j){j=dn(Error(n(424)),c),Jc(j),c=qN(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ut=pn(o.firstChild),qr=c,ot=!0,pi=null,fn=!0,h=Uj(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(uo(),g===j){c=Cs(o,c,h);break e}Gr(o,c,g,h)}c=c.child}return c;case 26:return Nh(o,c),o===null?(h=nE(c.type,null,c.pendingProps,null))?c.memoizedState=h:ot||(h=c.type,o=c.pendingProps,g=Bh(J.current).createElement(h),g[Fr]=c,g[va]=o,Vr(g,h,o),Tr(g),c.stateNode=g):c.memoizedState=nE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ae(c),o===null&&ot&&(g=c.stateNode=tE(c.type,c.pendingProps,J.current),qr=c,fn=!0,j=Ut,Ti(c.type)?(Gx=j,Ut=pn(g.firstChild)):Ut=j),Gr(o,c,c.pendingProps.children,h),Nh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ot&&((j=g=Ut)&&(g=OM(g,c.type,c.pendingProps,fn),g!==null?(c.stateNode=g,qr=c,Ut=pn(g.firstChild),fn=!1,j=!0):j=!1),j||gi(c)),Ae(c),j=c.type,_=c.pendingProps,T=o!==null?o.memoizedProps:null,g=_.children,Bx(j,_)?g=null:T!==null&&Bx(j,T)&&(c.flags|=32),c.memoizedState!==null&&(j=$g(o,c,VP,null,null,h),_d._currentValue=j),Nh(o,c),Gr(o,c,g,h),c.child;case 6:return o===null&&ot&&((o=h=Ut)&&(h=RM(h,c.pendingProps,fn),h!==null?(c.stateNode=h,qr=c,Ut=null,o=!0):o=!1),o||gi(c)),null;case 13:return HN(o,c,h);case 4:return Te(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=xo(c,null,g,h):Gr(o,c,g,h),c.child;case 11:return PN(o,c,c.type,c.pendingProps,h);case 7:return Gr(o,c,c.pendingProps,h),c.child;case 8:return Gr(o,c,c.pendingProps.children,h),c.child;case 12:return Gr(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,xi(c,c.type,g.value),Gr(o,c,g.children,h),c.child;case 9:return j=c.type._context,g=c.pendingProps.children,fo(c),j=Hr(j),g=g(j),c.flags|=1,Gr(o,c,g,h),c.child;case 14:return MN(o,c,c.type,c.pendingProps,h);case 15:return LN(o,c,c.type,c.pendingProps,h);case 19:return VN(o,c,h);case 31:return eM(o,c,h);case 22:return UN(o,c,h,c.pendingProps);case 24:return fo(c),g=Hr(lr),o===null?(j=Cg(),j===null&&(j=Tt,_=kg(),j.pooledCache=_,_.refCount++,_!==null&&(j.pooledCacheLanes|=h),j=_),c.memoizedState={parent:g,cache:j},Og(c),xi(c,lr,j)):((o.lanes&h)!==0&&(Rg(o,c),nd(c,null,null,h),ad()),j=o.memoizedState,_=c.memoizedState,j.parent!==g?(j={parent:g,cache:g},c.memoizedState=j,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=j),xi(c,lr,g)):(g=_.cache,xi(c,lr,g),g!==j.cache&&Sg(c,[lr],h,!0))),Gr(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Ts(o){o.flags|=4}function fx(o,c,h,g,j){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(j&335544128)===j)if(o.stateNode.complete)o.flags|=8192;else if(y_())o.flags|=8192;else throw go=lh,Tg}else o.flags&=-16777217}function WN(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!cE(c))if(y_())o.flags|=8192;else throw go=lh,Tg}function Eh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?xr():536870912,o.lanes|=c,Ol|=c)}function dd(o,c){if(!ot)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function $t(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var j=o.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags&65011712,g|=j.flags&65011712,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags,g|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function rM(o,c,h){var g=c.pendingProps;switch(wg(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(c),null;case 1:return $t(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Ss(lr),ae(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(bl(c)?Ts(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ng())),$t(c),null;case 26:var j=c.type,_=c.memoizedState;return o===null?(Ts(c),_!==null?($t(c),WN(c,_)):($t(c),fx(c,j,null,g,h))):_?_!==o.memoizedState?(Ts(c),$t(c),WN(c,_)):($t(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&Ts(c),$t(c),fx(c,j,o,g,h)),null;case 27:if(Ce(c),h=J.current,j=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Ts(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return $t(c),null}o=re.current,bl(c)?kj(c):(o=tE(j,g,h),c.stateNode=o,Ts(c))}return $t(c),null;case 5:if(Ce(c),j=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Ts(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return $t(c),null}if(_=re.current,bl(c))kj(c);else{var T=Bh(J.current);switch(_){case 1:_=T.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:_=T.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":_=T.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":_=T.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":_=T.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?T.createElement(j,{is:g.is}):T.createElement(j)}}_[Fr]=c,_[va]=g;e:for(T=c.child;T!==null;){if(T.tag===5||T.tag===6)_.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===c)break e;for(;T.sibling===null;){if(T.return===null||T.return===c)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}c.stateNode=_;e:switch(Vr(_,j,g),j){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ts(c)}}return $t(c),fx(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Ts(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=J.current,bl(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,j=qr,j!==null)switch(j.tag){case 27:case 5:g=j.memoizedProps}o[Fr]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||H_(o.nodeValue,h)),o||gi(c,!0)}else o=Bh(o).createTextNode(g),o[Fr]=c,c.stateNode=o}return $t(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(g=bl(c),h!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Fr]=c}else uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$t(c),o=!1}else h=Ng(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Fa(c),c):(Fa(c),null);if((c.flags&128)!==0)throw Error(n(558))}return $t(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(j=bl(c),g!==null&&g.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Fr]=c}else uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$t(c),j=!1}else j=Ng(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=j),j=!0;if(!j)return c.flags&256?(Fa(c),c):(Fa(c),null)}return Fa(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=c.child,j=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(j=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==j&&(g.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),Eh(c,c.updateQueue),$t(c),null);case 4:return ae(),o===null&&Px(c.stateNode.containerInfo),$t(c),null;case 10:return Ss(c.type),$t(c),null;case 19:if(U(nr),g=c.memoizedState,g===null)return $t(c),null;if(j=(c.flags&128)!==0,_=g.rendering,_===null)if(j)dd(g,!1);else{if(Qt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(_=hh(o),_!==null){for(c.flags|=128,dd(g,!1),o=_.updateQueue,c.updateQueue=o,Eh(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)jj(h,o),h=h.sibling;return W(nr,nr.current&1|2),ot&&_s(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&Ee()>Th&&(c.flags|=128,j=!0,dd(g,!1),c.lanes=4194304)}else{if(!j)if(o=hh(_),o!==null){if(c.flags|=128,j=!0,o=o.updateQueue,c.updateQueue=o,Eh(c,o),dd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!ot)return $t(c),null}else 2*Ee()-g.renderingStartTime>Th&&h!==536870912&&(c.flags|=128,j=!0,dd(g,!1),c.lanes=4194304);g.isBackwards?(_.sibling=c.child,c.child=_):(o=g.last,o!==null?o.sibling=_:c.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ee(),o.sibling=null,h=nr.current,W(nr,j?h&1|2:h&1),ot&&_s(c,g.treeForkCount),o):($t(c),null);case 22:case 23:return Fa(c),Mg(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&($t(c),c.subtreeFlags&6&&(c.flags|=8192)):$t(c),h=c.updateQueue,h!==null&&Eh(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&U(mo),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Ss(lr),$t(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function aM(o,c){switch(wg(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ss(lr),ae(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ce(c),null;case 31:if(c.memoizedState!==null){if(Fa(c),c.alternate===null)throw Error(n(340));uo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Fa(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));uo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return U(nr),null;case 4:return ae(),null;case 10:return Ss(c.type),null;case 22:case 23:return Fa(c),Mg(),o!==null&&U(mo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ss(lr),null;case 25:return null;default:return null}}function XN(o,c){switch(wg(c),c.tag){case 3:Ss(lr),ae();break;case 26:case 27:case 5:Ce(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&Fa(c);break;case 13:Fa(c);break;case 19:U(nr);break;case 10:Ss(c.type);break;case 22:case 23:Fa(c),Mg(),o!==null&&U(mo);break;case 24:Ss(lr)}}function ud(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var j=g.next;h=j;do{if((h.tag&o)===o){g=void 0;var _=h.create,T=h.inst;g=_(),T.destroy=g}h=h.next}while(h!==j)}}catch(P){vt(c,c.return,P)}}function Ni(o,c,h){try{var g=c.updateQueue,j=g!==null?g.lastEffect:null;if(j!==null){var _=j.next;g=_;do{if((g.tag&o)===o){var T=g.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,j=c;var G=h,le=P;try{le()}catch(be){vt(j,G,be)}}}g=g.next}while(g!==_)}}catch(be){vt(c,c.return,be)}}function KN(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{Bj(c,h)}catch(g){vt(o,o.return,g)}}}function JN(o,c,h){h.props=vo(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){vt(o,c,g)}}function hd(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(j){vt(o,c,j)}}function rs(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(j){vt(o,c,j)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(j){vt(o,c,j)}else h.current=null}function QN(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(j){vt(o,o.return,j)}}function mx(o,c,h){try{var g=o.stateNode;EM(g,o.type,h,c),g[va]=c}catch(j){vt(o,o.return,j)}}function ZN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ti(o.type)||o.tag===4}function px(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ZN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ti(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gx(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ws));else if(g!==4&&(g===27&&Ti(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(gx(o,c,h),o=o.sibling;o!==null;)gx(o,c,h),o=o.sibling}function Sh(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&Ti(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Sh(o,c,h),o=o.sibling;o!==null;)Sh(o,c,h),o=o.sibling}function e_(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);Vr(c,g,h),c[Fr]=o,c[va]=h}catch(_){vt(o,o.return,_)}}var Os=!1,ur=!1,xx=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Or=null;function nM(o,c){if(o=o.containerInfo,Ux=Yh,o=fj(o),dg(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var j=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var T=0,P=-1,G=-1,le=0,be=0,we=o,de=null;t:for(;;){for(var fe;we!==h||j!==0&&we.nodeType!==3||(P=T+j),we!==_||g!==0&&we.nodeType!==3||(G=T+g),we.nodeType===3&&(T+=we.nodeValue.length),(fe=we.firstChild)!==null;)de=we,we=fe;for(;;){if(we===o)break t;if(de===h&&++le===j&&(P=T),de===_&&++be===g&&(G=T),(fe=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=fe}h=P===-1||G===-1?null:{start:P,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for($x={focusedElem:o,selectionRange:h},Yh=!1,Or=c;Or!==null;)if(c=Or,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Or=o;else for(;Or!==null;){switch(c=Or,_=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)j=o[h],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,h=c,j=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var Ue=vo(h.type,j);o=g.getSnapshotBeforeUpdate(Ue,_),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ye){vt(h,h.return,Ye)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Fx(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Fx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Or=o;break}Or=c.return}}function r_(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Ds(o,h),g&4&&ud(5,h);break;case 1:if(Ds(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(T){vt(h,h.return,T)}else{var j=vo(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(j,c,o.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(h,h.return,T)}}g&64&&KN(h),g&512&&hd(h,h.return);break;case 3:if(Ds(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Bj(o,c)}catch(T){vt(h,h.return,T)}}break;case 27:c===null&&g&4&&e_(h);case 26:case 5:Ds(o,h),c===null&&g&4&&QN(h),g&512&&hd(h,h.return);break;case 12:Ds(o,h);break;case 31:Ds(o,h),g&4&&s_(o,h);break;case 13:Ds(o,h),g&4&&i_(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=fM.bind(null,h),DM(o,h))));break;case 22:if(g=h.memoizedState!==null||Os,!g){c=c!==null&&c.memoizedState!==null||ur,j=Os;var _=ur;Os=g,(ur=c)&&!_?Is(o,h,(h.subtreeFlags&8772)!==0):Ds(o,h),Os=j,ur=_}break;case 30:break;default:Ds(o,h)}}function a_(o){var c=o.alternate;c!==null&&(o.alternate=null,a_(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Yp(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qt=null,wa=!1;function Rs(o,c,h){for(h=h.child;h!==null;)n_(o,c,h),h=h.sibling}function n_(o,c,h){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(sn,h)}catch{}switch(h.tag){case 26:ur||rs(h,c),Rs(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ur||rs(h,c);var g=qt,j=wa;Ti(h.type)&&(qt=h.stateNode,wa=!1),Rs(o,c,h),wd(h.stateNode),qt=g,wa=j;break;case 5:ur||rs(h,c);case 6:if(g=qt,j=wa,qt=null,Rs(o,c,h),qt=g,wa=j,qt!==null)if(wa)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(h.stateNode)}catch(_){vt(h,c,_)}else try{qt.removeChild(h.stateNode)}catch(_){vt(h,c,_)}break;case 18:qt!==null&&(wa?(o=qt,K_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),$l(o)):K_(qt,h.stateNode));break;case 4:g=qt,j=wa,qt=h.stateNode.containerInfo,wa=!0,Rs(o,c,h),qt=g,wa=j;break;case 0:case 11:case 14:case 15:Ni(2,h,c),ur||Ni(4,h,c),Rs(o,c,h);break;case 1:ur||(rs(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&JN(h,c,g)),Rs(o,c,h);break;case 21:Rs(o,c,h);break;case 22:ur=(g=ur)||h.memoizedState!==null,Rs(o,c,h),ur=g;break;default:Rs(o,c,h)}}function s_(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{$l(o)}catch(h){vt(c,c.return,h)}}}function i_(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{$l(o)}catch(h){vt(c,c.return,h)}}function sM(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new t_),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new t_),c;default:throw Error(n(435,o.tag))}}function kh(o,c){var h=sM(o);c.forEach(function(g){if(!h.has(g)){h.add(g);var j=mM.bind(null,o,g);g.then(j,j)}})}function ja(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var j=h[g],_=o,T=c,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(Ti(P.type)){qt=P.stateNode,wa=!1;break e}break;case 5:qt=P.stateNode,wa=!1;break e;case 3:case 4:qt=P.stateNode.containerInfo,wa=!0;break e}P=P.return}if(qt===null)throw Error(n(160));n_(_,T,j),qt=null,wa=!1,_=j.alternate,_!==null&&(_.return=null),j.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)o_(c,o),c=c.sibling}var Tn=null;function o_(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ja(c,o),Na(o),g&4&&(Ni(3,o,o.return),ud(3,o),Ni(5,o,o.return));break;case 1:ja(c,o),Na(o),g&512&&(ur||h===null||rs(h,h.return)),g&64&&Os&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var j=Tn;if(ja(c,o),Na(o),g&512&&(ur||h===null||rs(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,j=j.ownerDocument||j;t:switch(g){case"title":_=j.getElementsByTagName("title")[0],(!_||_[$c]||_[Fr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=j.createElement(g),j.head.insertBefore(_,j.querySelector("head > title"))),Vr(_,g,h),_[Fr]=o,Tr(_),g=_;break e;case"link":var T=oE("link","href",j).get(g+(h.href||""));if(T){for(var P=0;P<T.length;P++)if(_=T[P],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){T.splice(P,1);break t}}_=j.createElement(g),Vr(_,g,h),j.head.appendChild(_);break;case"meta":if(T=oE("meta","content",j).get(g+(h.content||""))){for(P=0;P<T.length;P++)if(_=T[P],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){T.splice(P,1);break t}}_=j.createElement(g),Vr(_,g,h),j.head.appendChild(_);break;default:throw Error(n(468,g))}_[Fr]=o,Tr(_),g=_}o.stateNode=g}else lE(j,o.type,o.stateNode);else o.stateNode=iE(j,g,o.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?lE(j,o.type,o.stateNode):iE(j,g,o.memoizedProps)):g===null&&o.stateNode!==null&&mx(o,o.memoizedProps,h.memoizedProps)}break;case 27:ja(c,o),Na(o),g&512&&(ur||h===null||rs(h,h.return)),h!==null&&g&4&&mx(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ja(c,o),Na(o),g&512&&(ur||h===null||rs(h,h.return)),o.flags&32){j=o.stateNode;try{ll(j,"")}catch(Ue){vt(o,o.return,Ue)}}g&4&&o.stateNode!=null&&(j=o.memoizedProps,mx(o,j,h!==null?h.memoizedProps:j)),g&1024&&(xx=!0);break;case 6:if(ja(c,o),Na(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Ue){vt(o,o.return,Ue)}}break;case 3:if(qh=null,j=Tn,Tn=zh(c.containerInfo),ja(c,o),Tn=j,Na(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{$l(c.containerInfo)}catch(Ue){vt(o,o.return,Ue)}xx&&(xx=!1,l_(o));break;case 4:g=Tn,Tn=zh(o.stateNode.containerInfo),ja(c,o),Na(o),Tn=g;break;case 12:ja(c,o),Na(o);break;case 31:ja(c,o),Na(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,kh(o,g)));break;case 13:ja(c,o),Na(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ch=Ee()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,kh(o,g)));break;case 22:j=o.memoizedState!==null;var G=h!==null&&h.memoizedState!==null,le=Os,be=ur;if(Os=le||j,ur=be||G,ja(c,o),ur=be,Os=le,Na(o),g&8192)e:for(c=o.stateNode,c._visibility=j?c._visibility&-2:c._visibility|1,j&&(h===null||G||Os||ur||yo(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){G=h=c;try{if(_=G.stateNode,j)T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=G.stateNode;var we=G.memoizedProps.style,de=we!=null&&we.hasOwnProperty("display")?we.display:null;P.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ue){vt(G,G.return,Ue)}}}else if(c.tag===6){if(h===null){G=c;try{G.stateNode.nodeValue=j?"":G.memoizedProps}catch(Ue){vt(G,G.return,Ue)}}}else if(c.tag===18){if(h===null){G=c;try{var fe=G.stateNode;j?J_(fe,!0):J_(G.stateNode,!1)}catch(Ue){vt(G,G.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,kh(o,h))));break;case 19:ja(c,o),Na(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,kh(o,g)));break;case 30:break;case 21:break;default:ja(c,o),Na(o)}}function Na(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(ZN(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var j=h.stateNode,_=px(o);Sh(o,_,j);break;case 5:var T=h.stateNode;h.flags&32&&(ll(T,""),h.flags&=-33);var P=px(o);Sh(o,P,T);break;case 3:case 4:var G=h.stateNode.containerInfo,le=px(o);gx(o,le,G);break;default:throw Error(n(161))}}catch(be){vt(o,o.return,be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function l_(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;l_(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ds(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)r_(o,c.alternate,c),c=c.sibling}function yo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ni(4,c,c.return),yo(c);break;case 1:rs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&JN(c,c.return,h),yo(c);break;case 27:wd(c.stateNode);case 26:case 5:rs(c,c.return),yo(c);break;case 22:c.memoizedState===null&&yo(c);break;case 30:yo(c);break;default:yo(c)}o=o.sibling}}function Is(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,j=o,_=c,T=_.flags;switch(_.tag){case 0:case 11:case 15:Is(j,_,h),ud(4,_);break;case 1:if(Is(j,_,h),g=_,j=g.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(le){vt(g,g.return,le)}if(g=_,j=g.updateQueue,j!==null){var P=g.stateNode;try{var G=j.shared.hiddenCallbacks;if(G!==null)for(j.shared.hiddenCallbacks=null,j=0;j<G.length;j++)$j(G[j],P)}catch(le){vt(g,g.return,le)}}h&&T&64&&KN(_),hd(_,_.return);break;case 27:e_(_);case 26:case 5:Is(j,_,h),h&&g===null&&T&4&&QN(_),hd(_,_.return);break;case 12:Is(j,_,h);break;case 31:Is(j,_,h),h&&T&4&&s_(j,_);break;case 13:Is(j,_,h),h&&T&4&&i_(j,_);break;case 22:_.memoizedState===null&&Is(j,_,h),hd(_,_.return);break;case 30:break;default:Is(j,_,h)}c=c.sibling}}function bx(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Qc(h))}function vx(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Qc(o))}function On(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)c_(o,c,h,g),c=c.sibling}function c_(o,c,h,g){var j=c.flags;switch(c.tag){case 0:case 11:case 15:On(o,c,h,g),j&2048&&ud(9,c);break;case 1:On(o,c,h,g);break;case 3:On(o,c,h,g),j&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Qc(o)));break;case 12:if(j&2048){On(o,c,h,g),o=c.stateNode;try{var _=c.memoizedProps,T=_.id,P=_.onPostCommit;typeof P=="function"&&P(T,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){vt(c,c.return,G)}}else On(o,c,h,g);break;case 31:On(o,c,h,g);break;case 13:On(o,c,h,g);break;case 23:break;case 22:_=c.stateNode,T=c.alternate,c.memoizedState!==null?_._visibility&2?On(o,c,h,g):fd(o,c):_._visibility&2?On(o,c,h,g):(_._visibility|=2,Al(o,c,h,g,(c.subtreeFlags&10256)!==0||!1)),j&2048&&bx(T,c);break;case 24:On(o,c,h,g),j&2048&&vx(c.alternate,c);break;default:On(o,c,h,g)}}function Al(o,c,h,g,j){for(j=j&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=o,T=c,P=h,G=g,le=T.flags;switch(T.tag){case 0:case 11:case 15:Al(_,T,P,G,j),ud(8,T);break;case 23:break;case 22:var be=T.stateNode;T.memoizedState!==null?be._visibility&2?Al(_,T,P,G,j):fd(_,T):(be._visibility|=2,Al(_,T,P,G,j)),j&&le&2048&&bx(T.alternate,T);break;case 24:Al(_,T,P,G,j),j&&le&2048&&vx(T.alternate,T);break;default:Al(_,T,P,G,j)}c=c.sibling}}function fd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,j=g.flags;switch(g.tag){case 22:fd(h,g),j&2048&&bx(g.alternate,g);break;case 24:fd(h,g),j&2048&&vx(g.alternate,g);break;default:fd(h,g)}c=c.sibling}}var md=8192;function Cl(o,c,h){if(o.subtreeFlags&md)for(o=o.child;o!==null;)d_(o,c,h),o=o.sibling}function d_(o,c,h){switch(o.tag){case 26:Cl(o,c,h),o.flags&md&&o.memoizedState!==null&&GM(h,Tn,o.memoizedState,o.memoizedProps);break;case 5:Cl(o,c,h);break;case 3:case 4:var g=Tn;Tn=zh(o.stateNode.containerInfo),Cl(o,c,h),Tn=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=md,md=16777216,Cl(o,c,h),md=g):Cl(o,c,h));break;default:Cl(o,c,h)}}function u_(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function pd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Or=g,f_(g,o)}u_(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)h_(o),o=o.sibling}function h_(o){switch(o.tag){case 0:case 11:case 15:pd(o),o.flags&2048&&Ni(9,o,o.return);break;case 3:pd(o);break;case 12:pd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Ah(o)):pd(o);break;default:pd(o)}}function Ah(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Or=g,f_(g,o)}u_(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ni(8,c,c.return),Ah(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Ah(c));break;default:Ah(c)}o=o.sibling}}function f_(o,c){for(;Or!==null;){var h=Or;switch(h.tag){case 0:case 11:case 15:Ni(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Qc(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Or=g;else e:for(h=o;Or!==null;){g=Or;var j=g.sibling,_=g.return;if(a_(g),g===h){Or=null;break e}if(j!==null){j.return=_,Or=j;break e}Or=_}}}var iM={getCacheForType:function(o){var c=Hr(lr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Hr(lr).controller.signal}},oM=typeof WeakMap=="function"?WeakMap:Map,mt=0,Tt=null,at=null,st=0,bt=0,qa=null,_i=!1,Tl=!1,yx=!1,Ps=0,Qt=0,Ei=0,wo=0,wx=0,Ha=0,Ol=0,gd=null,_a=null,jx=!1,Ch=0,m_=0,Th=1/0,Oh=null,Si=null,br=0,ki=null,Rl=null,Ms=0,Nx=0,_x=null,p_=null,xd=0,Ex=null;function Ga(){return(mt&2)!==0&&st!==0?st&-st:B.T!==null?Ox():Gp()}function g_(){if(Ha===0)if((st&536870912)===0||ot){var o=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),Ha=o}else Ha=536870912;return o=za.current,o!==null&&(o.flags|=32),Ha}function Ea(o,c,h){(o===Tt&&(bt===2||bt===9)||o.cancelPendingCommit!==null)&&(Dl(o,0),Ai(o,st,Ha,!1)),Rt(o,h),((mt&2)===0||o!==Tt)&&(o===Tt&&((mt&2)===0&&(wo|=h),Qt===4&&Ai(o,st,Ha,!1)),as(o))}function x_(o,c,h){if((mt&6)!==0)throw Error(n(327));var g=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Ct(o,c),j=g?dM(o,c):kx(o,c,!0),_=g;do{if(j===0){Tl&&!g&&Ai(o,c,0,!1);break}else{if(h=o.current.alternate,_&&!lM(h)){j=kx(o,c,!1),_=!1;continue}if(j===2){if(_=c,o.errorRecoveryDisabledLanes&_)var T=0;else T=o.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){c=T;e:{var P=o;j=gd;var G=P.current.memoizedState.isDehydrated;if(G&&(Dl(P,T).flags|=256),T=kx(P,T,!1),T!==2){if(yx&&!G){P.errorRecoveryDisabledLanes|=_,wo|=_,j=4;break e}_=_a,_a=j,_!==null&&(_a===null?_a=_:_a.push.apply(_a,_))}j=T}if(_=!1,j!==2)continue}}if(j===1){Dl(o,0),Ai(o,c,0,!0);break}e:{switch(g=o,_=j,_){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Ai(g,c,Ha,!_i);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(j=Ch+300-Ee(),10<j)){if(Ai(g,c,Ha,!_i),Ke(g,0,!0)!==0)break e;Ms=c,g.timeoutHandle=W_(b_.bind(null,g,h,_a,Oh,jx,c,Ha,wo,Ol,_i,_,"Throttled",-0,0),j);break e}b_(g,h,_a,Oh,jx,c,Ha,wo,Ol,_i,_,null,-0,0)}}break}while(!0);as(o)}function b_(o,c,h,g,j,_,T,P,G,le,be,we,de,fe){if(o.timeoutHandle=-1,we=c.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ws},d_(c,_,we);var Ue=(_&62914560)===_?Ch-Ee():(_&4194048)===_?m_-Ee():0;if(Ue=VM(we,Ue),Ue!==null){Ms=_,o.cancelPendingCommit=Ue(S_.bind(null,o,c,_,h,g,j,T,P,G,be,we,null,de,fe)),Ai(o,_,T,!le);return}}S_(o,c,_,h,g,j,T,P,G)}function lM(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var j=h[g],_=j.getSnapshot;j=j.value;try{if(!$a(_(),j))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ai(o,c,h,g){c&=~wx,c&=~wo,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var j=c;0<j;){var _=31-Wt(j),T=1<<_;g[_]=-1,j&=~T}h!==0&&Lt(o,h,c)}function Rh(){return(mt&6)===0?(bd(0),!1):!0}function Sx(){if(at!==null){if(bt===0)var o=at.return;else o=at,Es=ho=null,Fg(o),Nl=null,ed=0,o=at;for(;o!==null;)XN(o.alternate,o),o=o.return;at=null}}function Dl(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,AM(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Ms=0,Sx(),Tt=o,at=h=Ns(o.current,null),st=c,bt=0,qa=null,_i=!1,Tl=Ct(o,c),yx=!1,Ol=Ha=wx=wo=Ei=Qt=0,_a=gd=null,jx=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var j=31-Wt(g),_=1<<j;c|=o[j],g&=~_}return Ps=c,Zu(),h}function v_(o,c){Qe=null,B.H=ld,c===jl||c===oh?(c=Pj(),bt=3):c===Tg?(c=Pj(),bt=4):bt=c===nx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qa=c,at===null&&(Qt=1,wh(o,dn(c,o.current)))}function y_(){var o=za.current;return o===null?!0:(st&4194048)===st?mn===null:(st&62914560)===st||(st&536870912)!==0?o===mn:!1}function w_(){var o=B.H;return B.H=ld,o===null?ld:o}function j_(){var o=B.A;return B.A=iM,o}function Dh(){Qt=4,_i||(st&4194048)!==st&&za.current!==null||(Tl=!0),(Ei&134217727)===0&&(wo&134217727)===0||Tt===null||Ai(Tt,st,Ha,!1)}function kx(o,c,h){var g=mt;mt|=2;var j=w_(),_=j_();(Tt!==o||st!==c)&&(Oh=null,Dl(o,c)),c=!1;var T=Qt;e:do try{if(bt!==0&&at!==null){var P=at,G=qa;switch(bt){case 8:Sx(),T=6;break e;case 3:case 2:case 9:case 6:za.current===null&&(c=!0);var le=bt;if(bt=0,qa=null,Il(o,P,G,le),h&&Tl){T=0;break e}break;default:le=bt,bt=0,qa=null,Il(o,P,G,le)}}cM(),T=Qt;break}catch(be){v_(o,be)}while(!0);return c&&o.shellSuspendCounter++,Es=ho=null,mt=g,B.H=j,B.A=_,at===null&&(Tt=null,st=0,Zu()),T}function cM(){for(;at!==null;)N_(at)}function dM(o,c){var h=mt;mt|=2;var g=w_(),j=j_();Tt!==o||st!==c?(Oh=null,Th=Ee()+500,Dl(o,c)):Tl=Ct(o,c);e:do try{if(bt!==0&&at!==null){c=at;var _=qa;t:switch(bt){case 1:bt=0,qa=null,Il(o,c,_,1);break;case 2:case 9:if(Dj(_)){bt=0,qa=null,__(c);break}c=function(){bt!==2&&bt!==9||Tt!==o||(bt=7),as(o)},_.then(c,c);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:Dj(_)?(bt=0,qa=null,__(c)):(bt=0,qa=null,Il(o,c,_,7));break;case 5:var T=null;switch(at.tag){case 26:T=at.memoizedState;case 5:case 27:var P=at;if(T?cE(T):P.stateNode.complete){bt=0,qa=null;var G=P.sibling;if(G!==null)at=G;else{var le=P.return;le!==null?(at=le,Ih(le)):at=null}break t}}bt=0,qa=null,Il(o,c,_,5);break;case 6:bt=0,qa=null,Il(o,c,_,6);break;case 8:Sx(),Qt=6;break e;default:throw Error(n(462))}}uM();break}catch(be){v_(o,be)}while(!0);return Es=ho=null,B.H=g,B.A=j,mt=h,at!==null?0:(Tt=null,st=0,Zu(),Qt)}function uM(){for(;at!==null&&!Ne();)N_(at)}function N_(o){var c=YN(o.alternate,o,Ps);o.memoizedProps=o.pendingProps,c===null?Ih(o):at=c}function __(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=zN(h,c,c.pendingProps,c.type,void 0,st);break;case 11:c=zN(h,c,c.pendingProps,c.type.render,c.ref,st);break;case 5:Fg(c);default:XN(h,c),c=at=jj(c,Ps),c=YN(h,c,Ps)}o.memoizedProps=o.pendingProps,c===null?Ih(o):at=c}function Il(o,c,h,g){Es=ho=null,Fg(c),Nl=null,ed=0;var j=c.return;try{if(ZP(o,j,c,h,st)){Qt=1,wh(o,dn(h,o.current)),at=null;return}}catch(_){if(j!==null)throw at=j,_;Qt=1,wh(o,dn(h,o.current)),at=null;return}c.flags&32768?(ot||g===1?o=!0:Tl||(st&536870912)!==0?o=!1:(_i=o=!0,(g===2||g===9||g===3||g===6)&&(g=za.current,g!==null&&g.tag===13&&(g.flags|=16384))),E_(c,o)):Ih(c)}function Ih(o){var c=o;do{if((c.flags&32768)!==0){E_(c,_i);return}o=c.return;var h=rM(c.alternate,c,Ps);if(h!==null){at=h;return}if(c=c.sibling,c!==null){at=c;return}at=c=o}while(c!==null);Qt===0&&(Qt=5)}function E_(o,c){do{var h=aM(o.alternate,o);if(h!==null){h.flags&=32767,at=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){at=o;return}at=o=h}while(o!==null);Qt=6,at=null}function S_(o,c,h,g,j,_,T,P,G){o.cancelPendingCommit=null;do Ph();while(br!==0);if((mt&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(_=c.lanes|c.childLanes,_|=pg,ne(o,h,_,T,P,G),o===Tt&&(at=Tt=null,st=0),Rl=c,ki=o,Ms=h,Nx=_,_x=j,p_=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,pM(Ve,function(){return O_(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,j=I.p,I.p=2,T=mt,mt|=4;try{nM(o,c,h)}finally{mt=T,I.p=j,B.T=g}}br=1,k_(),A_(),C_()}}function k_(){if(br===1){br=0;var o=ki,c=Rl,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=B.T,B.T=null;var g=I.p;I.p=2;var j=mt;mt|=4;try{o_(c,o);var _=$x,T=fj(o.containerInfo),P=_.focusedElem,G=_.selectionRange;if(T!==P&&P&&P.ownerDocument&&hj(P.ownerDocument.documentElement,P)){if(G!==null&&dg(P)){var le=G.start,be=G.end;if(be===void 0&&(be=le),"selectionStart"in P)P.selectionStart=le,P.selectionEnd=Math.min(be,P.value.length);else{var we=P.ownerDocument||document,de=we&&we.defaultView||window;if(de.getSelection){var fe=de.getSelection(),Ue=P.textContent.length,Ye=Math.min(G.start,Ue),St=G.end===void 0?Ye:Math.min(G.end,Ue);!fe.extend&&Ye>St&&(T=St,St=Ye,Ye=T);var ee=uj(P,Ye),Q=uj(P,St);if(ee&&Q&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ie=we.createRange();ie.setStart(ee.node,ee.offset),fe.removeAllRanges(),Ye>St?(fe.addRange(ie),fe.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),fe.addRange(ie))}}}}for(we=[],fe=P;fe=fe.parentNode;)fe.nodeType===1&&we.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<we.length;P++){var ye=we[P];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Yh=!!Ux,$x=Ux=null}finally{mt=j,I.p=g,B.T=h}}o.current=c,br=2}}function A_(){if(br===2){br=0;var o=ki,c=Rl,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=B.T,B.T=null;var g=I.p;I.p=2;var j=mt;mt|=4;try{r_(o,c.alternate,c)}finally{mt=j,I.p=g,B.T=h}}br=3}}function C_(){if(br===4||br===3){br=0,Ie();var o=ki,c=Rl,h=Ms,g=p_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?br=5:(br=0,Rl=ki=null,T_(o,o.pendingLanes));var j=o.pendingLanes;if(j===0&&(Si=null),An(h),c=c.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(sn,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=B.T,j=I.p,I.p=2,B.T=null;try{for(var _=o.onRecoverableError,T=0;T<g.length;T++){var P=g[T];_(P.value,{componentStack:P.stack})}}finally{B.T=c,I.p=j}}(Ms&3)!==0&&Ph(),as(o),j=o.pendingLanes,(h&261930)!==0&&(j&42)!==0?o===Ex?xd++:(xd=0,Ex=o):xd=0,bd(0)}}function T_(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Qc(c)))}function Ph(){return k_(),A_(),C_(),O_()}function O_(){if(br!==5)return!1;var o=ki,c=Nx;Nx=0;var h=An(Ms),g=B.T,j=I.p;try{I.p=32>h?32:h,B.T=null,h=_x,_x=null;var _=ki,T=Ms;if(br=0,Rl=ki=null,Ms=0,(mt&6)!==0)throw Error(n(331));var P=mt;if(mt|=4,h_(_.current),c_(_,_.current,T,h),mt=P,bd(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(sn,_)}catch{}return!0}finally{I.p=j,B.T=g,T_(o,c)}}function R_(o,c,h){c=dn(h,c),c=ax(o.stateNode,c,2),o=yi(o,c,2),o!==null&&(Rt(o,2),as(o))}function vt(o,c,h){if(o.tag===3)R_(o,o,h);else for(;c!==null;){if(c.tag===3){R_(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Si===null||!Si.has(g))){o=dn(h,o),h=DN(2),g=yi(c,h,2),g!==null&&(IN(h,g,c,o),Rt(g,2),as(g));break}}c=c.return}}function Ax(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new oM;var j=new Set;g.set(c,j)}else j=g.get(c),j===void 0&&(j=new Set,g.set(c,j));j.has(h)||(yx=!0,j.add(h),o=hM.bind(null,o,c,h),c.then(o,o))}function hM(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Tt===o&&(st&h)===h&&(Qt===4||Qt===3&&(st&62914560)===st&&300>Ee()-Ch?(mt&2)===0&&Dl(o,0):wx|=h,Ol===st&&(Ol=0)),as(o)}function D_(o,c){c===0&&(c=xr()),o=lo(o,c),o!==null&&(Rt(o,c),as(o))}function fM(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),D_(o,h)}function mM(o,c){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,j=o.memoizedState;j!==null&&(h=j.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),D_(o,h)}function pM(o,c){return Re(o,c)}var Mh=null,Pl=null,Cx=!1,Lh=!1,Tx=!1,Ci=0;function as(o){o!==Pl&&o.next===null&&(Pl===null?Mh=Pl=o:Pl=Pl.next=o),Lh=!0,Cx||(Cx=!0,xM())}function bd(o,c){if(!Tx&&Lh){Tx=!0;do for(var h=!1,g=Mh;g!==null;){if(o!==0){var j=g.pendingLanes;if(j===0)var _=0;else{var T=g.suspendedLanes,P=g.pingedLanes;_=(1<<31-Wt(42|o)+1)-1,_&=j&~(T&~P),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,L_(g,_))}else _=st,_=Ke(g,g===Tt?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||Ct(g,_)||(h=!0,L_(g,_));g=g.next}while(h);Tx=!1}}function gM(){I_()}function I_(){Lh=Cx=!1;var o=0;Ci!==0&&kM()&&(o=Ci);for(var c=Ee(),h=null,g=Mh;g!==null;){var j=g.next,_=P_(g,c);_===0?(g.next=null,h===null?Mh=j:h.next=j,j===null&&(Pl=h)):(h=g,(o!==0||(_&3)!==0)&&(Lh=!0)),g=j}br!==0&&br!==5||bd(o),Ci!==0&&(Ci=0)}function P_(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,j=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var T=31-Wt(_),P=1<<T,G=j[T];G===-1?((P&h)===0||(P&g)!==0)&&(j[T]=ar(P,c)):G<=c&&(o.expiredLanes|=P),_&=~P}if(c=Tt,h=st,h=Ke(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(bt===2||bt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Se(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Ct(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&Se(g),An(h)){case 2:case 8:h=tt;break;case 32:h=Ve;break;case 268435456:h=Ze;break;default:h=Ve}return g=M_.bind(null,o),h=Re(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&Se(g),o.callbackPriority=2,o.callbackNode=null,2}function M_(o,c){if(br!==0&&br!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Ph()&&o.callbackNode!==h)return null;var g=st;return g=Ke(o,o===Tt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(x_(o,g,c),P_(o,Ee()),o.callbackNode!=null&&o.callbackNode===h?M_.bind(null,o):null)}function L_(o,c){if(Ph())return null;x_(o,c,!0)}function xM(){CM(function(){(mt&6)!==0?Re(Pe,gM):I_()})}function Ox(){if(Ci===0){var o=yl;o===0&&(o=La,La<<=1,(La&261888)===0&&(La=256)),Ci=o}return Ci}function U_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Gu(""+o)}function $_(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function bM(o,c,h,g,j){if(c==="submit"&&h&&h.stateNode===j){var _=U_((j[va]||null).action),T=g.submitter;T&&(c=(c=T[va]||null)?U_(c.formAction):T.getAttribute("formAction"),c!==null&&(_=c,T=null));var P=new Xu("action","action",null,g,j);o.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ci!==0){var G=T?$_(j,T):new FormData(j);Jg(h,{pending:!0,data:G,method:j.method,action:_},null,G)}}else typeof _=="function"&&(P.preventDefault(),G=T?$_(j,T):new FormData(j),Jg(h,{pending:!0,data:G,method:j.method,action:_},_,G))},currentTarget:j}]})}}for(var Rx=0;Rx<mg.length;Rx++){var Dx=mg[Rx],vM=Dx.toLowerCase(),yM=Dx[0].toUpperCase()+Dx.slice(1);Cn(vM,"on"+yM)}Cn(gj,"onAnimationEnd"),Cn(xj,"onAnimationIteration"),Cn(bj,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(MP,"onTransitionRun"),Cn(LP,"onTransitionStart"),Cn(UP,"onTransitionCancel"),Cn(vj,"onTransitionEnd"),il("onMouseEnter",["mouseout","mouseover"]),il("onMouseLeave",["mouseout","mouseover"]),il("onPointerEnter",["pointerout","pointerover"]),il("onPointerLeave",["pointerout","pointerover"]),no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),no("onBeforeInput",["compositionend","keypress","textInput","paste"]),no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vd));function B_(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],j=g.event;g=g.listeners;e:{var _=void 0;if(c)for(var T=g.length-1;0<=T;T--){var P=g[T],G=P.instance,le=P.currentTarget;if(P=P.listener,G!==_&&j.isPropagationStopped())break e;_=P,j.currentTarget=le;try{_(j)}catch(be){Qu(be)}j.currentTarget=null,_=G}else for(T=0;T<g.length;T++){if(P=g[T],G=P.instance,le=P.currentTarget,P=P.listener,G!==_&&j.isPropagationStopped())break e;_=P,j.currentTarget=le;try{_(j)}catch(be){Qu(be)}j.currentTarget=null,_=G}}}}function nt(o,c){var h=c[Vp];h===void 0&&(h=c[Vp]=new Set);var g=o+"__bubble";h.has(g)||(z_(c,o,2,!1),h.add(g))}function Ix(o,c,h){var g=0;c&&(g|=4),z_(h,o,g,c)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Px(o){if(!o[Uh]){o[Uh]=!0,I1.forEach(function(h){h!=="selectionchange"&&(wM.has(h)||Ix(h,!1,o),Ix(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Uh]||(c[Uh]=!0,Ix("selectionchange",!1,c))}}function z_(o,c,h,g){switch(gE(c)){case 2:var j=XM;break;case 8:j=KM;break;default:j=Kx}h=j.bind(null,c,h,o),j=void 0,!tg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),g?j!==void 0?o.addEventListener(c,h,{capture:!0,passive:j}):o.addEventListener(c,h,!0):j!==void 0?o.addEventListener(c,h,{passive:j}):o.addEventListener(c,h,!1)}function Mx(o,c,h,g,j){var _=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var P=g.stateNode.containerInfo;if(P===j)break;if(T===4)for(T=g.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===j)return;T=T.return}for(;P!==null;){if(T=al(P),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){g=_=T;continue e}P=P.parentNode}}g=g.return}V1(function(){var le=_,be=Zp(h),we=[];e:{var de=yj.get(o);if(de!==void 0){var fe=Xu,Ue=o;switch(o){case"keypress":if(Yu(h)===0)break e;case"keydown":case"keyup":fe=mP;break;case"focusin":Ue="focus",fe=sg;break;case"focusout":Ue="blur",fe=sg;break;case"beforeblur":case"afterblur":fe=sg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=X1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=rP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=xP;break;case gj:case xj:case bj:fe=sP;break;case vj:fe=vP;break;case"scroll":case"scrollend":fe=eP;break;case"wheel":fe=wP;break;case"copy":case"cut":case"paste":fe=oP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=J1;break;case"toggle":case"beforetoggle":fe=NP}var Ye=(c&4)!==0,St=!Ye&&(o==="scroll"||o==="scrollend"),ee=Ye?de!==null?de+"Capture":null:de;Ye=[];for(var Q=le,ie;Q!==null;){var ye=Q;if(ie=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ie===null||ee===null||(ye=zc(Q,ee),ye!=null&&Ye.push(yd(Q,ye,ie))),St)break;Q=Q.return}0<Ye.length&&(de=new fe(de,Ue,null,h,be),we.push({event:de,listeners:Ye}))}}if((c&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",de&&h!==Qp&&(Ue=h.relatedTarget||h.fromElement)&&(al(Ue)||Ue[rl]))break e;if((fe||de)&&(de=be.window===be?be:(de=be.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(Ue=h.relatedTarget||h.toElement,fe=le,Ue=Ue?al(Ue):null,Ue!==null&&(St=i(Ue),Ye=Ue.tag,Ue!==St||Ye!==5&&Ye!==27&&Ye!==6)&&(Ue=null)):(fe=null,Ue=le),fe!==Ue)){if(Ye=X1,ye="onMouseLeave",ee="onMouseEnter",Q="mouse",(o==="pointerout"||o==="pointerover")&&(Ye=J1,ye="onPointerLeave",ee="onPointerEnter",Q="pointer"),St=fe==null?de:Bc(fe),ie=Ue==null?de:Bc(Ue),de=new Ye(ye,Q+"leave",fe,h,be),de.target=St,de.relatedTarget=ie,ye=null,al(be)===le&&(Ye=new Ye(ee,Q+"enter",Ue,h,be),Ye.target=ie,Ye.relatedTarget=St,ye=Ye),St=ye,fe&&Ue)t:{for(Ye=jM,ee=fe,Q=Ue,ie=0,ye=ee;ye;ye=Ye(ye))ie++;ye=0;for(var qe=Q;qe;qe=Ye(qe))ye++;for(;0<ie-ye;)ee=Ye(ee),ie--;for(;0<ye-ie;)Q=Ye(Q),ye--;for(;ie--;){if(ee===Q||Q!==null&&ee===Q.alternate){Ye=ee;break t}ee=Ye(ee),Q=Ye(Q)}Ye=null}else Ye=null;fe!==null&&F_(we,de,fe,Ye,!1),Ue!==null&&St!==null&&F_(we,St,Ue,Ye,!0)}}e:{if(de=le?Bc(le):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var ct=sj;else if(aj(de))if(ij)ct=DP;else{ct=OP;var $e=TP}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?le&&Jp(le.elementType)&&(ct=sj):ct=RP;if(ct&&(ct=ct(o,le))){nj(we,ct,h,be);break e}$e&&$e(o,de,le),o==="focusout"&&le&&de.type==="number"&&le.memoizedProps.value!=null&&Kp(de,"number",de.value)}switch($e=le?Bc(le):window,o){case"focusin":(aj($e)||$e.contentEditable==="true")&&(hl=$e,ug=le,Xc=null);break;case"focusout":Xc=ug=hl=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,mj(we,h,be);break;case"selectionchange":if(PP)break;case"keydown":case"keyup":mj(we,h,be)}var et;if(og)e:{switch(o){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else ul?tj(o,h)&&(it="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(it="onCompositionStart");it&&(Q1&&h.locale!=="ko"&&(ul||it!=="onCompositionStart"?it==="onCompositionEnd"&&ul&&(et=Y1()):(fi=be,rg="value"in fi?fi.value:fi.textContent,ul=!0)),$e=$h(le,it),0<$e.length&&(it=new K1(it,o,null,h,be),we.push({event:it,listeners:$e}),et?it.data=et:(et=rj(h),et!==null&&(it.data=et)))),(et=EP?SP(o,h):kP(o,h))&&(it=$h(le,"onBeforeInput"),0<it.length&&($e=new K1("onBeforeInput","beforeinput",null,h,be),we.push({event:$e,listeners:it}),$e.data=et)),bM(we,o,le,h,be)}B_(we,c)})}function yd(o,c,h){return{instance:o,listener:c,currentTarget:h}}function $h(o,c){for(var h=c+"Capture",g=[];o!==null;){var j=o,_=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||_===null||(j=zc(o,h),j!=null&&g.unshift(yd(o,j,_)),j=zc(o,c),j!=null&&g.push(yd(o,j,_))),o.tag===3)return g;o=o.return}return[]}function jM(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function F_(o,c,h,g,j){for(var _=c._reactName,T=[];h!==null&&h!==g;){var P=h,G=P.alternate,le=P.stateNode;if(P=P.tag,G!==null&&G===g)break;P!==5&&P!==26&&P!==27||le===null||(G=le,j?(le=zc(h,_),le!=null&&T.unshift(yd(h,le,G))):j||(le=zc(h,_),le!=null&&T.push(yd(h,le,G)))),h=h.return}T.length!==0&&o.push({event:c,listeners:T})}var NM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function q_(o){return(typeof o=="string"?o:""+o).replace(NM,`
`).replace(_M,"")}function H_(o,c){return c=q_(c),q_(o)===c}function Et(o,c,h,g,j,_){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ll(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ll(o,""+g);break;case"className":qu(o,"class",g);break;case"tabIndex":qu(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qu(o,h,g);break;case"style":H1(o,g,_);break;case"data":if(c!=="object"){qu(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Gu(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(c!=="input"&&Et(o,c,"name",j.name,j,null),Et(o,c,"formEncType",j.formEncType,j,null),Et(o,c,"formMethod",j.formMethod,j,null),Et(o,c,"formTarget",j.formTarget,j,null)):(Et(o,c,"encType",j.encType,j,null),Et(o,c,"method",j.method,j,null),Et(o,c,"target",j.target,j,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Gu(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=ws);break;case"onScroll":g!=null&&nt("scroll",o);break;case"onScrollEnd":g!=null&&nt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(j.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Gu(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":nt("beforetoggle",o),nt("toggle",o),Fu(o,"popover",g);break;case"xlinkActuate":ys(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ys(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ys(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ys(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ys(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ys(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ys(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ys(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ys(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Fu(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=QI.get(h)||h,Fu(o,h,g))}}function Lx(o,c,h,g,j,_){switch(h){case"style":H1(o,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(j.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof g=="string"?ll(o,g):(typeof g=="number"||typeof g=="bigint")&&ll(o,""+g);break;case"onScroll":g!=null&&nt("scroll",o);break;case"onScrollEnd":g!=null&&nt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!P1.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(j=h.endsWith("Capture"),c=h.slice(2,j?h.length-7:void 0),_=o[va]||null,_=_!=null?_[h]:null,typeof _=="function"&&o.removeEventListener(c,_,j),typeof g=="function")){typeof _!="function"&&_!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,j);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Fu(o,h,g)}}}function Vr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",o),nt("load",o);var g=!1,j=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var T=h[_];if(T!=null)switch(_){case"src":g=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Et(o,c,_,T,h,null)}}j&&Et(o,c,"srcSet",h.srcSet,h,null),g&&Et(o,c,"src",h.src,h,null);return;case"input":nt("invalid",o);var P=_=T=j=null,G=null,le=null;for(g in h)if(h.hasOwnProperty(g)){var be=h[g];if(be!=null)switch(g){case"name":j=be;break;case"type":T=be;break;case"checked":G=be;break;case"defaultChecked":le=be;break;case"value":_=be;break;case"defaultValue":P=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(n(137,c));break;default:Et(o,c,g,be,h,null)}}B1(o,_,P,G,le,T,j,!1);return;case"select":nt("invalid",o),g=T=_=null;for(j in h)if(h.hasOwnProperty(j)&&(P=h[j],P!=null))switch(j){case"value":_=P;break;case"defaultValue":T=P;break;case"multiple":g=P;default:Et(o,c,j,P,h,null)}c=_,h=T,o.multiple=!!g,c!=null?ol(o,!!g,c,!1):h!=null&&ol(o,!!g,h,!0);return;case"textarea":nt("invalid",o),_=j=g=null;for(T in h)if(h.hasOwnProperty(T)&&(P=h[T],P!=null))switch(T){case"value":g=P;break;case"defaultValue":j=P;break;case"children":_=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:Et(o,c,T,P,h,null)}F1(o,g,j,_);return;case"option":for(G in h)if(h.hasOwnProperty(G)&&(g=h[G],g!=null))switch(G){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Et(o,c,G,g,h,null)}return;case"dialog":nt("beforetoggle",o),nt("toggle",o),nt("cancel",o),nt("close",o);break;case"iframe":case"object":nt("load",o);break;case"video":case"audio":for(g=0;g<vd.length;g++)nt(vd[g],o);break;case"image":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"embed":case"source":case"link":nt("error",o),nt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in h)if(h.hasOwnProperty(le)&&(g=h[le],g!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Et(o,c,le,g,h,null)}return;default:if(Jp(c)){for(be in h)h.hasOwnProperty(be)&&(g=h[be],g!==void 0&&Lx(o,c,be,g,h,void 0));return}}for(P in h)h.hasOwnProperty(P)&&(g=h[P],g!=null&&Et(o,c,P,g,h,null))}function EM(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,_=null,T=null,P=null,G=null,le=null,be=null;for(fe in h){var we=h[fe];if(h.hasOwnProperty(fe)&&we!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":G=we;default:g.hasOwnProperty(fe)||Et(o,c,fe,null,g,we)}}for(var de in g){var fe=g[de];if(we=h[de],g.hasOwnProperty(de)&&(fe!=null||we!=null))switch(de){case"type":_=fe;break;case"name":j=fe;break;case"checked":le=fe;break;case"defaultChecked":be=fe;break;case"value":T=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,c));break;default:fe!==we&&Et(o,c,de,fe,g,we)}}Xp(o,T,P,G,le,be,_,j);return;case"select":fe=T=P=de=null;for(_ in h)if(G=h[_],h.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":fe=G;default:g.hasOwnProperty(_)||Et(o,c,_,null,g,G)}for(j in g)if(_=g[j],G=h[j],g.hasOwnProperty(j)&&(_!=null||G!=null))switch(j){case"value":de=_;break;case"defaultValue":P=_;break;case"multiple":T=_;default:_!==G&&Et(o,c,j,_,g,G)}c=P,h=T,g=fe,de!=null?ol(o,!!h,de,!1):!!g!=!!h&&(c!=null?ol(o,!!h,c,!0):ol(o,!!h,h?[]:"",!1));return;case"textarea":fe=de=null;for(P in h)if(j=h[P],h.hasOwnProperty(P)&&j!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Et(o,c,P,null,g,j)}for(T in g)if(j=g[T],_=h[T],g.hasOwnProperty(T)&&(j!=null||_!=null))switch(T){case"value":de=j;break;case"defaultValue":fe=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==_&&Et(o,c,T,j,g,_)}z1(o,de,fe);return;case"option":for(var Ue in h)if(de=h[Ue],h.hasOwnProperty(Ue)&&de!=null&&!g.hasOwnProperty(Ue))switch(Ue){case"selected":o.selected=!1;break;default:Et(o,c,Ue,null,g,de)}for(G in g)if(de=g[G],fe=h[G],g.hasOwnProperty(G)&&de!==fe&&(de!=null||fe!=null))switch(G){case"selected":o.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Et(o,c,G,de,g,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in h)de=h[Ye],h.hasOwnProperty(Ye)&&de!=null&&!g.hasOwnProperty(Ye)&&Et(o,c,Ye,null,g,de);for(le in g)if(de=g[le],fe=h[le],g.hasOwnProperty(le)&&de!==fe&&(de!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,c));break;default:Et(o,c,le,de,g,fe)}return;default:if(Jp(c)){for(var St in h)de=h[St],h.hasOwnProperty(St)&&de!==void 0&&!g.hasOwnProperty(St)&&Lx(o,c,St,void 0,g,de);for(be in g)de=g[be],fe=h[be],!g.hasOwnProperty(be)||de===fe||de===void 0&&fe===void 0||Lx(o,c,be,de,g,fe);return}}for(var ee in h)de=h[ee],h.hasOwnProperty(ee)&&de!=null&&!g.hasOwnProperty(ee)&&Et(o,c,ee,null,g,de);for(we in g)de=g[we],fe=h[we],!g.hasOwnProperty(we)||de===fe||de==null&&fe==null||Et(o,c,we,de,g,fe)}function G_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SM(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var j=h[g],_=j.transferSize,T=j.initiatorType,P=j.duration;if(_&&P&&G_(T)){for(T=0,P=j.responseEnd,g+=1;g<h.length;g++){var G=h[g],le=G.startTime;if(le>P)break;var be=G.transferSize,we=G.initiatorType;be&&G_(we)&&(G=G.responseEnd,T+=be*(G<P?1:(P-le)/(G-le)))}if(--g,c+=8*(_+T)/(j.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ux=null,$x=null;function Bh(o){return o.nodeType===9?o:o.ownerDocument}function V_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Bx(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var zx=null;function kM(){var o=window.event;return o&&o.type==="popstate"?o===zx?!1:(zx=o,!0):(zx=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,AM=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,CM=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(o){return X_.resolve(null).then(o).catch(TM)}:W_;function TM(o){setTimeout(function(){throw o})}function Ti(o){return o==="head"}function K_(o,c){var h=c,g=0;do{var j=h.nextSibling;if(o.removeChild(h),j&&j.nodeType===8)if(h=j.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(j),$l(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")wd(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,wd(h);for(var _=h.firstChild;_;){var T=_.nextSibling,P=_.nodeName;_[$c]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=T}}else h==="body"&&wd(o.ownerDocument.body);h=j}while(h);$l(c)}function J_(o,c){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function Fx(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fx(h),Yp(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function OM(o,c,h,g){for(;o.nodeType===1;){var j=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[$c])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==j.rel||o.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||o.getAttribute("title")!==(j.title==null?null:j.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(j.src==null?null:j.src)||o.getAttribute("type")!==(j.type==null?null:j.type)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var _=j.name==null?null:""+j.name;if(j.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=pn(o.nextSibling),o===null)break}return null}function RM(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=pn(o.nextSibling),o===null))return null;return o}function Q_(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=pn(o.nextSibling),o===null))return null;return o}function qx(o){return o.data==="$?"||o.data==="$~"}function Hx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function DM(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function pn(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Gx=null;function Z_(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return pn(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function eE(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function tE(o,c,h){switch(c=Bh(h),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function wd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Yp(o)}var gn=new Map,rE=new Set;function zh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ls=I.d;I.d={f:IM,r:PM,D:MM,C:LM,L:UM,m:$M,X:zM,S:BM,M:FM};function IM(){var o=Ls.f(),c=Rh();return o||c}function PM(o){var c=nl(o);c!==null&&c.tag===5&&c.type==="form"?vN(c):Ls.r(o)}var Ml=typeof document>"u"?null:document;function aE(o,c,h){var g=Ml;if(g&&typeof c=="string"&&c){var j=ln(c);j='link[rel="'+o+'"][href="'+j+'"]',typeof h=="string"&&(j+='[crossorigin="'+h+'"]'),rE.has(j)||(rE.add(j),o={rel:o,crossOrigin:h,href:c},g.querySelector(j)===null&&(c=g.createElement("link"),Vr(c,"link",o),Tr(c),g.head.appendChild(c)))}}function MM(o){Ls.D(o),aE("dns-prefetch",o,null)}function LM(o,c){Ls.C(o,c),aE("preconnect",o,c)}function UM(o,c,h){Ls.L(o,c,h);var g=Ml;if(g&&o&&c){var j='link[rel="preload"][as="'+ln(c)+'"]';c==="image"&&h&&h.imageSrcSet?(j+='[imagesrcset="'+ln(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(j+='[imagesizes="'+ln(h.imageSizes)+'"]')):j+='[href="'+ln(o)+'"]';var _=j;switch(c){case"style":_=Ll(o);break;case"script":_=Ul(o)}gn.has(_)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),gn.set(_,o),g.querySelector(j)!==null||c==="style"&&g.querySelector(jd(_))||c==="script"&&g.querySelector(Nd(_))||(c=g.createElement("link"),Vr(c,"link",o),Tr(c),g.head.appendChild(c)))}}function $M(o,c){Ls.m(o,c);var h=Ml;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",j='link[rel="modulepreload"][as="'+ln(g)+'"][href="'+ln(o)+'"]',_=j;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ul(o)}if(!gn.has(_)&&(o=p({rel:"modulepreload",href:o},c),gn.set(_,o),h.querySelector(j)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Nd(_)))return}g=h.createElement("link"),Vr(g,"link",o),Tr(g),h.head.appendChild(g)}}}function BM(o,c,h){Ls.S(o,c,h);var g=Ml;if(g&&o){var j=sl(g).hoistableStyles,_=Ll(o);c=c||"default";var T=j.get(_);if(!T){var P={loading:0,preload:null};if(T=g.querySelector(jd(_)))P.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=gn.get(_))&&Vx(o,h);var G=T=g.createElement("link");Tr(G),Vr(G,"link",o),G._p=new Promise(function(le,be){G.onload=le,G.onerror=be}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Fh(T,c,g)}T={type:"stylesheet",instance:T,count:1,state:P},j.set(_,T)}}}function zM(o,c){Ls.X(o,c);var h=Ml;if(h&&o){var g=sl(h).hoistableScripts,j=Ul(o),_=g.get(j);_||(_=h.querySelector(Nd(j)),_||(o=p({src:o,async:!0},c),(c=gn.get(j))&&Yx(o,c),_=h.createElement("script"),Tr(_),Vr(_,"link",o),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(j,_))}}function FM(o,c){Ls.M(o,c);var h=Ml;if(h&&o){var g=sl(h).hoistableScripts,j=Ul(o),_=g.get(j);_||(_=h.querySelector(Nd(j)),_||(o=p({src:o,async:!0,type:"module"},c),(c=gn.get(j))&&Yx(o,c),_=h.createElement("script"),Tr(_),Vr(_,"link",o),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(j,_))}}function nE(o,c,h,g){var j=(j=J.current)?zh(j):null;if(!j)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ll(h.href),h=sl(j).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Ll(h.href);var _=sl(j).hoistableStyles,T=_.get(o);if(T||(j=j.ownerDocument||j,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,T),(_=j.querySelector(jd(o)))&&!_._p&&(T.instance=_,T.state.loading=5),gn.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},gn.set(o,h),_||qM(j,o,h,T.state))),c&&g===null)throw Error(n(528,""));return T}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ul(h),h=sl(j).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Ll(o){return'href="'+ln(o)+'"'}function jd(o){return'link[rel="stylesheet"]['+o+"]"}function sE(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function qM(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Vr(c,"link",h),Tr(c),o.head.appendChild(c))}function Ul(o){return'[src="'+ln(o)+'"]'}function Nd(o){return"script[async]"+o}function iE(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ln(h.href)+'"]');if(g)return c.instance=g,Tr(g),g;var j=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Tr(g),Vr(g,"style",j),Fh(g,h.precedence,o),c.instance=g;case"stylesheet":j=Ll(h.href);var _=o.querySelector(jd(j));if(_)return c.state.loading|=4,c.instance=_,Tr(_),_;g=sE(h),(j=gn.get(j))&&Vx(g,j),_=(o.ownerDocument||o).createElement("link"),Tr(_);var T=_;return T._p=new Promise(function(P,G){T.onload=P,T.onerror=G}),Vr(_,"link",g),c.state.loading|=4,Fh(_,h.precedence,o),c.instance=_;case"script":return _=Ul(h.src),(j=o.querySelector(Nd(_)))?(c.instance=j,Tr(j),j):(g=h,(j=gn.get(_))&&(g=p({},h),Yx(g,j)),o=o.ownerDocument||o,j=o.createElement("script"),Tr(j),Vr(j,"link",g),o.head.appendChild(j),c.instance=j);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Fh(g,h.precedence,o));return c.instance}function Fh(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=g.length?g[g.length-1]:null,_=j,T=0;T<g.length;T++){var P=g[T];if(P.dataset.precedence===c)_=P;else if(_!==j)break}_?_.parentNode.insertBefore(o,_.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Vx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Yx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var qh=null;function oE(o,c,h){if(qh===null){var g=new Map,j=qh=new Map;j.set(h,g)}else j=qh,g=j.get(h),g||(g=new Map,j.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),j=0;j<h.length;j++){var _=h[j];if(!(_[$c]||_[Fr]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var T=_.getAttribute(c)||"";T=o+T;var P=g.get(T);P?P.push(_):g.set(T,[_])}}return g}function lE(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function HM(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function cE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function GM(o,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var j=Ll(g.href),_=c.querySelector(jd(j));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Hh.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=_,Tr(_);return}_=c.ownerDocument||c,g=sE(g),(j=gn.get(j))&&Vx(g,j),_=_.createElement("link"),Tr(_);var T=_;T._p=new Promise(function(P,G){T.onload=P,T.onerror=G}),Vr(_,"link",g),h.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Hh.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var Wx=0;function VM(o,c){return o.stylesheets&&o.count===0&&Vh(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&Vh(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+c);0<o.imgBytes&&Wx===0&&(Wx=62500*SM());var j=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Vh(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Wx?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(j)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Gh=null;function Vh(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Gh=new Map,c.forEach(YM,o),Gh=null,Hh.call(o))}function YM(o,c){if(!(c.state.loading&4)){var h=Gh.get(o);if(h)var g=h.get(null);else{h=new Map,Gh.set(o,h);for(var j=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<j.length;_++){var T=j[_];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(h.set(T.dataset.precedence,T),g=T)}g&&h.set(null,g)}j=c.instance,T=j.getAttribute("data-precedence"),_=h.get(T)||g,_===g&&h.set(null,j),h.set(T,j),this.count++,g=Hh.bind(this),j.addEventListener("load",g),j.addEventListener("error",g),_?_.parentNode.insertBefore(j,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(j,o.firstChild)),c.state.loading|=4}}var _d={$$typeof:S,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function WM(o,c,h,g,j,_,T,P,G){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=g,this.onUncaughtError=j,this.onCaughtError=_,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function dE(o,c,h,g,j,_,T,P,G,le,be,we){return o=new WM(o,c,h,T,G,le,be,we,P),c=1,_===!0&&(c|=24),_=Ba(3,null,null,c),o.current=_,_.stateNode=o,c=kg(),c.refCount++,o.pooledCache=c,c.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:c},Og(_),o}function uE(o){return o?(o=pl,o):pl}function hE(o,c,h,g,j,_){j=uE(j),g.context===null?g.context=j:g.pendingContext=j,g=vi(c),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=yi(o,g,c),h!==null&&(Ea(h,o,c),rd(h,o,c))}function fE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Xx(o,c){fE(o,c),(o=o.alternate)&&fE(o,c)}function mE(o){if(o.tag===13||o.tag===31){var c=lo(o,67108864);c!==null&&Ea(c,o,67108864),Xx(o,67108864)}}function pE(o){if(o.tag===13||o.tag===31){var c=Ga();c=tl(c);var h=lo(o,c);h!==null&&Ea(h,o,c),Xx(o,c)}}var Yh=!0;function XM(o,c,h,g){var j=B.T;B.T=null;var _=I.p;try{I.p=2,Kx(o,c,h,g)}finally{I.p=_,B.T=j}}function KM(o,c,h,g){var j=B.T;B.T=null;var _=I.p;try{I.p=8,Kx(o,c,h,g)}finally{I.p=_,B.T=j}}function Kx(o,c,h,g){if(Yh){var j=Jx(g);if(j===null)Mx(o,c,g,Wh,h),xE(o,g);else if(QM(j,o,c,h,g))g.stopPropagation();else if(xE(o,g),c&4&&-1<JM.indexOf(o)){for(;j!==null;){var _=nl(j);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var T=Ua(_.pendingLanes);if(T!==0){var P=_;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var G=1<<31-Wt(T);P.entanglements[1]|=G,T&=~G}as(_),(mt&6)===0&&(Th=Ee()+500,bd(0))}}break;case 31:case 13:P=lo(_,2),P!==null&&Ea(P,_,2),Rh(),Xx(_,2)}if(_=Jx(g),_===null&&Mx(o,c,g,Wh,h),_===j)break;j=_}j!==null&&g.stopPropagation()}else Mx(o,c,g,null,h)}}function Jx(o){return o=Zp(o),Qx(o)}var Wh=null;function Qx(o){if(Wh=null,o=al(o),o!==null){var c=i(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===31){if(o=d(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Wh=o,null}function gE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Pe:return 2;case tt:return 8;case Ve:case rt:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Zx=!1,Oi=null,Ri=null,Di=null,Ed=new Map,Sd=new Map,Ii=[],JM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xE(o,c){switch(o){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ed.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sd.delete(c.pointerId)}}function kd(o,c,h,g,j,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[j]},c!==null&&(c=nl(c),c!==null&&mE(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),o)}function QM(o,c,h,g,j){switch(c){case"focusin":return Oi=kd(Oi,o,c,h,g,j),!0;case"dragenter":return Ri=kd(Ri,o,c,h,g,j),!0;case"mouseover":return Di=kd(Di,o,c,h,g,j),!0;case"pointerover":var _=j.pointerId;return Ed.set(_,kd(Ed.get(_)||null,o,c,h,g,j)),!0;case"gotpointercapture":return _=j.pointerId,Sd.set(_,kd(Sd.get(_)||null,o,c,h,g,j)),!0}return!1}function bE(o){var c=al(o.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,R1(o.priority,function(){pE(h)});return}}else if(c===31){if(c=d(h),c!==null){o.blockedOn=c,R1(o.priority,function(){pE(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xh(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Jx(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Qp=g,h.target.dispatchEvent(g),Qp=null}else return c=nl(h),c!==null&&mE(c),o.blockedOn=h,!1;c.shift()}return!0}function vE(o,c,h){Xh(o)&&h.delete(c)}function ZM(){Zx=!1,Oi!==null&&Xh(Oi)&&(Oi=null),Ri!==null&&Xh(Ri)&&(Ri=null),Di!==null&&Xh(Di)&&(Di=null),Ed.forEach(vE),Sd.forEach(vE)}function Kh(o,c){o.blockedOn===c&&(o.blockedOn=null,Zx||(Zx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZM)))}var Jh=null;function yE(o){Jh!==o&&(Jh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===o&&(Jh=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],j=o[c+2];if(typeof g!="function"){if(Qx(g||h)===null)continue;break}var _=nl(h);_!==null&&(o.splice(c,3),c-=3,Jg(_,{pending:!0,data:j,method:h.method,action:g},g,j))}}))}function $l(o){function c(G){return Kh(G,o)}Oi!==null&&Kh(Oi,o),Ri!==null&&Kh(Ri,o),Di!==null&&Kh(Di,o),Ed.forEach(c),Sd.forEach(c);for(var h=0;h<Ii.length;h++){var g=Ii[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Ii.length&&(h=Ii[0],h.blockedOn===null);)bE(h),h.blockedOn===null&&Ii.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var j=h[g],_=h[g+1],T=j[va]||null;if(typeof _=="function")T||yE(h);else if(T){var P=null;if(_&&_.hasAttribute("formAction")){if(j=_,T=_[va]||null)P=T.formAction;else if(Qx(j)!==null)continue}else P=T.action;typeof P=="function"?h[g+1]=P:(h.splice(g,3),g-=3),yE(h)}}}function wE(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(T){return j=T})},focusReset:"manual",scroll:"manual"})}function c(){j!==null&&(j(),j=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,j=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),j!==null&&(j(),j=null)}}}function e0(o){this._internalRoot=o}Qh.prototype.render=e0.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=Ga();hE(h,g,o,c,null,null)},Qh.prototype.unmount=e0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;hE(o.current,2,null,o,null,null),Rh(),c[rl]=null}};function Qh(o){this._internalRoot=o}Qh.prototype.unstable_scheduleHydration=function(o){if(o){var c=Gp();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Ii.length&&c!==0&&c<Ii[h].priority;h++);Ii.splice(h,0,o),h===0&&bE(o)}};var jE=e.version;if(jE!=="19.2.0")throw Error(n(527,jE,"19.2.0"));I.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var eL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{sn=Zh.inject(eL),Kt=Zh}catch{}}return Cd.createRoot=function(o,c){if(!s(o))throw Error(n(299));var h=!1,g="",j=CN,_=TN,T=ON;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),c=dE(o,1,!1,null,null,h,g,null,j,_,T,wE),o[rl]=c.current,Px(o),new e0(c)},Cd.hydrateRoot=function(o,c,h){if(!s(o))throw Error(n(299));var g=!1,j="",_=CN,T=TN,P=ON,G=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(T=h.onCaughtError),h.onRecoverableError!==void 0&&(P=h.onRecoverableError),h.formState!==void 0&&(G=h.formState)),c=dE(o,1,!0,c,h??null,g,j,G,_,T,P,wE),c.context=uE(null),h=c.current,g=Ga(),g=tl(g),j=vi(g),j.callback=null,yi(h,j,g),h=g,c.current.lanes=h,Rt(c,h),as(c),o[rl]=c.current,Px(o),new Qh(c)},Cd.version="19.2.0",Cd}var RE;function hL(){if(RE)return a0.exports;RE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a0.exports=uL(),a0.exports}var fL=hL();const mL=Wn(fL);var b=jc();const se=Wn(b),Ry=hC({__proto__:null,default:se},[b]);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DE="popstate";function pL(t={}){function e(n,s){let{pathname:i,search:l,hash:d}=n.location;return cv("",{pathname:i,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Zd(s)}return xL(e,r,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gL(){return Math.random().toString(36).substring(2,10)}function IE(t,e){return{usr:t.state,key:t.key,idx:e}}function cv(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:r,key:e&&e.key||n||gL()}}function Zd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Nc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function xL(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,d="POP",u=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){d="POP";let w=m(),E=w==null?null:w-f;f=w,u&&u({action:d,location:N.location,delta:E})}function x(w,E){d="PUSH";let k=cv(N.location,w,E);f=m()+1;let S=IE(k,f),A=N.createHref(k);try{l.pushState(S,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(A)}i&&u&&u({action:d,location:N.location,delta:1})}function v(w,E){d="REPLACE";let k=cv(N.location,w,E);f=m();let S=IE(k,f),A=N.createHref(k);l.replaceState(S,"",A),i&&u&&u({action:d,location:N.location,delta:0})}function y(w){return bL(w)}let N={get action(){return d},get location(){return t(s,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(DE,p),u=w,()=>{s.removeEventListener(DE,p),u=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let E=y(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:v,go(w){return l.go(w)}};return N}function bL(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Zd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function mC(t,e,r="/"){return vL(t,e,r,!1)}function vL(t,e,r,n){let s=typeof e=="string"?Nc(e):e,i=Ys(s.pathname||"/",r);if(i==null)return null;let l=pC(t);yL(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let f=OL(i);d=CL(l[u],f,n)}return d}function pC(t,e=[],r=[],n="",s=!1){let i=(l,d,u=s,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&u)return;Gt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=Hs([n,m.relativePath]),x=r.concat(m);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),pC(l.children,e,x,p,u)),!(l.path==null&&!l.index)&&e.push({path:p,score:kL(p,l.index),routesMeta:x})};return t.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,d);else for(let f of gC(l.path))i(l,d,!0,f)}),e}function gC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=gC(n.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),s&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function yL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:AL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var wL=/^:[\w-]+$/,jL=3,NL=2,_L=1,EL=10,SL=-2,PE=t=>t==="*";function kL(t,e){let r=t.split("/"),n=r.length;return r.some(PE)&&(n+=SL),e&&(n+=NL),r.filter(s=>!PE(s)).reduce((s,i)=>s+(wL.test(i)?jL:i===""?_L:EL),n)}function AL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function CL(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",l=[];for(let d=0;d<n.length;++d){let u=n[d],f=d===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=qf({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),x=u.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=qf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:Hs([i,p.pathname]),pathnameBase:ML(Hs([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=Hs([i,p.pathnameBase]))}return l}function qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=TL(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:p},x)=>{if(m==="*"){let y=d[x]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=d[x];return p&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:t}}function TL(t,e=!1,r=!0){rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function OL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var RL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DL=t=>RL.test(t);function IL(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Nc(t):t,i;if(r)if(DL(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?i=ME(r.substring(1),"/"):i=ME(r,e)}else i=e;return{pathname:i,search:LL(n),hash:UL(s)}}function ME(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function l0(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PL(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Dy(t){let e=PL(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Iy(t,e,r,n=!1){let s;typeof t=="string"?s=Nc(t):(s={...t},Gt(!s.pathname||!s.pathname.includes("?"),l0("?","pathname","search",s)),Gt(!s.pathname||!s.pathname.includes("#"),l0("#","pathname","hash",s)),Gt(!s.search||!s.search.includes("#"),l0("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,d;if(l==null)d=r;else{let p=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;s.pathname=x.join("/")}d=p>=0?e[p]:"/"}let u=IL(s,d),f=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var Hs=t=>t.join("/").replace(/\/\/+/g,"/"),ML=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $L(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xC=["POST","PUT","PATCH","DELETE"];new Set(xC);var BL=["GET",...xC];new Set(BL);var _c=b.createContext(null);_c.displayName="DataRouter";var Gm=b.createContext(null);Gm.displayName="DataRouterState";b.createContext(!1);var bC=b.createContext({isTransitioning:!1});bC.displayName="ViewTransition";var zL=b.createContext(new Map);zL.displayName="Fetchers";var FL=b.createContext(null);FL.displayName="Await";var Xn=b.createContext(null);Xn.displayName="Navigation";var vu=b.createContext(null);vu.displayName="Location";var En=b.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var Py=b.createContext(null);Py.displayName="RouteError";function qL(t,{relative:e}={}){Gt(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Xn),{hash:s,pathname:i,search:l}=yu(t,{relative:e}),d=i;return r!=="/"&&(d=i==="/"?r:Hs([r,i])),n.createHref({pathname:d,search:l,hash:s})}function Ec(){return b.useContext(vu)!=null}function Da(){return Gt(Ec(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(vu).location}var vC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yC(t){b.useContext(Xn).static||b.useLayoutEffect(t)}function gt(){let{isDataRoute:t}=b.useContext(En);return t?a6():HL()}function HL(){Gt(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(_c),{basename:e,navigator:r}=b.useContext(Xn),{matches:n}=b.useContext(En),{pathname:s}=Da(),i=JSON.stringify(Dy(n)),l=b.useRef(!1);return yC(()=>{l.current=!0}),b.useCallback((u,f={})=>{if(rn(l.current,vC),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=Iy(u,JSON.parse(i),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hs([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,i,s,t])}var wC=b.createContext(null);function Qo(){return b.useContext(wC)}function GL(t){let e=b.useContext(En).outlet;return b.useMemo(()=>e&&b.createElement(wC.Provider,{value:t},e),[e,t])}function Ia(){let{matches:t}=b.useContext(En),e=t[t.length-1];return e?e.params:{}}function yu(t,{relative:e}={}){let{matches:r}=b.useContext(En),{pathname:n}=Da(),s=JSON.stringify(Dy(r));return b.useMemo(()=>Iy(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function VL(t,e){return jC(t,e)}function jC(t,e,r,n,s){var k;Gt(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Xn),{matches:l}=b.useContext(En),d=l[l.length-1],u=d?d.params:{},f=d?d.pathname:"/",m=d?d.pathnameBase:"/",p=d&&d.route;{let S=p&&p.path||"";NC(f,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=Da(),v;if(e){let S=typeof e=="string"?Nc(e):e;Gt(m==="/"||((k=S.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=x;let y=v.pathname||"/",N=y;if(m!=="/"){let S=m.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=mC(t,{pathname:N});rn(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),rn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=JL(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Hs([m,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Hs([m,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,r,n,s);return e&&E?b.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function YL(){let t=r6(),e=$L(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,l)}var WL=b.createElement(YL,null),XL=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(En.Provider,{value:this.props.routeContext},b.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KL({routeContext:t,match:e,children:r}){let n=b.useContext(_c);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(En.Provider,{value:t},r)}function JL(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=r==null?void 0:r.errors;if(l!=null){let m=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let d=!1,u=-1;if(r)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:x,errors:v}=r,y=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let f=r&&n?(m,p)=>{var x,v;n(m,{location:r.location,params:((v=(x=r.matches)==null?void 0:x[0])==null?void 0:v.params)??{},errorInfo:p})}:void 0;return i.reduceRight((m,p,x)=>{let v,y=!1,N=null,w=null;r&&(v=l&&p.route.id?l[p.route.id]:void 0,N=p.route.errorElement||WL,d&&(u<0&&x===0?(NC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===x&&(y=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,x+1)),k=()=>{let S;return v?S=N:y?S=w:p.route.Component?S=b.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=m,b.createElement(KL,{match:p,routeContext:{outlet:m,matches:E,isDataRoute:r!=null},children:S})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?b.createElement(XL,{location:r.location,revalidation:r.revalidation,component:N,error:v,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):k()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QL(t){let e=b.useContext(_c);return Gt(e,My(t)),e}function ZL(t){let e=b.useContext(Gm);return Gt(e,My(t)),e}function e6(t){let e=b.useContext(En);return Gt(e,My(t)),e}function Ly(t){let e=e6(t),r=e.matches[e.matches.length-1];return Gt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function t6(){return Ly("useRouteId")}function r6(){var n;let t=b.useContext(Py),e=ZL("useRouteError"),r=Ly("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function a6(){let{router:t}=QL("useNavigate"),e=Ly("useNavigate"),r=b.useRef(!1);return yC(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{rn(r.current,vC),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var LE={};function NC(t,e,r){!e&&!LE[t]&&(LE[t]=!0,rn(!1,r))}b.memo(n6);function n6({routes:t,future:e,state:r,unstable_onError:n}){return jC(t,void 0,r,n,e)}function Rf({to:t,replace:e,state:r,relative:n}){Gt(Ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Xn);rn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(En),{pathname:l}=Da(),d=gt(),u=Iy(t,Dy(i),l,n==="path"),f=JSON.stringify(u);return b.useEffect(()=>{d(JSON.parse(f),{replace:e,state:r,relative:n})},[d,f,n,e,r]),null}function s6(t){return GL(t.context)}function Me(t){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i6({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Gt(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof r=="string"&&(r=Nc(r));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=r,v=b.useMemo(()=>{let y=Ys(u,l);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:x},navigationType:n}},[l,u,f,m,p,x,n]);return rn(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:b.createElement(Xn.Provider,{value:d},b.createElement(vu.Provider,{children:e,value:v}))}function c0({children:t,location:e}){return VL(dv(t),e)}function dv(t,e=[]){let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,dv(n.props.children,i));return}Gt(n.type===Me,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=dv(n.props.children,i)),r.push(l)}),r}var Df="get",If="application/x-www-form-urlencoded";function Vm(t){return t!=null&&typeof t.tagName=="string"}function o6(t){return Vm(t)&&t.tagName.toLowerCase()==="button"}function l6(t){return Vm(t)&&t.tagName.toLowerCase()==="form"}function c6(t){return Vm(t)&&t.tagName.toLowerCase()==="input"}function d6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u6(t,e){return t.button===0&&(!e||e==="_self")&&!d6(t)}function uv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function h6(t,e){let r=uv(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}var ef=null;function f6(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var m6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function d0(t){return t!=null&&!m6.has(t)?(rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):t}function p6(t,e){let r,n,s,i,l;if(l6(t)){let d=t.getAttribute("action");n=d?Ys(d,e):null,r=t.getAttribute("method")||Df,s=d0(t.getAttribute("enctype"))||If,i=new FormData(t)}else if(o6(t)||c6(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(n=u?Ys(u,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Df,s=d0(t.getAttribute("formenctype"))||d0(d.getAttribute("enctype"))||If,i=new FormData(d,t),!f6()){let{name:f,type:m,value:p}=t;if(m==="image"){let x=f?`${f}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else f&&i.append(f,p)}}else{if(Vm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Df,n=null,s=If,l=t}return i&&s==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g6(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Ys(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function x6(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function v6(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let l=await x6(i,r);return l.links?l.links():[]}return[]}));return N6(n.flat(1).filter(b6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function UE(t,e,r,n,s,i){let l=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,d=(u,f)=>{var m;return r[f].pathname!==u.pathname||((m=r[f].route.path)==null?void 0:m.endsWith("*"))&&r[f].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,f)=>l(u,f)||d(u,f)):i==="data"?e.filter((u,f)=>{var p;let m=n.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function y6(t,e,{includeHydrateFallback:r}={}){return w6(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function w6(t){return[...new Set(t)]}function j6(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function N6(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(j6(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function _C(){let t=b.useContext(_c);return Uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _6(){let t=b.useContext(Gm);return Uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $y=b.createContext(void 0);$y.displayName="FrameworkContext";function EC(){let t=b.useContext($y);return Uy(t,"You must render this element inside a <HydratedRouter> element"),t}function E6(t,e){let r=b.useContext($y),[n,s]=b.useState(!1),[i,l]=b.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,x=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=E=>{E.forEach(k=>{l(k.isIntersecting)})},w=new IntersectionObserver(N,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[t]),b.useEffect(()=>{if(n){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[n]);let v=()=>{s(!0)},y=()=>{s(!1),l(!1)};return r?t!=="intent"?[i,x,{}]:[i,x,{onFocus:Td(d,v),onBlur:Td(u,y),onMouseEnter:Td(f,v),onMouseLeave:Td(m,y),onTouchStart:Td(p,v)}]:[!1,x,{}]}function Td(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function S6({page:t,...e}){let{router:r}=_C(),n=b.useMemo(()=>mC(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?b.createElement(A6,{page:t,matches:n,...e}):null}function k6(t){let{manifest:e,routeModules:r}=EC(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return v6(t,e,r).then(l=>{i||s(l)}),()=>{i=!0}},[t,e,r]),n}function A6({page:t,matches:e,...r}){let n=Da(),{manifest:s,routeModules:i}=EC(),{basename:l}=_C(),{loaderData:d,matches:u}=_6(),f=b.useMemo(()=>UE(t,e,u,s,n,"data"),[t,e,u,s,n]),m=b.useMemo(()=>UE(t,e,u,s,n,"assets"),[t,e,u,s,n]),p=b.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,N=!1;if(e.forEach(E=>{var S;let k=s.routes[E.route.id];!k||!k.hasLoader||(!f.some(A=>A.route.id===E.route.id)&&E.route.id in d&&((S=i[E.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?N=!0:y.add(E.route.id))}),y.size===0)return[];let w=g6(t,l,"data");return N&&y.size>0&&w.searchParams.set("_routes",e.filter(E=>y.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[l,d,n,s,f,e,t,i]),x=b.useMemo(()=>y6(m,s),[m,s]),v=k6(m);return b.createElement(b.Fragment,null,p.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:N})=>b.createElement("link",{key:y,nonce:r.nonce,...N})))}function C6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.9.6")}catch{}function T6({basename:t,children:e,window:r}){let n=b.useRef();n.current==null&&(n.current=pL({window:r,v5Compat:!0}));let s=n.current,[i,l]=b.useState({action:s.action,location:s.location}),d=b.useCallback(u=>{b.startTransition(()=>l(u))},[l]);return b.useLayoutEffect(()=>s.listen(d),[s,d]),b.createElement(i6,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var kC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=b.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:l,state:d,target:u,to:f,preventScrollReset:m,viewTransition:p,...x},v){let{basename:y}=b.useContext(Xn),N=typeof f=="string"&&kC.test(f),w,E=!1;if(typeof f=="string"&&N&&(w=f,SC))try{let $=new URL(window.location.href),M=f.startsWith("//")?new URL($.protocol+f):new URL(f),H=Ys(M.pathname,y);M.origin===$.origin&&H!=null?f=H+M.search+M.hash:E=!0}catch{rn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=qL(f,{relative:s}),[S,A,C]=E6(n,x),O=I6(f,{replace:l,state:d,target:u,preventScrollReset:m,relative:s,viewTransition:p});function R($){e&&e($),$.defaultPrevented||O($)}let L=b.createElement("a",{...x,...C,href:w||k,onClick:E||i?e:R,ref:C6(v,A),target:u,"data-discover":!N&&r==="render"?"true":void 0});return S&&!N?b.createElement(b.Fragment,null,L,b.createElement(S6,{page:k})):L});Bt.displayName="Link";var O6=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:l,viewTransition:d,children:u,...f},m){let p=yu(l,{relative:f.relative}),x=Da(),v=b.useContext(Gm),{navigator:y,basename:N}=b.useContext(Xn),w=v!=null&&$6(p)&&d===!0,E=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=x.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&N&&(S=Ys(S,N)||S);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=k===E||!s&&k.startsWith(E)&&k.charAt(A)==="/",O=S!=null&&(S===E||!s&&S.startsWith(E)&&S.charAt(E.length)==="/"),R={isActive:C,isPending:O,isTransitioning:w},L=C?e:void 0,$;typeof n=="function"?$=n(R):$=[n,C?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(R):i;return b.createElement(Bt,{...f,"aria-current":L,className:$,ref:m,style:M,to:l,viewTransition:d},typeof u=="function"?u(R):u)});O6.displayName="NavLink";var R6=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:l=Df,action:d,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...x},v)=>{let y=L6(),N=U6(d,{relative:f}),w=l.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&kC.test(d),k=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,C=(A==null?void 0:A.getAttribute("formmethod"))||l;y(A||S.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:s,state:i,relative:f,preventScrollReset:m,viewTransition:p})};return b.createElement("form",{ref:v,method:w,action:N,onSubmit:n?u:k,...x,"data-discover":!E&&t==="render"?"true":void 0})});R6.displayName="Form";function D6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AC(t){let e=b.useContext(_c);return Gt(e,D6(t)),e}function I6(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:l}={}){let d=gt(),u=Da(),f=yu(t,{relative:i});return b.useCallback(m=>{if(u6(m,e)){m.preventDefault();let p=r!==void 0?r:Zd(u)===Zd(f);d(t,{replace:p,state:n,preventScrollReset:s,relative:i,viewTransition:l})}},[u,d,f,r,n,e,t,s,i,l])}function wu(t){rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=b.useRef(uv(t)),r=b.useRef(!1),n=Da(),s=b.useMemo(()=>h6(n.search,r.current?null:e.current),[n.search]),i=gt(),l=b.useCallback((d,u)=>{const f=uv(typeof d=="function"?d(new URLSearchParams(s)):d);r.current=!0,i("?"+f,u)},[i,s]);return[s,l]}var P6=0,M6=()=>`__${String(++P6)}__`;function L6(){let{router:t}=AC("useSubmit"),{basename:e}=b.useContext(Xn),r=t6();return b.useCallback(async(n,s={})=>{let{action:i,method:l,encType:d,formData:u,body:f}=p6(n,e);if(s.navigate===!1){let m=s.fetcherKey||M6();await t.fetch(m,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function U6(t,{relative:e}={}){let{basename:r}=b.useContext(Xn),n=b.useContext(En);Gt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...yu(t||".",{relative:e})},l=Da();if(t==null){i.search=l.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(p=>p).forEach(p=>d.append("index",p));let m=d.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Hs([r,i.pathname])),Zd(i)}function $6(t,{relative:e}={}){let r=b.useContext(bC);Gt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=AC("useViewTransitionState"),s=yu(t,{relative:e});if(!r.isTransitioning)return!1;let i=Ys(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Ys(r.nextLocation.pathname,n)||r.nextLocation.pathname;return qf(s.pathname,l)!=null||qf(s.pathname,i)!=null}var Ym=fC();const CC=Wn(Ym);var hv=function(t,e){return hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},hv(t,e)};function TC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bn=function(){return bn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bn.apply(this,arguments)};function Zi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function OC(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var d=t.length-1;d>=0;d--)(l=t[d])&&(i=(s<3?l(i):s>3?l(e,r,i):l(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function RC(t,e){return function(r,n){e(r,n,t)}}function DC(t,e,r,n,s,i){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var d=n.kind,u=d==="getter"?"get":d==="setter"?"set":"value",f=!e&&t?n.static?t:t.prototype:null,m=e||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p,x=!1,v=r.length-1;v>=0;v--){var y={};for(var N in n)y[N]=N==="access"?{}:n[N];for(var N in n.access)y.access[N]=n.access[N];y.addInitializer=function(E){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(E||null))};var w=(0,r[v])(d==="accessor"?{get:m.get,set:m.set}:m[u],y);if(d==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=l(w.get))&&(m.get=p),(p=l(w.set))&&(m.set=p),(p=l(w.init))&&s.unshift(p)}else(p=l(w))&&(d==="field"?s.unshift(p):m[u]=p)}f&&Object.defineProperty(f,n.name,m),x=!0}function IC(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function PC(t){return typeof t=="symbol"?t:"".concat(t)}function MC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function LC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Be(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function d(m){try{f(n.next(m))}catch(p){l(p)}}function u(m){try{f(n.throw(m))}catch(p){l(p)}}function f(m){m.done?i(m.value):s(m.value).then(d,u)}f((n=n.apply(t,e||[])).next())})}function UC(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=d(0),l.throw=d(1),l.return=d(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(f){return function(m){return u([f,m])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){r.label=f[1];break}if(f[0]===6&&r.label<i[1]){r.label=i[1],i=f;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(f);break}i[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(m){f=[6,m],s=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Wm=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function $C(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wm(e,t,r)}function Hf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function By(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],l;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(d){l={error:d}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i}function BC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(By(arguments[e]));return t}function zC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],l=0,d=i.length;l<d;l++,s++)n[s]=i[l];return n}function zy(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function dc(t){return this instanceof dc?(this.v=t,this):new dc(t)}function FC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(v){return function(y){return Promise.resolve(y).then(v,p)}}function d(v,y){n[v]&&(s[v]=function(N){return new Promise(function(w,E){i.push([v,N,w,E])>1||u(v,N)})},y&&(s[v]=y(s[v])))}function u(v,y){try{f(n[v](y))}catch(N){x(i[0][3],N)}}function f(v){v.value instanceof dc?Promise.resolve(v.value.v).then(m,p):x(i[0][2],v)}function m(v){u("next",v)}function p(v){u("throw",v)}function x(v,y){v(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function qC(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(l){return(r=!r)?{value:dc(t[s](l)),done:!1}:i?i(l):l}:i}}function HC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Hf=="function"?Hf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(l){return new Promise(function(d,u){l=t[i](l),s(d,u,l.done,l.value)})}}function s(i,l,d,u){Promise.resolve(u).then(function(f){i({value:f,done:d})},l)}}function GC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var B6=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},fv=function(t){return fv=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},fv(t)};function VC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=fv(t),n=0;n<r.length;n++)r[n]!=="default"&&Wm(e,t,r[n]);return B6(e,t),e}function YC(t){return t&&t.__esModule?t:{default:t}}function WC(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function XC(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function KC(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function JC(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var z6=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function QC(t){function e(i){t.error=t.hasError?new z6(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(l){return e(l),s()})}else n|=1}catch(l){e(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function ZC(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,l){return n?e?".jsx":".js":s&&(!i||!l)?r:s+i+"."+l.toLowerCase()+"js"}):t}const F6={__extends:TC,__assign:bn,__rest:Zi,__decorate:OC,__param:RC,__esDecorate:DC,__runInitializers:IC,__propKey:PC,__setFunctionName:MC,__metadata:LC,__awaiter:Be,__generator:UC,__createBinding:Wm,__exportStar:$C,__values:Hf,__read:By,__spread:BC,__spreadArrays:zC,__spreadArray:zy,__await:dc,__asyncGenerator:FC,__asyncDelegator:qC,__asyncValues:HC,__makeTemplateObject:GC,__importStar:VC,__importDefault:YC,__classPrivateFieldGet:WC,__classPrivateFieldSet:XC,__classPrivateFieldIn:KC,__addDisposableResource:JC,__disposeResources:QC,__rewriteRelativeImportExtension:ZC},q6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:JC,get __assign(){return bn},__asyncDelegator:qC,__asyncGenerator:FC,__asyncValues:HC,__await:dc,__awaiter:Be,__classPrivateFieldGet:WC,__classPrivateFieldIn:KC,__classPrivateFieldSet:XC,__createBinding:Wm,__decorate:OC,__disposeResources:QC,__esDecorate:DC,__exportStar:$C,__extends:TC,__generator:UC,__importDefault:YC,__importStar:VC,__makeTemplateObject:GC,__metadata:LC,__param:RC,__propKey:PC,__read:By,__rest:Zi,__rewriteRelativeImportExtension:ZC,__runInitializers:IC,__setFunctionName:MC,__spread:BC,__spreadArray:zy,__spreadArrays:zC,__values:Hf,default:F6},Symbol.toStringTag,{value:"Module"})),H6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Xm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class eT extends Xm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mv extends Xm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pv extends Xm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gf||(Gf={}));class G6{constructor(e,{headers:r={},customFetch:n,region:s=Gf.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=H6(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Be(this,arguments,void 0,function*(r,n={}){var s;let i,l;try{const{headers:d,method:u,body:f,signal:m,timeout:p}=n;let x={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(x["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let N;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=f):typeof f=="string"?(x["Content-Type"]="text/plain",N=f):typeof FormData<"u"&&f instanceof FormData?N=f:(x["Content-Type"]="application/json",N=JSON.stringify(f)):N=f;let w=m;p&&(l=new AbortController,i=setTimeout(()=>l.abort(),p),m?(w=l.signal,m.addEventListener("abort",()=>l.abort())):w=l.signal);const E=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:N,signal:w}).catch(C=>{throw new eT(C)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new mv(E);if(!E.ok)throw new pv(E);let S=((s=E.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),A;return S==="application/json"?A=yield E.json():S==="application/octet-stream"||S==="application/pdf"?A=yield E.blob():S==="text/event-stream"?A=E:S==="multipart/form-data"?A=yield E.formData():A=yield E.text(),{data:A,error:null,response:E}}catch(d){return{data:null,error:d,response:d instanceof pv||d instanceof mv?d.context:void 0}}finally{i&&clearTimeout(i)}})}}var aa={};const Sc=nL(q6);var tf={},rf={},af={},nf={},sf={},of={},$E;function tT(){if($E)return of;$E=1,Object.defineProperty(of,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return of.default=t,of}var BE;function rT(){if(BE)return sf;BE=1,Object.defineProperty(sf,"__esModule",{value:!0});const e=Sc.__importDefault(tT());class r{constructor(s){var i,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,p,x;let v=null,y=null,N=null,w=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?y=C:y=JSON.parse(C))}const S=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),A=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&A&&A.length>1&&(N=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,N=null,w=406,E="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const S=await u.text();try{v=JSON.parse(S),Array.isArray(v)&&u.status===404&&(y=[],v=null,w=200,E="OK")}catch{u.status===404&&S===""?(w=204,E="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((x=v==null?void 0:v.details)===null||x===void 0)&&x.includes("0 rows"))&&(v=null,w=200,E="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:y,count:N,status:w,statusText:E}});return this.shouldThrowOnError||(d=d.catch(u=>{var f,m,p,x,v,y;let N="";const w=u==null?void 0:u.cause;if(w){const E=(f=w==null?void 0:w.message)!==null&&f!==void 0?f:"",k=(m=w==null?void 0:w.code)!==null&&m!==void 0?m:"";N=`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,N+=`

Caused by: ${(x=w==null?void 0:w.name)!==null&&x!==void 0?x:"Error"}: ${E}`,k&&(N+=` (${k})`),w!=null&&w.stack&&(N+=`
${w.stack}`)}else N=(v=u==null?void 0:u.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(y=u==null?void 0:u.name)!==null&&y!==void 0?y:"FetchError"}: ${u==null?void 0:u.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,i)}returns(){return this}overrideTypes(){return this}}return sf.default=r,sf}var zE;function aT(){if(zE)return nf;zE=1,Object.defineProperty(nf,"__esModule",{value:!0});const e=Sc.__importDefault(rT());class r extends e.default{select(s){let i=!1;const l=(s??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:l,foreignTable:d,referencedTable:u=d}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${s}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:l=i}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,i,{foreignTable:l,referencedTable:d=l}={}){const u=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(f,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:l=!1,buffers:d=!1,wal:u=!1,format:f="text"}={}){var m;const p=[s?"analyze":null,i?"verbose":null,l?"settings":null,d?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return nf.default=r,nf}var FE;function Fy(){if(FE)return af;FE=1,Object.defineProperty(af,"__esModule",{value:!0});const e=Sc.__importDefault(aT()),r=new RegExp("[,()]");class n extends e.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}regexMatch(i,l){return this.url.searchParams.append(i,`match.${l}`),this}regexIMatch(i,l){return this.url.searchParams.append(i,`imatch.${l}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}isDistinct(i,l){return this.url.searchParams.append(i,`isdistinct.${l}`),this}in(i,l){const d=Array.from(new Set(l)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${d})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:d,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(i,`${f}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,d])=>{this.url.searchParams.append(l,`eq.${d}`)}),this}not(i,l,d){return this.url.searchParams.append(i,`not.${l}.${d}`),this}or(i,{foreignTable:l,referencedTable:d=l}={}){const u=d?`${d}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,l,d){return this.url.searchParams.append(i,`${l}.${d}`),this}}return af.default=n,af}var qE;function nT(){if(qE)return rf;qE=1,Object.defineProperty(rf,"__esModule",{value:!0});const e=Sc.__importDefault(Fy());class r{constructor(s,{headers:i={},schema:l,fetch:d}){this.url=s,this.headers=new Headers(i),this.schema=l,this.fetch=d}select(s,i){const{head:l=!1,count:d}=i??{},u=l?"HEAD":"GET";let f=!1;const m=(s??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:l=!0}={}){var d;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:l=!1,count:d,defaultToNull:u=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),d&&this.headers.append("Prefer",`count=${d}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(p.length>0){const x=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:i}={}){var l;const d="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var i;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return rf.default=r,rf}var HE;function V6(){if(HE)return tf;HE=1,Object.defineProperty(tf,"__esModule",{value:!0});const t=Sc,e=t.__importDefault(nT()),r=t.__importDefault(Fy());class n{constructor(i,{headers:l={},schema:d,fetch:u}={}){this.url=i,this.headers=new Headers(l),this.schemaName=d,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${i}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:d=!1,get:u=!1,count:f}={}){var m;let p;const x=new URL(`${this.url}/rpc/${i}`);let v;d||u?(p=d?"HEAD":"GET",Object.entries(l).filter(([N,w])=>w!==void 0).map(([N,w])=>[N,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([N,w])=>{x.searchParams.append(N,w)})):(p="POST",v=l);const y=new Headers(this.headers);return f&&y.set("Prefer",`count=${f}`),new r.default({method:p,url:x,headers:y,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return tf.default=n,tf}var GE;function Y6(){if(GE)return aa;GE=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.PostgrestError=aa.PostgrestBuilder=aa.PostgrestTransformBuilder=aa.PostgrestFilterBuilder=aa.PostgrestQueryBuilder=aa.PostgrestClient=void 0;const t=Sc,e=t.__importDefault(V6());aa.PostgrestClient=e.default;const r=t.__importDefault(nT());aa.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Fy());aa.PostgrestFilterBuilder=n.default;const s=t.__importDefault(aT());aa.PostgrestTransformBuilder=s.default;const i=t.__importDefault(rT());aa.PostgrestBuilder=i.default;const l=t.__importDefault(tT());return aa.PostgrestError=l.default,aa.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:l.default},aa}var sT=Y6();const iT=Wn(sT),W6=hC({__proto__:null,default:iT},[sT]),{PostgrestClient:X6,PostgrestQueryBuilder:ice,PostgrestFilterBuilder:oce,PostgrestTransformBuilder:lce,PostgrestBuilder:cce,PostgrestError:K6}=iT||W6;class oT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const J6="2.84.0",Q6=`realtime-js/${J6}`,lT="1.0.0",Z6="2.0.0",VE=lT,gv=1e4,eU=1e3,tU=100;var Oo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Oo||(Oo={}));var vr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vr||(vr={}));var In;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(In||(In={}));var xv;(function(t){t.websocket="websocket"})(xv||(xv={}));var Ro;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ro||(Ro={}));class rU{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,s,i;const l=e.topic,d=(r=e.ref)!==null&&r!==void 0?r:"",u=(n=e.join_ref)!==null&&n!==void 0?n:"",f=e.payload.event,m=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+d.length+l.length+f.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(x),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,u.length),v.setUint8(y++,d.length),v.setUint8(y++,l.length),v.setUint8(y++,f.length),v.setUint8(y++,this.BINARY_ENCODING),Array.from(u,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(d,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(l,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(y++,w.charCodeAt(0)));var N=new Uint8Array(x.byteLength+m.byteLength);return N.set(new Uint8Array(x),0),N.set(new Uint8Array(m),x.byteLength),N.buffer}_encodeJsonUserBroadcastPush(e){var r,n,s,i;const l=e.topic,d=(r=e.ref)!==null&&r!==void 0?r:"",u=(n=e.join_ref)!==null&&n!==void 0?n:"",f=e.payload.event,m=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},x=new TextEncoder().encode(JSON.stringify(m)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+d.length+l.length+f.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let N=new DataView(y),w=0;N.setUint8(w++,this.KINDS.userBroadcastPush),N.setUint8(w++,u.length),N.setUint8(w++,d.length),N.setUint8(w++,l.length),N.setUint8(w++,f.length),N.setUint8(w++,this.JSON_ENCODING),Array.from(u,k=>N.setUint8(w++,k.charCodeAt(0))),Array.from(d,k=>N.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>N.setUint8(w++,k.charCodeAt(0))),Array.from(f,k=>N.setUint8(w++,k.charCodeAt(0)));var E=new Uint8Array(y.byteLength+x.byteLength);return E.set(new Uint8Array(y),0),E.set(new Uint8Array(x),y.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,l,d,u]=n;return r({join_ref:s,ref:i,topic:l,event:d,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let u=this.HEADER_LENGTH+4;const f=n.decode(e.slice(u,u+s));u=u+s;const m=n.decode(e.slice(u,u+i));u=u+i;const p=n.decode(e.slice(u,u+l));u=u+l;const x=e.slice(u,e.byteLength),v=d===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,y={type:this.BROADCAST_EVENT,event:m,payload:v};return l>0&&(y.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class cT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(It||(It={}));const YE=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,l)=>(i[l]=aU(l,t,e,s),i),{}):{}},aU=(t,e,r,n)=>{const s=e.find(d=>d.name===t),i=s==null?void 0:s.type,l=r[t];return i&&!n.includes(i)?dT(i,l):bv(l)},dT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return oU(e,r)}switch(t){case It.bool:return nU(e);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return sU(e);case It.json:case It.jsonb:return iU(e);case It.timestamp:return lU(e);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return bv(e);default:return bv(e)}},bv=t=>t,nU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},oU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(d=>dT(e,d))}return t},lU=t=>typeof t=="string"?t.replace(" ","T"):t,uT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class u0{constructor(e,r,n={},s=gv){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vv||(vv={}));class rc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,s,i,l),this.pendingDiffs.forEach(u=>{this.state=rc.syncDiff(this.state,u,i,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rc.syncDiff(this.state,s,i,l),d())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),l=this.transformState(r),d={},u={};return this.map(i,(f,m)=>{l[f]||(u[f]=m)}),this.map(l,(f,m)=>{const p=i[f];if(p){const x=m.map(w=>w.presence_ref),v=p.map(w=>w.presence_ref),y=m.filter(w=>v.indexOf(w.presence_ref)<0),N=p.filter(w=>x.indexOf(w.presence_ref)<0);y.length>0&&(d[f]=y),N.length>0&&(u[f]=N)}else d[f]=m}),this.syncDiff(i,{joins:d,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(d,u)=>{var f;const m=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(u),m.length>0){const p=e[d].map(v=>v.presence_ref),x=m.filter(v=>p.indexOf(v.presence_ref)<0);e[d].unshift(...x)}n(d,m,u)}),this.map(l,(d,u)=>{let f=e[d];if(!f)return;const m=u.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),e[d]=f,s(d,f,u),f.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yv||(yv={}));var ac;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ac||(ac={}));var ss;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ss||(ss={}));class Km{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new u0(this,In.join,this.params,this.timeout),this.rejoinTimer=new cT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new rc(this),this.broadcastEndpointURL=uT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vr.closed){const{config:{broadcast:l,presence:d,private:u}}=this.params,f=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[ac.PRESENCE]&&this.bindings[ac.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},x={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ss.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ss.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(ss.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,w=(y=N==null?void 0:N.length)!==null&&y!==void 0?y:0,E=[];for(let k=0;k<w;k++){const S=N[k],{filter:{event:A,schema:C,table:O,filter:R}}=S,L=v&&v[k];if(L&&L.event===A&&L.schema===C&&L.table===O&&L.filter===R)E.push(Object.assign(Object.assign({},S),{id:L.id}));else{this.unsubscribe(),this.state=vr.errored,e==null||e(ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(ss.SUBSCRIBED);return}}).receive("error",v=>{this.state=vr.errored,e==null||e(ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===vr.joined&&e===ac.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let u=d.statusText;try{const f=await d.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,d,u;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new u0(this,In.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new u0(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const l=e.toLocaleLowerCase(),{close:d,error:u,leave:f,join:m}=In;if(n&&[d,u,f,m].indexOf(l)>=0&&n!==this._joinRef())return;let x=this._onMessage(l,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,N,w;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(N=v.filter)===null||N===void 0?void 0:N.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(v=>v.callback(x,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var y,N,w,E,k,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const A=v.id,C=(y=v.filter)===null||y===void 0?void 0:y.event;return A&&((N=r.ids)===null||N===void 0?void 0:N.includes(A))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(k=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return A==="*"||A===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof x=="object"&&"ids"in x){const y=x.data,{schema:N,table:w,commit_timestamp:E,type:k,errors:S}=y;x=Object.assign(Object.assign({},{schema:N,table:w,commit_timestamp:E,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(y))}v.callback(x,n)})}_isClosed(){return this.state===vr.closed}_isJoined(){return this.state===vr.joined}_isJoining(){return this.state===vr.joining}_isLeaving(){return this.state===vr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Km.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(In.close,{},e)}_onError(e){this._on(In.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=YE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=YE(e.columns,e.old_record)),r}}const h0=()=>{},lf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cU=[1e3,2e3,5e3,1e4],dU=1e4,uU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hT{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gv,this.transport=null,this.heartbeatIntervalMs=lf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=h0,this.ref=0,this.reconnectTimer=null,this.vsn=VE,this.logger=h0,this.conn=null,this.sendBuffer=[],this.serializer=new rU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${xv.websocket}`,this.httpEndpoint=uT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Oo.connecting:return Ro.Connecting;case Oo.open:return Ro.Open;case Oo.closing:return Ro.Closing;default:return Ro.Closed}}isConnected(){return this.connectionState()===Ro.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Km(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,l=()=>{this.encode(e,d=>{var u;(u=this.conn)===null||u===void 0||u.send(d)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:l}=r,d=l?`(${l})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${d}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(s,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oo.open||this.conn.readyState===Oo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(In.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([uU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Q6};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(In.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,l,d,u,f,m,p,x,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:gv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:lf.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:h0,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:VE,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(y=>cU[y-1]||dU),this.vsn){case lT:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((y,N)=>N(JSON.stringify(y))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((y,N)=>N(JSON.parse(y)));break;case Z6:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class qy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hU extends qy{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wv extends qy{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Hy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fU=()=>Response,jv=t=>{if(Array.isArray(t))return t.map(r=>jv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=jv(n)}),e},mU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},pU=(t,e,r)=>Be(void 0,void 0,void 0,function*(){const n=yield fU();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new hU(f0(s),i,l))}).catch(s=>{e(new wv(f0(s),s))}):e(new wv(f0(t),t))}),gU=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(mU(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ju(t,e,r,n,s,i){return Be(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(r,gU(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>pU(u,d,n))})})}function eu(t,e,r,n){return Be(this,void 0,void 0,function*(){return ju(t,"GET",e,r,n)})}function Dn(t,e,r,n,s){return Be(this,void 0,void 0,function*(){return ju(t,"POST",e,n,s,r)})}function Nv(t,e,r,n,s){return Be(this,void 0,void 0,function*(){return ju(t,"PUT",e,n,s,r)})}function xU(t,e,r,n){return Be(this,void 0,void 0,function*(){return ju(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gy(t,e,r,n,s){return Be(this,void 0,void 0,function*(){return ju(t,"DELETE",e,n,s,r)})}class bU{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xt(e))return{data:null,error:e};throw e}})}}var fT;class vU{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[fT]="BlobDownloadBuilder",this.promise=null}asStream(){return new bU(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xt(e))return{data:null,error:e};throw e}})}}fT=Symbol.toStringTag;const yU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wU{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Hy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Be(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},WE),s);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,u&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),p=yield(e=="PUT"?Nv:Dn)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",r);try{let u;const f=Object.assign({upsert:WE.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield Nv(this.fetch,d.toString(),u,{headers:m});return{data:{path:i,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Xt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),d=l.searchParams.get("token");if(!d)throw new qy("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Be(this,void 0,void 0,function*(){try{const s=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"",d=this._getFinalPath(e),u=()=>eu(this.fetch,`${this.url}/${s}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new vU(u,this.shouldThrowOnError)}info(e){return Be(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield eu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}exists(e){return Be(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield xU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n)&&n instanceof wv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${f}`)}}}remove(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yU),r),{prefix:e||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}listV2(e,r){return Be(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mT="2.84.0",pT={"X-Client-Info":`storage-js/${mT}`};class jU{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pT),r),this.fetch=Hy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Be(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield eu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}getBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}createBucket(e){return Be(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Be(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class NU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pT),r),this.fetch=Hy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Be(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield eu(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}const Vy={"X-Client-Info":`storage-js/${mT}`,"Content-Type":"application/json"};class gT extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ka(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class m0 extends gT{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _U extends gT{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var XE;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(XE||(XE={}));const Yy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),SU=(t,e,r)=>Be(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(l=>{const d=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new m0(KE(l),s,d))}).catch(()=>{const l=s+"",d=i.statusText||`HTTP ${s} error`;e(new m0(d,s,l))});else{const l=s+"",d=i.statusText||`HTTP ${s} error`;e(new m0(d,s,l))}}else e(new _U(KE(t),t))}),kU=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(EU(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function AU(t,e,r,n,s,i){return Be(this,void 0,void 0,function*(){return new Promise((l,d)=>{t(r,kU(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>l(u)).catch(u=>SU(u,d,n))})})}function Ja(t,e,r,n,s){return Be(this,void 0,void 0,function*(){return AU(t,"POST",e,n,s,r)})}class CU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vy),r),this.fetch=Yy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Be(this,void 0,void 0,function*(){try{return{data:(yield Ja(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Be(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ka(n))return{data:null,error:n};throw n}})}listIndexes(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Be(this,void 0,void 0,function*(){try{return{data:(yield Ja(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ka(n))return{data:null,error:n};throw n}})}}class TU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vy),r),this.fetch=Yy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Be(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ja(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}getVectors(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}listVectors(e){return Be(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ja(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}queryVectors(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Be(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ja(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}}class OU{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vy),r),this.fetch=Yy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:(yield Ja(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}getBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}listBuckets(){return Be(this,arguments,void 0,function*(e={}){try{return{data:yield Ja(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:(yield Ja(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ka(r))return{data:null,error:r};throw r}})}}class RU extends OU{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new DU(this.url,this.headers,e,this.fetch)}}class DU extends CU{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Be(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Be(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Be(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Be(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new IU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class IU extends TU{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Be(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Be(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Be(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Be(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Be(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class PU extends jU{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new wU(this.url,this.headers,e,this.fetch)}get vectors(){return new RU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new NU(this.url+"/iceberg",this.headers,this.fetch)}}const MU="2.84.0";let Hd="";typeof Deno<"u"?Hd="deno":typeof document<"u"?Hd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hd="react-native":Hd="node";const LU={"X-Client-Info":`supabase-js-${Hd}/${MU}`},UU={headers:LU},$U={schema:"public"},BU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zU={},FU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qU=()=>Headers,HU=(t,e,r)=>{const n=FU(r),s=qU();return async(i,l)=>{var d;const u=(d=await e())!==null&&d!==void 0?d:t;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},l),{headers:f}))}};function GU(t){return t.endsWith("/")?t:t+"/"}function VU(t,e){var r,n;const{db:s,auth:i,realtime:l,global:d}=t,{db:u,auth:f,realtime:m,global:p}=e,x={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),d),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function YU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xT="2.84.0",Kl=30*1e3,_v=3,p0=_v*Kl,WU="http://localhost:9999",XU="supabase.auth.token",KU={"X-Client-Info":`gotrue-js/${xT}`},Ev="X-Supabase-Api-Version",bT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QU=600*1e3;class uc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class vT extends uc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yT(t){return ze(t)&&t.name==="AuthApiError"}class Fi extends uc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ri extends uc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Sa extends ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wT(t){return ze(t)&&t.name==="AuthSessionMissingError"}class _o extends ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gd extends ri{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vd extends ri{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jT(t){return ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sv extends ri{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vf extends ri{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Pf(t){return ze(t)&&t.name==="AuthRetryableFetchError"}class kv extends ri{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Yf extends ri{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),JE=` 	
\r=`.split(""),ZU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<JE.length;e+=1)t[JE[e].charCodeAt(0)]=-2;for(let e=0;e<Wf.length;e+=1)t[Wf[e].charCodeAt(0)]=e;return t})();function QE(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wf[n]),e.queuedBits-=6}}function NT(t,e,r){const n=ZU[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ZE(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{r8(l,n,r)};for(let l=0;l<t.length;l+=1)NT(t.charCodeAt(l),s,i);return e.join("")}function e8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function t8(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}e8(n,e)}}function r8(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nc(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)NT(t.charCodeAt(s),r,n);return new Uint8Array(e)}function a8(t){const e=[];return t8(t,r=>e.push(r)),new Uint8Array(e)}function Do(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>QE(s,r,n)),QE(null,r,n),e.join("")}function n8(t){return Math.round(Date.now()/1e3)+t}function s8(){return Symbol("auth-callback")}const Yr=()=>typeof window<"u"&&typeof document<"u",jo={tested:!1,writable:!1},_T=()=>{if(!Yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jo.tested)return jo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jo.tested=!0,jo.writable=!0}catch{jo.tested=!0,jo.writable=!1}return jo.writable};function i8(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ET=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Jl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},No=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mi=async(t,e)=>{await t.removeItem(e)};class Jm{constructor(){this.promise=new Jm.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jm.promiseConstructor=Promise;function g0(t){const e=t.split(".");if(e.length!==3)throw new Yf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!JU.test(e[n]))throw new Yf("JWT not in base64url format");return{header:JSON.parse(ZE(e[0])),payload:JSON.parse(ZE(e[1])),signature:nc(e[2]),raw:{header:e[0],payload:e[1]}}}async function l8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function c8(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function d8(t){return("0"+t.toString(16)).substr(-2)}function u8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,d8).join("")}async function h8(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function f8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await h8(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bl(t,e,r=!1){const n=u8();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jl(t,`${e}-code-verifier`,s);const i=await f8(n);return[i,n===i?"plain":"s256"]}const m8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p8(t){const e=t.headers.get(Ev);if(!e||!e.match(m8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function g8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function x8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zl(t){if(!b8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function x0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v8(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function e2(t){return JSON.parse(JSON.stringify(t))}const Eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y8=[502,503,504];async function t2(t){var e;if(!o8(t))throw new Vf(Eo(t),0);if(y8.includes(t.status))throw new Vf(Eo(t),t.status);let r;try{r=await t.json()}catch(i){throw new Fi(Eo(i),i)}let n;const s=p8(t);if(s&&s.getTime()>=bT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kv(Eo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new kv(Eo(r),t.status,r.weak_password.reasons);throw new vT(Eo(r),t.status||500,n)}const w8=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Xe(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ev]||(i[Ev]=bT["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await j8(t,e,r+d,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function j8(t,e,r,n,s,i){const l=w8(e,n,s,i);let d;try{d=await t(r,Object.assign({},l))}catch(u){throw console.error(u),new Vf(Eo(u),0)}if(d.ok||await t2(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(u){await t2(u)}}function Rn(t){var e;let r=null;E8(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=n8(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function r2(t){const e=Rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function N8(t){return{data:t,error:null}}function _8(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,l=Zi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},l);return{data:{properties:d,user:u},error:null}}function a2(t){return t}function E8(t){return t.access_token&&t.refresh_token&&t.expires_in}const Mf=["global","local","others"];class ST{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ET(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Mf[0]){if(Mf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mf.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qi})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Zi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qi})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,l,d,u;try{const f={nextPage:null,lastPage:0,total:0},m=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:a2});if(m.error)throw m.error;const p=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(u=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const N=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);f[`${w}Page`]=N}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(ze(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){zl(e);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qi})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){zl(e);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:qi})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){zl(e);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:qi})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){zl(e.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(e){zl(e.userId),zl(e.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,l,d,u;try{const f={nextPage:null,lastPage:0,total:0},m=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:a2});if(m.error)throw m.error;const p=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(u=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const N=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);f[`${w}Page`]=N}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(ze(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function n2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const So={debug:!!(globalThis&&_T()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AT extends kT{}async function CT(t,e,r){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(So.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function S8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function k8(t){return parseInt(t,16)}function A8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function C8(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:l,notBefore:d,requestId:u,resources:f,scheme:m,uri:p,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=TT(t.address),y=m?`${m}://${n}`:n,N=t.statement?`${t.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${v}

${N}`;let E=`URI: ${p}
Version: ${x}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(s&&(E+=`
Expiration Time: ${s.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),u&&(E+=`
Request ID: ${u}`),f){let k=`
Resources:`;for(const S of f){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);k+=`
- ${S}`}E+=k}return`${w}
${E}`}class hr extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Xf extends hr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function T8({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new hr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(OT(l)){if(i.rp.id!==l)return new hr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function O8({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new hr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(OT(n)){if(r.rpId!==n)return new hr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class R8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const D8=new R8;function I8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Zi(t,["challenge","user","excludeCredentials"]),i=nc(e).buffer,l=Object.assign(Object.assign({},r),{id:nc(r.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:i,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];d.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:nc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function P8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Zi(t,["challenge","allowCredentials"]),s=nc(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},d),{id:nc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return i}function M8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Do(new Uint8Array(t.response.attestationObject)),clientDataJSON:Do(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Do(new Uint8Array(s.authenticatorData)),clientDataJSON:Do(new Uint8Array(s.clientDataJSON)),signature:Do(new Uint8Array(s.signature)),userHandle:s.userHandle?Do(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function s2(){var t,e;return!!(Yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function U8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xf("Browser returned unexpected credential type",e)}:{data:null,error:new Xf("Empty credential response",e)}}catch(e){return{data:null,error:T8({error:e,options:t})}}}async function $8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xf("Browser returned unexpected credential type",e)}:{data:null,error:new Xf("Empty credential response",e)}}catch(e){return{data:null,error:O8({error:e,options:t})}}}const B8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},z8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const l=s[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(r(l))n[i]=l;else if(e(l)){const d=n[i];e(d)?n[i]=Kf(d,l):n[i]=Kf(l)}else n[i]=l}return n}function F8(t,e){return Kf(B8,t,e||{})}function q8(t,e){return Kf(z8,t,e||{})}class H8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:d};const u=s??D8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=F8(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:p}=await U8({publicKey:f,signal:u});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=q8(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:p}=await $8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Fi("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new uc("rpId is required for WebAuthn authentication")};try{if(!s2())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!l)return{data:null,error:d};const{webauthn:u}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Fi("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new uc("rpId is required for WebAuthn registration")};try{if(!s2())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:d};const{data:u,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Fi("Unexpected error in register",l)}}}}S8();const G8={url:WU,storageKey:XU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function i2(t,e,r){return await r()}const Fl={};class hc{get jwks(){var e,r;return(r=(e=Fl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Fl[this.storageKey]=Object.assign(Object.assign({},Fl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Fl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fl[this.storageKey]=Object.assign(Object.assign({},Fl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},G8),e);if(this.storageKey=i.storageKey,this.instanceID=(r=hc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,hc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Yr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ST({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ET(i.fetch),this.lock=i.lock||i2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Yr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=CT:this.lock=i2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new H8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_T()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=n2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=n2(this.memoryStorage)),Yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Yr()&&(r=i8(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Yr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jT(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?this._returnResult({error:r}):this._returnResult({error:new Fi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rn}),{data:l,error:d}=i;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const u=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:m,password:p,options:x}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Bl(this.storage,this.storageKey)),i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:v,code_challenge_method:y},xform:Rn})}else if("phone"in e){const{phone:m,password:p,options:x}=e;i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Rn})}else throw new Gd("You must provide either an email or phone number and a password");const{data:l,error:d}=i;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const u=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:l,options:d}=e;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:r2})}else if("phone"in e){const{phone:i,password:l,options:d}=e;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:r2})}else throw new Gd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new _o;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,l,d,u,f,m,p,x;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:N,wallet:w,statement:E,options:k}=e;let S;if(Yr())if(typeof w=="object")S=w;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")S=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const A=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=TT(C[0]);let R=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const $=await S.request({method:"eth_chainId"});R=k8($)}const L={domain:A.host,address:O,statement:E,uri:A.href,version:"1",chainId:R,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=C8(L),y=await S.request({method:"personal_sign",params:[A8(v),O]})}try{const{data:N,error:w}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Rn});if(w)throw w;if(!N||!N.session||!N.user){const E=new _o;return this._returnResult({data:{user:null,session:null},error:E})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:w})}catch(N){if(ze(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,n,s,i,l,d,u,f,m,p,x,v;let y,N;if("message"in e)y=e.message,N=e.signature;else{const{chain:w,wallet:E,statement:k,options:S}=e;let A;if(Yr())if(typeof E=="object")A=E;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))A=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=E}const C=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const O=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),k?{statement:k}:null));let R;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")R=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)R=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)y=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),N=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${C.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((f=S==null?void 0:S.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(m=S==null?void 0:S.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const O=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=O}}try{const{data:w,error:E}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Do(N)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Rn});if(E)throw E;if(!w||!w.session||!w.user){const k=new _o;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(ze(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await No(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rn});if(await Mi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const d=new _o;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=e,d=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Rn}),{data:u,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new _o;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,l;try{if("email"in e){const{email:d,options:u}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Bl(this.storage,this.storageKey));const{error:p}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:d,options:u}=e,{data:f,error:m}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new Gd("You must provide either an email or phone number.")}catch(d){if(ze(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,f=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(ze(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,l;try{let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Bl(this.storage,this.storageKey));const f=await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:u}),headers:this.headers,xform:N8});return!((i=f.data)===null||i===void 0)&&i.url&&Yr()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(ze(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Sa;const{error:s}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ze(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:l}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:l,error:d}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d})}throw new Gd("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await No(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<p0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await No(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=x0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=v8(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qi}):await this._useSession(async r=>{var n,s,i;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sa}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qi})})}catch(r){if(ze(r))return wT(r)&&(await this._removeSession(),await Mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Sa;const l=s.session;let d=null,u=null;this.flowType==="pkce"&&e.email!=null&&([d,u]=await Bl(this.storage,this.storageKey));const{data:f,error:m}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:u}),jwt:l.access_token,xform:qi});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(ze(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sa;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=g0(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{data:d,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!d)return{data:{user:null,session:null},error:null};i=d}else{const{data:d,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:d}=r;if(d)throw d;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Sa;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Yr())throw new Vd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sv("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:d,expires_at:u,token_type:f}=e;if(!i||!d||!l||!f)throw new Vd("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(d);let x=m+p;u&&(x=parseInt(u));const v=x-m;v*1e3<=Kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const y=x-p;m-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,x,m):m-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,x,m);const{data:N,error:w}=await this._getUser(i);if(w)throw w;const E={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:x,refresh_token:l,token_type:f,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(n){if(ze(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await No(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,e);if(d&&!(yT(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=s8(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bl(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ze(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,d,u,f,m;const{data:p,error:x}=i;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Yr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ze(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:l,provider:d,token:u,access_token:f,nonce:m}=e,p=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rn}),{data:x,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new _o}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(s){if(ze(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await c8(async s=>(s>0&&await l8(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rn})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Pf(i)&&Date.now()+l-n<Kl})}catch(n){if(this._debug(r,"error",n),ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Yr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await No(this.storage,this.storageKey);if(s&&this.userStorage){let l=await No(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Jl(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:x0()}else if(s&&!s.user&&!s.user){const l=await No(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Mi(this.storage,this.storageKey+"-user"),await Jl(this.storage,this.storageKey,s)):s.user=x0()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<p0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${p0}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Pf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(s.access_token);!d&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Jm;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Sa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const d={data:i.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(i){if(this._debug(s,"error",i),ze(i)){const l={data:null,error:i};return Pf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(l),i.length>0){for(let d=0;d<i.length;d+=1)console.error(i[d]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Jl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=e2(s);await Jl(this.storage,this.storageKey,i)}else{const s=e2(r);await Jl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Mi(this.storage,this.storageKey),await Mi(this.storage,this.storageKey+"-code-verifier"),await Mi(this.storage,this.storageKey+"-user"),this.userStorage&&await Mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kl}ms, refresh threshold is ${_v} ticks`),s<=_v&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Bl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(d.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:f}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?M8(e.webauthn.credential_response):L8(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:u}=await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:u}))})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:I8(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:P8(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=g0(n.access_token);let l=null;i.aal&&(l=i.aal);let d=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Sa});const l=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Yr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Sa});const l=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&Yr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(e){if(ze(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Sa})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(d=>d.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+QU>s)return n;const{data:i,error:l}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});n=v.session.access_token}const{header:s,payload:i,signature:l,raw:{header:d,payload:u}}=g0(n);r!=null&&r.allowExpired||g8(i.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:l},error:null}}const m=x8(s.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,l,a8(`${d}.${u}`)))throw new Yf("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}}hc.nextInstanceID={};const RT=hc;class V8 extends RT{constructor(e){super(e)}}class DT{constructor(e,r,n){var s,i,l;this.supabaseUrl=e,this.supabaseKey=r;const d=YU(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:$U,realtime:zU,auth:Object.assign(Object.assign({},BU),{storageKey:u}),global:UU},m=VU(n??{},f);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=HU(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new X6(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new PU(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new G6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:l,flowType:d,lock:u,debug:f,throwOnError:m},p,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V8({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:d,lock:u,debug:f,throwOnError:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wy=(t,e,r)=>new DT(t,e,r);function Y8(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Y8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W8=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:vT,AuthClient:RT,AuthError:uc,AuthImplicitGrantRedirectError:Vd,AuthInvalidCredentialsError:Gd,AuthInvalidJwtError:Yf,AuthInvalidTokenResponseError:_o,AuthPKCEGrantCodeExchangeError:Sv,AuthRetryableFetchError:Vf,AuthSessionMissingError:Sa,AuthUnknownError:Fi,AuthWeakPasswordError:kv,CustomAuthError:ri,get FunctionRegion(){return Gf},FunctionsError:Xm,FunctionsFetchError:eT,FunctionsHttpError:pv,FunctionsRelayError:mv,GoTrueAdminApi:ST,GoTrueClient:hc,NavigatorLockAcquireTimeoutError:AT,PostgrestError:K6,get REALTIME_LISTEN_TYPES(){return ac},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return yv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return vv},get REALTIME_SUBSCRIBE_STATES(){return ss},RealtimeChannel:Km,RealtimeClient:hT,RealtimePresence:rc,SIGN_OUT_SCOPES:Mf,SupabaseClient:DT,WebSocketFactory:oT,createClient:Wy,isAuthApiError:yT,isAuthError:ze,isAuthImplicitGrantRedirectError:jT,isAuthRetryableFetchError:Pf,isAuthSessionMissingError:wT,lockInternals:So,navigatorLock:CT},Symbol.toStringTag,{value:"Module"})),Od={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Xy=t=>{if(typeof window<"u"){const e=t.includes("URL")?"installer_supabase_url":t.includes("ANON")?"installer_supabase_anon_key":t.includes("SERVICE")?"installer_supabase_service_key":null;if(e){const r=window.localStorage.getItem(e);if(r)return r}}if(typeof import.meta<"u"&&Od){if(Od[t])return Od[t];const e=t.replace("VITE_","");if(Od[e])return Od[e]}},IT=Xy("VITE_SUPABASE_URL"),PT=Xy("VITE_SUPABASE_ANON_KEY"),o2=Xy("SUPABASE_SERVICE_ROLE_KEY"),X8=IT||"https://placeholder.supabase.co",K8=typeof window>"u"&&o2?o2:PT||"placeholder-key";(!IT||!PT)&&console.warn("[Supabase] Credenciais no encontradas. O app pode estar em modo de Instalao.");const J8={getItem:t=>typeof window>"u"?null:window.localStorage.getItem(t),setItem:(t,e)=>{typeof window>"u"||window.localStorage.setItem(t,e)},removeItem:t=>{typeof window>"u"||window.localStorage.removeItem(t)}},Q8=typeof window>"u"?{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}:{auth:{persistSession:!0,storage:J8,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}},global:{fetch:(t,e)=>fetch(t,e)}},V=Wy(X8,K8,Q8),tu=`instance_${Math.random().toString(36).slice(2,9)}`;console.log("[Supabase Service] Initialized client:",tu);const l2=Object.freeze(Object.defineProperty({__proto__:null,CLIENT_INSTANCE_ID:tu,supabase:V},Symbol.toStringTag,{value:"Module"}));class Z8{constructor(){this._cachedUser=null}setUser(e){this._cachedUser=e}async getUser(){if(this._cachedUser)return console.log("[StorageService] getUser: Returning cached user",this._cachedUser.id),this._cachedUser;try{console.log("[StorageService] getUser: No cache, fetching session...");const e=V.auth.getSession(),r=new Promise(d=>setTimeout(()=>d({data:{session:null},error:{message:"Timeout getting session"}}),2e3)),{data:{session:n},error:s}=await Promise.race([e,r]);if(n!=null&&n.user)return console.log("[StorageService] getUser: Session found",n.user.id),this._cachedUser=n.user,n.user;s&&console.warn("storageService: getSession warning/timeout",s.message||s);const{data:{user:i},error:l}=await V.auth.getUser();return i?(console.log("[StorageService] getUser: Server user found",i.id),this._cachedUser=i,i):(console.warn("[StorageService] getUser: NO USER FOUND ANYWHERE"),null)}catch(e){return console.error("storageService: getUser exception",e),this._cachedUser||null}}async getProducts(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("products").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});return n?(console.error("Error fetching products:",n.message),[]):(r||[]).map(s=>({id:s.id,name:s.name,description:s.description,active:s.active,imageUrl:s.image_url,price_real:s.price_real,price_fake:s.price_fake,sku:s.sku,category:s.category,redirect_link:s.redirect_link,is_order_bump:s.is_order_bump,is_upsell:s.is_upsell,visible_in_member_area:s.visible_in_member_area,for_sale:s.for_sale,member_area_action:s.member_area_action,member_area_checkout_id:s.member_area_checkout_id,saas_plan_slug:s.saas_plan_slug,member_area_id:s.member_area_id}))}async getProductsByIds(e){if(!e||e.length===0)return[];const{data:r,error:n}=await V.from("products").select("*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))").in("id",e).eq("active",!0);return n?(console.error("Error fetching products by IDs:",n.message),[]):(r||[]).map(s=>{var i;return{id:s.id,name:s.name,description:s.description,active:s.active,imageUrl:s.image_url,price_real:s.price_real,price_fake:s.price_fake,sku:s.sku,category:s.category,redirect_link:s.redirect_link,is_order_bump:s.is_order_bump,is_upsell:s.is_upsell,visible_in_member_area:s.visible_in_member_area,for_sale:s.for_sale,member_area_action:s.member_area_action,member_area_checkout_id:s.member_area_checkout_id,saas_plan_slug:s.saas_plan_slug,checkout_url:s.member_area_action==="checkout"&&s.checkouts?`https://${((i=s.checkouts.domains)==null?void 0:i.domain)||"checkout.supercheckout.com"}/${s.checkouts.custom_url_slug}`:s.redirect_link}})}async getMemberAreaProducts(e){const{data:r,error:n}=await V.from("tracks").select("id").eq("member_area_id",e).eq("type","products");if(n)return console.error("Error fetching tracks for products:",n.message),[];if(!r||r.length===0)return[];const s=r.map(m=>m.id),{data:i,error:l}=await V.from("track_items").select("item_id").in("track_id",s);if(l)return console.error("Error fetching track items:",l.message),[];if(!i||i.length===0)return[];const d=[...new Set(i.map(m=>m.item_id))],{data:u,error:f}=await V.from("products").select("*, checkouts:member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain))").in("id",d).eq("active",!0).order("created_at",{ascending:!1});return f?(console.error("Error fetching member area products:",f.message),[]):(u||[]).map(m=>{var p;return{id:m.id,name:m.name,description:m.description,active:m.active,imageUrl:m.image_url,price_real:m.price_real,price_fake:m.price_fake,sku:m.sku,category:m.category,is_order_bump:m.is_order_bump,is_upsell:m.is_upsell,visible_in_member_area:m.visible_in_member_area,for_sale:m.for_sale,member_area_action:m.member_area_action,member_area_checkout_id:m.member_area_checkout_id,saas_plan_slug:m.saas_plan_slug,redirect_link:m.member_area_action==="checkout"&&m.checkouts?`https://${((p=m.checkouts.domains)==null?void 0:p.domain)||"checkout.supercheckout.com"}/${m.checkouts.custom_url_slug}`:m.redirect_link}})}async createProduct(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={id:e.id,user_id:r.id,name:e.name,description:e.description,active:e.active,image_url:e.imageUrl,price:e.price_real,price_real:e.price_real,price_fake:e.price_fake,sku:e.sku,category:e.category,redirect_link:e.redirect_link,is_order_bump:e.is_order_bump,is_upsell:e.is_upsell,visible_in_member_area:e.visible_in_member_area,for_sale:e.for_sale,member_area_action:e.member_area_action,member_area_checkout_id:e.member_area_checkout_id||null,saas_plan_slug:e.saas_plan_slug||null,member_area_id:e.member_area_id||null},{data:s,error:i}=await V.from("products").insert(n).select().single();if(i)throw console.error("Error creating product:",i.message),i;return s}async updateProduct(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={name:e.name,description:e.description,active:e.active,image_url:e.imageUrl,price:e.price_real,price_real:e.price_real,price_fake:e.price_fake,sku:e.sku,category:e.category,redirect_link:e.redirect_link,is_order_bump:e.is_order_bump,is_upsell:e.is_upsell,visible_in_member_area:e.visible_in_member_area,for_sale:e.for_sale,member_area_action:e.member_area_action,member_area_checkout_id:e.member_area_checkout_id||null,saas_plan_slug:e.saas_plan_slug||null,member_area_id:e.member_area_id||null},{data:s,error:i}=await V.from("products").update(n).eq("id",e.id).eq("user_id",r.id).select().single();if(i)throw console.error("Error updating product:",i.message),i;return s}async deleteProduct(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");console.log("Tentando deletar arquivos da pasta:",e);let n=`${e}`,{data:s,error:i}=await V.storage.from("products").list(n);if(i)console.error("Erro ao listar:",i);else if(!s||s.length===0){console.warn("Nenhum arquivo encontrado na pasta (Caminho pode estar errado ou pasta vazia)."),console.log("Tentando caminho legado: products/"+e),n=`products/${e}`;const d=await V.storage.from("products").list(n);s=d.data,i=d.error,i?console.error("Erro ao listar caminho legado:",i):s&&s.length>0?console.log("Arquivos encontrados no caminho legado:",s):console.warn("Nenhum arquivo encontrado tambm no caminho legado.")}else console.log("Arquivos encontrados:",s);if(s&&s.length>0){const d=s.map(f=>`${n}/${f.name}`);console.log("Tentando remover arquivos:",d);const{error:u}=await V.storage.from("products").remove(d);u?console.error("Erro ao remover arquivos (Provavel erro de RLS/Permisso):",u):console.log("Arquivos removidos com sucesso")}const{error:l}=await V.from("products").delete().eq("id",e).eq("user_id",r.id);if(l)throw console.error("Error deleting product:",l.message),l}extractPathFromUrl(e){try{const n=e.split("/products/");return n.length===2?n[1]:null}catch(r){return console.error("Error extracting path from URL:",r),null}}async uploadProductImage(e,r){if(!await this.getUser())throw new Error("No user logged in");const s=e.name.split(".").pop(),i=`${r}/${Date.now()}.${s}`,{error:l}=await V.storage.from("products").upload(i,e);if(l)throw console.error("Error uploading image:",l.message),l;const{data:d}=V.storage.from("products").getPublicUrl(i);return d.publicUrl}async uploadCheckoutBanner(e,r){if(!await this.getUser())throw new Error("No user logged in");const s=e.name.split(".").pop(),i=`${r}/${Date.now()}.${s}`,{error:l}=await V.storage.from("checkouts").upload(i,e);if(l)throw console.error("Error uploading banner:",l.message),l;const{data:d}=V.storage.from("checkouts").getPublicUrl(i);return d.publicUrl}async saveProducts(e){console.warn("saveProducts is deprecated. Use createProduct/updateProduct instead.");const r=await this.getUser();if(!r)return;const n=e.map(l=>({id:l.id.startsWith("prod_")?void 0:l.id,user_id:r.id,name:l.name,description:l.description,active:l.active,image_url:l.imageUrl,price_real:l.price_real,price_fake:l.price_fake,sku:l.sku,category:l.category,redirect_link:l.redirect_link,is_order_bump:l.is_order_bump,is_upsell:l.is_upsell})),{data:s,error:i}=await V.from("products").upsert(n,{onConflict:"id",ignoreDuplicates:!1}).select();i&&console.error("Error saving products (bulk):",i.message)}async getOffers(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("offers").select("*").eq("user_id",e.id);return n?(console.error("Error fetching offers:",n.message),[]):r}async createOffer(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={user_id:r.id,name:e.name,product_id:e.product_id,price:e.price,payment_type:e.payment_type,recurrence_type:e.recurrence_type,active:e.active},{data:s,error:i}=await V.from("offers").insert(n).select().single();if(i)throw console.error("Error creating offer:",i.message),i;return s}async updateOffer(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={name:e.name,product_id:e.product_id,price:e.price,payment_type:e.payment_type,recurrence_type:e.recurrence_type,active:e.active},{data:s,error:i}=await V.from("offers").update(n).eq("id",e.id).eq("user_id",r.id).select().single();if(i)throw console.error("Error updating offer:",i.message),i;return s}async deleteOffer(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{error:n}=await V.from("offers").delete().eq("id",e).eq("user_id",r.id);if(n)throw console.error("Error deleting offer:",n.message),n}async saveOffers(e){console.warn("saveOffers is deprecated");const r=await this.getUser();if(!r)return;const{data:n,error:s}=await V.from("offers").upsert(e.map(i=>({...i,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();s&&console.error("Error saving offers:",s.message,s)}async getCheckouts(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("checkouts").select("*").eq("user_id",e.id);return n?(console.error("Error fetching checkouts:",n.message),[]):r}async createCheckout(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={id:e.id,user_id:r.id,name:e.name,offer_id:e.offer_id,domain_id:e.domain_id,gateway_id:e.gateway_id,product_id:e.product_id,custom_url_slug:e.custom_url_slug,order_bump_ids:e.order_bump_ids,upsell_product_id:e.upsell_product_id,config:e.config,active:e.active},{data:s,error:i}=await V.from("checkouts").insert(n).select().single();if(i)throw console.error("Error creating checkout:",i.message),i;return s}async getCheckoutByDomainAndSlug(e,r){let n=V.from("checkouts").select("*").eq("domain_id",e).eq("active",!0);r&&(n=n.eq("custom_url_slug",r));const{data:s,error:i}=await n.limit(1).maybeSingle();return i?(console.error("Error fetching checkout by domain/slug:",i.message),null):s}async updateCheckout(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={name:e.name,offer_id:e.offer_id,domain_id:e.domain_id,gateway_id:e.gateway_id,product_id:e.product_id,custom_url_slug:e.custom_url_slug,order_bump_ids:e.order_bump_ids,upsell_product_id:e.upsell_product_id,config:e.config,active:e.active},{data:s,error:i}=await V.from("checkouts").update(n).eq("id",e.id).eq("user_id",r.id).select().single();if(i)throw console.error("Error updating checkout:",i.message),i;return s}async deleteCheckout(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");console.log("Iniciando excluso do checkout:",e);const{data:n,error:s}=await V.storage.from("checkouts").list(e);if(s)console.error("Erro ao listar arquivos do checkout:",s);else if(n&&n.length>0){const l=n.map(u=>`${e}/${u.name}`);console.log("Removendo arquivos do checkout:",l);const{error:d}=await V.storage.from("checkouts").remove(l);d?console.error("Erro ao remover arquivos do checkout:",d):console.log("Arquivos do checkout removidos com sucesso.")}else console.log("Nenhum arquivo encontrado para este checkout.");const{error:i}=await V.from("checkouts").delete().eq("id",e).eq("user_id",r.id);if(i)throw console.error("Error deleting checkout:",i.message),i}async saveCheckouts(e){console.warn("saveCheckouts is deprecated");const r=await this.getUser();if(!r)return;const n=e.map(l=>({...l,user_id:r.id})),{data:s,error:i}=await V.from("checkouts").upsert(n,{onConflict:"id",ignoreDuplicates:!1}).select();i&&console.error("Error saving checkouts:",i.message,i)}async getPublicCheckout(e){let{data:r,error:n}=await V.from("checkouts").select("*").eq("id",e).eq("active",!0).maybeSingle();if(!r){const{data:s,error:i}=await V.from("checkouts").select("*").eq("custom_url_slug",e).eq("active",!0).maybeSingle();r=s,n=i}return n?(console.error("Error fetching public checkout:",n.message),null):r}async getPublicProduct(e){const{data:r,error:n}=await V.from("products").select("*").eq("id",e).single();return n?(console.error("Error fetching public product:",n.message),null):{id:r.id,name:r.name,description:r.description,active:r.active,imageUrl:r.image_url,price_real:r.price_real,price_fake:r.price_fake,sku:r.sku,category:r.category,redirect_link:r.redirect_link,is_order_bump:r.is_order_bump,is_upsell:r.is_upsell,visible_in_member_area:r.visible_in_member_area,for_sale:r.for_sale,member_area_action:r.member_area_action,member_area_checkout_id:r.member_area_checkout_id,saas_plan_slug:r.saas_plan_slug}}async getPublicSaaSProducts(){const{data:e,error:r}=await V.from("products").select(`
        *, 
        checkouts!member_area_checkout_id(id, custom_url_slug, domain_id, domains:domain_id(domain)), 
        all_checkouts:checkouts!product_id(id, custom_url_slug, domain_id, domains:domain_id(domain))
      `).not("saas_plan_slug","is",null).eq("active",!0);return r?(console.error("Error fetching public SaaS products:",r.message),[]):(e||[]).map(n=>{var m;const s=n.checkouts?Array.isArray(n.checkouts)?n.checkouts[0]:n.checkouts:null,i=Array.isArray(n.all_checkouts)?n.all_checkouts:n.all_checkouts?[n.all_checkouts]:[],l=s||i.find(p=>p.active!==!1)||i[0],u=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http":"https";let f=n.redirect_link||"";if(l){const p=(m=l.domains)==null?void 0:m.domain;p?f=`https://${p}/${l.custom_url_slug}`:f=`${u}://${window.location.host}/c/${l.custom_url_slug}`}return console.log(`[Storage] SaaS Product "${n.name}" slug: ${n.saas_plan_slug} -> URL: ${f}`),{id:n.id,name:n.name,description:n.description,active:n.active,imageUrl:n.image_url,price_real:n.price_real,price_fake:n.price_fake,sku:n.sku,category:n.category,redirect_link:n.redirect_link,is_order_bump:n.is_order_bump,is_upsell:n.is_upsell,visible_in_member_area:n.visible_in_member_area,for_sale:n.for_sale,member_area_action:n.member_area_action,member_area_checkout_id:n.member_area_checkout_id,saas_plan_slug:n.saas_plan_slug,checkout_url:f}})}async getMemberAreaBySlug(e){const{data:r,error:n}=await V.from("member_areas").select("*").eq("slug",e).single();return n?(console.error("Error fetching member area:",n.message),null):r}async getPublicGateway(e){const{data:r,error:n}=await V.from("gateways").select("*").eq("id",e).single();return n?(console.error("Error fetching public gateway:",n.message),null):r}async getMemberAreaByDomain(e){const{data:r,error:n}=await V.from("member_areas").select("*").eq("domain_id",e).single();return n?(n.code!=="PGRST116"&&console.error("Error fetching member area by domain:",n.message),null):r}async getDomains(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("domains").select("*").eq("user_id",e.id);return n?(console.error("Error fetching domains:",n.message),[]):r}async getDomainByHostname(e){const r=[e,`https://${e}`,`http://${e}`,e.replace("www.",""),`www.${e}`],{data:n,error:s}=await V.from("domains").select("*").in("domain",r).maybeSingle();return s?(s.code!=="PGRST116"&&console.error("Error fetching domain by hostname:",s.message),null):n}async getDomainUsage(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{data:n,error:s}=await V.from("checkouts").select("id, name").eq("domain_id",e).eq("user_id",r.id);if(s)throw s;const{data:i,error:l}=await V.from("member_areas").select("id, name").eq("domain_id",e).eq("owner_id",r.id);if(l)throw l;return{checkouts:n||[],memberAreas:i||[]}}async getCheckoutUsage(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{data:n,error:s}=await V.from("products").select("id, name").eq("member_area_checkout_id",e).eq("user_id",r.id);if(s)throw s;const{data:i,error:l}=await V.from("domains").select("id, domain").eq("checkout_id",e).eq("user_id",r.id);if(l)throw l;return{products:n||[],domains:i||[]}}async createDomain(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={user_id:r.id,domain:e.domain,status:e.status,type:e.type,checkout_id:e.checkout_id,usage:e.usage||"system"},{data:s,error:i}=await V.from("domains").insert(n).select().single();if(i)throw console.error("Error creating domain:",i.message),i;return s}async deleteDomain(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{error:n}=await V.from("domains").delete().eq("id",e).eq("user_id",r.id);if(n)throw console.error("Error deleting domain:",n.message),n}async saveDomains(e){console.warn("saveDomains is deprecated. Use createDomain instead.");const r=await this.getUser();if(!r)return;const n=e.filter(l=>!l.id.startsWith("dom_"));if(n.length===0)return;const{data:s,error:i}=await V.from("domains").upsert(n.map(l=>({...l,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();i&&console.error("Error saving domains:",i.message,i)}async getGateways(){const e=await this.getUser();if(console.log("[StorageService] getGateways called. User:",(e==null?void 0:e.id)||"NO USER"),!e)return console.warn("[StorageService] getGateways: No user, returning empty array"),[];const{data:r,error:n}=await V.from("gateways").select("*").eq("user_id",e.id);return n?(console.error("[StorageService] Error fetching gateways:",n.message),[]):(console.log("[StorageService] getGateways: Found",(r==null?void 0:r.length)||0,"gateways"),r)}async createGateway(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={user_id:r.id,name:e.name,provider:e.name,public_key:e.public_key,private_key:e.private_key,webhook_secret:e.webhook_secret,active:e.active},{data:s,error:i}=await V.from("gateways").insert(n).select().single();if(i)throw console.error("Error creating gateway:",i.message),i;return s}async updateGateway(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={name:e.name,provider:e.name,public_key:e.public_key,private_key:e.private_key,webhook_secret:e.webhook_secret,active:e.active},{data:s,error:i}=await V.from("gateways").update(n).eq("id",e.id).eq("user_id",r.id).select().single();if(i)throw console.error("Error updating gateway:",i.message),i;return s}async saveGateways(e){console.warn("saveGateways is deprecated. Use createGateway/updateGateway instead.");const r=await this.getUser();if(!r){console.error("No user logged in");return}const{data:n,error:s}=await V.from("gateways").upsert(e.map(i=>({...i,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();s?console.error("Error saving gateways:",s.message,s):console.log("Gateways saved successfully:",n)}async getOrders(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("orders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)return console.error("Error getting orders:",n.message),[];const{data:s}=await V.from("checkouts").select("id, product_id"),{data:i}=await V.from("products").select("id, name");return r.map(l=>{let d=l.items;if(!d||!Array.isArray(d)||d.length===0){const u=s==null?void 0:s.find(p=>p.id===l.checkout_id),f=i==null?void 0:i.find(p=>p.id===(u==null?void 0:u.product_id));d=[{name:(f==null?void 0:f.name)||"Produto",price:l.total,quantity:1}]}return{...l,amount:l.total,items:d}})}async saveOrders(e){if(e.length===0)return;const r=e[0];let n=null;const s=await this.getUser();if(s)n=s.id;else if(r.checkout_id){const{data:d}=await V.from("checkouts").select("user_id").eq("id",r.checkout_id).single();d&&(n=d.user_id)}const i=e.map(d=>{const{amount:u,...f}=d;return{...f,total:u,items:d.items,user_id:n}}),{error:l}=await V.from("orders").upsert(i);if(l)throw console.error("Error saving order:",l.message),new Error(`Failed to save order: ${l.message}`)}async createOrder(e){let r=null;const n=await this.getUser();if(n)r=n.id;else if(e.checkout_id){const{data:u}=await V.from("checkouts").select("user_id").eq("id",e.checkout_id).single();u&&(r=u.user_id)}const{amount:s,...i}=e,l={...i,total:s,items:e.items,user_id:r},{error:d}=await V.from("orders").insert(l);if(d)throw console.error("Error creating order:",d.message),new Error(`Failed to create order: ${d.message}`)}async getPayments(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("payments").select("*").eq("user_id",e.id);return n?(console.error("Error fetching payments:",n.message),[]):r}async createPayment(e){let r={...e};if(!r.user_id){const s=await this.getUser();if(s)r.user_id=s.id;else{const{data:i}=await V.from("orders").select("user_id").eq("id",e.order_id).single();r.user_id=i==null?void 0:i.user_id}}const{error:n}=await V.from("payments").insert(r);if(n)throw console.error("Error creating payment:",n.message),n}async getPaymentByTransactionId(e){const{data:r,error:n}=await V.from("payments").select("*").eq("transaction_id",e).single();return n?null:r}async savePayments(e){if(e.length===0)return;const r=await Promise.all(e.map(async s=>{const i=await this.getUser();if(i)return{...s,user_id:i.id};const{data:l}=await V.from("orders").select("user_id").eq("id",s.order_id).single();return{...s,user_id:l==null?void 0:l.user_id}})),{error:n}=await V.from("payments").upsert(r);if(n)throw console.error("Error saving payments:",n.message),n}async getIntegration(e){const r=await this.getUser();if(!r)return null;const{data:n,error:s}=await V.from("integrations").select("*").eq("name",e).eq("user_id",r.id).single();return s?(s.code!=="PGRST116"&&console.error("Error fetching integration:",s.message),null):n}async saveIntegration(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const n={user_id:r.id,name:e.name,provider:e.name,config:e.config,active:e.active},{data:s,error:i}=await V.from("integrations").upsert(n,{onConflict:"user_id, name"}).select().single();if(i)throw console.error("Error saving integration:",i.message),i;return s}async getWebhooks(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("webhooks").select("*").eq("user_id",e.id);return n?(console.error("Error fetching webhooks:",n.message),[]):r}async saveWebhooks(e){const r=await this.getUser();if(!r){console.error("No user logged in");return}const{data:n,error:s}=await V.from("webhooks").upsert(e.map(i=>({...i,user_id:r.id})),{onConflict:"id",ignoreDuplicates:!1}).select();s?console.error("Error saving webhooks:",s.message,s):console.log("Webhooks saved successfully:",n)}async getWebhookLogs(){const{data:e,error:r}=await V.from("webhook_logs").select("*").order("created_at",{ascending:!1}).limit(100);return r?[]:e}async saveWebhookLogs(e){const{error:r}=await V.from("webhook_logs").insert(e);r&&console.error("Error saving logs:",r.message)}async getContents(e){let r=V.from("contents").select(`
        *,
        modules(count)
      `).order("created_at",{ascending:!1});e&&(r=r.eq("member_area_id",e));const{data:n,error:s}=await r;return s?(console.error("Error fetching contents:",s.message),[]):(n||[]).map(i=>{var l,d;return{...i,modules_count:((d=(l=i.modules)==null?void 0:l[0])==null?void 0:d.count)||0}})}async createContent(e,r){const n=await this.getUser();if(!n)throw new Error("No user logged in");const s={id:e.id,title:e.title,description:e.description,thumbnail_url:e.thumbnail_url,type:e.type,member_area_id:e.member_area_id,author_id:n.id,is_free:e.is_free,image_vertical_url:e.image_vertical_url,image_horizontal_url:e.image_horizontal_url,modules_layout:e.modules_layout||"horizontal"},{data:i,error:l}=await V.from("contents").insert(s).select().single();if(l)throw l;return r&&await this.setContentProduct(i.id,r),i}async updateContent(e,r){const n={title:e.title,description:e.description,thumbnail_url:e.thumbnail_url,type:e.type,updated_at:new Date().toISOString(),image_vertical_url:e.image_vertical_url,image_horizontal_url:e.image_horizontal_url,modules_layout:e.modules_layout,is_free:e.is_free},{data:s,error:i}=await V.from("contents").update(n).eq("id",e.id).select().single();if(i)throw i;return r!==void 0&&await this.setContentProduct(e.id,r||null),s}async deleteContent(e){try{const{data:n}=await V.storage.from("contents").list(e);if(n&&n.length>0){const s=n.map(i=>`${e}/${i.name}`);await V.storage.from("contents").remove(s)}}catch(n){console.error("Error deleting content files:",n)}const{error:r}=await V.from("contents").delete().eq("id",e);if(r)throw r}async uploadContentThumbnail(e,r){const n=e.name.split(".").pop(),s=`${r}/thumb_${Date.now()}.${n}`,{error:i}=await V.storage.from("contents").upload(s,e);if(i)throw i;const{data:l}=V.storage.from("contents").getPublicUrl(s);return l.publicUrl}async uploadContentImage(e,r,n){const s=e.name.split(".").pop(),i=`${r}/${n}_${Date.now()}.${s}`,{error:l}=await V.storage.from("contents").upload(i,e);if(l)throw l;const{data:d}=V.storage.from("contents").getPublicUrl(i);return d.publicUrl}async getModules(e){const{data:r,error:n}=await V.from("modules").select("*, lessons(*)").eq("content_id",e).order("order_index",{ascending:!0});return n?(console.error("Error fetching modules:",n.message),[]):r.map(i=>{var l;return{...i,lessons:((l=i.lessons)==null?void 0:l.sort((d,u)=>d.order_index-u.order_index))||[]}})}async getModulesByAreaId(e){const{data:r,error:n}=await V.from("contents").select("id").eq("member_area_id",e);if(n||!r)return[];const s=r.map(d=>d.id);if(s.length===0)return[];const{data:i,error:l}=await V.from("modules").select("*, lessons(*)").in("content_id",s).order("order_index",{ascending:!0});return l?(console.error("Error fetching modules by area:",l.message),[]):i}async createModule(e){const r={id:e.id,content_id:e.content_id,title:e.title,description:e.description,order_index:e.order_index,image_vertical_url:e.image_vertical_url,image_horizontal_url:e.image_horizontal_url,is_free:e.is_free},{data:n,error:s}=await V.from("modules").insert(r).select().single();if(s)throw s;return n}async updateModule(e){const{data:r,error:n}=await V.from("modules").update({title:e.title,description:e.description,order_index:e.order_index,image_vertical_url:e.image_vertical_url,image_horizontal_url:e.image_horizontal_url,is_free:e.is_free}).eq("id",e.id).select().single();if(n)throw n;return r}async deleteModule(e){const{error:r}=await V.from("modules").delete().eq("id",e)}async uploadModuleImage(e,r,n){const s=e.name.split(".").pop(),i=`${r}/${n}_${Date.now()}.${s}`,{error:l}=await V.storage.from("contents").upload(i,e);if(l)throw l;const{data:d}=V.storage.from("contents").getPublicUrl(i);return d.publicUrl}async createLesson(e){const{data:r,error:n}=await V.from("lessons").insert(e).select().single();if(n)throw n;return r}async updateLesson(e){const{data:r,error:n}=await V.from("lessons").update({title:e.title,content_type:e.content_type,video_url:e.video_url,content_text:e.content_text,file_url:e.file_url,order_index:e.order_index,is_free:e.is_free,duration:e.duration,image_url:e.image_url,gallery:e.gallery,content_order:e.content_order,is_published:e.is_published}).eq("id",e.id).select().single();if(n)throw n;return r}async deleteLesson(e){const{error:r}=await V.from("lessons").delete().eq("id",e);if(r)throw r}async uploadLessonImage(e,r){const n=e.name.split(".").pop(),s=`${r}/card_${Date.now()}.${n}`,{error:i}=await V.storage.from("contents").upload(s,e);if(i)throw i;const{data:l}=V.storage.from("contents").getPublicUrl(s);return l.publicUrl}async getProductContents(e){const{data:r,error:n}=await V.from("product_contents").select("content_id").eq("product_id",e);return n?(console.error("Error fetching product contents:",n.message),[]):r.map(s=>s.content_id)}async setProductContents(e,r){if(await V.from("product_contents").delete().eq("product_id",e),r.length===0)return;const n=r.map(i=>({product_id:e,content_id:i})),{error:s}=await V.from("product_contents").insert(n);if(s)throw s}async setContentProduct(e,r){if(await V.from("product_contents").delete().eq("content_id",e),!r)return;const{error:n}=await V.from("product_contents").insert({product_id:r,content_id:e});if(n)throw n}async getLessonProgress(e){const r=await this.getUser();if(!r)return null;const{data:n,error:s}=await V.from("lesson_progress").select("*").eq("lesson_id",e).eq("user_id",r.id).single();return s?null:n}async getAccessGrants(){const e=await this.getUser();if(!e)return[];const{data:r,error:n}=await V.from("access_grants").select("*").eq("user_id",e.id).eq("status","active");return n?(console.error("Error fetching access grants:",n.message),[]):r}async createAccessGrant(e){const{error:r}=await V.from("access_grants").insert({...e,granted_at:new Date().toISOString()});r?console.error("Error creating access grant:",r.message):console.log("Access grant created for user:",e.user_id,"content:",e.content_id)}async getContentsByProduct(e){const{data:r,error:n}=await V.from("product_contents").select("content:contents(*)").eq("product_id",e);return n?(console.error("Error fetching contents by product:",n.message),[]):r.map(s=>s.content)}async updateLessonProgress(e){const r=await this.getUser();if(!r)return;const{error:n}=await V.from("lesson_progress").upsert({user_id:r.id,lesson_id:e.lesson_id,completed:e.completed,last_position_seconds:e.last_position_seconds,updated_at:new Date().toISOString()},{onConflict:"user_id, lesson_id"});n&&console.error("Error updating progress:",n)}async getMemberAreas(e){var i;console.log("storageService: getMemberAreas called with userId:",e);const r=e||((i=await this.getUser())==null?void 0:i.id);if(console.log("storageService: resolved id",r),!r)return[];const{data:n,error:s}=await V.from("member_areas").select("*").eq("owner_id",r).order("created_at",{ascending:!1});return s?(console.error("Error fetching member areas:",s.message),[]):(console.log("storageService: getMemberAreas success, count:",n==null?void 0:n.length),n)}async getMemberAreaById(e){const{data:r,error:n}=await V.from("member_areas").select("*").eq("id",e).single();return n?null:r}async getMemberAreaMembers(e){const{data:r,error:n}=await V.rpc("get_member_area_members",{area_id:e});return n?(console.error("Error fetching member area members:",n.message),[]):r}async createMemberArea(e){const r=await this.getUser();if(!r)throw new Error("No user logged in");const{data:n,error:s}=await V.from("member_areas").insert({...e,owner_id:r.id,login_image_url:e.login_image_url,allow_free_signup:e.allow_free_signup,banner_url:e.banner_url,banner_title:e.banner_title,banner_description:e.banner_description,banner_button_text:e.banner_button_text,banner_button_link:e.banner_button_link,sidebar_config:e.sidebar_config,custom_links:e.custom_links,faqs:e.faqs}).select().single();if(s)throw s;return n}async updateMemberArea(e){const{data:r,error:n}=await V.from("member_areas").update({name:e.name,slug:e.slug,domain_id:e.domain_id,logo_url:e.logo_url,primary_color:e.primary_color,favicon_url:e.favicon_url,layout_mode:e.layout_mode,card_style:e.card_style,login_image_url:e.login_image_url,allow_free_signup:e.allow_free_signup,banner_url:e.banner_url,banner_title:e.banner_title,banner_description:e.banner_description,banner_button_text:e.banner_button_text,banner_button_link:e.banner_button_link,sidebar_config:e.sidebar_config,custom_links:e.custom_links,faqs:e.faqs}).eq("id",e.id).select().single();if(n)throw n;return r}async deleteMemberArea(e){try{const{data:n}=await V.storage.from("member-areas").list(e);if(n&&n.length>0){const s=n.map(i=>`${e}/${i.name}`);await V.storage.from("member-areas").remove(s)}}catch(n){console.error("Error deleting member area files:",n)}const{error:r}=await V.from("member_areas").delete().eq("id",e);if(r)throw r}async uploadMemberAreaLogo(e,r){const n=e.name.split(".").pop(),s=`${r}/logo_${Date.now()}.${n}`,{error:i}=await V.storage.from("member-areas").upload(s,e,{upsert:!0});if(i)throw i;const{data:l}=V.storage.from("member-areas").getPublicUrl(s);return l.publicUrl}async uploadMemberAreaFavicon(e,r){const n=e.name.split(".").pop(),s=`${r}/favicon_${Date.now()}.${n}`,{error:i}=await V.storage.from("member-areas").upload(s,e,{upsert:!0});if(i)throw i;const{data:l}=V.storage.from("member-areas").getPublicUrl(s);return l.publicUrl}async uploadMemberAreaLoginImage(e,r){const n=e.name.split(".").pop(),s=`${r}/login_${Date.now()}.${n}`,{error:i}=await V.storage.from("member-areas").upload(s,e,{upsert:!0});if(i)throw i;const{data:l}=V.storage.from("member-areas").getPublicUrl(s);return l.publicUrl}async uploadMemberAreaBanner(e,r){const n=e.name.split(".").pop(),s=`${r}/banner_${Date.now()}.${n}`,{error:i}=await V.storage.from("member-areas").upload(s,e,{upsert:!0});if(i)throw i;const{data:l}=V.storage.from("member-areas").getPublicUrl(s);return l.publicUrl}async getTracks(e){const{data:r,error:n}=await V.from("tracks").select("*").eq("member_area_id",e).order("position");return n?(console.error("Error fetching tracks:",n.message),[]):r}async getTrackWithItems(e){const{data:r,error:n}=await V.from("tracks").select("*").eq("id",e).single();if(n||!r)return null;const{data:s,error:i}=await V.from("track_items").select("*").eq("track_id",e).order("position");if(i)return null;const l=[];if(s&&s.length>0){const d=s.map(m=>m.item_id);console.log(`[getTrackWithItems] Track: ${r.title}, Type: ${r.type}, Items: ${s.length}`);let u=[];if(r.type==="products"){const{data:m}=await V.from("products").select("*").in("id",d);u=m||[]}else if(r.type==="contents"){const{data:m}=await V.from("contents").select("*, product_contents(products!product_contents_product_id_fkey(*))").in("id",d);u=(m||[]).map(p=>{var x,v;return{...p,associated_product:Array.isArray(p.product_contents)?(x=p.product_contents[0])==null?void 0:x.products:(v=p.product_contents)==null?void 0:v.products}})}else if(r.type==="modules"){const{data:m}=await V.from("modules").select("id, title, description, order_index, is_free, image_vertical_url, image_horizontal_url, content_id, contents!modules_content_id_fkey(*, product_contents(products!product_contents_product_id_fkey(*)))").in("id",d);u=(m||[]).map(p=>{var v,y;const x=Array.isArray(p.contents)?p.contents[0]:p.contents;return{...p,content:x,associated_product:Array.isArray(x==null?void 0:x.product_contents)?(v=x.product_contents[0])==null?void 0:v.products:(y=x==null?void 0:x.product_contents)==null?void 0:y.products}})}else if(r.type==="lessons"){const{data:m}=await V.from("lessons").select("id, title, content_type, video_url, content_text, file_url, order_index, duration, is_free, image_url, gallery, content_order, module_id, module:modules!lessons_module_id_fkey(*, contents!modules_content_id_fkey(*, product_contents(products!product_contents_product_id_fkey(*))))").in("id",d);u=(m||[]).map(p=>{var N,w;const x=Array.isArray(p.module)?p.module[0]:p.module,v=x&&(Array.isArray(x.contents)?x.contents[0]:x.contents),y=Array.isArray(v==null?void 0:v.product_contents)?(N=v.product_contents[0])==null?void 0:N.products:(w=v==null?void 0:v.product_contents)==null?void 0:w.products;return{...p,module:x?{...x,content:v}:void 0,associated_product:y}})}const f=m=>{var v;if(!m)return;let p=m.redirect_link;const x=Array.isArray(m.checkouts)?m.checkouts[0]:m.checkouts;return(!m.member_area_action||m.member_area_action==="checkout")&&x&&(p=`https://${((v=x.domains)==null?void 0:v.domain)||"checkout.supercheckout.com"}/${x.custom_url_slug}`),{...m,imageUrl:m.image_url||m.imageUrl,redirect_link:p}};u=u.map(m=>(m.associated_product&&(m.associated_product=f(m.associated_product)),m)),console.log(`[getTrackWithItems] Related Data Found: ${u.length}`),l.push(...s.map(m=>{var x;const p=u.find(v=>v.id===m.item_id);if(r.type==="products"&&p){p.imageUrl=p.image_url;const v=Array.isArray(p.checkouts)?p.checkouts[0]:p.checkouts;(!p.member_area_action||p.member_area_action==="checkout")&&v&&(p.redirect_link=`https://${((x=v.domains)==null?void 0:x.domain)||"checkout.supercheckout.com"}/${v.custom_url_slug}`)}return{...m,product:r.type==="products"?p:void 0,content:r.type==="contents"?p:void 0,module:r.type==="modules"?p:void 0,lesson:r.type==="lessons"?p:void 0}}))}return{...r,items:l}}async createTrack(e){const{data:r,error:n}=await V.from("tracks").insert(e).select().single();if(n)throw n;return r}async updateTrack(e){const{data:r,error:n}=await V.from("tracks").update(e).eq("id",e.id).select().single();if(n)throw n;return r}async deleteTrack(e){const{error:r}=await V.from("tracks").delete().eq("id",e);if(r)throw r}async addTrackItem(e,r,n){const{data:s,error:i}=await V.from("track_items").insert({track_id:e,item_id:r,position:n}).select().single();if(i)throw i;return s}async removeTrackItem(e){const{error:r}=await V.from("track_items").delete().eq("id",e);if(r)throw r}async updateTrackPositions(e){for(const r of e)await V.from("tracks").update({position:r.position}).eq("id",r.id)}}const ce=new Z8,MT=Object.freeze(Object.defineProperty({__proto__:null,storage:ce,supabase:V},Symbol.toStringTag,{value:"Module"})),Xa={async getMembers(t=1,e=20,r="",n="",s=""){return this.getMembersByArea("",t,e,r,n)},async getMembersByArea(t,e=1,r=20,n="",s="",i="all"){const{data:l,error:d}=await V.rpc("get_area_members_enriched",{p_area_id:t,p_page:e,p_limit:r,p_search:n,p_status_filter:s,p_type_filter:i});if(d)return console.error("Error fetching area members via RPC:",d),{data:[],count:0};const u=l&&l.length>0?l[0].total_count:0;return{data:(l||[]).map(m=>({user_id:m.user_id,email:m.email,name:m.name||m.email.split("@")[0],status:m.status,joined_at:m.joined_at,orders_count:m.orders_count,active_products_count:m.active_products_count})),count:u}},async exportMembersCSV(t){const{data:e,error:r}=await V.from("admin_members_view").select("*");if(r)throw r;return[["ID","Nome","Email","Status","Entrou em","Pedidos","Produtos Ativos"],...e.map(s=>[s.user_id,s.full_name,s.email,s.status,s.joined_at,s.orders_count,s.active_products_count])].map(s=>s.join(",")).join(`
`)},async getMemberDetails(t){const{data:e,error:r}=await V.from("profiles").select("*").eq("id",t).single();if(r)throw r;const[n,s,i,l,d]=await Promise.all([this.getMemberAccess(t).catch(u=>(console.error("Failed to load access:",u),[])),this.getMemberNotes(t).catch(u=>(console.error("Failed to load notes:",u),[])),this.getMemberTags(t).catch(u=>(console.error("Failed to load tags:",u),[])),this.getMemberActivityLogs(t).catch(u=>(console.error("Failed to load logs:",u),[])),this.getMemberOrders(t).catch(u=>(console.error("Failed to load orders:",u),[]))]);return{profile:e,accessGrants:n,notes:s,tags:i,logs:l,orders:d}},async getMemberAccess(t){const{data:e,error:r}=await V.from("access_grants").select("*, product:products(*), content:contents(*)").eq("user_id",t);if(r)throw console.error("Error fetching member access grants:",r),r;return e},async getMemberNotes(t){const{data:e,error:r}=await V.from("member_notes").select("*, author:profiles(full_name, email)").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return e},async addMemberNote(t,e){const{data:{user:r}}=await V.auth.getUser();if(!r)throw new Error("Not authenticated");const{error:n}=await V.from("member_notes").insert({user_id:t,author_id:r.id,content:e});if(n)throw n},async getMemberTags(t){const{data:e,error:r}=await V.from("member_tags").select("*").eq("user_id",t);if(r)throw r;return e},async addMemberTag(t,e){const{error:r}=await V.from("member_tags").insert({user_id:t,tag:e});if(r)throw r},async removeMemberTag(t,e){const{error:r}=await V.from("member_tags").delete().match({user_id:t,tag:e});if(r)throw r},async getMemberActivityLogs(t){const{data:e,error:r}=await V.from("activity_logs").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);if(r)throw r;return e},async getMemberOrders(t){const{data:e,error:r}=await V.from("orders").select("*").eq("customer_user_id",t).order("created_at",{ascending:!1});if(r)throw r;return e},async updateMemberStatus(t,e){const r=e==="suspended"?"suspend":e==="active"?"activate":"disable";try{const n=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,userId:t})}),s=n.headers.get("content-type");if(!n.ok||s&&s.includes("text/html"))throw new Error("API unavailable");this.logActivity(t,`status_changed_to_${e}`,{action:r,p:"admin"})}catch(n){console.warn("Backend API failed, trying direct Supabase update (Local Dev Fallback)",n);const{error:s}=await V.from("profiles").update({status:e}).eq("id",t);if(s)throw console.error("Direct update failed:",s),new Error("Falha ao atualizar status via API e Banco de Dados.");console.info("Status updated via direct DB access (Local Mode)"),this.logActivity(t,`status_changed_to_${e}`,{mode:"direct_db"})}},async deleteMember(t){const e=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",userId:t})});if(!e.ok)throw new Error(await e.text())},async grantAccess(t,e){console.log(`Attempting to grant access for user ${t} to products:`,e);const r=e.map(i=>({user_id:t,product_id:i,status:"active",granted_at:new Date().toISOString()})),{data:n,error:s}=await V.from("access_grants").upsert(r,{onConflict:"user_id, product_id"}).select();if(s)throw console.error("Supabase error granting access:",s),s;console.log("Access granted successfully:",n),this.logActivity(t,"access_granted",{productIds:e})},async revokeAccess(t,e){const{error:r}=await V.from("access_grants").update({status:"revoked"}).match({user_id:t,product_id:e});if(r)throw r;this.logActivity(t,"access_revoked",{productId:e})},async createMember(t,e,r=[]){const n=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"create",email:t,name:e,productIds:r})});if(!n.ok){const s=n.headers.get("content-type");if(s&&s.includes("text/html"))throw new Error("Erro: API Admin no detectada (Rota 404). Se estiver local, use 'vercel dev'.");const i=await n.text();try{const l=JSON.parse(i);throw new Error(l.error||l.message||"Erro desconhecido")}catch(l){throw l.message!=="JSON"&&l.message!=="Unexpected token"?l:new Error(i||"Erro ao comunicar com servidor")}}return n.json()},async getProducts(){const{data:t,error:e}=await V.from("products").select("id, name").eq("active",!0).order("name");if(e)throw e;return t},async updateLastSeen(t){const{error:e}=await V.from("profiles").update({last_seen_at:new Date().toISOString()}).eq("id",t);e&&console.error("Error updating last_seen:",e)},async logActivity(t,e,r={}){try{const{error:n}=await V.from("activity_logs").insert({user_id:t,event:e,metadata:r});n&&console.error("Error logging activity:",n)}catch(n){console.error("Exception logging activity:",n)}}},Qm=()=>a.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-[#05050A] text-white",children:[a.jsx("div",{className:"relative flex items-center justify-center",children:a.jsx("div",{className:"relative",children:a.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-16 h-16 object-contain animate-pulse"})})}),a.jsx("p",{className:"mt-4 text-gray-500 text-xs font-medium animate-pulse",children:"Carregando..."})]}),LT=b.createContext(void 0),e$=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(null),[i,l]=b.useState(null),[d,u]=b.useState(null),[f,m]=b.useState(null),[p,x]=b.useState(!0),v=async E=>{console.log("[AuthProvider] fetchProfile start:",E);try{const{data:k,error:S}=await V.from("profiles").select("*").eq("id",E).single();if(S)console.error("Error fetching profile:",S),l({id:E,role:"admin",email:"",status:"active"});else if(l(k),k){const C=new Date,O=k.last_login_at?new Date(k.last_login_at):new Date(0);(C.getTime()-O.getTime())/(1e3*60*60)>1&&V.from("profiles").update({last_login_at:new Date().toISOString()}).eq("id",E).then(({error:L})=>{L&&console.error("Failed to update last_login_at",L)}),Xa.updateLastSeen(E).catch(console.error)}const{data:A}=await V.from("accounts").select("id, plan_type, trust_score").eq("owner_user_id",E).single();if(A){u(A);const{data:C}=await V.from("business_settings").select("compliance_status, is_ready_to_sell, business_name").eq("account_id",A.id).single();m(C?{status:C.compliance_status,is_ready:C.is_ready_to_sell,name:C.business_name}:{status:"pending",is_ready:!1})}else u(null),m({status:"pending",is_ready:!1})}catch(k){console.error("Exception fetching profile/account:",k),l({id:E,role:"admin",email:"",status:"active"})}finally{console.log("[AuthProvider] fetchProfile end")}},y=async()=>{n&&await v(n.id)};b.useEffect(()=>{V.auth.getSession().then(({data:{session:k}})=>{var S;console.log("[AuthProvider] Initial session check:",(S=k==null?void 0:k.user)==null?void 0:S.email),r(k),s((k==null?void 0:k.user)??null),k!=null&&k.user?(ce.setUser(k.user),console.log("[AuthProvider] Fetching initial profile..."),v(k.user.id).then(()=>console.log("[AuthProvider] Initial profile fetch success")).catch(A=>console.error("[AuthProvider] Initial profile fetch error",A)).finally(()=>x(!1))):(console.log("[AuthProvider] No session, loading complete."),x(!1))});const{data:{subscription:E}}=V.auth.onAuthStateChange((k,S)=>{var A;console.log("[AuthProvider] Auth state change:",k,(A=S==null?void 0:S.user)==null?void 0:A.email),r(S),s((S==null?void 0:S.user)??null),ce.setUser((S==null?void 0:S.user)??null),S!=null&&S.user?v(S.user.id):(l(null),u(null),m(null))});return()=>E.unsubscribe()},[]);const N=async()=>{await V.auth.signOut(),l(null),u(null),m(null)};return p?a.jsx(Qm,{}):a.jsx(LT.Provider,{value:{session:e,user:n,profile:i,account:d,compliance:f,signOut:N,loading:p,instanceId:tu,fetchProfile:v,refreshProfile:y,isWhiteLabel:!1},children:t})},tr=()=>{const t=b.useContext(LT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},t$=()=>{const{user:t,session:e,loading:r,instanceId:n}=tr(),[s,i]=b.useState(null),[l,d]=b.useState([]),[u,f]=b.useState(null),[m,p]=b.useState(null),[x,v]=b.useState(""),y=async()=>{const w=await ce.getUser();i(w);const E=V.auth.getSession(),k=new Promise(C=>setTimeout(()=>C({data:{session:null}}),1e3)),{data:{session:S}}=await Promise.race([E,k]);p(S);const A=Object.keys(localStorage).filter(C=>C.startsWith("sb-")||C.includes("supabase")).reduce((C,O)=>({...C,[O]:localStorage.getItem(O)}),{});v(JSON.stringify(A,null,2));try{const C=await ce.getProducts();d(C)}catch(C){f(C.message)}},N=async()=>{if(confirm("Tem certeza? Isso vai limpar todos os dados locais.")){try{console.log("Attempting sign out..."),await V.auth.signOut()}catch(w){console.error("SignOut failed, ignoring:",w)}console.log("Clearing storage..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(w=>{document.cookie=w.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),alert("Sesso limpa. Recarregando..."),window.location.href="/login"}};return b.useEffect(()=>{y()},[t]),a.jsxs("div",{className:"min-h-screen bg-black text-white p-8 font-mono text-sm overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"SYSTEM DIAGNOSTIC (STRICT MODE)"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:y,className:"bg-blue-600 px-4 py-2 rounded",children:"Refresh Data"}),a.jsx("button",{onClick:N,className:"bg-red-700 px-4 py-2 rounded border border-red-500 hover:bg-red-600",children:"HARD RESET SESSION"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[a.jsx("h2",{className:"text-pink-400 font-bold mb-2",children:"Supabase Singleton Check"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"AuthContext Instance:"}),a.jsx("p",{className:"font-mono text-lg",children:n||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Direct Import Instance:"}),a.jsx("p",{className:"font-mono text-lg",children:tu})]})]}),n!==tu&&a.jsx("div",{className:"text-red-500 font-bold mt-2 animate-pulse",children:"CRITICAL ERROR: DUPLICATE SUPABASE INSTANCES DETECTED"})]}),a.jsxs("div",{className:"border border-gray-800 p-4 rounded",children:[a.jsx("h2",{className:"text-blue-400 font-bold mb-2",children:"AuthContext State"}),a.jsx("pre",{children:JSON.stringify({authLoading:r,userId:t==null?void 0:t.id,hasSession:!!e},null,2)})]}),a.jsxs("div",{className:"border border-gray-800 p-4 rounded",children:[a.jsx("h2",{className:"text-yellow-400 font-bold mb-2",children:"StorageService State"}),a.jsx("pre",{children:JSON.stringify({storageUser:s==null?void 0:s.id},null,2)})]}),a.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[a.jsx("h2",{className:"text-green-400 font-bold mb-2",children:"Supabase Raw Session"}),a.jsx("pre",{className:"whitespace-pre-wrap word-break",children:JSON.stringify(m,null,2)})]}),a.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[a.jsx("h2",{className:"text-purple-400 font-bold mb-2",children:"Products Query Result"}),u&&a.jsxs("div",{className:"text-red-500",children:["Error: ",u]}),a.jsxs("div",{className:"text-gray-400",children:["Count: ",l.length]}),a.jsx("pre",{children:JSON.stringify(l.slice(0,2),null,2)})]}),a.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[a.jsx("h2",{className:"text-orange-400 font-bold mb-2",children:"LocalStorage (Supabase Keys)"}),a.jsx("pre",{className:"whitespace-pre-wrap word-break text-xs",children:x})]}),a.jsxs("div",{className:"border border-gray-800 p-4 rounded col-span-2",children:[a.jsx("h2",{className:"text-cyan-400 font-bold mb-2",children:"Boot Sequence Logs"}),a.jsx("div",{className:"bg-[#111] p-2 rounded max-h-60 overflow-y-auto text-xs font-mono text-gray-300",children:(window._authLogs||[]).map((w,E)=>a.jsx("div",{className:"border-b border-gray-800 pb-1 mb-1 last:border-0",children:w},E))})]})]})]})},UT=b.createContext(void 0),r$=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{const l=localStorage.getItem("installation_id");l&&r(l),s(!1)},[]);const i=l=>{console.log("[InstallationContext] Setting authoritative ID:",l),localStorage.setItem("installation_id",l),r(l)};return a.jsx(UT.Provider,{value:{installationId:e,setInstallationId:i,loading:n},children:t})},Ky=()=>{const t=b.useContext(UT);if(t===void 0)throw new Error("useInstallation must be used within an InstallationProvider");return t};var Ui=(t=>(t.ONE_TIME="one_time",t.RECURRING="recurring",t.FREE="free",t))(Ui||{}),Ql=(t=>(t.MONTHLY="monthly",t.YEARLY="yearly",t.NONE="none",t))(Ql||{}),Pn=(t=>(t.MERCADO_PAGO="mercado_pago",t.STRIPE="stripe",t.PIX="pix",t))(Pn||{}),wt=(t=>(t.PENDING="pending",t.PAID="paid",t.FAILED="failed",t.CANCELED="canceled",t.REFUNDED="refunded",t))(wt||{}),Wr=(t=>(t.ACTIVE="active",t.PENDING="pending",t.VERIFYING="verifying",t.ERROR="error",t))(Wr||{}),Av=(t=>(t.CNAME="cname",t.REDIRECT="redirect",t))(Av||{}),kt=(t=>(t.SYSTEM="system",t.CHECKOUT="checkout",t.MEMBER_AREA="member_area",t))(kt||{});function $T(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=$T(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ft(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=$T(t))&&(n&&(n+=" "),n+=e);return n}var a$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Jy(t){if(typeof t!="string")return!1;var e=a$;return e.includes(t)}var n$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function BT(t){if(typeof t!="string")return!1;var e=n$;return e.includes(t)}function zT(t){return typeof t=="string"&&t.startsWith("data-")}function zn(t){var e=Object.entries(t).filter(r=>{var[n]=r;return BT(n)||zT(n)});return Object.fromEntries(e)}function Zm(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return zn(e)}return typeof t=="object"&&!Array.isArray(t)?zn(t):null}function jn(t){var e=Object.entries(t).filter(r=>{var[n]=r;return BT(n)||zT(n)||Jy(n)});return Object.fromEntries(e)}function s$(t){return t==null?null:b.isValidElement(t)?jn(t.props):typeof t=="object"&&!Array.isArray(t)?jn(t):null}var i$=["children","width","height","viewBox","className","style","title","desc"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(null,arguments)}function o$(t,e){if(t==null)return{};var r,n,s=l$(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function l$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var FT=b.forwardRef((t,e)=>{var{children:r,width:n,height:s,viewBox:i,className:l,style:d,title:u,desc:f}=t,m=o$(t,i$),p=i||{width:n,height:s,x:0,y:0},x=Ft("recharts-surface",l);return b.createElement("svg",Cv({},jn(m),{className:x,width:n,height:s,style:d,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),b.createElement("title",null,u),b.createElement("desc",null,f),r)}),c$=["children","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tv.apply(null,arguments)}function d$(t,e){if(t==null)return{};var r,n,s=u$(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function u$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var us=b.forwardRef((t,e)=>{var{children:r,className:n}=t,s=d$(t,c$),i=Ft("recharts-layer",n);return b.createElement("g",Tv({className:i},jn(s),{ref:e}),r)}),h$=b.createContext(null);function Zt(t){return function(){return t}}const Ov=Math.PI,Rv=2*Ov,ko=1e-6,f$=Rv-ko;function qT(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function m$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qT;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class p${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qT:m$(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,l){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,d=this._y1,u=n-e,f=s-r,m=l-e,p=d-r,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(x>ko)if(!(Math.abs(p*u-f*m)>ko)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-l,y=s-d,N=u*u+f*f,w=v*v+y*y,E=Math.sqrt(N),k=Math.sqrt(x),S=i*Math.tan((Ov-Math.acos((N+x-w)/(2*E*k)))/2),A=S/k,C=S/E;Math.abs(A-1)>ko&&this._append`L${e+A*m},${r+A*p}`,this._append`A${i},${i},0,0,${+(p*v>m*y)},${this._x1=e+C*u},${this._y1=r+C*f}`}}arc(e,r,n,s,i,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),f=e+d,m=r+u,p=1^l,x=l?s-i:i-s;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>ko||Math.abs(this._y1-m)>ko)&&this._append`L${f},${m}`,n&&(x<0&&(x=x%Rv+Rv),x>f$?this._append`A${n},${n},0,1,${p},${e-d},${r-u}A${n},${n},0,1,${p},${this._x1=f},${this._y1=m}`:x>ko&&this._append`A${n},${n},0,${+(x>=Ov)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function HT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new p$(e)}function Qy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GT(t){this._context=t}GT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ep(t){return new GT(t)}function VT(t){return t[0]}function YT(t){return t[1]}function WT(t,e){var r=Zt(!0),n=null,s=ep,i=null,l=HT(d);t=typeof t=="function"?t:t===void 0?VT:Zt(t),e=typeof e=="function"?e:e===void 0?YT:Zt(e);function d(u){var f,m=(u=Qy(u)).length,p,x=!1,v;for(n==null&&(i=s(v=l())),f=0;f<=m;++f)!(f<m&&r(p=u[f],f,u))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+t(p,f,u),+e(p,f,u));if(v)return i=null,v+""||null}return d.x=function(u){return arguments.length?(t=typeof u=="function"?u:Zt(+u),d):t},d.y=function(u){return arguments.length?(e=typeof u=="function"?u:Zt(+u),d):e},d.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Zt(!!u),d):r},d.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),d):s},d.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),d):n},d}function cf(t,e,r){var n=null,s=Zt(!0),i=null,l=ep,d=null,u=HT(f);t=typeof t=="function"?t:t===void 0?VT:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?YT:Zt(+r);function f(p){var x,v,y,N=(p=Qy(p)).length,w,E=!1,k,S=new Array(N),A=new Array(N);for(i==null&&(d=l(k=u())),x=0;x<=N;++x){if(!(x<N&&s(w=p[x],x,p))===E)if(E=!E)v=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),y=x-1;y>=v;--y)d.point(S[y],A[y]);d.lineEnd(),d.areaEnd()}E&&(S[x]=+t(w,x,p),A[x]=+e(w,x,p),d.point(n?+n(w,x,p):S[x],r?+r(w,x,p):A[x]))}if(k)return d=null,k+""||null}function m(){return WT().defined(s).curve(l).context(i)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Zt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Zt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Zt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Zt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Zt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Zt(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(r)},f.lineX1=function(){return m().x(n).y(e)},f.defined=function(p){return arguments.length?(s=typeof p=="function"?p:Zt(!!p),f):s},f.curve=function(p){return arguments.length?(l=p,i!=null&&(d=l(i)),f):l},f.context=function(p){return arguments.length?(p==null?i=d=null:d=l(i=p),f):i},f}class XT{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function g$(t){return new XT(t,!0)}function x$(t){return new XT(t,!1)}function Jf(){}function Qf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function KT(t){this._context=t}KT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b$(t){return new KT(t)}function JT(t){this._context=t}JT.prototype={areaStart:Jf,areaEnd:Jf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function v$(t){return new JT(t)}function QT(t){this._context=t}QT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y$(t){return new QT(t)}function ZT(t){this._context=t}ZT.prototype={areaStart:Jf,areaEnd:Jf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function w$(t){return new ZT(t)}function c2(t){return t<0?-1:1}function d2(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),l=(r-t._y1)/(s||n<0&&-0),d=(i*s+l*n)/(n+s);return(c2(i)+c2(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(d))||0}function u2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function b0(t,e,r){var n=t._x0,s=t._y0,i=t._x1,l=t._y1,d=(i-n)/3;t._context.bezierCurveTo(n+d,s+d*e,i-d,l-d*r,i,l)}function Zf(t){this._context=t}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b0(this,this._t0,u2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,b0(this,u2(this,r=d2(this,t,e)),r);break;default:b0(this,this._t0,r=d2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function eO(t){this._context=new tO(t)}(eO.prototype=Object.create(Zf.prototype)).point=function(t,e){Zf.prototype.point.call(this,e,t)};function tO(t){this._context=t}tO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function j$(t){return new Zf(t)}function N$(t){return new eO(t)}function rO(t){this._context=t}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=h2(t),s=h2(e),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function h2(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,l[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,l[e]-=n*l[e-1];for(s[r-1]=l[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(l[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function _$(t){return new rO(t)}function tp(t,e){this._context=t,this._t=e}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function E$(t){return new tp(t,.5)}function S$(t){return new tp(t,0)}function k$(t){return new tp(t,1)}function fc(t,e){if((l=t.length)>1)for(var r=1,n,s,i=t[e[0]],l,d=i.length;r<l;++r)for(s=i,i=t[e[r]],n=0;n<d;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Dv(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function A$(t,e){return t[e]}function C$(t){const e=[];return e.key=t,e}function T$(){var t=Zt([]),e=Dv,r=fc,n=A$;function s(i){var l=Array.from(t.apply(this,arguments),C$),d,u=l.length,f=-1,m;for(const p of i)for(d=0,++f;d<u;++d)(l[d][f]=[0,+n(p,l[d].key,f,i)]).data=p;for(d=0,m=Qy(e(l));d<u;++d)l[m[d]].index=d;return r(l,m),l}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Zt(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Zt(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?Dv:typeof i=="function"?i:Zt(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??fc,s):r},s}function O$(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,l;s<i;++s){for(l=r=0;r<n;++r)l+=t[r][s][1]||0;if(l)for(r=0;r<n;++r)t[r][s][1]/=l}fc(t,e)}}function R$(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var l=0,d=0;l<s;++l)d+=t[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}fc(t,e)}}function D$(t,e){if(!(!((l=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,l;n<i;++n){for(var d=0,u=0,f=0;d<l;++d){for(var m=t[e[d]],p=m[n][1]||0,x=m[n-1][1]||0,v=(p-x)/2,y=0;y<d;++y){var N=t[e[y]],w=N[n][1]||0,E=N[n-1][1]||0;v+=w-E}u+=p,f+=v*p}s[n-1][1]+=s[n-1][0]=r,u&&(r-=f/u)}s[n-1][1]+=s[n-1][0]=r,fc(t,e)}}var v0={},y0={},f2;function I$(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(y0)),y0}var w0={},m2;function aO(){return m2||(m2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(w0)),w0}var j0={},p2;function Zy(){return p2||(p2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(j0)),j0}var N0={},_0={},g2;function P$(){return g2||(g2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(_0)),_0}var x2;function ew(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P$(),r=Zy();function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=e.toString(s);const i=[],l=s.length;if(l===0)return i;let d=0,u="",f="",m=!1;for(s.charCodeAt(0)===46&&(i.push(""),d++);d<l;){const p=s[d];f?p==="\\"&&d+1<l?(d++,u+=s[d]):p===f?f="":u+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,i.push(u),u=""):u+=p:p==="["?(m=!0,u&&(i.push(u),u="")):p==="."?u&&(i.push(u),u=""):u+=p,d++}return u&&i.push(u),i}t.toPath=n})(N0)),N0}var b2;function tw(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I$(),r=aO(),n=Zy(),s=ew();function i(d,u,f){if(d==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const m=d[u];return m===void 0?r.isDeepKey(u)?i(d,s.toPath(u),f):f:m}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const m=d[u];return m===void 0?f:m}default:{if(Array.isArray(u))return l(d,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const m=d[u];return m===void 0?f:m}}}function l(d,u,f){if(u.length===0)return f;let m=d;for(let p=0;p<u.length;p++){if(m==null||e.isUnsafeProperty(u[p]))return f;m=m[u[p]]}return m===void 0?f:m}t.get=i})(v0)),v0}var E0,v2;function M$(){return v2||(v2=1,E0=tw().get),E0}var L$=M$();const rp=Wn(L$);var vn=t=>t===0?0:t>0?1:-1,Fn=t=>typeof t=="number"&&t!=+t,Ws=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Fe=t=>(typeof t=="number"||t instanceof Number)&&!Fn(t),hs=t=>Fe(t)||typeof t=="string",U$=0,ru=t=>{var e=++U$;return"".concat(t||"").concat(e)},Xi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&typeof e!="string")return n;var i;if(Ws(e)){if(r==null)return n;var l=e.indexOf("%");i=r*parseFloat(e.slice(0,l))/100}else i=+e;return Fn(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},nO=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function is(t,e,r){return Fe(t)&&Fe(e)?t+r*(e-t):e}function sO(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):rp(n,e))===r)}var Jr=t=>t===null||typeof t>"u",rw=t=>Jr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function $$(t){return t!=null}function kc(){}var iO=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,aw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Jy(s)&&(n[s]=(i=>r[s](r,i)))}),n},B$=(t,e,r)=>n=>(t(e,r,n),null),z$=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(s=>{var i=t[s];Jy(s)&&typeof i=="function"&&(n||(n={}),n[s]=B$(i,e,r))}),n};function y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function F$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(r),!0).forEach(function(n){q$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q$(t,e,r){return(e=H$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H$(t){var e=G$(t,"string");return typeof e=="symbol"?e:e+""}function G$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nn(t,e){var r=F$({},t),n=e,s=Object.keys(e),i=s.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return i}var S0={},k0={},w2;function V$(){return w2||(w2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const s=new Map;for(let i=0;i<r.length;i++){const l=r[i],d=n(l);s.has(d)||s.set(d,l)}return Array.from(s.values())}t.uniqBy=e})(k0)),k0}var A0={},j2;function oO(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(A0)),A0}var C0={},T0={},O0={},N2;function Y$(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(O0)),O0}var _2;function nw(){return _2||(_2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y$();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(T0)),T0}var R0={},E2;function W$(){return E2||(E2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(R0)),R0}var S2;function X$(){return S2||(S2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nw(),r=W$();function n(s){return r.isObjectLike(s)&&e.isArrayLike(s)}t.isArrayLikeObject=n})(C0)),C0}var D0={},I0={},k2;function K$(){return k2||(k2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tw();function r(n){return function(s){return e.get(s,n)}}t.property=r})(I0)),I0}var P0={},M0={},L0={},U0={},A2;function lO(){return A2||(A2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(U0)),U0}var $0={},C2;function cO(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})($0)),$0}var B0={},T2;function dO(){return T2||(T2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(B0)),B0}var O2;function J$(){return O2||(O2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lO(),r=cO(),n=dO();function s(m,p,x){return typeof x!="function"?s(m,p,()=>{}):i(m,p,function v(y,N,w,E,k,S){const A=x(y,N,w,E,k,S);return A!==void 0?!!A:i(y,N,v,S)},new Map)}function i(m,p,x,v){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,x,v);case"function":return Object.keys(p).length>0?i(m,{...p},x,v):n.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:n.eq(m,p)}}function l(m,p,x,v){if(p==null)return!0;if(Array.isArray(p))return u(m,p,x,v);if(p instanceof Map)return d(m,p,x,v);if(p instanceof Set)return f(m,p,x,v);const y=Object.keys(p);if(m==null)return y.length===0;if(y.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===m;v==null||v.set(p,m);try{for(let N=0;N<y.length;N++){const w=y[N];if(!r.isPrimitive(m)&&!(w in m)||p[w]===void 0&&m[w]!==void 0||p[w]===null&&m[w]!==null||!x(m[w],p[w],w,m,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function d(m,p,x,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,N]of p.entries()){const w=m.get(y);if(x(w,N,y,m,p,v)===!1)return!1}return!0}function u(m,p,x,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let N=0;N<p.length;N++){const w=p[N];let E=!1;for(let k=0;k<m.length;k++){if(y.has(k))continue;const S=m[k];let A=!1;if(x(S,w,N,m,p,v)&&(A=!0),A){y.add(k),E=!0;break}}if(!E)return!1}return!0}function f(m,p,x,v){return p.size===0?!0:m instanceof Set?u([...m],[...p],x,v):!1}t.isMatchWith=s,t.isSetMatch=f})(L0)),L0}var R2;function uO(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J$();function r(n,s){return e.isMatchWith(n,s,()=>{})}t.isMatch=r})(M0)),M0}var z0={},F0={},q0={},D2;function Q$(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(q0)),q0}var H0={},I2;function hO(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(H0)),H0}var G0={},P2;function fO(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",l="[object Symbol]",d="[object Date]",u="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",x="[object ArrayBuffer]",v="[object Object]",y="[object Error]",N="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]",A="[object BigUint64Array]",C="[object Int8Array]",O="[object Int16Array]",R="[object Int32Array]",L="[object BigInt64Array]",$="[object Float32Array]",M="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=x,t.arrayTag=m,t.bigInt64ArrayTag=L,t.bigUint64ArrayTag=A,t.booleanTag=s,t.dataViewTag=N,t.dateTag=d,t.errorTag=y,t.float32ArrayTag=$,t.float64ArrayTag=M,t.functionTag=p,t.int16ArrayTag=O,t.int32ArrayTag=R,t.int8ArrayTag=C,t.mapTag=u,t.numberTag=n,t.objectTag=v,t.regexpTag=e,t.setTag=f,t.stringTag=r,t.symbolTag=l,t.uint16ArrayTag=k,t.uint32ArrayTag=S,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=E})(G0)),G0}var V0={},M2;function Z$(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(V0)),V0}var L2;function mO(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q$(),r=hO(),n=fO(),s=cO(),i=Z$();function l(m,p){return d(m,void 0,m,new Map,p)}function d(m,p,x,v=new Map,y=void 0){const N=y==null?void 0:y(m,p,x,v);if(N!==void 0)return N;if(s.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const w=new Array(m.length);v.set(m,w);for(let E=0;E<m.length;E++)w[E]=d(m[E],E,x,v,y);return Object.hasOwn(m,"index")&&(w.index=m.index),Object.hasOwn(m,"input")&&(w.input=m.input),w}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const w=new RegExp(m.source,m.flags);return w.lastIndex=m.lastIndex,w}if(m instanceof Map){const w=new Map;v.set(m,w);for(const[E,k]of m)w.set(E,d(k,E,x,v,y));return w}if(m instanceof Set){const w=new Set;v.set(m,w);for(const E of m)w.add(d(E,void 0,x,v,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const w=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,w);for(let E=0;E<m.length;E++)w[E]=d(m[E],E,x,v,y);return w}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const w=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,w),u(w,m,x,v,y),w}if(typeof File<"u"&&m instanceof File){const w=new File([m],m.name,{type:m.type});return v.set(m,w),u(w,m,x,v,y),w}if(typeof Blob<"u"&&m instanceof Blob){const w=new Blob([m],{type:m.type});return v.set(m,w),u(w,m,x,v,y),w}if(m instanceof Error){const w=new m.constructor;return v.set(m,w),w.message=m.message,w.name=m.name,w.stack=m.stack,w.cause=m.cause,u(w,m,x,v,y),w}if(m instanceof Boolean){const w=new Boolean(m.valueOf());return v.set(m,w),u(w,m,x,v,y),w}if(m instanceof Number){const w=new Number(m.valueOf());return v.set(m,w),u(w,m,x,v,y),w}if(m instanceof String){const w=new String(m.valueOf());return v.set(m,w),u(w,m,x,v,y),w}if(typeof m=="object"&&f(m)){const w=Object.create(Object.getPrototypeOf(m));return v.set(m,w),u(w,m,x,v,y),w}return m}function u(m,p,x=m,v,y){const N=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<N.length;w++){const E=N[w],k=Object.getOwnPropertyDescriptor(m,E);(k==null||k.writable)&&(m[E]=d(p[E],E,x,v,y))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=u})(F0)),F0}var U2;function e9(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mO();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(z0)),z0}var $2;function t9(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uO(),r=e9();function n(s){return s=r.cloneDeep(s),i=>e.isMatch(i,s)}t.matches=n})(P0)),P0}var Y0={},W0={},X0={},B2;function r9(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mO(),r=fO();function n(s,i){return e.cloneDeepWith(s,(l,d,u,f)=>{const m=i==null?void 0:i(l,d,u,f);if(m!==void 0)return m;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(X0)),X0}var z2;function a9(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r9();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(W0)),W0}var K0={},J0={},F2;function pO(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(J0)),J0}var Q0={},q2;function n9(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hO();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(Q0)),Q0}var H2;function s9(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aO(),r=pO(),n=n9(),s=ew();function i(l,d){let u;if(Array.isArray(d)?u=d:typeof d=="string"&&e.isDeepKey(d)&&(l==null?void 0:l[d])==null?u=s.toPath(d):u=[d],u.length===0)return!1;let f=l;for(let m=0;m<u.length;m++){const p=u[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=i})(K0)),K0}var G2;function i9(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uO(),r=Zy(),n=a9(),s=tw(),i=s9();function l(d,u){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return u=n.cloneDeep(u),function(f){const m=s.get(f,d);return m===void 0?i.has(f,d):u===void 0?m===void 0:e.isMatch(m,u)}}t.matchesProperty=l})(Y0)),Y0}var V2;function o9(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oO(),r=K$(),n=t9(),s=i9();function i(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?s.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}t.iteratee=i})(D0)),D0}var Y2;function l9(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V$(),r=oO(),n=X$(),s=o9();function i(l,d=r.identity){return n.isArrayLikeObject(l)?e.uniqBy(Array.from(l),s.iteratee(d)):[]}t.uniqBy=i})(S0)),S0}var Z0,W2;function c9(){return W2||(W2=1,Z0=l9().uniqBy),Z0}var d9=c9();const X2=Wn(d9);function u9(t,e,r){return e===!0?X2(t,r):typeof e=="function"?X2(t,e):t}var eb={exports:{}},tb={},rb={exports:{}},ab={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function h9(){if(K2)return ab;K2=1;var t=jc();function e(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function d(p,x){var v=x(),y=n({inst:{value:v,getSnapshot:x}}),N=y[0].inst,w=y[1];return i(function(){N.value=v,N.getSnapshot=x,u(N)&&w({inst:N})},[p,v,x]),s(function(){return u(N)&&w({inst:N}),p(function(){u(N)&&w({inst:N})})},[p]),l(v),v}function u(p){var x=p.getSnapshot;p=p.value;try{var v=x();return!r(p,v)}catch{return!0}}function f(p,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return ab.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ab}var J2;function f9(){return J2||(J2=1,rb.exports=h9()),rb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function m9(){if(Q2)return tb;Q2=1;var t=jc(),e=f9();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,l=t.useEffect,d=t.useMemo,u=t.useDebugValue;return tb.useSyncExternalStoreWithSelector=function(f,m,p,x,v){var y=i(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=d(function(){function E(O){if(!k){if(k=!0,S=O,O=x(O),v!==void 0&&N.hasValue){var R=N.value;if(v(R,O))return A=R}return A=O}if(R=A,n(S,O))return R;var L=x(O);return v!==void 0&&v(R,L)?(S=O,R):(S=O,A=L)}var k=!1,S,A,C=p===void 0?null:p;return[function(){return E(m())},C===null?void 0:function(){return E(C())}]},[m,p,x,v]);var w=s(f,y[0],y[1]);return l(function(){N.hasValue=!0,N.value=w},[w]),u(w),w},tb}var Z2;function p9(){return Z2||(Z2=1,eb.exports=m9()),eb.exports}var g9=p9(),sw=b.createContext(null),x9=t=>t,Lr=()=>{var t=b.useContext(sw);return t?t.store.dispatch:x9},Lf=()=>{},b9=()=>Lf,v9=(t,e)=>t===e;function Ge(t){var e=b.useContext(sw);return g9.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:b9,e?e.store.getState:Lf,e?e.store.getState:Lf,e?t:Lf,v9)}function y9(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function w9(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function j9(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var eS=t=>Array.isArray(t)?t:[t];function N9(t){const e=Array.isArray(t[0])?t[0]:t;return j9(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function _9(t,e){const r=[],{length:n}=t;for(let s=0;s<n;s++)r.push(t[s].apply(null,e));return r}var E9=class{constructor(t){this.value=t}deref(){return this.value}},S9=typeof WeakRef<"u"?WeakRef:E9,k9=0,tS=1;function df(){return{s:k9,v:void 0,o:null,p:null}}function gO(t,e={}){let r=df();const{resultEqualityCheck:n}=e;let s,i=0;function l(){var p;let d=r;const{length:u}=arguments;for(let x=0,v=u;x<v;x++){const y=arguments[x];if(typeof y=="function"||typeof y=="object"&&y!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const w=N.get(y);w===void 0?(d=df(),N.set(y,d)):d=w}else{let N=d.p;N===null&&(d.p=N=new Map);const w=N.get(y);w===void 0?(d=df(),N.set(y,d)):d=w}}const f=d;let m;if(d.s===tS)m=d.v;else if(m=t.apply(null,arguments),i++,n){const x=((p=s==null?void 0:s.deref)==null?void 0:p.call(s))??s;x!=null&&n(x,m)&&(m=x,i!==0&&i--),s=typeof m=="object"&&m!==null||typeof m=="function"?new S9(m):m}return f.s=tS,f.v=m,m}return l.clearCache=()=>{r=df(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function A9(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...s)=>{let i=0,l=0,d,u={},f=s.pop();typeof f=="object"&&(u=f,f=s.pop()),y9(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...u},{memoize:p,memoizeOptions:x=[],argsMemoize:v=gO,argsMemoizeOptions:y=[]}=m,N=eS(x),w=eS(y),E=N9(s),k=p(function(){return i++,f.apply(null,arguments)},...N),S=v(function(){l++;const C=_9(E,arguments);return d=k.apply(null,C),d},...w);return Object.assign(S,{resultFunc:f,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var pe=A9(gO),C9=Object.assign((t,e=pe)=>{w9(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(i=>t[i]);return e(n,(...i)=>i.reduce((l,d,u)=>(l[r[u]]=d,l),{}))},{withTypes:()=>C9}),nb={},sb={},ib={},rS;function T9(){return rS||(rS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const l=e(n),d=e(s);if(l===d&&l===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?d-l:l-d}return 0};t.compareValues=r})(ib)),ib}var ob={},lb={},aS;function xO(){return aS||(aS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(lb)),lb}var nS;function O9(){return nS||(nS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xO(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||e.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}t.isKey=s})(ob)),ob}var sS;function R9(){return sS||(sS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T9(),r=O9(),n=ew();function s(i,l,d,u){if(i==null)return[];d=u?void 0:d,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const f=(v,y)=>{let N=v;for(let w=0;w<y.length&&N!=null;++w)N=N[y[w]];return N},m=(v,y)=>y==null||v==null?y:typeof v=="object"&&"key"in v?Object.hasOwn(y,v.key)?y[v.key]:f(y,v.path):typeof v=="function"?v(y):Array.isArray(v)?f(y,v):typeof y=="object"?y[v]:y,p=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:p.map(y=>m(y,v))})).slice().sort((v,y)=>{for(let N=0;N<p.length;N++){const w=e.compareValues(v.criteria[N],y.criteria[N],d[N]);if(w!==0)return w}return 0}).map(v=>v.original)}t.orderBy=s})(sb)),sb}var cb={},iS;function D9(){return iS||(iS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const s=[],i=Math.floor(n),l=(d,u)=>{for(let f=0;f<d.length;f++){const m=d[f];Array.isArray(m)&&u<i?l(m,u+1):s.push(m)}};return l(r,0),s}t.flatten=e})(cb)),cb}var db={},oS;function bO(){return oS||(oS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pO(),r=nw(),n=lO(),s=dO();function i(l,d,u){return n.isObject(u)&&(typeof d=="number"&&r.isArrayLike(u)&&e.isIndex(d)&&d<u.length||typeof d=="string"&&d in u)?s.eq(u[d],l):!1}t.isIterateeCall=i})(db)),db}var lS;function I9(){return lS||(lS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R9(),r=D9(),n=bO();function s(i,...l){const d=l.length;return d>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(i,r.flatten(l),["asc"])}t.sortBy=s})(nb)),nb}var ub,cS;function P9(){return cS||(cS=1,ub=I9().sortBy),ub}var M9=P9();const ap=Wn(M9);var vO=t=>t.legend.settings,L9=t=>t.legend.size,U9=t=>t.legend.payload;pe([U9,vO],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?ap(n,r):n});var uf=1;function $9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-e.height)>uf||Math.abs(l.left-e.left)>uf||Math.abs(l.top-e.top)>uf||Math.abs(l.width-e.width)>uf)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Xr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var B9=typeof Symbol=="function"&&Symbol.observable||"@@observable",dS=B9,hb=()=>Math.random().toString(36).substring(7).split("").join("."),z9={INIT:`@@redux/INIT${hb()}`,REPLACE:`@@redux/REPLACE${hb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hb()}`},em=z9;function iw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function yO(t,e,r){if(typeof t!="function")throw new Error(Xr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xr(1));return r(yO)(t,e)}let n=t,s=e,i=new Map,l=i,d=0,u=!1;function f(){l===i&&(l=new Map,i.forEach((w,E)=>{l.set(E,w)}))}function m(){if(u)throw new Error(Xr(3));return s}function p(w){if(typeof w!="function")throw new Error(Xr(4));if(u)throw new Error(Xr(5));let E=!0;f();const k=d++;return l.set(k,w),function(){if(E){if(u)throw new Error(Xr(6));E=!1,f(),l.delete(k),i=null}}}function x(w){if(!iw(w))throw new Error(Xr(7));if(typeof w.type>"u")throw new Error(Xr(8));if(typeof w.type!="string")throw new Error(Xr(17));if(u)throw new Error(Xr(9));try{u=!0,s=n(s,w)}finally{u=!1}return(i=l).forEach(k=>{k()}),w}function v(w){if(typeof w!="function")throw new Error(Xr(10));n=w,x({type:em.REPLACE})}function y(){const w=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Xr(11));function k(){const A=E;A.next&&A.next(m())}return k(),{unsubscribe:w(k)}},[dS](){return this}}}return x({type:em.INIT}),{dispatch:x,subscribe:p,getState:m,replaceReducer:v,[dS]:y}}function F9(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:em.INIT})>"u")throw new Error(Xr(12));if(typeof r(void 0,{type:em.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xr(13))})}function wO(t){const e=Object.keys(t),r={};for(let i=0;i<e.length;i++){const l=e[i];typeof t[l]=="function"&&(r[l]=t[l])}const n=Object.keys(r);let s;try{F9(r)}catch(i){s=i}return function(l={},d){if(s)throw s;let u=!1;const f={};for(let m=0;m<n.length;m++){const p=n[m],x=r[p],v=l[p],y=x(v,d);if(typeof y>"u")throw d&&d.type,new Error(Xr(14));f[p]=y,u=u||y!==v}return u=u||n.length!==Object.keys(l).length,u?f:l}}function tm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function q9(...t){return e=>(r,n)=>{const s=e(r,n);let i=()=>{throw new Error(Xr(15))};const l={getState:s.getState,dispatch:(u,...f)=>i(u,...f)},d=t.map(u=>u(l));return i=tm(...d)(s.dispatch),{...s,dispatch:i}}}function jO(t){return iw(t)&&"type"in t&&typeof t.type=="string"}var NO=Symbol.for("immer-nothing"),uS=Symbol.for("immer-draftable"),an=Symbol.for("immer-state");function Mn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var au=Object.getPrototypeOf;function qo(t){return!!t&&!!t[an]}function Xs(t){var e;return t?_O(t)||Array.isArray(t)||!!t[uS]||!!((e=t.constructor)!=null&&e[uS])||Nu(t)||sp(t):!1}var H9=Object.prototype.constructor.toString(),hS=new WeakMap;function _O(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=hS.get(r);return n===void 0&&(n=Function.toString.call(r),hS.set(r,n)),n===H9}function rm(t,e,r=!0){np(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((n,s)=>e(s,n,t))}function np(t){const e=t[an];return e?e.type_:Array.isArray(t)?1:Nu(t)?2:sp(t)?3:0}function Iv(t,e){return np(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function EO(t,e,r){const n=np(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function G9(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Nu(t){return t instanceof Map}function sp(t){return t instanceof Set}function Ao(t){return t.copy_||t.base_}function Pv(t,e){if(Nu(t))return new Map(t);if(sp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=_O(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[an];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const l=s[i],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(au(t),n)}else{const n=au(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function ow(t,e=!1){return ip(t)||qo(t)||!Xs(t)||(np(t)>1&&Object.defineProperties(t,{set:hf,add:hf,clear:hf,delete:hf}),Object.freeze(t),e&&Object.values(t).forEach(r=>ow(r,!0))),t}function V9(){Mn(2)}var hf={value:V9};function ip(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Y9={};function Ho(t){const e=Y9[t];return e||Mn(0,t),e}var nu;function SO(){return nu}function W9(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fS(t,e){e&&(Ho("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Mv(t){Lv(t),t.drafts_.forEach(X9),t.drafts_=null}function Lv(t){t===nu&&(nu=t.parent_)}function mS(t){return nu=W9(nu,t)}function X9(t){const e=t[an];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function pS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[an].modified_&&(Mv(e),Mn(4)),Xs(t)&&(t=am(e,t),e.parent_||nm(e,t)),e.patches_&&Ho("Patches").generateReplacementPatches_(r[an].base_,t,e.patches_,e.inversePatches_)):t=am(e,r,[]),Mv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==NO?t:void 0}function am(t,e,r){if(ip(e))return e;const n=t.immer_.shouldUseStrictIteration(),s=e[an];if(!s)return rm(e,(i,l)=>gS(t,s,e,i,l,r),n),e;if(s.scope_!==t)return e;if(!s.modified_)return nm(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let l=i,d=!1;s.type_===3&&(l=new Set(i),i.clear(),d=!0),rm(l,(u,f)=>gS(t,s,i,u,f,r,d),n),nm(t,i,!1),r&&t.patches_&&Ho("Patches").generatePatches_(s,r,t.patches_,t.inversePatches_)}return s.copy_}function gS(t,e,r,n,s,i,l){if(s==null||typeof s!="object"&&!l)return;const d=ip(s);if(!(d&&!l)){if(qo(s)){const u=i&&e&&e.type_!==3&&!Iv(e.assigned_,n)?i.concat(n):void 0,f=am(t,s,u);if(EO(r,n,f),qo(f))t.canAutoFreeze_=!1;else return}else l&&r.add(s);if(Xs(s)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===s&&d)return;am(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Nu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&nm(t,s)}}}function nm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ow(e,r)}function K9(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:SO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=lw;r&&(s=[n],i=su);const{revoke:l,proxy:d}=Proxy.revocable(s,i);return n.draft_=d,n.revoke_=l,d}var lw={get(t,e){if(e===an)return t;const r=Ao(t);if(!Iv(r,e))return J9(t,r,e);const n=r[e];return t.finalized_||!Xs(n)?n:n===fb(t.base_,e)?(mb(t),t.copy_[e]=$v(n,t)):n},has(t,e){return e in Ao(t)},ownKeys(t){return Reflect.ownKeys(Ao(t))},set(t,e,r){const n=kO(Ao(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=fb(Ao(t),e),i=s==null?void 0:s[an];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(G9(r,s)&&(r!==void 0||Iv(t.base_,e)))return!0;mb(t),Uv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mb(t),Uv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ao(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Mn(11)},getPrototypeOf(t){return au(t.base_)},setPrototypeOf(){Mn(12)}},su={};rm(lw,(t,e)=>{su[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});su.deleteProperty=function(t,e){return su.set.call(this,t,e,void 0)};su.set=function(t,e,r){return lw.set.call(this,t[0],e,r,t[0])};function fb(t,e){const r=t[an];return(r?Ao(r):t)[e]}function J9(t,e,r){var s;const n=kO(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function kO(t,e){if(!(e in t))return;let r=au(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=au(r)}}function Uv(t){t.modified_||(t.modified_=!0,t.parent_&&Uv(t.parent_))}function mb(t){t.copy_||(t.copy_=Pv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Q9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const l=this;return function(u=i,...f){return l.produce(u,m=>r.call(this,m,...f))}}typeof r!="function"&&Mn(6),n!==void 0&&typeof n!="function"&&Mn(7);let s;if(Xs(e)){const i=mS(this),l=$v(e,void 0);let d=!0;try{s=r(l),d=!1}finally{d?Mv(i):Lv(i)}return fS(i,n),pS(s,i)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===NO&&(s=void 0),this.autoFreeze_&&ow(s,!0),n){const i=[],l=[];Ho("Patches").generateReplacementPatches_(e,s,i,l),n(i,l)}return s}else Mn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,u=>e(u,...d));let n,s;return[this.produce(e,r,(l,d)=>{n=l,s=d}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xs(t)||Mn(8),qo(t)&&(t=Gs(t));const e=mS(this),r=$v(t,void 0);return r[an].isManual_=!0,Lv(e),r}finishDraft(t,e){const r=t&&t[an];(!r||!r.isManual_)&&Mn(9);const{scope_:n}=r;return fS(n,e),pS(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=Ho("Patches").applyPatches_;return qo(t)?n(t,e):this.produce(t,s=>n(s,e))}};function $v(t,e){const r=Nu(t)?Ho("MapSet").proxyMap_(t,e):sp(t)?Ho("MapSet").proxySet_(t,e):K9(t,e);return(e?e.scope_:SO()).drafts_.push(r),r}function Gs(t){return qo(t)||Mn(10,t),AO(t)}function AO(t){if(!Xs(t)||ip(t))return t;const e=t[an];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Pv(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Pv(t,!0);return rm(r,(s,i)=>{EO(r,s,AO(i))},n),e&&(e.finalized_=!1),r}var Bv=new Q9,CO=Bv.produce,Z9=Bv.setUseStrictIteration.bind(Bv);function TO(t){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,t):s(i)}var eB=TO(),tB=TO,rB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tm:tm.apply(null,arguments)};function Nn(t,e){function r(...n){if(e){let s=e(...n);if(!s)throw new Error(Za(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>jO(n)&&n.type===t,r}var OO=class Yd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yd.prototype)}static get[Symbol.species](){return Yd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yd(...e[0].concat(this)):new Yd(...e.concat(this))}};function xS(t){return Xs(t)?CO(t,()=>{}):t}function ff(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function aB(t){return typeof t=="boolean"}var nB=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let l=new OO;return r&&(aB(r)?l.push(eB):l.push(tB(r.extraArgument))),l},RO="RTK_autoBatch",wr=()=>t=>({payload:t,meta:{[RO]:!0}}),bS=t=>e=>{setTimeout(e,t)},DO=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let s=!0,i=!1,l=!1;const d=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bS(10):t.type==="callback"?t.queueNotification:bS(t.timeout),f=()=>{l=!1,i&&(i=!1,d.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>s&&m(),x=n.subscribe(p);return d.add(m),()=>{x(),d.delete(m)}},dispatch(m){var p;try{return s=!((p=m==null?void 0:m.meta)!=null&&p[RO]),i=!s,i&&(l||(l=!0,u(f))),n.dispatch(m)}finally{s=!0}}})},sB=t=>function(r){const{autoBatch:n=!0}=r??{};let s=new OO(t);return n&&s.push(DO(typeof n=="object"?n:void 0)),s};function iB(t){const e=nB(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:l=void 0}=t||{};let d;if(typeof r=="function")d=r;else if(iw(r))d=wO(r);else throw new Error(Za(1));let u;typeof n=="function"?u=n(e):u=e();let f=tm;s&&(f=rB({trace:!1,...typeof s=="object"&&s}));const m=q9(...u),p=sB(m);let x=typeof l=="function"?l(p):p();const v=f(...x);return yO(d,i,v)}function IO(t){const e={},r=[];let n;const s={addCase(i,l){const d=typeof i=="string"?i:i.type;if(!d)throw new Error(Za(28));if(d in e)throw new Error(Za(29));return e[d]=l,s},addAsyncThunk(i,l){return l.pending&&(e[i.pending.type]=l.pending),l.rejected&&(e[i.rejected.type]=l.rejected),l.fulfilled&&(e[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),s},addMatcher(i,l){return r.push({matcher:i,reducer:l}),s},addDefaultCase(i){return n=i,s}};return t(s),[e,r,n]}Z9(!1);function oB(t){return typeof t=="function"}function lB(t,e){let[r,n,s]=IO(e),i;if(oB(t))i=()=>xS(t());else{const d=xS(t);i=()=>d}function l(d=i(),u){let f=[r[u.type],...n.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[s]),f.reduce((m,p)=>{if(p)if(qo(m)){const v=p(m,u);return v===void 0?m:v}else{if(Xs(m))return CO(m,x=>p(x,u));{const x=p(m,u);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},d)}return l.getInitialState=i,l}var cB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dB=(t=21)=>{let e="",r=t;for(;r--;)e+=cB[Math.random()*64|0];return e},uB=Symbol.for("rtk-slice-createasyncthunk");function hB(t,e){return`${t}/${e}`}function fB({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[uB];return function(s){const{name:i,reducerPath:l=i}=s;if(!i)throw new Error(Za(11));const d=(typeof s.reducers=="function"?s.reducers(pB()):s.reducers)||{},u=Object.keys(d),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,C){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(Za(12));if(O in f.sliceCaseReducersByType)throw new Error(Za(13));return f.sliceCaseReducersByType[O]=C,m},addMatcher(A,C){return f.sliceMatchers.push({matcher:A,reducer:C}),m},exposeAction(A,C){return f.actionCreators[A]=C,m},exposeCaseReducer(A,C){return f.sliceCaseReducersByName[A]=C,m}};u.forEach(A=>{const C=d[A],O={reducerName:A,type:hB(i,A),createNotation:typeof s.reducers=="function"};xB(C)?vB(O,C,m,e):gB(O,C,m)});function p(){const[A={},C=[],O=void 0]=typeof s.extraReducers=="function"?IO(s.extraReducers):[s.extraReducers],R={...A,...f.sliceCaseReducersByType};return lB(s.initialState,L=>{for(let $ in R)L.addCase($,R[$]);for(let $ of f.sliceMatchers)L.addMatcher($.matcher,$.reducer);for(let $ of C)L.addMatcher($.matcher,$.reducer);O&&L.addDefaultCase(O)})}const x=A=>A,v=new Map,y=new WeakMap;let N;function w(A,C){return N||(N=p()),N(A,C)}function E(){return N||(N=p()),N.getInitialState()}function k(A,C=!1){function O(L){let $=L[A];return typeof $>"u"&&C&&($=ff(y,O,E)),$}function R(L=x){const $=ff(v,C,()=>new WeakMap);return ff($,L,()=>{const M={};for(const[H,q]of Object.entries(s.selectors??{}))M[H]=mB(q,L,()=>ff(y,L,E),C);return M})}return{reducerPath:A,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const S={name:i,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...k(l),injectInto(A,{reducerPath:C,...O}={}){const R=C??l;return A.inject({reducerPath:R,reducer:w},O),{...S,...k(R,!0)}}};return S}}function mB(t,e,r,n){function s(i,...l){let d=e(i);return typeof d>"u"&&n&&(d=r()),t(d,...l)}return s.unwrapped=t,s}var Pa=fB();function pB(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function gB({type:t,reducerName:e,createNotation:r},n,s){let i,l;if("reducer"in n){if(r&&!bB(n))throw new Error(Za(17));i=n.reducer,l=n.prepare}else i=n;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,l?Nn(t,l):Nn(t))}function xB(t){return t._reducerDefinitionType==="asyncThunk"}function bB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function vB({type:t,reducerName:e},r,n,s){if(!s)throw new Error(Za(18));const{payloadCreator:i,fulfilled:l,pending:d,rejected:u,settled:f,options:m}=r,p=s(t,i,m);n.exposeAction(e,p),l&&n.addCase(p.fulfilled,l),d&&n.addCase(p.pending,d),u&&n.addCase(p.rejected,u),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(e,{fulfilled:l||mf,pending:d||mf,rejected:u||mf,settled:f||mf})}function mf(){}var yB="task",PO="listener",MO="completed",cw="cancelled",wB=`task-${cw}`,jB=`task-${MO}`,zv=`${PO}-${cw}`,NB=`${PO}-${MO}`,op=class{constructor(t){t0(this,"name","TaskAbortError");t0(this,"message");this.code=t,this.message=`${yB} ${cw} (reason: ${t})`}},dw=(t,e)=>{if(typeof t!="function")throw new TypeError(Za(32))},sm=()=>{},LO=(t,e=sm)=>(t.catch(e),t),UO=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Lo=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Uo=t=>{if(t.aborted){const{reason:e}=t;throw new op(e)}};function $O(t,e){let r=sm;return new Promise((n,s)=>{const i=()=>s(new op(t.reason));if(t.aborted){i();return}r=UO(t,i),e.finally(()=>r()).then(n,s)}).finally(()=>{r=sm})}var _B=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof op?"cancelled":"rejected",error:r}}finally{e==null||e()}},im=t=>e=>LO($O(t,e).then(r=>(Uo(t),r))),BO=t=>{const e=im(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:sc}=Object,vS={},lp="listenerMiddleware",EB=(t,e)=>{const r=n=>UO(t,()=>Lo(n,t.reason));return(n,s)=>{dw(n);const i=new AbortController;r(i);const l=_B(async()=>{Uo(t),Uo(i.signal);const d=await n({pause:im(i.signal),delay:BO(i.signal),signal:i.signal});return Uo(i.signal),d},()=>Lo(i,jB));return s!=null&&s.autoJoin&&e.push(l.catch(sm)),{result:im(t)(l),cancel(){Lo(i,wB)}}}},SB=(t,e)=>{const r=async(n,s)=>{Uo(e);let i=()=>{};const d=[new Promise((u,f)=>{let m=t({predicate:n,effect:(p,x)=>{x.unsubscribe(),u([p,x.getState(),x.getOriginalState()])}});i=()=>{m(),f()}})];s!=null&&d.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await $O(e,Promise.race(d));return Uo(e),u}finally{i()}};return(n,s)=>LO(r(n,s))},zO=t=>{let{type:e,actionCreator:r,matcher:n,predicate:s,effect:i}=t;if(e)s=Nn(e).match;else if(r)e=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Za(21));return dw(i),{predicate:s,type:e,effect:i}},FO=sc(t=>{const{type:e,predicate:r,effect:n}=zO(t);return{id:dB(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Za(22))}}},{withTypes:()=>FO}),yS=(t,e)=>{const{type:r,effect:n,predicate:s}=zO(e);return Array.from(t.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Fv=t=>{t.pending.forEach(e=>{Lo(e,zv)})},kB=(t,e)=>()=>{for(const r of e.keys())Fv(r);t.clear()},wS=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},qO=sc(Nn(`${lp}/add`),{withTypes:()=>qO}),AB=Nn(`${lp}/removeAll`),HO=sc(Nn(`${lp}/remove`),{withTypes:()=>HO}),CB=(...t)=>{console.error(`${lp}/error`,...t)},_u=(t={})=>{const e=new Map,r=new Map,n=v=>{const y=r.get(v)??0;r.set(v,y+1)},s=v=>{const y=r.get(v)??1;y===1?r.delete(v):r.set(v,y-1)},{extra:i,onError:l=CB}=t;dw(l);const d=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),y=>{v.unsubscribe(),y!=null&&y.cancelActive&&Fv(v)}),u=v=>{const y=yS(e,v)??FO(v);return d(y)};sc(u,{withTypes:()=>u});const f=v=>{const y=yS(e,v);return y&&(y.unsubscribe(),v.cancelActive&&Fv(y)),!!y};sc(f,{withTypes:()=>f});const m=async(v,y,N,w)=>{const E=new AbortController,k=SB(u,E.signal),S=[];try{v.pending.add(E),n(v),await Promise.resolve(v.effect(y,sc({},N,{getOriginalState:w,condition:(A,C)=>k(A,C).then(Boolean),take:k,delay:BO(E.signal),pause:im(E.signal),extra:i,signal:E.signal,fork:EB(E.signal,S),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((A,C,O)=>{A!==E&&(Lo(A,zv),O.delete(A))})},cancel:()=>{Lo(E,zv),v.pending.delete(E)},throwIfCancelled:()=>{Uo(E.signal)}})))}catch(A){A instanceof op||wS(l,A,{raisedBy:"effect"})}finally{await Promise.all(S),Lo(E,NB),s(v),v.pending.delete(E)}},p=kB(e,r);return{middleware:v=>y=>N=>{if(!jO(N))return y(N);if(qO.match(N))return u(N.payload);if(AB.match(N)){p();return}if(HO.match(N))return f(N.payload);let w=v.getState();const E=()=>{if(w===vS)throw new Error(Za(23));return w};let k;try{if(k=y(N),e.size>0){const S=v.getState(),A=Array.from(e.values());for(const C of A){let O=!1;try{O=C.predicate(N,S,w)}catch(R){O=!1,wS(l,R,{raisedBy:"predicate"})}O&&m(C,N,v,E)}}}finally{w=vS}return k},startListening:u,stopListening:f,clearListeners:p}};function Za(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GO=Pa({name:"chartLayout",initialState:TB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,s,i;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(s=e.payload.bottom)!==null&&s!==void 0?s:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:OB,setLayout:RB,setChartSize:DB,setScale:IB}=GO.actions,PB=GO.reducer;function VO(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function jS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(r),!0).forEach(function(n){MB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MB(t,e,r){return(e=LB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LB(t){var e=UB(t,"string");return typeof e=="symbol"?e:e+""}function UB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(t,e,r){return Jr(t)||Jr(e)?r:hs(e)?rp(t,e,r):typeof e=="function"?e(t):r}var $B=(t,e,r)=>{if(e&&r){var{width:n,height:s}=r,{align:i,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&i!=="center"&&Fe(t[i]))return Zl(Zl({},t),{},{[i]:t[i]+(n||0)});if((d==="horizontal"||d==="vertical"&&i==="center")&&l!=="middle"&&Fe(t[l]))return Zl(Zl({},t),{},{[l]:t[l]+(s||0)})}return t},ai=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",YO=(t,e,r,n)=>{if(n)return t.map(d=>d.coordinate);var s,i,l=t.map(d=>(d.coordinate===e&&(s=!0),d.coordinate===r&&(i=!0),d.coordinate));return s||l.push(e),i||l.push(r),l},WO=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:s,range:i,scale:l,realScaleType:d,isCategorical:u,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:x,axisType:v}=t;if(!l)return null;var y=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,N=s==="category"&&l.bandwidth?l.bandwidth()/y:0;if(N=v==="angleAxis"&&i&&i.length>=2?vn(i[0]-i[1])*2*N:N,p||x){var w=(p||x||[]).map((E,k)=>{var S=n?n.indexOf(E):E;return{coordinate:l(S)+N,value:E,offset:N,index:k}});return w.filter(E=>!Fn(E.coordinate))}return u&&f?f.map((E,k)=>({coordinate:l(E)+N,value:E,index:k,offset:N})):l.ticks&&m!=null?l.ticks(m).map((E,k)=>({coordinate:l(E)+N,value:E,offset:N,index:k})):l.domain().map((E,k)=>({coordinate:l(E)+N,value:n?n[E]:E,index:k,offset:N}))},NS=1e-4,BB=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),s=Math.min(n[0],n[1])-NS,i=Math.max(n[0],n[1])+NS,l=t(e[0]),d=t(e[r-1]);(l<s||l>i||d<s||d>i)&&t.domain([e[0],e[r-1]])}},zB=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var s=0,i=0,l=0;l<e;++l){var d=Fn(t[l][r][1])?t[l][r][0]:t[l][r][1];d>=0?(t[l][r][0]=s,t[l][r][1]=s+d,s=t[l][r][1]):(t[l][r][0]=i,t[l][r][1]=i+d,i=t[l][r][1])}},FB=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var s=0,i=0;i<e;++i){var l=Fn(t[i][r][1])?t[i][r][0]:t[i][r][1];l>=0?(t[i][r][0]=s,t[i][r][1]=s+l,s=t[i][r][1]):(t[i][r][0]=0,t[i][r][1]=0)}},qB={sign:zB,expand:O$,none:fc,silhouette:R$,wiggle:D$,positive:FB},HB=(t,e,r)=>{var n=qB[r],s=T$().keys(e).value((i,l)=>Number(pa(i,l,0))).order(Dv).offset(n);return s(t)};function GB(t){return t==null?void 0:String(t)}function _S(t){var{axis:e,ticks:r,bandSize:n,entry:s,index:i,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jr(s[e.dataKey])){var d=sO(r,"value",s[e.dataKey]);if(d)return d.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=pa(s,Jr(l)?e.dataKey:l);return Jr(u)?null:e.scale(u)}var VB=t=>{var e=t.flat(2).filter(Fe);return[Math.min(...e),Math.max(...e)]},YB=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],WB=(t,e,r)=>{if(t!=null)return YB(Object.keys(t).reduce((n,s)=>{var i=t[s],{stackedData:l}=i,d=l.reduce((u,f)=>{var m=VO(f,e,r),p=VB(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},ES=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,om=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var s=ap(e,m=>m.coordinate),i=1/0,l=1,d=s.length;l<d;l++){var u=s[l],f=s[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function kS(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:s,name:i}=t;return Zl(Zl({},e),{},{dataKey:r,payload:n,value:s,name:i})}function XO(t,e){if(t)return String(t);if(typeof e=="string")return e}var XB=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},KB=(t,e)=>e==="centric"?t.angle:t.radius,ni=t=>t.layout.width,si=t=>t.layout.height,JB=t=>t.layout.scale,KO=t=>t.layout.margin,cp=pe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),dp=pe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),QB="data-recharts-item-index",ZB="data-recharts-item-data-key",Eu=60;function AS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(r),!0).forEach(function(n){ez(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ez(t,e,r){return(e=tz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tz(t){var e=rz(t,"string");return typeof e=="symbol"?e:e+""}function rz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var az=t=>t.brush.height;function nz(t){var e=dp(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Eu;return r+s}return r},0)}function sz(t){var e=dp(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Eu;return r+s}return r},0)}function iz(t){var e=cp(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function oz(t){var e=cp(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Zr=pe([ni,si,KO,az,nz,sz,iz,oz,vO,L9],(t,e,r,n,s,i,l,d,u,f)=>{var m={left:(r.left||0)+s,right:(r.right||0)+i},p={top:(r.top||0)+l,bottom:(r.bottom||0)+d},x=pf(pf({},p),m),v=x.bottom;x.bottom+=n,x=$B(x,u,f);var y=t-x.left-x.right,N=e-x.top-x.bottom;return pf(pf({brushBottom:v},x),{},{width:Math.max(y,0),height:Math.max(N,0)})}),lz=pe(Zr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),JO=pe(ni,si,(t,e)=>({x:0,y:0,width:t,height:e})),cz=b.createContext(null),Ma=()=>b.useContext(cz)!=null,up=t=>t.brush,hp=pe([up,Zr,KO],(t,e,r)=>({height:t.height,x:Fe(t.x)?t.x:e.left,y:Fe(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:Fe(t.width)?t.width:e.width})),pb={},gb={},xb={},CS;function dz(){return CS||(CS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:s,edges:i}={}){let l,d=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),m=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},p=()=>{f&&m(),N()};let x=null;const v=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,p()},n)},y=()=>{x!==null&&(clearTimeout(x),x=null)},N=()=>{y(),l=void 0,d=null},w=()=>{m()},E=function(...k){if(s!=null&&s.aborted)return;l=this,d=k;const S=x==null;v(),u&&S&&m()};return E.schedule=v,E.cancel=N,E.flush=w,s==null||s.addEventListener("abort",N,{once:!0}),E}t.debounce=e})(xb)),xb}var TS;function uz(){return TS||(TS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dz();function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:d=!0,maxWait:u}=i,f=Array(2);l&&(f[0]="leading"),d&&(f[1]="trailing");let m,p=null;const x=e.debounce(function(...N){m=n.apply(this,N),p=null},s,{edges:f}),v=function(...N){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=n.apply(this,N),p=Date.now(),x.cancel(),x.schedule(),m):(x.apply(this,N),m)},y=()=>(x.flush(),m);return v.cancel=x.cancel,v.flush=y,v}t.debounce=r})(gb)),gb}var OS;function hz(){return OS||(OS=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uz();function r(n,s=0,i={}){const{leading:l=!0,trailing:d=!0}=i;return e.debounce(n,s,{leading:l,maxWait:s,trailing:d})}t.throttle=r})(pb)),pb}var bb,RS;function fz(){return RS||(RS=1,bb=hz().throttle),bb}var mz=fz();const pz=Wn(mz);var lm=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},QO=(t,e,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:l}=r,d=Ws(n)?t:Number(n),u=Ws(s)?e:Number(s);return i&&i>0&&(d?u=d/i:u&&(d=u*i),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:d,calculatedHeight:u}},gz={width:0,height:0,overflow:"visible"},xz={width:0,overflowX:"visible"},bz={height:0,overflowY:"visible"},vz={},yz=t=>{var{width:e,height:r}=t,n=Ws(e),s=Ws(r);return n&&s?gz:n?xz:s?bz:vz};function wz(t){var{width:e,height:r,aspect:n}=t,s=e,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function er(t){return Number.isFinite(t)}function fs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(null,arguments)}function DS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function IS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(r),!0).forEach(function(n){jz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jz(t,e,r){return(e=Nz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=_z(t,"string");return typeof e=="symbol"?e:e+""}function _z(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZO=b.createContext({width:-1,height:-1});function Ez(t){return fs(t.width)&&fs(t.height)}function e4(t){var{children:e,width:r,height:n}=t,s=b.useMemo(()=>({width:r,height:n}),[r,n]);return Ez(s)?b.createElement(ZO.Provider,{value:s},e):null}var uw=()=>b.useContext(ZO),Sz=b.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:l=0,minHeight:d,maxHeight:u,children:f,debounce:m=0,id:p,className:x,onResize:v,style:y={}}=t,N=b.useRef(null),w=b.useRef();w.current=v,b.useImperativeHandle(e,()=>N.current);var[E,k]=b.useState({containerWidth:n.width,containerHeight:n.height}),S=b.useCallback((L,$)=>{k(M=>{var H=Math.round(L),q=Math.round($);return M.containerWidth===H&&M.containerHeight===q?M:{containerWidth:H,containerHeight:q}})},[]);b.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return kc;var L=q=>{var F,{width:X,height:ue}=q[0].contentRect;S(X,ue),(F=w.current)===null||F===void 0||F.call(w,X,ue)};m>0&&(L=pz(L,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),{width:M,height:H}=N.current.getBoundingClientRect();return S(M,H),$.observe(N.current),()=>{$.disconnect()}},[S,m]);var{containerWidth:A,containerHeight:C}=E;lm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:R}=QO(A,C,{width:s,height:i,aspect:r,maxHeight:u});return lm(O!=null&&O>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,R,s,i,l,d,r),b.createElement("div",{id:p?"".concat(p):void 0,className:Ft("recharts-responsive-container",x),style:IS(IS({},y),{},{width:s,height:i,minWidth:l,minHeight:d,maxHeight:u}),ref:N},b.createElement("div",{style:yz({width:s,height:i})},b.createElement(e4,{width:O,height:R},f)))}),kz=b.forwardRef((t,e)=>{var r=uw();if(fs(r.width)&&fs(r.height))return t.children;var{width:n,height:s}=wz({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:i,calculatedHeight:l}=QO(void 0,void 0,{width:n,height:s,aspect:t.aspect,maxHeight:t.maxHeight});return Fe(i)&&Fe(l)?b.createElement(e4,{width:i,height:l},t.children):b.createElement(Sz,qv({},t,{width:n,height:s,ref:e}))});function t4(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var fp=()=>{var t,e=Ma(),r=Ge(lz),n=Ge(hp),s=(t=Ge(up))===null||t===void 0?void 0:t.padding;return!e||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},Az={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},r4=()=>{var t;return(t=Ge(Zr))!==null&&t!==void 0?t:Az},a4=()=>Ge(ni),n4=()=>Ge(si),Mt=t=>t.layout.layoutType,mp=()=>Ge(Mt),Cz=()=>{var t=mp();return t!==void 0},pp=t=>{var e=Lr(),r=Ma(),{width:n,height:s}=t,i=uw(),l=n,d=s;return i&&(l=i.width>0?i.width:n,d=i.height>0?i.height:s),b.useEffect(()=>{!r&&fs(l)&&fs(d)&&e(DB({width:l,height:d}))},[e,r,l,d]),null},Tz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},s4=Pa({name:"legend",initialState:Tz,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:wr()},removeLegendPayload:{reducer(t,e){var r=Gs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:wr()}}}),{setLegendSize:dce,setLegendSettings:uce,addLegendPayload:Oz,removeLegendPayload:Rz}=s4.actions,Dz=s4.reducer;function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hv.apply(null,arguments)}function PS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(r),!0).forEach(function(n){Iz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iz(t,e,r){return(e=Pz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pz(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Mz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lz(t){return Array.isArray(t)&&hs(t[0])&&hs(t[1])?t.join(" ~ "):t}var Uz=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:l,itemSorter:d,wrapperClassName:u,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:x=!1}=t,v=()=>{if(i&&i.length){var C={padding:0,margin:0},O=(d?ap(i,d):i).map((R,L)=>{if(R.type==="none")return null;var $=R.formatter||l||Lz,{value:M,name:H}=R,q=M,F=H;if($){var X=$(M,H,R,L,i);if(Array.isArray(X))[q,F]=X;else if(X!=null)q=X;else return null}var ue=vb({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:ue},hs(F)?b.createElement("span",{className:"recharts-tooltip-item-name"},F):null,hs(F)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},q),b.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:C},O)}return null},y=vb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=vb({margin:0},s),w=!Jr(m),E=w?m:"",k=Ft("recharts-default-tooltip",u),S=Ft("recharts-tooltip-label",f);w&&p&&i!==void 0&&i!==null&&(E=p(m,i));var A=x?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Hv({className:k,style:y},A),b.createElement("p",{className:S,style:N},b.isValidElement(E)?E:"".concat(E)),v())},Rd="recharts-tooltip-wrapper",$z={visibility:"hidden"};function Bz(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ft(Rd,{["".concat(Rd,"-right")]:Fe(r)&&e&&Fe(e.x)&&r>=e.x,["".concat(Rd,"-left")]:Fe(r)&&e&&Fe(e.x)&&r<e.x,["".concat(Rd,"-bottom")]:Fe(n)&&e&&Fe(e.y)&&n>=e.y,["".concat(Rd,"-top")]:Fe(n)&&e&&Fe(e.y)&&n<e.y})}function MS(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:l,tooltipDimension:d,viewBox:u,viewBoxDimension:f}=t;if(i&&Fe(i[n]))return i[n];var m=r[n]-d-(s>0?s:0),p=r[n]+s;if(e[n])return l[n]?m:p;var x=u[n];if(x==null)return 0;if(l[n]){var v=m,y=x;return v<y?Math.max(p,x):Math.max(m,x)}if(f==null)return 0;var N=p+d,w=x+f;return N>w?Math.max(m,x):Math.max(p,x)}function zz(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Fz(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:l,useTranslate3d:d,viewBox:u}=t,f,m,p;return l.height>0&&l.width>0&&r?(m=MS({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),p=MS({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=zz({translateX:m,translateY:p,useTranslate3d:d})):f=$z,{cssProperties:f,cssClasses:Bz({translateX:m,translateY:p,coordinate:r})}}function LS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(r),!0).forEach(function(n){Gv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gv(t,e,r){return(e=qz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qz(t){var e=Hz(t,"string");return typeof e=="symbol"?e:e+""}function Hz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gz extends b.PureComponent{constructor(){super(...arguments),Gv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:l,hasPayload:d,isAnimationActive:u,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:v,wrapperStyle:y,lastBoundingBox:N,innerRef:w,hasPortalFromProps:E}=this.props,{cssClasses:k,cssProperties:S}=Fz({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:v}),A=E?{}:gf(gf({transition:u&&e?"transform ".concat(n,"ms ").concat(s):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),C=gf(gf({},A),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},y);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:C,ref:w},i)}}var Vz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ac={devToolsEnabled:!1,isSsr:Vz()},i4=()=>{var t;return(t=Ge(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(null,arguments)}function US(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?US(Object(r),!0).forEach(function(n){Yz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yz(t,e,r){return(e=Wz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wz(t){var e=Xz(t,"string");return typeof e=="symbol"?e:e+""}function Xz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BS={curveBasisClosed:v$,curveBasisOpen:y$,curveBasis:b$,curveBumpX:g$,curveBumpY:x$,curveLinearClosed:w$,curveLinear:ep,curveMonotoneX:j$,curveMonotoneY:N$,curveNatural:_$,curveStep:E$,curveStepAfter:k$,curveStepBefore:S$},cm=t=>er(t.x)&&er(t.y),zS=t=>t.base!=null&&cm(t.base)&&cm(t),Dd=t=>t.x,Id=t=>t.y,Kz=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(rw(t));return(r==="curveMonotone"||r==="curveBump")&&e?BS["".concat(r).concat(e==="vertical"?"Y":"X")]:BS[r]||ep},Jz=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=t,l=Kz(e,s),d=i?r.filter(cm):r,u;if(Array.isArray(n)){var f=r.map((v,y)=>$S($S({},v),{},{base:n[y]}));s==="vertical"?u=cf().y(Id).x1(Dd).x0(v=>v.base.x):u=cf().x(Dd).y1(Id).y0(v=>v.base.y);var m=u.defined(zS).curve(l),p=i?f.filter(zS):f;return m(p)}s==="vertical"&&Fe(n)?u=cf().y(Id).x1(Dd).x0(n):Fe(n)?u=cf().x(Dd).y1(Id).y0(n):u=WT().x(Dd).y(Id);var x=u.defined(cm).curve(l);return x(d)},Uf=t=>{var{className:e,points:r,path:n,pathRef:s}=t;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Jz(t):n;return b.createElement("path",Vv({},zn(t),aw(t),{className:Ft("recharts-curve",e),d:i===null?void 0:i,ref:s}))},Qz=["x","y","top","left","width","height","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(null,arguments)}function FS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(r),!0).forEach(function(n){eF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eF(t,e,r){return(e=tF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tF(t){var e=rF(t,"string");return typeof e=="symbol"?e:e+""}function rF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aF(t,e){if(t==null)return{};var r,n,s=nF(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function nF(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var sF=(t,e,r,n,s,i)=>"M".concat(t,",").concat(s,"v").concat(n,"M").concat(i,",").concat(e,"h").concat(r),iF=t=>{var{x:e=0,y:r=0,top:n=0,left:s=0,width:i=0,height:l=0,className:d}=t,u=aF(t,Qz),f=Zz({x:e,y:r,top:n,left:s,width:i,height:l},u);return!Fe(e)||!Fe(r)||!Fe(i)||!Fe(l)||!Fe(n)||!Fe(s)?null:b.createElement("path",Yv({},jn(f),{className:Ft("recharts-cross",d),d:sF(e,r,i,l,n,s)}))};function oF(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function HS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){lF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lF(t,e,r){return(e=cF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cF(t){var e=dF(t,"string");return typeof e=="symbol"?e:e+""}function dF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uF=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),hF=(t,e,r)=>t.map(n=>"".concat(uF(n)," ").concat(e,"ms ").concat(r)).join(","),fF=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(s=>n.includes(s))),iu=(t,e)=>Object.keys(e).reduce((r,n)=>HS(HS({},r),{},{[n]:t(n,e[n])}),{});function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){mF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mF(t,e,r){return(e=pF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pF(t){var e=gF(t,"string");return typeof e=="symbol"?e:e+""}function gF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm=(t,e,r)=>t+(e-t)*r,Wv=t=>{var{from:e,to:r}=t;return e!==r},o4=(t,e,r)=>{var n=iu((s,i)=>{if(Wv(i)){var[l,d]=t(i.from,i.to,i.velocity);return yr(yr({},i),{},{from:l,velocity:d})}return i},e);return r<1?iu((s,i)=>Wv(i)?yr(yr({},i),{},{velocity:dm(i.velocity,n[s].velocity,r),from:dm(i.from,n[s].from,r)}):i,e):o4(t,n,r-1)};function xF(t,e,r,n,s,i){var l,d=n.reduce((x,v)=>yr(yr({},x),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>iu((x,v)=>v.from,d),f=()=>!Object.values(d).filter(Wv).length,m=null,p=x=>{l||(l=x);var v=x-l,y=v/r.dt;d=o4(r,d,y),s(yr(yr(yr({},t),e),u())),l=x,f()||(m=i.setTimeout(p))};return()=>(m=i.setTimeout(p),()=>{var x;(x=m)===null||x===void 0||x()})}function bF(t,e,r,n,s,i,l){var d=null,u=s.reduce((p,x)=>yr(yr({},p),{},{[x]:[t[x],e[x]]}),{}),f,m=p=>{f||(f=p);var x=(p-f)/n,v=iu((N,w)=>dm(...w,r(x)),u);if(i(yr(yr(yr({},t),e),v)),x<1)d=l.setTimeout(m);else{var y=iu((N,w)=>dm(...w,r(1)),u);i(yr(yr(yr({},t),e),y))}};return()=>(d=l.setTimeout(m),()=>{var p;(p=d)===null||p===void 0||p()})}const vF=(t,e,r,n,s,i)=>{var l=fF(t,e);return r==null?()=>(s(yr(yr({},t),e)),()=>{}):r.isStepper===!0?xF(t,e,r,l,s,i):bF(t,e,r,n,l,s,i)};var um=1e-4,l4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],c4=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),VS=(t,e)=>r=>{var n=l4(t,e);return c4(n,r)},yF=(t,e)=>r=>{var n=l4(t,e),s=[...n.map((i,l)=>i*l).slice(1),0];return c4(s,r)},wF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((s=i[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var l=i[1].split(")")[0].split(",").map(d=>parseFloat(d));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},jF=(t,e,r,n)=>{var s=VS(t,r),i=VS(e,n),l=yF(t,r),d=f=>f>1?1:f<0?0:f,u=f=>{for(var m=f>1?1:f,p=m,x=0;x<8;++x){var v=s(p)-m,y=l(p);if(Math.abs(v-m)<um||y<um)return i(p);p=d(p-v/y)}return i(p)};return u.isStepper=!1,u},YS=function(){return jF(...wF(...arguments))},NF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=e,i=(l,d,u)=>{var f=-(l-d)*r,m=u*n,p=u+(f-m)*s/1e3,x=u*s/1e3+l;return Math.abs(x-d)<um&&Math.abs(p)<um?[d,0]:[x,p]};return i.isStepper=!0,i.dt=s,i},_F=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YS(t);case"spring":return NF();default:if(t.split("(")[0]==="cubic-bezier")return YS(t)}return typeof t=="function"?t:null};function EF(t){var e,r=()=>null,n=!1,s=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[u,...f]=d;if(typeof u=="number"){s=t.setTimeout(i.bind(null,f),u);return}i(u),s=t.setTimeout(i.bind(null,f));return}typeof l=="string"&&(e=l,r(e)),typeof l=="object"&&(e=l,r(e)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,s&&(s(),s=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>t}}class SF{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=l=>{l-n>=r?e(l):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function kF(){return EF(new SF)}var AF=b.createContext(kF);function CF(t,e){var r=b.useContext(AF);return b.useMemo(()=>e??r(t),[t,e,r])}var TF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WS={t:0},yb={t:1};function d4(t){var e=nn(t,TF),{isActive:r,canBegin:n,duration:s,easing:i,begin:l,onAnimationEnd:d,onAnimationStart:u,children:f}=e,m=CF(e.animationId,e.animationManager),[p,x]=b.useState(r?WS:yb),v=b.useRef(null);return b.useEffect(()=>{r||x(yb)},[r]),b.useEffect(()=>{if(!r||!n)return kc;var y=vF(WS,yb,_F(i),s,x,m.getTimeoutController()),N=()=>{v.current=y()};return m.start([u,l,N,s,d]),()=>{m.stop(),v.current&&v.current(),d()}},[r,n,s,i,l,u,d,m]),f(p.t)}function u4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(ru(e)),n=b.useRef(t);return n.current!==t&&(r.current=ru(e),n.current=t),r.current}var OF=["radius"],RF=["radius"];function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function KS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){DF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DF(t,e,r){return(e=IF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IF(t){var e=PF(t,"string");return typeof e=="symbol"?e:e+""}function PF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hm.apply(null,arguments)}function JS(t,e){if(t==null)return{};var r,n,s=MF(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function MF(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var QS=(t,e,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,d=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,x=4;p<x;p++)m[p]=s[p]>i?i:s[p];f="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+d*m[0],",").concat(e)),f+="L ".concat(t+r-d*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(e+l*m[1])),f+="L ".concat(t+r,",").concat(e+n-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+r-d*m[2],",").concat(e+n)),f+="L ".concat(t+d*m[3],",").concat(e+n),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+n-l*m[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var v=Math.min(i,s);f="M ".concat(t,",").concat(e+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+d*v,",").concat(e,`
            L `).concat(t+r-d*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(e+l*v,`
            L `).concat(t+r,",").concat(e+n-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-d*v,",").concat(e+n,`
            L `).concat(t+d*v,",").concat(e+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+n-l*v," Z")}else f="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},ZS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LF=t=>{var e=nn(t,ZS),r=b.useRef(null),[n,s]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var{x:i,y:l,width:d,height:u,radius:f,className:m}=e,{animationEasing:p,animationDuration:x,animationBegin:v,isAnimationActive:y,isUpdateAnimationActive:N}=e,w=b.useRef(d),E=b.useRef(u),k=b.useRef(i),S=b.useRef(l),A=b.useMemo(()=>({x:i,y:l,width:d,height:u,radius:f}),[i,l,d,u,f]),C=u4(A,"rectangle-");if(i!==+i||l!==+l||d!==+d||u!==+u||d===0||u===0)return null;var O=Ft("recharts-rectangle",m);if(!N){var R=jn(e),{radius:L}=R,$=JS(R,OF);return b.createElement("path",hm({},$,{radius:typeof f=="number"?f:void 0,className:O,d:QS(i,l,d,u,f)}))}var M=w.current,H=E.current,q=k.current,F=S.current,X="0px ".concat(n===-1?1:n,"px"),ue="".concat(n,"px 0px"),B=hF(["strokeDasharray"],x,typeof p=="string"?p:ZS.animationEasing);return b.createElement(d4,{animationId:C,key:C,canBegin:n>0,duration:x,easing:p,isActive:N,begin:v},I=>{var z=is(M,d,I),oe=is(H,u,I),K=is(q,i,I),D=is(F,l,I);r.current&&(w.current=z,E.current=oe,k.current=K,S.current=D);var U;y?I>0?U={transition:B,strokeDasharray:ue}:U={strokeDasharray:X}:U={strokeDasharray:ue};var W=jn(e),{radius:re}=W,he=JS(W,RF);return b.createElement("path",hm({},he,{radius:typeof f=="number"?f:void 0,className:O,d:QS(K,D,z,oe,f),ref:r,style:KS(KS({},U),e.style)}))})};function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){UF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UF(t,e,r){return(e=$F(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $F(t){var e=BF(t,"string");return typeof e=="symbol"?e:e+""}function BF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm=Math.PI/180,zF=t=>t*180/Math.PI,Kr=(t,e,r,n)=>({x:t+Math.cos(-fm*n)*r,y:e+Math.sin(-fm*n)*r}),FF=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qF=(t,e)=>{var{x:r,y:n}=t,{x:s,y:i}=e;return Math.sqrt((r-s)**2+(n-i)**2)},HF=(t,e)=>{var{x:r,y:n}=t,{cx:s,cy:i}=e,l=qF({x:r,y:n},{x:s,y:i});if(l<=0)return{radius:l,angle:0};var d=(r-s)/l,u=Math.acos(d);return n>i&&(u=2*Math.PI-u),{radius:l,angle:zF(u),angleInRadian:u}},GF=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:e-i*360,endAngle:r-i*360}},VF=(t,e)=>{var{startAngle:r,endAngle:n}=e,s=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(s,i);return t+l*360},YF=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:s,angle:i}=HF({x:r,y:n},e),{innerRadius:l,outerRadius:d}=e;if(s<l||s>d||s===0)return null;var{startAngle:u,endAngle:f}=GF(e),m=i,p;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=u}return p?tk(tk({},e),{},{radius:s,angle:VF(m,e)}):null};function h4(t){var{cx:e,cy:r,radius:n,startAngle:s,endAngle:i}=t,l=Kr(e,r,n,s),d=Kr(e,r,n,i);return{points:[l,d],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(null,arguments)}var WF=(t,e)=>{var r=vn(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},xf=t=>{var{cx:e,cy:r,radius:n,angle:s,sign:i,isExternal:l,cornerRadius:d,cornerIsExternal:u}=t,f=d*(l?1:-1)+n,m=Math.asin(d/f)/fm,p=u?s:s+i*m,x=Kr(e,r,f,p),v=Kr(e,r,n,p),y=u?s-i*m:s,N=Kr(e,r,f*Math.cos(m*fm),y);return{center:x,circleTangency:v,lineTangency:N,theta:m}},f4=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:l}=t,d=WF(i,l),u=i+d,f=Kr(e,r,s,i),m=Kr(e,r,s,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(i>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var x=Kr(e,r,n,i),v=Kr(e,r,n,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(i<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},XF=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:d,startAngle:u,endAngle:f}=t,m=vn(f-u),{circleTangency:p,lineTangency:x,theta:v}=xf({cx:e,cy:r,radius:s,angle:u,sign:m,cornerRadius:i,cornerIsExternal:d}),{circleTangency:y,lineTangency:N,theta:w}=xf({cx:e,cy:r,radius:s,angle:f,sign:-m,cornerRadius:i,cornerIsExternal:d}),E=d?Math.abs(u-f):Math.abs(u-f)-v-w;if(E<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):f4({cx:e,cy:r,innerRadius:n,outerRadius:s,startAngle:u,endAngle:f});var k="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:A,theta:C}=xf({cx:e,cy:r,radius:n,angle:u,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),{circleTangency:O,lineTangency:R,theta:L}=xf({cx:e,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),$=d?Math.abs(u-f):Math.abs(u-f)-C-L;if($<0&&i===0)return"".concat(k,"L").concat(e,",").concat(r,"Z");k+="L".concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(m>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,"Z")}else k+="L".concat(e,",").concat(r,"Z");return k},KF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JF=t=>{var e=nn(t,KF),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:u,startAngle:f,endAngle:m,className:p}=e;if(i<s||f===m)return null;var x=Ft("recharts-sector",p),v=i-s,y=Xi(l,v,0,!0),N;return y>0&&Math.abs(f-m)<360?N=XF({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,v/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:f,endAngle:m}):N=f4({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:f,endAngle:m}),b.createElement("path",Xv({},jn(e),{className:x,d:N}))};function QF(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(iO(e)){if(t==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:l,angle:d}=e,u=Kr(n,s,i,d),f=Kr(n,s,l,d);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return h4(e)}}var wb={},jb={},Nb={},rk;function ZF(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xO();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Nb)),Nb}var ak;function eq(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZF();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(jb)),jb}var nk;function tq(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bO(),r=eq();function n(s,i,l){l&&typeof l!="number"&&e.isIterateeCall(s,i,l)&&(i=l=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),l=l===void 0?s<i?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((i-s)/(l||1)),0),u=new Array(d);for(let f=0;f<d;f++)u[f]=s,s+=l;return u}t.range=n})(wb)),wb}var _b,sk;function rq(){return sk||(sk=1,_b=tq().range),_b}var aq=rq();const m4=Wn(aq);function Yi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hw(t){let e,r,n;t.length!==2?(e=Yi,r=(d,u)=>Yi(t(d),u),n=(d,u)=>t(d)-u):(e=t===Yi||t===nq?t:sq,r=t,n=t);function s(d,u,f=0,m=d.length){if(f<m){if(e(u,u)!==0)return m;do{const p=f+m>>>1;r(d[p],u)<0?f=p+1:m=p}while(f<m)}return f}function i(d,u,f=0,m=d.length){if(f<m){if(e(u,u)!==0)return m;do{const p=f+m>>>1;r(d[p],u)<=0?f=p+1:m=p}while(f<m)}return f}function l(d,u,f=0,m=d.length){const p=s(d,u,f,m-1);return p>f&&n(d[p-1],u)>-n(d[p],u)?p-1:p}return{left:s,center:l,right:i}}function sq(){return 0}function p4(t){return t===null?NaN:+t}function*iq(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const oq=hw(Yi),Su=oq.right;hw(p4).center;class ik extends Map{constructor(e,r=dq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(ok(this,e))}has(e){return super.has(ok(this,e))}set(e,r){return super.set(lq(this,e),r)}delete(e){return super.delete(cq(this,e))}}function ok({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function lq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function cq({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uq(t=Yi){if(t===Yi)return g4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function g4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hq=Math.sqrt(50),fq=Math.sqrt(10),mq=Math.sqrt(2);function mm(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),l=i>=hq?10:i>=fq?5:i>=mq?2:1;let d,u,f;return s<0?(f=Math.pow(10,-s)/l,d=Math.round(t*f),u=Math.round(e*f),d/f<t&&++d,u/f>e&&--u,f=-f):(f=Math.pow(10,s)*l,d=Math.round(t/f),u=Math.round(e/f),d*f<t&&++d,u*f>e&&--u),u<d&&.5<=r&&r<2?mm(t,e,r*2):[d,u,f]}function Kv(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,l]=n?mm(e,t,r):mm(t,e,r);if(!(i>=s))return[];const d=i-s+1,u=new Array(d);if(n)if(l<0)for(let f=0;f<d;++f)u[f]=(i-f)/-l;else for(let f=0;f<d;++f)u[f]=(i-f)*l;else if(l<0)for(let f=0;f<d;++f)u[f]=(s+f)/-l;else for(let f=0;f<d;++f)u[f]=(s+f)*l;return u}function Jv(t,e,r){return e=+e,t=+t,r=+r,mm(t,e,r)[2]}function Qv(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?Jv(e,t,r):Jv(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function lk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ck(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function x4(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?g4:uq(s);n>r;){if(n-r>600){const u=n-r+1,f=e-r+1,m=Math.log(u),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(u-p)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(e-f*p/u+x)),y=Math.min(n,Math.floor(e+(u-f)*p/u+x));x4(t,e,v,y,s)}const i=t[e];let l=r,d=n;for(Pd(t,r,e),s(t[n],i)>0&&Pd(t,r,n);l<d;){for(Pd(t,l,d),++l,--d;s(t[l],i)<0;)++l;for(;s(t[d],i)>0;)--d}s(t[r],i)===0?Pd(t,r,d):(++d,Pd(t,d,n)),d<=e&&(r=d+1),e<=d&&(n=d-1)}return t}function Pd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function pq(t,e,r){if(t=Float64Array.from(iq(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return ck(t);if(e>=1)return lk(t);var n,s=(n-1)*e,i=Math.floor(s),l=lk(x4(t,i).subarray(0,i+1)),d=ck(t.subarray(i+1));return l+(d-l)*(s-i)}}function gq(t,e,r=p4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),l=+r(t[i],i,t),d=+r(t[i+1],i+1,t);return l+(d-l)*(s-i)}}function xq(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function Sn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ii(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zv=Symbol("implicit");function fw(){var t=new ik,e=[],r=[],n=Zv;function s(i){let l=t.get(i);if(l===void 0){if(n!==Zv)return n;t.set(i,l=e.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new ik;for(const l of i)t.has(l)||t.set(l,e.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return fw(e,r).unknown(n)},Sn.apply(s,arguments),s}function mw(){var t=fw().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,l,d=!1,u=0,f=0,m=.5;delete t.unknown;function p(){var x=e().length,v=s<n,y=v?s:n,N=v?n:s;i=(N-y)/Math.max(1,x-u+f*2),d&&(i=Math.floor(i)),y+=(N-y-i*(x-u))*m,l=i*(1-u),d&&(y=Math.round(y),l=Math.round(l));var w=xq(x).map(function(E){return y+i*E});return r(v?w.reverse():w)}return t.domain=function(x){return arguments.length?(e(x),p()):e()},t.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,p()):[n,s]},t.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,d=!0,p()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(x){return arguments.length?(d=!!x,p()):d},t.padding=function(x){return arguments.length?(u=Math.min(1,f=+x),p()):u},t.paddingInner=function(x){return arguments.length?(u=Math.min(1,x),p()):u},t.paddingOuter=function(x){return arguments.length?(f=+x,p()):f},t.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},t.copy=function(){return mw(e(),[n,s]).round(d).paddingInner(u).paddingOuter(f).align(m)},Sn.apply(p(),arguments)}function b4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b4(e())},t}function bq(){return b4(mw.apply(null,arguments).paddingInner(1))}function pw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function v4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ku(){}var ou=.7,pm=1/ou,ic="\\s*([+-]?\\d+)\\s*",lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vq=/^#([0-9a-f]{3,8})$/,yq=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),wq=new RegExp(`^rgb\\(${ds},${ds},${ds}\\)$`),jq=new RegExp(`^rgba\\(${ic},${ic},${ic},${lu}\\)$`),Nq=new RegExp(`^rgba\\(${ds},${ds},${ds},${lu}\\)$`),_q=new RegExp(`^hsl\\(${lu},${ds},${ds}\\)$`),Eq=new RegExp(`^hsla\\(${lu},${ds},${ds},${lu}\\)$`),dk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pw(ku,cu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uk,formatHex:uk,formatHex8:Sq,formatHsl:kq,formatRgb:hk,toString:hk});function uk(){return this.rgb().formatHex()}function Sq(){return this.rgb().formatHex8()}function kq(){return y4(this).formatHsl()}function hk(){return this.rgb().formatRgb()}function cu(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=vq.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?fk(e):r===3?new Ta(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?bf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?bf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yq.exec(t))?new Ta(e[1],e[2],e[3],1):(e=wq.exec(t))?new Ta(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jq.exec(t))?bf(e[1],e[2],e[3],e[4]):(e=Nq.exec(t))?bf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_q.exec(t))?gk(e[1],e[2]/100,e[3]/100,1):(e=Eq.exec(t))?gk(e[1],e[2]/100,e[3]/100,e[4]):dk.hasOwnProperty(t)?fk(dk[t]):t==="transparent"?new Ta(NaN,NaN,NaN,0):null}function fk(t){return new Ta(t>>16&255,t>>8&255,t&255,1)}function bf(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ta(t,e,r,n)}function Aq(t){return t instanceof ku||(t=cu(t)),t?(t=t.rgb(),new Ta(t.r,t.g,t.b,t.opacity)):new Ta}function ey(t,e,r,n){return arguments.length===1?Aq(t):new Ta(t,e,r,n??1)}function Ta(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}pw(Ta,ey,v4(ku,{brighter(t){return t=t==null?pm:Math.pow(pm,t),new Ta(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ou:Math.pow(ou,t),new Ta(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ta($o(this.r),$o(this.g),$o(this.b),gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mk,formatHex:mk,formatHex8:Cq,formatRgb:pk,toString:pk}));function mk(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function Cq(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function pk(){const t=gm(this.opacity);return`${t===1?"rgb(":"rgba("}${$o(this.r)}, ${$o(this.g)}, ${$o(this.b)}${t===1?")":`, ${t})`}`}function gm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $o(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=$o(t),(t<16?"0":"")+t.toString(16)}function gk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ln(t,e,r,n)}function y4(t){if(t instanceof Ln)return new Ln(t.h,t.s,t.l,t.opacity);if(t instanceof ku||(t=cu(t)),!t)return new Ln;if(t instanceof Ln)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),l=NaN,d=i-s,u=(i+s)/2;return d?(e===i?l=(r-n)/d+(r<n)*6:r===i?l=(n-e)/d+2:l=(e-r)/d+4,d/=u<.5?i+s:2-i-s,l*=60):d=u>0&&u<1?0:l,new Ln(l,d,u,t.opacity)}function Tq(t,e,r,n){return arguments.length===1?y4(t):new Ln(t,e,r,n??1)}function Ln(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}pw(Ln,Tq,v4(ku,{brighter(t){return t=t==null?pm:Math.pow(pm,t),new Ln(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ou:Math.pow(ou,t),new Ln(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Ta(Eb(t>=240?t-240:t+120,s,n),Eb(t,s,n),Eb(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Ln(xk(this.h),vf(this.s),vf(this.l),gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gm(this.opacity);return`${t===1?"hsl(":"hsla("}${xk(this.h)}, ${vf(this.s)*100}%, ${vf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xk(t){return t=(t||0)%360,t<0?t+360:t}function vf(t){return Math.max(0,Math.min(1,t||0))}function Eb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const gw=t=>()=>t;function Oq(t,e){return function(r){return t+r*e}}function Rq(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Dq(t){return(t=+t)==1?w4:function(e,r){return r-e?Rq(e,r,t):gw(isNaN(e)?r:e)}}function w4(t,e){var r=e-t;return r?Oq(t,r):gw(isNaN(t)?e:t)}const bk=(function t(e){var r=Dq(e);function n(s,i){var l=r((s=ey(s)).r,(i=ey(i)).r),d=r(s.g,i.g),u=r(s.b,i.b),f=w4(s.opacity,i.opacity);return function(m){return s.r=l(m),s.g=d(m),s.b=u(m),s.opacity=f(m),s+""}}return n.gamma=t,n})(1);function Iq(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function Pq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mq(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)s[l]=Cc(t[l],e[l]);for(;l<r;++l)i[l]=e[l];return function(d){for(l=0;l<n;++l)i[l]=s[l](d);return i}}function Lq(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Uq(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Cc(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sb=new RegExp(ty.source,"g");function $q(t){return function(){return t}}function Bq(t){return function(e){return t(e)+""}}function zq(t,e){var r=ty.lastIndex=Sb.lastIndex=0,n,s,i,l=-1,d=[],u=[];for(t=t+"",e=e+"";(n=ty.exec(t))&&(s=Sb.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),d[l]?d[l]+=i:d[++l]=i),(n=n[0])===(s=s[0])?d[l]?d[l]+=s:d[++l]=s:(d[++l]=null,u.push({i:l,x:xm(n,s)})),r=Sb.lastIndex;return r<e.length&&(i=e.slice(r),d[l]?d[l]+=i:d[++l]=i),d.length<2?u[0]?Bq(u[0].x):$q(e):(e=u.length,function(f){for(var m=0,p;m<e;++m)d[(p=u[m]).i]=p.x(f);return d.join("")})}function Cc(t,e){var r=typeof e,n;return e==null||r==="boolean"?gw(e):(r==="number"?xm:r==="string"?(n=cu(e))?(e=n,bk):zq:e instanceof cu?bk:e instanceof Date?Lq:Pq(e)?Iq:Array.isArray(e)?Mq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Uq:xm)(t,e)}function xw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Fq(t,e){e===void 0&&(e=t,t=Cc);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[d](l-d)}}function qq(t){return function(){return t}}function bm(t){return+t}var vk=[0,1];function fa(t){return t}function ry(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qq(isNaN(e)?NaN:.5)}function Hq(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Gq(t,e,r){var n=t[0],s=t[1],i=e[0],l=e[1];return s<n?(n=ry(s,n),i=r(l,i)):(n=ry(n,s),i=r(i,l)),function(d){return i(n(d))}}function Vq(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)s[l]=ry(t[l],t[l+1]),i[l]=r(e[l],e[l+1]);return function(d){var u=Su(t,d,1,n)-1;return i[u](s[u](d))}}function Au(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gp(){var t=vk,e=vk,r=Cc,n,s,i,l=fa,d,u,f;function m(){var x=Math.min(t.length,e.length);return l!==fa&&(l=Hq(t[0],t[x-1])),d=x>2?Vq:Gq,u=f=null,p}function p(x){return x==null||isNaN(x=+x)?i:(u||(u=d(t.map(n),e,r)))(n(l(x)))}return p.invert=function(x){return l(s((f||(f=d(e,t.map(n),xm)))(x)))},p.domain=function(x){return arguments.length?(t=Array.from(x,bm),m()):t.slice()},p.range=function(x){return arguments.length?(e=Array.from(x),m()):e.slice()},p.rangeRound=function(x){return e=Array.from(x),r=xw,m()},p.clamp=function(x){return arguments.length?(l=x?!0:fa,m()):l!==fa},p.interpolate=function(x){return arguments.length?(r=x,m()):r},p.unknown=function(x){return arguments.length?(i=x,p):i},function(x,v){return n=x,s=v,m()}}function bw(){return gp()(fa,fa)}function Yq(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function mc(t){return t=vm(Math.abs(t)),t?t[1]:NaN}function Wq(t,e){return function(r,n){for(var s=r.length,i=[],l=0,d=t[0],u=0;s>0&&d>0&&(u+d+1>n&&(d=Math.max(1,n-u)),i.push(r.substring(s-=d,s+d)),!((u+=d+1)>n));)d=t[l=(l+1)%t.length];return i.reverse().join(e)}}function Xq(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Kq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function du(t){if(!(e=Kq.exec(t)))throw new Error("invalid format: "+t);var e;return new vw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}du.prototype=vw.prototype;function vw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jq(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var j4;function Qq(t,e){var r=vm(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(j4=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+vm(t,Math.max(0,e+i-1))[0]}function yk(t,e){var r=vm(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const wk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yq,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yk(t*100,e),r:yk,s:Qq,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jk(t){return t}var Nk=Array.prototype.map,_k=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zq(t){var e=t.grouping===void 0||t.thousands===void 0?jk:Wq(Nk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?jk:Xq(Nk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=du(p);var x=p.fill,v=p.align,y=p.sign,N=p.symbol,w=p.zero,E=p.width,k=p.comma,S=p.precision,A=p.trim,C=p.type;C==="n"?(k=!0,C="g"):wk[C]||(S===void 0&&(S=12),A=!0,C="g"),(w||x==="0"&&v==="=")&&(w=!0,x="0",v="=");var O=N==="$"?r:N==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",R=N==="$"?n:/[%p]/.test(C)?l:"",L=wk[C],$=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(H){var q=O,F=R,X,ue,B;if(C==="c")F=L(H)+F,H="";else{H=+H;var I=H<0||1/H<0;if(H=isNaN(H)?u:L(Math.abs(H),S),A&&(H=Jq(H)),I&&+H==0&&y!=="+"&&(I=!1),q=(I?y==="("?y:d:y==="-"||y==="("?"":y)+q,F=(C==="s"?_k[8+j4/3]:"")+F+(I&&y==="("?")":""),$){for(X=-1,ue=H.length;++X<ue;)if(B=H.charCodeAt(X),48>B||B>57){F=(B===46?s+H.slice(X+1):H.slice(X))+F,H=H.slice(0,X);break}}}k&&!w&&(H=e(H,1/0));var z=q.length+H.length+F.length,oe=z<E?new Array(E-z+1).join(x):"";switch(k&&w&&(H=e(oe+H,oe.length?E-F.length:1/0),oe=""),v){case"<":H=q+H+F+oe;break;case"=":H=q+oe+H+F;break;case"^":H=oe.slice(0,z=oe.length>>1)+q+H+F+oe.slice(z);break;default:H=oe+q+H+F;break}return i(H)}return M.toString=function(){return p+""},M}function m(p,x){var v=f((p=du(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(mc(x)/3)))*3,N=Math.pow(10,-y),w=_k[8+y/3];return function(E){return v(N*E)+w}}return{format:f,formatPrefix:m}}var yf,yw,N4;e7({thousands:",",grouping:[3],currency:["$",""]});function e7(t){return yf=Zq(t),yw=yf.format,N4=yf.formatPrefix,yf}function t7(t){return Math.max(0,-mc(Math.abs(t)))}function r7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mc(e)/3)))*3-mc(Math.abs(t)))}function a7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mc(e)-mc(t))+1}function _4(t,e,r,n){var s=Qv(t,e,r),i;switch(n=du(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=r7(s,l))&&(n.precision=i),N4(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=a7(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=t7(s))&&(n.precision=i-(n.type==="%")*2);break}}return yw(n)}function eo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Kv(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return _4(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,l=n[s],d=n[i],u,f,m=10;for(d<l&&(f=l,l=d,d=f,f=s,s=i,i=f);m-- >0;){if(f=Jv(l,d,r),f===u)return n[s]=l,n[i]=d,e(n);if(f>0)l=Math.floor(l/f)*f,d=Math.ceil(d/f)*f;else if(f<0)l=Math.ceil(l*f)/f,d=Math.floor(d*f)/f;else break;u=f}return t},t}function E4(){var t=bw();return t.copy=function(){return Au(t,E4())},Sn.apply(t,arguments),eo(t)}function S4(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,bm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return S4(t).unknown(e)},t=arguments.length?Array.from(t,bm):[0,1],eo(r)}function k4(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],l;return i<s&&(l=r,r=n,n=l,l=s,s=i,i=l),t[r]=e.floor(s),t[n]=e.ceil(i),t}function Ek(t){return Math.log(t)}function Sk(t){return Math.exp(t)}function n7(t){return-Math.log(-t)}function s7(t){return-Math.exp(-t)}function i7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o7(t){return t===10?i7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function l7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kk(t){return(e,r)=>-t(-e,r)}function ww(t){const e=t(Ek,Sk),r=e.domain;let n=10,s,i;function l(){return s=l7(n),i=o7(n),r()[0]<0?(s=kk(s),i=kk(i),t(n7,s7)):t(Ek,Sk),e}return e.base=function(d){return arguments.length?(n=+d,l()):n},e.domain=function(d){return arguments.length?(r(d),l()):r()},e.ticks=d=>{const u=r();let f=u[0],m=u[u.length-1];const p=m<f;p&&([f,m]=[m,f]);let x=s(f),v=s(m),y,N;const w=d==null?10:+d;let E=[];if(!(n%1)&&v-x<w){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(y=1;y<n;++y)if(N=x<0?y/i(-x):y*i(x),!(N<f)){if(N>m)break;E.push(N)}}else for(;x<=v;++x)for(y=n-1;y>=1;--y)if(N=x>0?y/i(-x):y*i(x),!(N<f)){if(N>m)break;E.push(N)}E.length*2<w&&(E=Kv(f,m,w))}else E=Kv(x,v,Math.min(v-x,w)).map(i);return p?E.reverse():E},e.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=du(u)).precision==null&&(u.trim=!0),u=yw(u)),d===1/0)return u;const f=Math.max(1,n*d/e.ticks().length);return m=>{let p=m/i(Math.round(s(m)));return p*n<n-.5&&(p*=n),p<=f?u(m):""}},e.nice=()=>r(k4(r(),{floor:d=>i(Math.floor(s(d))),ceil:d=>i(Math.ceil(s(d)))})),e}function A4(){const t=ww(gp()).domain([1,10]);return t.copy=()=>Au(t,A4()).base(t.base()),Sn.apply(t,arguments),t}function Ak(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ck(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jw(t){var e=1,r=t(Ak(e),Ck(e));return r.constant=function(n){return arguments.length?t(Ak(e=+n),Ck(e)):e},eo(r)}function C4(){var t=jw(gp());return t.copy=function(){return Au(t,C4()).constant(t.constant())},Sn.apply(t,arguments)}function Tk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function c7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function d7(t){return t<0?-t*t:t*t}function Nw(t){var e=t(fa,fa),r=1;function n(){return r===1?t(fa,fa):r===.5?t(c7,d7):t(Tk(r),Tk(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},eo(e)}function _w(){var t=Nw(gp());return t.copy=function(){return Au(t,_w()).exponent(t.exponent())},Sn.apply(t,arguments),t}function u7(){return _w.apply(null,arguments).exponent(.5)}function Ok(t){return Math.sign(t)*t*t}function h7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T4(){var t=bw(),e=[0,1],r=!1,n;function s(i){var l=h7(t(i));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(i){return t.invert(Ok(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,bm)).map(Ok)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return T4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Sn.apply(s,arguments),eo(s)}function O4(){var t=[],e=[],r=[],n;function s(){var l=0,d=Math.max(1,e.length);for(r=new Array(d-1);++l<d;)r[l-1]=gq(t,l/d);return i}function i(l){return l==null||isNaN(l=+l)?n:e[Su(r,l)]}return i.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:t[0],d<r.length?r[d]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Yi),s()},i.range=function(l){return arguments.length?(e=Array.from(l),s()):e.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return O4().domain(t).range(e).unknown(n)},Sn.apply(i,arguments)}function R4(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function l(u){return u!=null&&u<=u?s[Su(n,u,0,r)]:i}function d(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return l}return l.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,d()):[t,e]},l.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,d()):s.slice()},l.invertExtent=function(u){var f=s.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return n.slice()},l.copy=function(){return R4().domain([t,e]).range(s).unknown(i)},Sn.apply(eo(l),arguments)}function D4(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[Su(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var l=e.indexOf(i);return[t[l-1],t[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return D4().domain(t).range(e).unknown(r)},Sn.apply(s,arguments)}const kb=new Date,Ab=new Date;function Sr(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const l=s(i),d=s.ceil(i);return i-l<d-i?l:d},s.offset=(i,l)=>(e(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,d)=>{const u=[];if(i=s.ceil(i),d=d==null?1:Math.floor(d),!(i<l)||!(d>0))return u;let f;do u.push(f=new Date(+i)),e(i,d),t(i);while(f<i&&i<l);return u},s.filter=i=>Sr(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!i(l););else for(;--d>=0;)for(;e(l,1),!i(l););}),r&&(s.count=(i,l)=>(kb.setTime(+i),Ab.setTime(+l),t(kb),t(Ab),Math.floor(r(kb,Ab))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?l=>n(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const ym=Sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ym.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ym);ym.range;const Fs=1e3,yn=Fs*60,qs=yn*60,Ks=qs*24,Ew=Ks*7,Rk=Ks*30,Cb=Ks*365,Po=Sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getUTCSeconds());Po.range;const Sw=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fs)},(t,e)=>{t.setTime(+t+e*yn)},(t,e)=>(e-t)/yn,t=>t.getMinutes());Sw.range;const kw=Sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yn)},(t,e)=>(e-t)/yn,t=>t.getUTCMinutes());kw.range;const Aw=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fs-t.getMinutes()*yn)},(t,e)=>{t.setTime(+t+e*qs)},(t,e)=>(e-t)/qs,t=>t.getHours());Aw.range;const Cw=Sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qs)},(t,e)=>(e-t)/qs,t=>t.getUTCHours());Cw.range;const Cu=Sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yn)/Ks,t=>t.getDate()-1);Cu.range;const xp=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>t.getUTCDate()-1);xp.range;const I4=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>Math.floor(t/Ks));I4.range;function Zo(t){return Sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*yn)/Ew)}const bp=Zo(0),wm=Zo(1),f7=Zo(2),m7=Zo(3),pc=Zo(4),p7=Zo(5),g7=Zo(6);bp.range;wm.range;f7.range;m7.range;pc.range;p7.range;g7.range;function el(t){return Sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Ew)}const vp=el(0),jm=el(1),x7=el(2),b7=el(3),gc=el(4),v7=el(5),y7=el(6);vp.range;jm.range;x7.range;b7.range;gc.range;v7.range;y7.range;const Tw=Sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Tw.range;const Ow=Sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ow.range;const Js=Sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Js.range;const Qs=Sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Qs.range;function P4(t,e,r,n,s,i){const l=[[Po,1,Fs],[Po,5,5*Fs],[Po,15,15*Fs],[Po,30,30*Fs],[i,1,yn],[i,5,5*yn],[i,15,15*yn],[i,30,30*yn],[s,1,qs],[s,3,3*qs],[s,6,6*qs],[s,12,12*qs],[n,1,Ks],[n,2,2*Ks],[r,1,Ew],[e,1,Rk],[e,3,3*Rk],[t,1,Cb]];function d(f,m,p){const x=m<f;x&&([f,m]=[m,f]);const v=p&&typeof p.range=="function"?p:u(f,m,p),y=v?v.range(f,+m+1):[];return x?y.reverse():y}function u(f,m,p){const x=Math.abs(m-f)/p,v=hw(([,,w])=>w).right(l,x);if(v===l.length)return t.every(Qv(f/Cb,m/Cb,p));if(v===0)return ym.every(Math.max(Qv(f,m,p),1));const[y,N]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return y.every(N)}return[d,u]}const[w7,j7]=P4(Qs,Ow,vp,I4,Cw,kw),[N7,_7]=P4(Js,Tw,bp,Cu,Aw,Sw);function Tb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ob(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Md(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function E7(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,l=t.shortDays,d=t.months,u=t.shortMonths,f=Ld(s),m=Ud(s),p=Ld(i),x=Ud(i),v=Ld(l),y=Ud(l),N=Ld(d),w=Ud(d),E=Ld(u),k=Ud(u),S={a:I,A:z,b:oe,B:K,c:null,d:Uk,e:Uk,f:W7,g:nH,G:iH,H:G7,I:V7,j:Y7,L:M4,m:X7,M:K7,p:D,q:U,Q:zk,s:Fk,S:J7,u:Q7,U:Z7,V:eH,w:tH,W:rH,x:null,X:null,y:aH,Y:sH,Z:oH,"%":Bk},A={a:W,A:re,b:he,B:J,c:null,d:$k,e:$k,f:uH,g:wH,G:NH,H:lH,I:cH,j:dH,L:U4,m:hH,M:fH,p:ve,q:Te,Q:zk,s:Fk,S:mH,u:pH,U:gH,V:xH,w:bH,W:vH,x:null,X:null,y:yH,Y:jH,Z:_H,"%":Bk},C={a:M,A:H,b:q,B:F,c:X,d:Mk,e:Mk,f:z7,g:Pk,G:Ik,H:Lk,I:Lk,j:L7,L:B7,m:M7,M:U7,p:$,q:P7,Q:q7,s:H7,S:$7,u:T7,U:O7,V:R7,w:C7,W:D7,x:ue,X:B,y:Pk,Y:Ik,Z:I7,"%":F7};S.x=O(r,S),S.X=O(n,S),S.c=O(e,S),A.x=O(r,A),A.X=O(n,A),A.c=O(e,A);function O(ae,Ae){return function(Ce){var ge=[],Y=-1,me=0,ke=ae.length,Z,te,Oe;for(Ce instanceof Date||(Ce=new Date(+Ce));++Y<ke;)ae.charCodeAt(Y)===37&&(ge.push(ae.slice(me,Y)),(te=Dk[Z=ae.charAt(++Y)])!=null?Z=ae.charAt(++Y):te=Z==="e"?" ":"0",(Oe=Ae[Z])&&(Z=Oe(Ce,te)),ge.push(Z),me=Y+1);return ge.push(ae.slice(me,Y)),ge.join("")}}function R(ae,Ae){return function(Ce){var ge=Md(1900,void 0,1),Y=L(ge,ae,Ce+="",0),me,ke;if(Y!=Ce.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ae&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(me=Ob(Md(ge.y,0,1)),ke=me.getUTCDay(),me=ke>4||ke===0?jm.ceil(me):jm(me),me=xp.offset(me,(ge.V-1)*7),ge.y=me.getUTCFullYear(),ge.m=me.getUTCMonth(),ge.d=me.getUTCDate()+(ge.w+6)%7):(me=Tb(Md(ge.y,0,1)),ke=me.getDay(),me=ke>4||ke===0?wm.ceil(me):wm(me),me=Cu.offset(me,(ge.V-1)*7),ge.y=me.getFullYear(),ge.m=me.getMonth(),ge.d=me.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),ke="Z"in ge?Ob(Md(ge.y,0,1)).getUTCDay():Tb(Md(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(ke+5)%7:ge.w+ge.U*7-(ke+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Ob(ge)):Tb(ge)}}function L(ae,Ae,Ce,ge){for(var Y=0,me=Ae.length,ke=Ce.length,Z,te;Y<me;){if(ge>=ke)return-1;if(Z=Ae.charCodeAt(Y++),Z===37){if(Z=Ae.charAt(Y++),te=C[Z in Dk?Ae.charAt(Y++):Z],!te||(ge=te(ae,Ce,ge))<0)return-1}else if(Z!=Ce.charCodeAt(ge++))return-1}return ge}function $(ae,Ae,Ce){var ge=f.exec(Ae.slice(Ce));return ge?(ae.p=m.get(ge[0].toLowerCase()),Ce+ge[0].length):-1}function M(ae,Ae,Ce){var ge=v.exec(Ae.slice(Ce));return ge?(ae.w=y.get(ge[0].toLowerCase()),Ce+ge[0].length):-1}function H(ae,Ae,Ce){var ge=p.exec(Ae.slice(Ce));return ge?(ae.w=x.get(ge[0].toLowerCase()),Ce+ge[0].length):-1}function q(ae,Ae,Ce){var ge=E.exec(Ae.slice(Ce));return ge?(ae.m=k.get(ge[0].toLowerCase()),Ce+ge[0].length):-1}function F(ae,Ae,Ce){var ge=N.exec(Ae.slice(Ce));return ge?(ae.m=w.get(ge[0].toLowerCase()),Ce+ge[0].length):-1}function X(ae,Ae,Ce){return L(ae,e,Ae,Ce)}function ue(ae,Ae,Ce){return L(ae,r,Ae,Ce)}function B(ae,Ae,Ce){return L(ae,n,Ae,Ce)}function I(ae){return l[ae.getDay()]}function z(ae){return i[ae.getDay()]}function oe(ae){return u[ae.getMonth()]}function K(ae){return d[ae.getMonth()]}function D(ae){return s[+(ae.getHours()>=12)]}function U(ae){return 1+~~(ae.getMonth()/3)}function W(ae){return l[ae.getUTCDay()]}function re(ae){return i[ae.getUTCDay()]}function he(ae){return u[ae.getUTCMonth()]}function J(ae){return d[ae.getUTCMonth()]}function ve(ae){return s[+(ae.getUTCHours()>=12)]}function Te(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ae=O(ae+="",S);return Ae.toString=function(){return ae},Ae},parse:function(ae){var Ae=R(ae+="",!1);return Ae.toString=function(){return ae},Ae},utcFormat:function(ae){var Ae=O(ae+="",A);return Ae.toString=function(){return ae},Ae},utcParse:function(ae){var Ae=R(ae+="",!0);return Ae.toString=function(){return ae},Ae}}}var Dk={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,S7=/^%/,k7=/[\\^$*+?|[\]().{}]/g;function ht(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function A7(t){return t.replace(k7,"\\$&")}function Ld(t){return new RegExp("^(?:"+t.map(A7).join("|")+")","i")}function Ud(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function C7(t,e,r){var n=Ur.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function T7(t,e,r){var n=Ur.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function O7(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function R7(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function D7(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Ik(t,e,r){var n=Ur.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Pk(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function I7(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function P7(t,e,r){var n=Ur.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function M7(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Mk(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function L7(t,e,r){var n=Ur.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Lk(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function U7(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function $7(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function B7(t,e,r){var n=Ur.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function z7(t,e,r){var n=Ur.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function F7(t,e,r){var n=S7.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function q7(t,e,r){var n=Ur.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function H7(t,e,r){var n=Ur.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Uk(t,e){return ht(t.getDate(),e,2)}function G7(t,e){return ht(t.getHours(),e,2)}function V7(t,e){return ht(t.getHours()%12||12,e,2)}function Y7(t,e){return ht(1+Cu.count(Js(t),t),e,3)}function M4(t,e){return ht(t.getMilliseconds(),e,3)}function W7(t,e){return M4(t,e)+"000"}function X7(t,e){return ht(t.getMonth()+1,e,2)}function K7(t,e){return ht(t.getMinutes(),e,2)}function J7(t,e){return ht(t.getSeconds(),e,2)}function Q7(t){var e=t.getDay();return e===0?7:e}function Z7(t,e){return ht(bp.count(Js(t)-1,t),e,2)}function L4(t){var e=t.getDay();return e>=4||e===0?pc(t):pc.ceil(t)}function eH(t,e){return t=L4(t),ht(pc.count(Js(t),t)+(Js(t).getDay()===4),e,2)}function tH(t){return t.getDay()}function rH(t,e){return ht(wm.count(Js(t)-1,t),e,2)}function aH(t,e){return ht(t.getFullYear()%100,e,2)}function nH(t,e){return t=L4(t),ht(t.getFullYear()%100,e,2)}function sH(t,e){return ht(t.getFullYear()%1e4,e,4)}function iH(t,e){var r=t.getDay();return t=r>=4||r===0?pc(t):pc.ceil(t),ht(t.getFullYear()%1e4,e,4)}function oH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function $k(t,e){return ht(t.getUTCDate(),e,2)}function lH(t,e){return ht(t.getUTCHours(),e,2)}function cH(t,e){return ht(t.getUTCHours()%12||12,e,2)}function dH(t,e){return ht(1+xp.count(Qs(t),t),e,3)}function U4(t,e){return ht(t.getUTCMilliseconds(),e,3)}function uH(t,e){return U4(t,e)+"000"}function hH(t,e){return ht(t.getUTCMonth()+1,e,2)}function fH(t,e){return ht(t.getUTCMinutes(),e,2)}function mH(t,e){return ht(t.getUTCSeconds(),e,2)}function pH(t){var e=t.getUTCDay();return e===0?7:e}function gH(t,e){return ht(vp.count(Qs(t)-1,t),e,2)}function $4(t){var e=t.getUTCDay();return e>=4||e===0?gc(t):gc.ceil(t)}function xH(t,e){return t=$4(t),ht(gc.count(Qs(t),t)+(Qs(t).getUTCDay()===4),e,2)}function bH(t){return t.getUTCDay()}function vH(t,e){return ht(jm.count(Qs(t)-1,t),e,2)}function yH(t,e){return ht(t.getUTCFullYear()%100,e,2)}function wH(t,e){return t=$4(t),ht(t.getUTCFullYear()%100,e,2)}function jH(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function NH(t,e){var r=t.getUTCDay();return t=r>=4||r===0?gc(t):gc.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function _H(){return"+0000"}function Bk(){return"%"}function zk(t){return+t}function Fk(t){return Math.floor(+t/1e3)}var ql,B4,z4;EH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EH(t){return ql=E7(t),B4=ql.format,ql.parse,z4=ql.utcFormat,ql.utcParse,ql}function SH(t){return new Date(t)}function kH(t){return t instanceof Date?+t:+new Date(+t)}function Rw(t,e,r,n,s,i,l,d,u,f){var m=bw(),p=m.invert,x=m.domain,v=f(".%L"),y=f(":%S"),N=f("%I:%M"),w=f("%I %p"),E=f("%a %d"),k=f("%b %d"),S=f("%B"),A=f("%Y");function C(O){return(u(O)<O?v:d(O)<O?y:l(O)<O?N:i(O)<O?w:n(O)<O?s(O)<O?E:k:r(O)<O?S:A)(O)}return m.invert=function(O){return new Date(p(O))},m.domain=function(O){return arguments.length?x(Array.from(O,kH)):x().map(SH)},m.ticks=function(O){var R=x();return t(R[0],R[R.length-1],O??10)},m.tickFormat=function(O,R){return R==null?C:f(R)},m.nice=function(O){var R=x();return(!O||typeof O.range!="function")&&(O=e(R[0],R[R.length-1],O??10)),O?x(k4(R,O)):m},m.copy=function(){return Au(m,Rw(t,e,r,n,s,i,l,d,u,f))},m}function AH(){return Sn.apply(Rw(N7,_7,Js,Tw,bp,Cu,Aw,Sw,Po,B4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CH(){return Sn.apply(Rw(w7,j7,Qs,Ow,vp,xp,Cw,kw,Po,z4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yp(){var t=0,e=1,r,n,s,i,l=fa,d=!1,u;function f(p){return p==null||isNaN(p=+p)?u:l(s===0?.5:(p=(i(p)-r)*s,d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(x){var v,y;return arguments.length?([v,y]=x,l=p(v,y),f):[l(0),l(1)]}}return f.range=m(Cc),f.rangeRound=m(xw),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return i=p,r=p(t),n=p(e),s=r===n?0:1/(n-r),f}}function to(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function F4(){var t=eo(yp()(fa));return t.copy=function(){return to(t,F4())},ii.apply(t,arguments)}function q4(){var t=ww(yp()).domain([1,10]);return t.copy=function(){return to(t,q4()).base(t.base())},ii.apply(t,arguments)}function H4(){var t=jw(yp());return t.copy=function(){return to(t,H4()).constant(t.constant())},ii.apply(t,arguments)}function Dw(){var t=Nw(yp());return t.copy=function(){return to(t,Dw()).exponent(t.exponent())},ii.apply(t,arguments)}function TH(){return Dw.apply(null,arguments).exponent(.5)}function G4(){var t=[],e=fa;function r(n){if(n!=null&&!isNaN(n=+n))return e((Su(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Yi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>pq(t,i/n))},r.copy=function(){return G4(e).domain(t)},ii.apply(r,arguments)}function wp(){var t=0,e=.5,r=1,n=1,s,i,l,d,u,f=fa,m,p=!1,x;function v(N){return isNaN(N=+N)?x:(N=.5+((N=+m(N))-i)*(n*N<n*i?d:u),f(p?Math.max(0,Math.min(1,N)):N))}v.domain=function(N){return arguments.length?([t,e,r]=N,s=m(t=+t),i=m(e=+e),l=m(r=+r),d=s===i?0:.5/(i-s),u=i===l?0:.5/(l-i),n=i<s?-1:1,v):[t,e,r]},v.clamp=function(N){return arguments.length?(p=!!N,v):p},v.interpolator=function(N){return arguments.length?(f=N,v):f};function y(N){return function(w){var E,k,S;return arguments.length?([E,k,S]=w,f=Fq(N,[E,k,S]),v):[f(0),f(.5),f(1)]}}return v.range=y(Cc),v.rangeRound=y(xw),v.unknown=function(N){return arguments.length?(x=N,v):x},function(N){return m=N,s=N(t),i=N(e),l=N(r),d=s===i?0:.5/(i-s),u=i===l?0:.5/(l-i),n=i<s?-1:1,v}}function V4(){var t=eo(wp()(fa));return t.copy=function(){return to(t,V4())},ii.apply(t,arguments)}function Y4(){var t=ww(wp()).domain([.1,1,10]);return t.copy=function(){return to(t,Y4()).base(t.base())},ii.apply(t,arguments)}function W4(){var t=jw(wp());return t.copy=function(){return to(t,W4()).constant(t.constant())},ii.apply(t,arguments)}function Iw(){var t=Nw(wp());return t.copy=function(){return to(t,Iw()).exponent(t.exponent())},ii.apply(t,arguments)}function OH(){return Iw.apply(null,arguments).exponent(.5)}const Wd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mw,scaleDiverging:V4,scaleDivergingLog:Y4,scaleDivergingPow:Iw,scaleDivergingSqrt:OH,scaleDivergingSymlog:W4,scaleIdentity:S4,scaleImplicit:Zv,scaleLinear:E4,scaleLog:A4,scaleOrdinal:fw,scalePoint:bq,scalePow:_w,scaleQuantile:O4,scaleQuantize:R4,scaleRadial:T4,scaleSequential:F4,scaleSequentialLog:q4,scaleSequentialPow:Dw,scaleSequentialQuantile:G4,scaleSequentialSqrt:TH,scaleSequentialSymlog:H4,scaleSqrt:u7,scaleSymlog:C4,scaleThreshold:D4,scaleTime:AH,scaleUtc:CH,tickFormat:_4},Symbol.toStringTag,{value:"Module"}));var ro=t=>t.chartData,RH=pe([ro],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Pw=(t,e,r,n)=>n?RH(t):ro(t);function Go(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(er(e)&&er(r))return!0}return!1}function qk(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function X4(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,s,i;if(er(r))s=r;else if(typeof r=="function")return;if(er(n))i=n;else if(typeof n=="function")return;var l=[s,i];if(Go(l))return l}}function DH(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Go(n))return qk(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[s,i]=t,l,d;if(s==="auto")e!=null&&(l=Math.min(...e));else if(Fe(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[0]))}catch{}else if(typeof s=="string"&&ES.test(s)){var u=ES.exec(s);if(u==null||e==null)l=void 0;else{var f=+u[1];l=e[0]-f}}else l=e==null?void 0:e[0];if(i==="auto")e!=null&&(d=Math.max(...e));else if(Fe(i))d=i;else if(typeof i=="function")try{e!=null&&(d=i(e==null?void 0:e[1]))}catch{}else if(typeof i=="string"&&SS.test(i)){var m=SS.exec(i);if(m==null||e==null)d=void 0;else{var p=+m[1];d=e[1]+p}}else d=e==null?void 0:e[1];var x=[l,d];if(Go(x))return e==null?x:qk(x,e,r)}}}var Tc=1e9,IH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lw,Ht=!0,_n="[DecimalError] ",Bo=_n+"Invalid argument: ",Mw=_n+"Exponent out of range: ",Oc=Math.floor,Co=Math.pow,PH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qa,Rr=1e7,zt=7,K4=9007199254740991,Nm=Oc(K4/zt),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(t){return Vs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,r=e.constructor;return Ot(Vs(e,new r(t),0,1),r.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return mr(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Qa))throw Error(_n+"NaN");if(r.s<1)throw Error(_n+(r.s?"NaN":"-Infinity"));return r.eq(Qa)?new n(0):(Ht=!1,e=Vs(uu(r,i),uu(t,i),i),Ht=!0,Ot(e,s))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z4(e,t):J4(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(_n+"NaN");return r.s?(Ht=!1,e=Vs(r,t,0,1).times(t),Ht=!0,r.minus(e)):Ot(new n(r),s)};Le.naturalExponential=Le.exp=function(){return Q4(this)};Le.naturalLogarithm=Le.ln=function(){return uu(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J4(e,t):Z4(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bo+t);if(e=mr(s)+1,n=s.d.length-1,r=n*zt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Le.squareRoot=Le.sqrt=function(){var t,e,r,n,s,i,l,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(_n+"NaN")}for(t=mr(d),Ht=!1,s=Math.sqrt(+d),s==0||s==1/0?(e=cs(d.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Oc((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(s.toString()),r=u.precision,s=l=r+3;;)if(i=n,n=i.plus(Vs(d,i,l+2)).times(.5),cs(i.d).slice(0,l)===(e=cs(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),s==l&&e=="4999"){if(Ot(i,r+1,0),i.times(i).eq(d)){n=i;break}}else if(e!="9999")break;l+=4}return Ht=!0,Ot(n,r)};Le.times=Le.mul=function(t){var e,r,n,s,i,l,d,u,f,m=this,p=m.constructor,x=m.d,v=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,u=x.length,f=v.length,u<f&&(i=x,x=v,v=i,l=u,u=f,f=l),i=[],l=u+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(e=0,s=u+n;s>n;)d=i[s]+v[n]*x[s-n-1]+e,i[s--]=d%Rr|0,e=d/Rr|0;i[s]=(i[s]+e)%Rr|0}for(;!i[--l];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Ht?Ot(t,p.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ms(t,0,Tc),e===void 0?e=n.rounding:ms(e,0,8),Ot(r,t+mr(r)+1,e))};Le.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Vo(n,!0):(ms(t,0,Tc),e===void 0?e=s.rounding:ms(e,0,8),n=Ot(new s(n),t+1,e),r=Vo(n,!0,t+1)),r};Le.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?Vo(s):(ms(t,0,Tc),e===void 0?e=i.rounding:ms(e,0,8),n=Ot(new i(s),t+mr(s)+1,e),r=Vo(n.abs(),!1,t+mr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),mr(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,r,n,s,i,l,d=this,u=d.constructor,f=12,m=+(t=new u(t));if(!t.s)return new u(Qa);if(d=new u(d),!d.s){if(t.s<1)throw Error(_n+"Infinity");return d}if(d.eq(Qa))return d;if(n=u.precision,t.eq(Qa))return Ot(d,n);if(e=t.e,r=t.d.length-1,l=e>=r,i=d.s,l){if((r=m<0?-m:m)<=K4){for(s=new u(Qa),e=Math.ceil(n/zt+4),Ht=!1;r%2&&(s=s.times(d),Gk(s.d,e)),r=Oc(r/2),r!==0;)d=d.times(d),Gk(d.d,e);return Ht=!0,t.s<0?new u(Qa).div(s):Ot(s,n)}}else if(i<0)throw Error(_n+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,d.s=1,Ht=!1,s=t.times(uu(d,n+f)),Ht=!0,s=Q4(s),s.s=i,s};Le.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=mr(s),n=Vo(s,r<=i.toExpNeg||r>=i.toExpPos)):(ms(t,1,Tc),e===void 0?e=i.rounding:ms(e,0,8),s=Ot(new i(s),t,e),r=mr(s),n=Vo(s,t<=r||r<=i.toExpNeg,t)),n};Le.toSignificantDigits=Le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ms(t,1,Tc),e===void 0?e=n.rounding:ms(e,0,8)),Ot(new n(r),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mr(t),r=t.constructor;return Vo(t,e<=r.toExpNeg||e>=r.toExpPos)};function J4(t,e){var r,n,s,i,l,d,u,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ht?Ot(e,p):e;if(u=t.d,f=e.d,l=t.e,s=e.e,u=u.slice(),i=l-s,i){for(i<0?(n=u,i=-i,d=f.length):(n=f,s=l,d=u.length),l=Math.ceil(p/zt),d=l>d?l+1:d+1,i>d&&(i=d,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(d=u.length,i=f.length,d-i<0&&(i=d,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Rr|0,u[i]%=Rr;for(r&&(u.unshift(r),++s),d=u.length;u[--d]==0;)u.pop();return e.d=u,e.e=s,Ht?Ot(e,p):e}function ms(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Bo+t)}function cs(t){var e,r,n,s=t.length-1,i="",l=t[0];if(s>0){for(i+=l,e=1;e<s;e++)n=t[e]+"",r=zt-n.length,r&&(i+=Bi(r)),i+=n;l=t[e],n=l+"",r=zt-n.length,r&&(i+=Bi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Vs=(function(){function t(n,s){var i,l=0,d=n.length;for(n=n.slice();d--;)i=n[d]*s+l,n[d]=i%Rr|0,l=i/Rr|0;return l&&n.unshift(l),n}function e(n,s,i,l){var d,u;if(i!=l)u=i>l?1:-1;else for(d=u=0;d<i;d++)if(n[d]!=s[d]){u=n[d]>s[d]?1:-1;break}return u}function r(n,s,i){for(var l=0;i--;)n[i]-=l,l=n[i]<s[i]?1:0,n[i]=l*Rr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,l){var d,u,f,m,p,x,v,y,N,w,E,k,S,A,C,O,R,L,$=n.constructor,M=n.s==s.s?1:-1,H=n.d,q=s.d;if(!n.s)return new $(n);if(!s.s)throw Error(_n+"Division by zero");for(u=n.e-s.e,R=q.length,C=H.length,v=new $(M),y=v.d=[],f=0;q[f]==(H[f]||0);)++f;if(q[f]>(H[f]||0)&&--u,i==null?k=i=$.precision:l?k=i+(mr(n)-mr(s))+1:k=i,k<0)return new $(0);if(k=k/zt+2|0,f=0,R==1)for(m=0,q=q[0],k++;(f<C||m)&&k--;f++)S=m*Rr+(H[f]||0),y[f]=S/q|0,m=S%q|0;else{for(m=Rr/(q[0]+1)|0,m>1&&(q=t(q,m),H=t(H,m),R=q.length,C=H.length),A=R,N=H.slice(0,R),w=N.length;w<R;)N[w++]=0;L=q.slice(),L.unshift(0),O=q[0],q[1]>=Rr/2&&++O;do m=0,d=e(q,N,R,w),d<0?(E=N[0],R!=w&&(E=E*Rr+(N[1]||0)),m=E/O|0,m>1?(m>=Rr&&(m=Rr-1),p=t(q,m),x=p.length,w=N.length,d=e(p,N,x,w),d==1&&(m--,r(p,R<x?L:q,x))):(m==0&&(d=m=1),p=q.slice()),x=p.length,x<w&&p.unshift(0),r(N,p,w),d==-1&&(w=N.length,d=e(q,N,R,w),d<1&&(m++,r(N,R<w?L:q,w))),w=N.length):d===0&&(m++,N=[0]),y[f++]=m,d&&N[0]?N[w++]=H[A]||0:(N=[H[A]],w=1);while((A++<C||N[0]!==void 0)&&k--)}return y[0]||y.shift(),v.e=u,Ot(v,l?i+mr(v)+1:i)}})();function Q4(t,e){var r,n,s,i,l,d,u=0,f=0,m=t.constructor,p=m.precision;if(mr(t)>16)throw Error(Mw+mr(t));if(!t.s)return new m(Qa);for(Ht=!1,d=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(n=Math.log(Co(2,f))/Math.LN10*2+5|0,d+=n,r=s=i=new m(Qa),m.precision=d;;){if(s=Ot(s.times(t),d),r=r.times(++u),l=i.plus(Vs(s,r,d)),cs(l.d).slice(0,d)===cs(i.d).slice(0,d)){for(;f--;)i=Ot(i.times(i),d);return m.precision=p,e==null?(Ht=!0,Ot(i,p)):i}i=l}}function mr(t){for(var e=t.e*zt,r=t.d[0];r>=10;r/=10)e++;return e}function Rb(t,e,r){if(e>t.LN10.sd())throw Ht=!0,r&&(t.precision=r),Error(_n+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Bi(t){for(var e="";t--;)e+="0";return e}function uu(t,e){var r,n,s,i,l,d,u,f,m,p=1,x=10,v=t,y=v.d,N=v.constructor,w=N.precision;if(v.s<1)throw Error(_n+(v.s?"NaN":"-Infinity"));if(v.eq(Qa))return new N(0);if(e==null?(Ht=!1,f=w):f=e,v.eq(10))return e==null&&(Ht=!0),Rb(N,f);if(f+=x,N.precision=f,r=cs(y),n=r.charAt(0),i=mr(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=cs(v.d),n=r.charAt(0),p++;i=mr(v),n>1?(v=new N("0."+r),i++):v=new N(n+"."+r.slice(1))}else return u=Rb(N,f+2,w).times(i+""),v=uu(new N(n+"."+r.slice(1)),f-x).plus(u),N.precision=w,e==null?(Ht=!0,Ot(v,w)):v;for(d=l=v=Vs(v.minus(Qa),v.plus(Qa),f),m=Ot(v.times(v),f),s=3;;){if(l=Ot(l.times(m),f),u=d.plus(Vs(l,new N(s),f)),cs(u.d).slice(0,f)===cs(d.d).slice(0,f))return d=d.times(2),i!==0&&(d=d.plus(Rb(N,f+2,w).times(i+""))),d=Vs(d,new N(p),f),N.precision=w,e==null?(Ht=!0,Ot(d,w)):d;d=u,s+=2}}function Hk(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Oc(r/zt),t.d=[],n=(r+1)%zt,r<0&&(n+=zt),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=zt;n<s;)t.d.push(+e.slice(n,n+=zt));e=e.slice(n),n=zt-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Nm||t.e<-Nm))throw Error(Mw+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,r){var n,s,i,l,d,u,f,m,p=t.d;for(l=1,i=p[0];i>=10;i/=10)l++;if(n=e-l,n<0)n+=zt,s=e,f=p[m=0];else{if(m=Math.ceil((n+1)/zt),i=p.length,m>=i)return t;for(f=i=p[m],l=1;i>=10;i/=10)l++;n%=zt,s=n-zt+l}if(r!==void 0&&(i=Co(10,l-s-1),d=f/i%10|0,u=e<0||p[m+1]!==void 0||f%i,u=r<4?(d||u)&&(r==0||r==(t.s<0?3:2)):d>5||d==5&&(r==4||u||r==6&&(n>0?s>0?f/Co(10,l-s):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return u?(i=mr(t),p.length=1,e=e-i-1,p[0]=Co(10,(zt-e%zt)%zt),t.e=Oc(-e/zt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=Co(10,zt-n),p[m]=s>0?(f/Co(10,l-s)%Co(10,s)|0)*i:0),u)for(;;)if(m==0){(p[0]+=i)==Rr&&(p[0]=1,++t.e);break}else{if(p[m]+=i,p[m]!=Rr)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Ht&&(t.e>Nm||t.e<-Nm))throw Error(Mw+mr(t));return t}function Z4(t,e){var r,n,s,i,l,d,u,f,m,p,x=t.constructor,v=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Ht?Ot(e,v):e;if(u=t.d,p=e.d,n=e.e,f=t.e,u=u.slice(),l=f-n,l){for(m=l<0,m?(r=u,l=-l,d=p.length):(r=p,n=f,d=u.length),s=Math.max(Math.ceil(v/zt),d)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=u.length,d=p.length,m=s<d,m&&(d=s),s=0;s<d;s++)if(u[s]!=p[s]){m=u[s]<p[s];break}l=0}for(m&&(r=u,u=p,p=r,e.s=-e.s),d=u.length,s=p.length-d;s>0;--s)u[d++]=0;for(s=p.length;s>l;){if(u[--s]<p[s]){for(i=s;i&&u[--i]===0;)u[i]=Rr-1;--u[i],u[s]+=Rr}u[s]-=p[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Ht?Ot(e,v):e):new x(0)}function Vo(t,e,r){var n,s=mr(t),i=cs(t.d),l=i.length;return e?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Bi(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Bi(-s-1)+i,r&&(n=r-l)>0&&(i+=Bi(n))):s>=l?(i+=Bi(s+1-l),r&&(n=r-s-1)>0&&(i=i+"."+Bi(n))):((n=s+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(i+="."),i+=Bi(n))),t.s<0?"-"+i:i}function Gk(t,e){if(t.length>e)return t.length=e,!0}function e3(t){var e,r,n;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bo+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return Hk(l,i.toString())}else if(typeof i!="string")throw Error(Bo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,PH.test(i))Hk(l,i);else throw Error(Bo+i)}if(s.prototype=Le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e3,s.config=s.set=MH,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function MH(t){if(!t||typeof t!="object")throw Error(_n+"Object expected");var e,r,n,s=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Oc(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Bo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bo+r+": "+n);return this}var Lw=e3(IH);Qa=new Lw(1);const jt=Lw;var LH=t=>t,t3={},r3=t=>t===t3,Vk=t=>function e(){return arguments.length===0||arguments.length===1&&r3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},a3=(t,e)=>t===1?e:Vk(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(l=>l!==t3).length;return i>=t?e(...n):a3(t-i,Vk(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var f=n.map(m=>r3(m)?d.shift():m);return e(...f,...d)}))}),jp=t=>a3(t.length,t),ay=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},UH=jp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),$H=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return LH;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce((d,u)=>u(d),i(...arguments))}},ny=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),n3=t=>{var e=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e&&s.every((l,d)=>{var u;return l===((u=e)===null||u===void 0?void 0:u[d])})||(e=s,r=t(...s)),r}};function s3(t){var e;return t===0?e=1:e=Math.floor(new jt(t).abs().log(10).toNumber())+1,e}function i3(t,e,r){for(var n=new jt(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}jp((t,e,r)=>{var n=+t,s=+e;return n+r*(s-n)});jp((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});jp((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var o3=t=>{var[e,r]=t,[n,s]=[e,r];return e>r&&([n,s]=[r,e]),[n,s]},l3=(t,e,r)=>{if(t.lte(0))return new jt(0);var n=s3(t.toNumber()),s=new jt(10).pow(n),i=t.div(s),l=n!==1?.05:.1,d=new jt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),u=d.mul(s);return e?new jt(u.toNumber()):new jt(Math.ceil(u.toNumber()))},BH=(t,e,r)=>{var n=new jt(1),s=new jt(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new jt(10).pow(s3(t)-1),s=new jt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new jt(Math.floor(t)))}else t===0?s=new jt(Math.floor((e-1)/2)):r||(s=new jt(Math.floor(t)));var l=Math.floor((e-1)/2),d=$H(UH(u=>s.add(new jt(u-l).mul(n)).toNumber()),ay);return d(0,e)},c3=function(e,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var l=l3(new jt(r).sub(e).div(n-1),s,i),d;e<=0&&r>=0?d=new jt(0):(d=new jt(e).add(r).div(2),d=d.sub(new jt(d).mod(l)));var u=Math.ceil(d.sub(e).div(l).toNumber()),f=Math.ceil(new jt(r).sub(d).div(l).toNumber()),m=u+f+1;return m>n?c3(e,r,n,s,i+1):(m<n&&(f=r>0?f+(n-m):f,u=r>0?u:u+(n-m)),{step:l,tickMin:d.sub(new jt(u).mul(l)),tickMax:d.add(new jt(f).mul(l))})};function zH(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,d]=o3([e,r]);if(l===-1/0||d===1/0){var u=d===1/0?[l,...ay(0,n-1).map(()=>1/0)]:[...ay(0,n-1).map(()=>-1/0),d];return e>r?ny(u):u}if(l===d)return BH(l,n,s);var{step:f,tickMin:m,tickMax:p}=c3(l,d,i,s,0),x=i3(m,p.add(new jt(.1).mul(f)),f);return e>r?ny(x):x}function FH(t,e){var[r,n]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=o3([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var d=Math.max(e,2),u=l3(new jt(l).sub(i).div(d-1),s,0),f=[...i3(new jt(i),new jt(l),u),l];return s===!1&&(f=f.map(m=>Math.round(m))),r>n?ny(f):f}var qH=n3(zH),HH=n3(FH),GH=t=>t.rootProps.barCategoryGap,Np=t=>t.rootProps.stackOffset,Uw=t=>t.options.chartName,$w=t=>t.rootProps.syncId,d3=t=>t.rootProps.syncMethod,Bw=t=>t.options.eventEmitter,VH=t=>t.rootProps.baseValue,ma={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_p=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},YH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$s.angleAxisId,includeHidden:!1,name:void 0,reversed:$s.reversed,scale:$s.scale,tick:$s.tick,tickCount:void 0,ticks:void 0,type:$s.type,unit:void 0},WH={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:Wa.type,unit:void 0},XH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$s.scale,tick:$s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},KH={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:"category",unit:void 0},zw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?XH:YH,Fw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?KH:WH,Ep=t=>t.polarOptions,qw=pe([ni,si,Zr],FF),u3=pe([Ep,qw],(t,e)=>{if(t!=null)return Xi(t.innerRadius,e,0)}),h3=pe([Ep,qw],(t,e)=>{if(t!=null)return Xi(t.outerRadius,e,e*.8)}),JH=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},f3=pe([Ep],JH);pe([zw,f3],_p);var m3=pe([qw,u3,h3],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});pe([Fw,m3],_p);var p3=pe([Mt,Ep,u3,h3,ni,si],(t,e,r,n,s,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:l,cy:d,startAngle:u,endAngle:f}=e;return{cx:Xi(l,s,s/2),cy:Xi(d,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),kr=(t,e)=>e,Sp=(t,e,r)=>r;function Hw(t){return t==null?void 0:t.id}function g3(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:s,dataKey:i}=r,l=new Map;return t.forEach(d=>{var u,f=(u=d.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var m=Hw(d);f.forEach((p,x)=>{var v=i==null||s?x:String(pa(p,i,null)),y=pa(p,d.dataKey,0),N;l.has(v)?N=l.get(v):N={},Object.assign(N,{[m]:y}),l.set(v,N)})}}),Array.from(l.values())}function Gw(t){return t.stackId!=null&&t.dataKey!=null}var kp=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ap(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function QH(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Ar=t=>{var e=Mt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Rc=t=>t.tooltip.settings.axisId;function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _m(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){ZH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZH(t,e,r){return(e=eG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eG(t){var e=tG(t,"string");return typeof e=="symbol"?e:e+""}function tG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sy=[0,"auto"],Va={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},x3=(t,e)=>t.cartesianAxis.xAxis[e],oi=(t,e)=>{var r=x3(t,e);return r??Va},Ya={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eu},b3=(t,e)=>t.cartesianAxis.yAxis[e],li=(t,e)=>{var r=b3(t,e);return r??Ya},rG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Vw=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??rG},xa=(t,e,r)=>{switch(e){case"xAxis":return oi(t,r);case"yAxis":return li(t,r);case"zAxis":return Vw(t,r);case"angleAxis":return zw(t,r);case"radiusAxis":return Fw(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},aG=(t,e,r)=>{switch(e){case"xAxis":return oi(t,r);case"yAxis":return li(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Tu=(t,e,r)=>{switch(e){case"xAxis":return oi(t,r);case"yAxis":return li(t,r);case"angleAxis":return zw(t,r);case"radiusAxis":return Fw(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},v3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function y3(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var w3=t=>t.graphicalItems.cartesianItems,nG=pe([kr,Sp],y3),j3=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Ou=pe([w3,xa,nG],j3,{memoizeOptions:{resultEqualityCheck:Ap}}),N3=pe([Ou],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Gw)),_3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),sG=pe([Ou],_3),E3=t=>t.map(e=>e.data).filter(Boolean).flat(1),iG=pe([Ou],E3,{memoizeOptions:{resultEqualityCheck:Ap}}),S3=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=e;return t.length>0?t:r.slice(n,s+1)},Yw=pe([iG,Pw],S3),k3=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:pa(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(s=>({value:pa(s,n)}))):t.map(n=>({value:n})),Cp=pe([Yw,xa,Ou],k3);function A3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function $f(t){if(hs(t)||t instanceof Date){var e=Number(t);if(er(e))return e}}function Wk(t){if(Array.isArray(t)){var e=[$f(t[0]),$f(t[1])];return Go(e)?e:void 0}var r=$f(t);if(r!=null)return[r,r]}function Zs(t){return t.map($f).filter($$)}function oG(t,e,r){return!r||typeof e!="number"||Fn(e)?[]:r.length?Zs(r.flatMap(n=>{var s=pa(t,n.dataKey),i,l;if(Array.isArray(s)?[i,l]=s:i=l=s,!(!er(i)||!er(l)))return[e-i,e+l]})):[]}var Cr=t=>{var e=Ar(t),r=Rc(t);return Tu(t,e,r)},C3=pe([Cr],t=>t==null?void 0:t.dataKey),lG=pe([N3,Pw,Cr],g3),T3=(t,e,r)=>{var n={},s=e.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[l,d]=i,u=d.map(Hw);return[l,{stackedData:HB(t,u,r),graphicalItems:d}]}))},iy=pe([lG,N3,Np],T3),O3=(t,e,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=e;if(n==null&&r!=="zAxis"){var l=WB(t,s,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},cG=pe([xa],t=>t.allowDataOverflow),Ww=t=>{var e;if(t==null||!("domain"in t))return sy;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Zs(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:sy},R3=pe([xa],Ww),D3=pe([R3,cG],X4),dG=pe([iy,ro,kr,D3],O3,{memoizeOptions:{resultEqualityCheck:kp}}),Xw=t=>t.errorBars,uG=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>A3(r,n)),Em=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),l=Math.min(...i),d=Math.max(...i);return[l,d]}},I3=(t,e,r,n,s)=>{var i,l;if(r.length>0&&t.forEach(d=>{r.forEach(u=>{var f,m,p=(f=n[u.id])===null||f===void 0?void 0:f.filter(E=>A3(s,E)),x=pa(d,(m=e.dataKey)!==null&&m!==void 0?m:u.dataKey),v=oG(d,x,p);if(v.length>=2){var y=Math.min(...v),N=Math.max(...v);(i==null||y<i)&&(i=y),(l==null||N>l)&&(l=N)}var w=Wk(x);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var u=Wk(pa(d,e.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),er(i)&&er(l))return[i,l]},hG=pe([Yw,xa,sG,Xw,kr],I3,{memoizeOptions:{resultEqualityCheck:kp}});function fG(t){var{value:e}=t;if(hs(e)||e instanceof Date)return e}var mG=(t,e,r)=>{var n=t.map(fG).filter(s=>s!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&nO(n))?m4(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},P3=t=>t.referenceElements.dots,Dc=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),pG=pe([P3,kr,Sp],Dc),M3=t=>t.referenceElements.areas,gG=pe([M3,kr,Sp],Dc),L3=t=>t.referenceElements.lines,xG=pe([L3,kr,Sp],Dc),U3=(t,e)=>{var r=Zs(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bG=pe(pG,kr,U3),$3=(t,e)=>{var r=Zs(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vG=pe([gG,kr],$3);function yG(t){var e;if(t.x!=null)return Zs([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Zs(r)}function wG(t){var e;if(t.y!=null)return Zs([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Zs(r)}var B3=(t,e)=>{var r=t.flatMap(n=>e==="xAxis"?yG(n):wG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jG=pe([xG,kr],B3),NG=pe(bG,jG,vG,(t,e,r)=>Em(t,r,e)),z3=(t,e,r,n,s,i,l,d)=>{if(r!=null)return r;var u=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",f=u?Em(n,i,s):Em(i,s);return DH(e,f,t.allowDataOverflow)},_G=pe([xa,R3,D3,dG,hG,NG,Mt,kr],z3,{memoizeOptions:{resultEqualityCheck:kp}}),EG=[0,1],F3=(t,e,r,n,s,i,l)=>{if(!((t==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:u}=t,f=ai(e,i);if(f&&d==null){var m;return m4(0,(m=r==null?void 0:r.length)!==null&&m!==void 0?m:0)}return u==="category"?mG(n,t,f):s==="expand"?EG:l}},Kw=pe([xa,Mt,Yw,Cp,Np,kr,_G],F3),q3=(t,e,r,n,s)=>{if(t!=null){var{scale:i,type:l}=t;if(i==="auto")return e==="radial"&&s==="radiusAxis"?"band":e==="radial"&&s==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var d="scale".concat(rw(i));return d in Wd?d:"point"}}},Ru=pe([xa,Mt,v3,Uw,kr],q3);function SG(t){if(t!=null){if(t in Wd)return Wd[t]();var e="scale".concat(rw(t));if(e in Wd)return Wd[e]()}}function Jw(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var s=SG(e);if(s!=null){var i=s.domain(r).range(n);return BB(i),i}}}var H3=(t,e,r)=>{var n=Ww(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Go(t))return qH(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Go(t))return HH(t,e.tickCount,e.allowDecimals)}},Qw=pe([Kw,Tu,Ru],H3),G3=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Go(e)&&Array.isArray(r)&&r.length>0){var s=e[0],i=r[0],l=e[1],d=r[r.length-1];return[Math.min(s,i),Math.max(l,d)]}return e},kG=pe([xa,Kw,Qw,kr],G3),AG=pe(Cp,xa,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Zs(t.map(d=>d.value))).sort((d,u)=>d-u);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/s}}),V3=pe(AG,Mt,GH,Zr,(t,e,r,n)=>n,(t,e,r,n,s)=>{if(!er(t))return 0;var i=e==="vertical"?n.height:n.width;if(s==="gap")return t*i/2;if(s==="no-gap"){var l=Xi(r,t*i),d=t*i/2;return d-l-(d-l)/i*l}return 0}),CG=(t,e)=>{var r=oi(t,e);return r==null||typeof r.padding!="string"?0:V3(t,"xAxis",e,r.padding)},TG=(t,e)=>{var r=li(t,e);return r==null||typeof r.padding!="string"?0:V3(t,"yAxis",e,r.padding)},OG=pe(oi,CG,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:s}=t;return typeof s=="string"?{left:e,right:e}:{left:((r=s.left)!==null&&r!==void 0?r:0)+e,right:((n=s.right)!==null&&n!==void 0?n:0)+e}}),RG=pe(li,TG,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:s}=t;return typeof s=="string"?{top:e,bottom:e}:{top:((r=s.top)!==null&&r!==void 0?r:0)+e,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+e}}),DG=pe([Zr,OG,hp,up,(t,e,r)=>r],(t,e,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),IG=pe([Zr,Mt,RG,hp,up,(t,e,r)=>r],(t,e,r,n,s,i)=>{var{padding:l}=s;return i?[n.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Du=(t,e,r,n)=>{var s;switch(e){case"xAxis":return DG(t,r,n);case"yAxis":return IG(t,r,n);case"zAxis":return(s=Vw(t,r))===null||s===void 0?void 0:s.range;case"angleAxis":return f3(t);case"radiusAxis":return m3(t,r);default:return}},Y3=pe([xa,Du],_p),Ic=pe([xa,Ru,kG,Y3],Jw);pe([Ou,Xw,kr],uG);function W3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Tp=(t,e)=>e,Op=(t,e,r)=>r,PG=pe(cp,Tp,Op,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(W3)),MG=pe(dp,Tp,Op,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(W3)),X3=(t,e)=>({width:t.width,height:e.height}),LG=(t,e)=>{var r=typeof e.width=="number"?e.width:Eu;return{width:r,height:t.height}},UG=pe(Zr,oi,X3),$G=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},BG=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},zG=pe(si,Zr,PG,Tp,Op,(t,e,r,n,s)=>{var i={},l;return r.forEach(d=>{var u=X3(e,d);l==null&&(l=$G(e,n,t));var f=n==="top"&&!s||n==="bottom"&&s;i[d.id]=l-Number(f)*u.height,l+=(f?-1:1)*u.height}),i}),FG=pe(ni,Zr,MG,Tp,Op,(t,e,r,n,s)=>{var i={},l;return r.forEach(d=>{var u=LG(e,d);l==null&&(l=BG(e,n,t));var f=n==="left"&&!s||n==="right"&&s;i[d.id]=l-Number(f)*u.width,l+=(f?-1:1)*u.width}),i}),qG=(t,e)=>{var r=oi(t,e);if(r!=null)return zG(t,r.orientation,r.mirror)},HG=pe([Zr,oi,qG,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var s=r==null?void 0:r[n];return s==null?{x:t.left,y:0}:{x:t.left,y:s}}}),GG=(t,e)=>{var r=li(t,e);if(r!=null)return FG(t,r.orientation,r.mirror)},VG=pe([Zr,li,GG,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:t.top}:{x:s,y:t.top}}}),YG=pe(Zr,li,(t,e)=>{var r=typeof e.width=="number"?e.width:Eu;return{width:r,height:t.height}}),K3=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:l}=r,d=ai(t,n),u=e.map(f=>f.value);if(l&&d&&i==="category"&&s&&nO(u))return u}},Zw=pe([Mt,Cp,xa,kr],K3),J3=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,l=ai(t,n);if(l&&(s==="number"||i!=="auto"))return e.map(d=>d.value)}},e1=pe([Mt,Cp,Tu,kr],J3),Xk=pe([Mt,aG,Ru,Ic,Zw,e1,Du,Qw,kr],(t,e,r,n,s,i,l,d,u)=>{if(e!=null){var f=ai(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:i,duplicateDomain:s,isCategorical:f,niceTicks:d,range:l,realScaleType:r,scale:n}}}),WG=(t,e,r,n,s,i,l,d,u)=>{if(!(e==null||n==null)){var f=ai(t,u),{type:m,ticks:p,tickCount:x}=e,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=m==="category"&&n.bandwidth?n.bandwidth()/v:0;y=u==="angleAxis"&&i!=null&&i.length>=2?vn(i[0]-i[1])*2*y:y;var N=p||s;if(N){var w=N.map((E,k)=>{var S=l?l.indexOf(E):E;return{index:k,coordinate:n(S)+y,value:E,offset:y}});return w.filter(E=>er(E.coordinate))}return f&&d?d.map((E,k)=>({coordinate:n(E)+y,value:E,index:k,offset:y})).filter(E=>er(E.coordinate)):n.ticks?n.ticks(x).map(E=>({coordinate:n(E)+y,value:E,offset:y})):n.domain().map((E,k)=>({coordinate:n(E)+y,value:l?l[E]:E,index:k,offset:y}))}},Q3=pe([Mt,Tu,Ru,Ic,Qw,Du,Zw,e1,kr],WG),XG=(t,e,r,n,s,i,l)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var d=ai(t,l),{tickCount:u}=e,f=0;return f=l==="angleAxis"&&(n==null?void 0:n.length)>=2?vn(n[0]-n[1])*2*f:f,d&&i?i.map((m,p)=>({coordinate:r(m)+f,value:m,index:p,offset:f})):r.ticks?r.ticks(u).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,p)=>({coordinate:r(m)+f,value:s?s[m]:m,index:p,offset:f}))}},Z3=pe([Mt,Tu,Ic,Du,Zw,e1,kr],XG),eR=pe(xa,Ic,(t,e)=>{if(!(t==null||e==null))return _m(_m({},t),{},{scale:e})}),KG=pe([xa,Ru,Kw,Y3],Jw);pe((t,e,r)=>Vw(t,r),KG,(t,e)=>{if(!(t==null||e==null))return _m(_m({},t),{},{scale:e})});var JG=pe([Mt,cp,dp],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tR=t=>t.options.defaultTooltipEventType,rR=t=>t.options.validateTooltipEventTypes;function aR(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function t1(t,e){var r=tR(t),n=rR(t);return aR(e,r,n)}function QG(t){return Ge(e=>t1(e,t))}var nR=(t,e)=>{var r,n=Number(e);if(!(Fn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},ZG=t=>t.tooltip.settings,Hi={active:!1,index:null,dataKey:void 0,coordinate:void 0},eV={itemInteraction:{click:Hi,hover:Hi},axisInteraction:{click:Hi,hover:Hi},keyboardInteraction:Hi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sR=Pa({name:"tooltip",initialState:eV,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:wr()},removeTooltipEntrySettings:{reducer(t,e){var r=Gs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:wr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:tV,removeTooltipEntrySettings:rV,setTooltipSettingsState:aV,setActiveMouseOverItemIndex:nV,mouseLeaveItem:hce,mouseLeaveChart:iR,setActiveClickItemIndex:fce,setMouseOverAxisIndex:oR,setMouseClickAxisIndex:sV,setSyncInteraction:oy,setKeyboardInteraction:ly}=sR.actions,iV=sR.reducer;function Kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(r),!0).forEach(function(n){oV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oV(t,e,r){return(e=lV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lV(t){var e=cV(t,"string");return typeof e=="symbol"?e:e+""}function cV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dV(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function uV(t){return t.index!=null}var lR=(t,e,r,n)=>{if(e==null)return Hi;var s=dV(t,e,r);if(s==null)return Hi;if(s.active)return s;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(uV(s)){if(i)return wf(wf({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return wf(wf({},Hi),{},{coordinate:s.coordinate})},r1=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!er(n))return r;var s=0,i=1/0;return e.length>0&&(i=e.length-1),String(Math.max(s,Math.min(n,i)))},cR=(t,e,r,n,s,i,l,d)=>{if(!(i==null||d==null)){var u=l[0],f=u==null?void 0:d(u.positions,i);if(f!=null)return f;var m=s==null?void 0:s[Number(i)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:m.coordinate}}}},dR=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=t.itemInteraction.hover.dataKey:s=t.itemInteraction.click.dataKey,s==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===s})},Iu=t=>t.options.tooltipPayloadSearcher,Pc=t=>t.tooltip;function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){hV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hV(t,e,r){return(e=fV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fV(t){var e=mV(t,"string");return typeof e=="symbol"?e:e+""}function mV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pV(t,e){return t??e}var uR=(t,e,r,n,s,i,l)=>{if(!(e==null||i==null)){var{chartData:d,computedData:u,dataStartIndex:f,dataEndIndex:m}=r,p=[];return t.reduce((x,v)=>{var y,{dataDefinedOnItem:N,settings:w}=v,E=pV(N,d),k=Array.isArray(E)?VO(E,f,m):E,S=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n,A=w==null?void 0:w.nameKey,C;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?C=sO(k,n,s):C=i(k,e,u,A),Array.isArray(C))C.forEach(R=>{var L=Qk(Qk({},w),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});x.push(kS({tooltipEntrySettings:L,dataKey:R.dataKey,payload:R.payload,value:pa(R.payload,R.dataKey),name:R.name}))});else{var O;x.push(kS({tooltipEntrySettings:w,dataKey:S,payload:C,value:pa(C,S),name:(O=pa(C,A))!==null&&O!==void 0?O:w==null?void 0:w.name}))}return x},p)}},a1=pe([Cr,Mt,v3,Uw,Ar],q3),gV=pe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),xV=pe([Ar,Rc],y3),Pu=pe([gV,Cr,xV],j3,{memoizeOptions:{resultEqualityCheck:Ap}}),bV=pe([Pu],t=>t.filter(Gw)),vV=pe([Pu],E3,{memoizeOptions:{resultEqualityCheck:Ap}}),Mc=pe([vV,ro],S3),yV=pe([bV,ro,Cr],g3),n1=pe([Mc,Cr,Pu],k3),hR=pe([Cr],Ww),wV=pe([Cr],t=>t.allowDataOverflow),fR=pe([hR,wV],X4),jV=pe([Pu],t=>t.filter(Gw)),NV=pe([yV,jV,Np],T3),_V=pe([NV,ro,Ar,fR],O3),EV=pe([Pu],_3),SV=pe([Mc,Cr,EV,Xw,Ar],I3,{memoizeOptions:{resultEqualityCheck:kp}}),kV=pe([P3,Ar,Rc],Dc),AV=pe([kV,Ar],U3),CV=pe([M3,Ar,Rc],Dc),TV=pe([CV,Ar],$3),OV=pe([L3,Ar,Rc],Dc),RV=pe([OV,Ar],B3),DV=pe([AV,RV,TV],Em),IV=pe([Cr,hR,fR,_V,SV,DV,Mt,Ar],z3),mR=pe([Cr,Mt,Mc,n1,Np,Ar,IV],F3),PV=pe([mR,Cr,a1],H3),MV=pe([Cr,mR,PV,Ar],G3),pR=t=>{var e=Ar(t),r=Rc(t),n=!1;return Du(t,e,r,n)},gR=pe([Cr,pR],_p),xR=pe([Cr,a1,MV,gR],Jw),LV=pe([Mt,n1,Cr,Ar],K3),UV=pe([Mt,n1,Cr,Ar],J3),$V=(t,e,r,n,s,i,l,d)=>{if(e){var{type:u}=e,f=ai(t,d);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?vn(s[0]-s[1])*2*p:p,f&&l?l.map((x,v)=>({coordinate:n(x)+p,value:x,index:v,offset:p})):n.domain().map((x,v)=>({coordinate:n(x)+p,value:i?i[x]:x,index:v,offset:p}))}}},ci=pe([Mt,Cr,a1,xR,pR,LV,UV,Ar],$V),s1=pe([tR,rR,ZG],(t,e,r)=>aR(r.shared,t,e)),bR=t=>t.tooltip.settings.trigger,i1=t=>t.tooltip.settings.defaultIndex,Rp=pe([Pc,s1,bR,i1],lR),hu=pe([Rp,Mc],r1),vR=pe([ci,hu],nR),BV=pe([Rp],t=>{if(t)return t.dataKey}),yR=pe([Pc,s1,bR,i1],dR),zV=pe([ni,si,Mt,Zr,ci,i1,yR,Iu],cR),FV=pe([Rp,zV],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),qV=pe([Rp],t=>t.active),HV=pe([yR,hu,ro,C3,vR,Iu,s1],uR),GV=pe([HV],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function e5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){VV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VV(t,e,r){return(e=YV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YV(t){var e=WV(t,"string");return typeof e=="symbol"?e:e+""}function WV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XV=()=>Ge(Cr),KV=()=>{var t=XV(),e=Ge(ci),r=Ge(xR);return om(!t||!r?void 0:e5(e5({},t),{},{scale:r}),e)};function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){JV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JV(t,e,r){return(e=QV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QV(t){var e=ZV(t,"string");return typeof e=="symbol"?e:e+""}function ZV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eY=(t,e,r,n)=>{var s=e.find(i=>i&&i.index===r);if(s){if(t==="horizontal")return{x:s.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},tY=(t,e,r,n)=>{var s=e.find(f=>f&&f.index===r);if(s){if(t==="centric"){var i=s.coordinate,{radius:l}=n;return Hl(Hl(Hl({},n),Kr(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var d=s.coordinate,{angle:u}=n;return Hl(Hl(Hl({},n),Kr(n.cx,n.cy,d,u)),{},{angle:u,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function rY(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var wR=(t,e,r,n,s)=>{var i,l=-1,d=(i=e==null?void 0:e.length)!==null&&i!==void 0?i:0;if(d<=1||t==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var u=0;u<d;u++){var f=u>0?r[u-1].coordinate:r[d-1].coordinate,m=r[u].coordinate,p=u>=d-1?r[0].coordinate:r[u+1].coordinate,x=void 0;if(vn(m-f)!==vn(p-m)){var v=[];if(vn(p-m)===vn(s[1]-s[0])){x=p;var y=m+s[1]-s[0];v[0]=Math.min(y,(y+f)/2),v[1]=Math.max(y,(y+f)/2)}else{x=f;var N=p+s[1]-s[0];v[0]=Math.min(m,(N+m)/2),v[1]=Math.max(m,(N+m)/2)}var w=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){({index:l}=r[u]);break}}else{var E=Math.min(f,p),k=Math.max(f,p);if(t>(E+m)/2&&t<=(k+m)/2){({index:l}=r[u]);break}}}else if(e){for(var S=0;S<d;S++)if(S===0&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S>0&&S<d-1&&t>(e[S].coordinate+e[S-1].coordinate)/2&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S===d-1&&t>(e[S].coordinate+e[S-1].coordinate)/2){({index:l}=e[S]);break}}return l},jR=()=>Ge(Uw),o1=(t,e)=>e,NR=(t,e,r)=>r,l1=(t,e,r,n)=>n,aY=pe(ci,t=>ap(t,e=>e.coordinate)),c1=pe([Pc,o1,NR,l1],lR),_R=pe([c1,Mc],r1),nY=(t,e,r)=>{if(e!=null){var n=Pc(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ER=pe([Pc,o1,NR,l1],dR),Sm=pe([ni,si,Mt,Zr,ci,l1,ER,Iu],cR),sY=pe([c1,Sm],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),SR=pe([ci,_R],nR),iY=pe([ER,_R,ro,C3,SR,Iu,o1],uR),oY=pe([c1],t=>({isActive:t.active,activeIndex:t.index})),lY=(t,e,r,n,s,i,l)=>{if(!(!t||!r||!n||!s)&&rY(t,l)){var d=XB(t,e),u=wR(d,i,s,r,n),f=eY(e,s,u,t);return{activeIndex:String(u),activeCoordinate:f}}},cY=(t,e,r,n,s,i,l)=>{if(!(!t||!n||!s||!i||!r)){var d=YF(t,r);if(d){var u=KB(d,e),f=wR(u,l,i,n,s),m=tY(e,i,f,d);return{activeIndex:String(f),activeCoordinate:m}}}},dY=(t,e,r,n,s,i,l,d)=>{if(!(!t||!e||!n||!s||!i))return e==="horizontal"||e==="vertical"?lY(t,e,n,s,i,l,d):cY(t,e,r,n,s,i,l)},uY=pe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElementId:n.elementId}}),hY=pe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(ma)),r=Array.from(new Set(e));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:QH}});function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function a5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){fY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fY(t,e,r){return(e=mY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mY(t){var e=pY(t,"string");return typeof e=="symbol"?e:e+""}function pY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gY={},xY={zIndexMap:Object.values(ma).reduce((t,e)=>a5(a5({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),gY)},bY=new Set(Object.values(ma));function vY(t){return bY.has(t)}var kR=Pa({name:"zIndex",initialState:xY,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:wr()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!vY(r)&&delete t.zIndexMap[r])},prepare:wr()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r,elementId:n,isPanorama:s}=e.payload;t.zIndexMap[r]?s?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:wr()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:wr()}}}),{registerZIndexPortal:yY,unregisterZIndexPortal:wY,registerZIndexPortalId:jY,unregisterZIndexPortalId:NY}=kR.actions,_Y=kR.reducer;function di(t){var{zIndex:e,children:r}=t,n=Cz(),s=n&&e!==void 0&&e!==0,i=Ma(),l=Lr();b.useLayoutEffect(()=>s?(l(yY({zIndex:e})),()=>{l(wY({zIndex:e}))}):kc,[l,e,s]);var d=Ge(f=>uY(f,e,i));if(!s)return r;if(!d)return null;var u=document.getElementById(d);return u?Ym.createPortal(r,u):null}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cy.apply(null,arguments)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){EY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EY(t,e,r){return(e=SY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SY(t){var e=kY(t,"string");return typeof e=="symbol"?e:e+""}function kY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AY(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return b.isValidElement(e)?b.cloneElement(e,n):b.createElement(r,n)}function CY(t){var e,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:l,layout:d,cursor:u,tooltipEventType:f,chartName:m}=t,p=r,x=n,v=s;if(!u||!p||m!=="ScatterChart"&&f!=="axis")return null;var y,N,w;if(m==="ScatterChart")y=p,N=iF,w=ma.cursorLine;else if(m==="BarChart")y=oF(d,p,i,l),N=LF,w=ma.cursorRectangle;else if(d==="radial"&&iO(p)){var{cx:E,cy:k,radius:S,startAngle:A,endAngle:C}=h4(p);y={cx:E,cy:k,startAngle:A,endAngle:C,innerRadius:S,outerRadius:S},N=JF,w=ma.cursorLine}else y={points:QF(d,p,i)},N=Uf,w=ma.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,R=jf(jf(jf(jf({stroke:"#ccc",pointerEvents:"none"},i),y),Zm(u)),{},{payload:x,payloadIndex:v,className:Ft("recharts-tooltip-cursor",O)});return b.createElement(di,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},b.createElement(AY,{cursor:u,cursorComp:N,cursorProps:R}))}function TY(t){var e=KV(),r=r4(),n=mp(),s=jR();return e==null||r==null||n==null||s==null?null:b.createElement(CY,cy({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:s}))}var AR=b.createContext(null),OY=()=>b.useContext(AR),Db={exports:{}},s5;function RY(){return s5||(s5=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function i(u,f,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new s(m,p||u,x),y=r?r+f:f;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},d.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,y=new Array(v);x<v;x++)y[x]=p[x].fn;return y},d.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},d.prototype.emit=function(f,m,p,x,v,y){var N=r?r+f:f;if(!this._events[N])return!1;var w=this._events[N],E=arguments.length,k,S;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,p),!0;case 4:return w.fn.call(w.context,m,p,x),!0;case 5:return w.fn.call(w.context,m,p,x,v),!0;case 6:return w.fn.call(w.context,m,p,x,v,y),!0}for(S=1,k=new Array(E-1);S<E;S++)k[S-1]=arguments[S];w.fn.apply(w.context,k)}else{var A=w.length,C;for(S=0;S<A;S++)switch(w[S].once&&this.removeListener(f,w[S].fn,void 0,!0),E){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,m);break;case 3:w[S].fn.call(w[S].context,m,p);break;case 4:w[S].fn.call(w[S].context,m,p,x);break;default:if(!k)for(C=1,k=new Array(E-1);C<E;C++)k[C-1]=arguments[C];w[S].fn.apply(w[S].context,k)}}return!0},d.prototype.on=function(f,m,p){return i(this,f,m,p,!1)},d.prototype.once=function(f,m,p){return i(this,f,m,p,!0)},d.prototype.removeListener=function(f,m,p,x){var v=r?r+f:f;if(!this._events[v])return this;if(!m)return l(this,v),this;var y=this._events[v];if(y.fn)y.fn===m&&(!x||y.once)&&(!p||y.context===p)&&l(this,v);else{for(var N=0,w=[],E=y.length;N<E;N++)(y[N].fn!==m||x&&!y[N].once||p&&y[N].context!==p)&&w.push(y[N]);w.length?this._events[v]=w.length===1?w[0]:w:l(this,v)}return this},d.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,t.exports=d})(Db)),Db.exports}var DY=RY();const IY=Wn(DY);var fu=new IY,dy="recharts.syncEvent.tooltip",i5="recharts.syncEvent.brush";function PY(t,e){if(e){var r=Number.parseInt(e,10);if(!Fn(r))return t==null?void 0:t[r]}}var MY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CR=Pa({name:"options",initialState:MY,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),LY=CR.reducer,{createEventEmitter:UY}=CR.actions;function $Y(t){return t.tooltip.syncInteraction}var BY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TR=Pa({name:"chartData",initialState:BY,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:o5,setDataStartEndIndexes:zY,setComputedData:mce}=TR.actions,FY=TR.reducer,qY=["x","y"];function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){HY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HY(t,e,r){return(e=GY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GY(t){var e=VY(t,"string");return typeof e=="symbol"?e:e+""}function VY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YY(t,e){if(t==null)return{};var r,n,s=WY(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function WY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XY(){var t=Ge($w),e=Ge(Bw),r=Lr(),n=Ge(d3),s=Ge(ci),i=mp(),l=fp(),d=Ge(u=>u.rootProps.className);b.useEffect(()=>{if(t==null)return kc;var u=(f,m,p)=>{if(e!==p&&t===f){if(n==="index"){var x;if(l&&m!==null&&m!==void 0&&(x=m.payload)!==null&&x!==void 0&&x.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:y,y:N}=v,w=YY(v,qY),{x:E,y:k,width:S,height:A}=m.payload.sourceViewBox,C=Gl(Gl({},w),{},{x:l.x+(S?(y-E)/S:0)*l.width,y:l.y+(A?(N-k)/A:0)*l.height});r(Gl(Gl({},m),{},{payload:Gl(Gl({},m.payload),{},{coordinate:C})}))}else r(m);return}if(s!=null){var O;if(typeof n=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=n(s,R);O=s[L]}else n==="value"&&(O=s.find(B=>String(B.value)===m.payload.label));var{coordinate:$}=m.payload;if(O==null||m.payload.active===!1||$==null||l==null){r(oy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:M,y:H}=$,q=Math.min(M,l.x+l.width),F=Math.min(H,l.y+l.height),X={x:i==="horizontal"?O.coordinate:q,y:i==="horizontal"?F:O.coordinate},ue=oy({active:m.payload.active,coordinate:X,dataKey:m.payload.dataKey,index:String(O.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});r(ue)}}};return fu.on(dy,u),()=>{fu.off(dy,u)}},[d,r,e,t,n,s,i,l])}function KY(){var t=Ge($w),e=Ge(Bw),r=Lr();b.useEffect(()=>{if(t==null)return kc;var n=(s,i,l)=>{e!==l&&t===s&&r(zY(i))};return fu.on(i5,n),()=>{fu.off(i5,n)}},[r,e,t])}function JY(){var t=Lr();b.useEffect(()=>{t(UY())},[t]),XY(),KY()}function QY(t,e,r,n,s,i){var l=Ge(v=>nY(v,t,e)),d=Ge(Bw),u=Ge($w),f=Ge(d3),m=Ge($Y),p=m==null?void 0:m.active,x=fp();b.useEffect(()=>{if(!p&&u!=null&&d!=null){var v=oy({active:i,coordinate:r,dataKey:l,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:x});fu.emit(dy,u,v,d)}},[p,r,l,s,n,d,u,f,i,x])}function c5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(r),!0).forEach(function(n){ZY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e,r){return(e=eW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rW(t){return t.dataKey}function aW(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(Uz,e)}var u5=[],nW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ac.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sW(t){var e,r,n=nn(t,nW),{active:s,allowEscapeViewBox:i,animationDuration:l,animationEasing:d,content:u,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:x,position:v,reverseDirection:y,useTranslate3d:N,wrapperStyle:w,cursor:E,shared:k,trigger:S,defaultIndex:A,portal:C,axisId:O}=n,R=Lr(),L=typeof A=="number"?String(A):A;b.useEffect(()=>{R(aV({shared:k,trigger:S,axisId:O,active:s,defaultIndex:L}))},[R,k,S,O,s,L]);var $=fp(),M=i4(),H=QG(k),{activeIndex:q,isActive:F}=(e=Ge(ve=>oY(ve,H,S,L)))!==null&&e!==void 0?e:{},X=Ge(ve=>iY(ve,H,S,L)),ue=Ge(ve=>SR(ve,H,S,L)),B=Ge(ve=>sY(ve,H,S,L)),I=X,z=OY(),oe=(r=s??F)!==null&&r!==void 0?r:!1,[K,D]=$9([I,oe]),U=H==="axis"?ue:void 0;QY(H,S,B,U,q,oe);var W=C??z;if(W==null||$==null||H==null)return null;var re=I??u5;oe||(re=u5),f&&re.length&&(re=u9(re.filter(ve=>ve.value!=null&&(ve.hide!==!0||n.includeHidden)),x,rW));var he=re.length>0,J=b.createElement(Gz,{allowEscapeViewBox:i,animationDuration:l,animationEasing:d,isAnimationActive:m,active:oe,coordinate:B,hasPayload:he,offset:p,position:v,reverseDirection:y,useTranslate3d:N,viewBox:$,wrapperStyle:w,lastBoundingBox:K,innerRef:D,hasPortalFromProps:!!C},aW(u,d5(d5({},n),{},{payload:re,label:U,active:oe,activeIndex:q,coordinate:B,accessibilityLayer:M})));return b.createElement(b.Fragment,null,Ym.createPortal(J,W),oe&&b.createElement(TY,{cursor:E,tooltipEventType:H,coordinate:B,payload:re,index:q}))}function iW(t,e,r){return(e=oW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cW{constructor(e){iW(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function h5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(r),!0).forEach(function(n){uW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uW(t,e,r){return(e=hW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mW={cacheSize:2e3,enableCache:!0},OR=dW({},mW),f5=new cW(OR.cacheSize),pW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m5="recharts_measurement_span";function gW(t,e){var r=e.fontSize||"",n=e.fontFamily||"",s=e.fontWeight||"",i=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(l,"|").concat(d)}var p5=(t,e)=>{try{var r=document.getElementById(m5);r||(r=document.createElement("span"),r.setAttribute("id",m5),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,pW,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ac.isSsr)return{width:0,height:0};if(!OR.enableCache)return p5(e,r);var n=gW(e,r),s=f5.get(n);if(s)return s;var i=p5(e,r);return f5.set(n,i),i},g5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vW=Object.keys(RR),ec="NaN";function yW(t,e){return t*RR[e]}class ka{static parse(e){var r,[,n,s]=(r=bW.exec(e))!==null&&r!==void 0?r:[];return new ka(parseFloat(n),s??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Fn(e)&&(this.unit=""),r!==""&&!xW.test(r)&&(this.num=NaN,this.unit=""),vW.includes(r)&&(this.num=yW(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ka(NaN,""):new ka(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ka(NaN,""):new ka(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ka(NaN,""):new ka(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ka(NaN,""):new ka(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fn(this.num)}}function DR(t){if(t.includes(ec))return ec;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,s,i]=(r=g5.exec(e))!==null&&r!==void 0?r:[],l=ka.parse(n??""),d=ka.parse(i??""),u=s==="*"?l.multiply(d):l.divide(d);if(u.isNaN())return ec;e=e.replace(g5,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,x]=(f=x5.exec(e))!==null&&f!==void 0?f:[],v=ka.parse(m??""),y=ka.parse(x??""),N=p==="+"?v.add(y):v.subtract(y);if(N.isNaN())return ec;e=e.replace(x5,N.toString())}return e}var b5=/\(([^()]*)\)/;function wW(t){for(var e=t,r;(r=b5.exec(e))!=null;){var[,n]=r;e=e.replace(b5,DR(n))}return e}function jW(t){var e=t.replace(/\s+/g,"");return e=wW(e),e=DR(e),e}function NW(t){try{return jW(t)}catch{return ec}}function Ib(t){var e=NW(t.slice(5,-1));return e===ec?"":e}var _W=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],EW=["dx","dy","angle","className","breakAll"];function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uy.apply(null,arguments)}function v5(t,e){if(t==null)return{};var r,n,s=SW(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function SW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IR=/[ \f\n\r\t\v\u2028\u2029]+/,PR=t=>{var{children:e,breakAll:r,style:n}=t;try{var s=[];Jr(e)||(r?s=e.toString().split(""):s=e.toString().split(IR));var i=s.map(d=>({word:d,width:Xd(d,n).width})),l=r?0:Xd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function kW(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var MR=(t,e,r,n)=>t.reduce((s,i)=>{var{word:l,width:d}=i,u=s[s.length-1];if(u&&d!=null&&(e==null||n||u.width+d+r<Number(e)))u.words.push(l),u.width+=d+r;else{var f={words:[l],width:d};s.push(f)}return s},[]),LR=t=>t.reduce((e,r)=>e.width>r.width?e:r),AW="",y5=(t,e,r,n,s,i,l,d)=>{var u=t.slice(0,e),f=PR({breakAll:r,style:n,children:u+AW});if(!f)return[!1,[]];var m=MR(f.wordsWithComputedWidth,i,l,d),p=m.length>s||LR(m).width>Number(i);return[p,m]},CW=(t,e,r,n,s)=>{var{maxLines:i,children:l,style:d,breakAll:u}=t,f=Fe(i),m=String(l),p=MR(e,n,r,s);if(!f||s)return p;var x=p.length>i||LR(p).width>Number(n);if(!x)return p;for(var v=0,y=m.length-1,N=0,w;v<=y&&N<=m.length-1;){var E=Math.floor((v+y)/2),k=E-1,[S,A]=y5(m,k,u,d,i,n,r,s),[C]=y5(m,E,u,d,i,n,r,s);if(!S&&!C&&(v=E+1),S&&C&&(y=E-1),!S&&C){w=A;break}N++}return w||p},w5=t=>{var e=Jr(t)?[]:t.toString().split(IR);return[{words:e,width:void 0}]},TW=t=>{var{width:e,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:l}=t;if((e||r)&&!Ac.isSsr){var d,u,f=PR({breakAll:i,children:n,style:s});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;d=m,u=p}else return w5(n);return CW({breakAll:i,children:n,maxLines:l,style:s},d,u,e,!!r)}return w5(n)},UR="#808080",OW={breakAll:!1,capHeight:"0.71em",fill:UR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},d1=b.forwardRef((t,e)=>{var r=nn(t,OW),{x:n,y:s,lineHeight:i,capHeight:l,fill:d,scaleToFit:u,textAnchor:f,verticalAnchor:m}=r,p=v5(r,_W),x=b.useMemo(()=>TW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:y,angle:N,className:w,breakAll:E}=p,k=v5(p,EW);if(!hs(n)||!hs(s)||x.length===0)return null;var S=Number(n)+(Fe(v)?v:0),A=Number(s)+(Fe(y)?y:0);if(!er(S)||!er(A))return null;var C;switch(m){case"start":C=Ib("calc(".concat(l,")"));break;case"middle":C=Ib("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:C=Ib("calc(".concat(x.length-1," * -").concat(i,")"));break}var O=[];if(u){var R=x[0].width,{width:L}=p;O.push("scale(".concat(Fe(L)&&Fe(R)?L/R:1,")"))}return N&&O.push("rotate(".concat(N,", ").concat(S,", ").concat(A,")")),O.length&&(k.transform=O.join(" ")),b.createElement("text",uy({},jn(k),{ref:e,x:S,y:A,className:Ft("recharts-text",w),textAnchor:f,fill:d.includes("url")?UR:d}),x.map(($,M)=>{var H=$.words.join(E?"":" ");return b.createElement("tspan",{x:S,dy:M===0?C:i,key:"".concat(H,"-").concat(M)},H)}))});d1.displayName="Text";var RW=["labelRef"];function DW(t,e){if(t==null)return{};var r,n,s=IW(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function IW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function j5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(r),!0).forEach(function(n){PW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PW(t,e,r){return(e=MW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MW(t){var e=LW(t,"string");return typeof e=="symbol"?e:e+""}function LW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bs.apply(null,arguments)}var $R=b.createContext(null),UW=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:s,width:i,height:l,children:d}=t,u=b.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:s,width:i,height:l}),[e,r,n,s,i,l]);return b.createElement($R.Provider,{value:u},d)},BR=()=>{var t=b.useContext($R),e=fp();return t||t4(e)},$W=b.createContext(null),BW=()=>{var t=b.useContext($W),e=Ge(p3);return t||e},zW=t=>{var{value:e,formatter:r}=t,n=Jr(t.children)?e:t.children;return typeof r=="function"?r(n):n},u1=t=>t!=null&&typeof t=="function",FW=(t,e)=>{var r=vn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},qW=(t,e,r,n,s)=>{var{offset:i,className:l}=t,{cx:d,cy:u,innerRadius:f,outerRadius:m,startAngle:p,endAngle:x,clockWise:v}=s,y=(f+m)/2,N=FW(p,x),w=N>=0?1:-1,E,k;switch(e){case"insideStart":E=p+w*i,k=v;break;case"insideEnd":E=x-w*i,k=!v;break;case"end":E=x+w*i,k=v;break;default:throw new Error("Unsupported position ".concat(e))}k=N<=0?k:!k;var S=Kr(d,u,y,E),A=Kr(d,u,y,E+(k?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),O=Jr(t.id)?ru("recharts-radial-line-"):t.id;return b.createElement("text",Bs({},n,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:O,d:C})),b.createElement("textPath",{xlinkHref:"#".concat(O)},r))},HW=(t,e,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:l,startAngle:d,endAngle:u}=t,f=(d+u)/2;if(r==="outside"){var{x:m,y:p}=Kr(n,s,l+e,f);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:v,y}=Kr(n,s,x,f);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},hy=t=>"cx"in t&&Fe(t.cx),GW=(t,e)=>{var{parentViewBox:r,offset:n,position:s}=t,i;r!=null&&!hy(r)&&(i=r);var{x:l,y:d,upperWidth:u,lowerWidth:f,height:m}=e,p=l,x=l+(u-f)/2,v=(p+x)/2,y=(u+f)/2,N=p+u/2,w=m>=0?1:-1,E=w*n,k=w>0?"end":"start",S=w>0?"start":"end",A=u>=0?1:-1,C=A*n,O=A>0?"end":"start",R=A>0?"start":"end";if(s==="top"){var L={x:p+u/2,y:d-E,textAnchor:"middle",verticalAnchor:k};return ir(ir({},L),i?{height:Math.max(d-i.y,0),width:u}:{})}if(s==="bottom"){var $={x:x+f/2,y:d+m+E,textAnchor:"middle",verticalAnchor:S};return ir(ir({},$),i?{height:Math.max(i.y+i.height-(d+m),0),width:f}:{})}if(s==="left"){var M={x:v-C,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return ir(ir({},M),i?{width:Math.max(M.x-i.x,0),height:m}:{})}if(s==="right"){var H={x:v+y+C,y:d+m/2,textAnchor:R,verticalAnchor:"middle"};return ir(ir({},H),i?{width:Math.max(i.x+i.width-H.x,0),height:m}:{})}var q=i?{width:y,height:m}:{};return s==="insideLeft"?ir({x:v+C,y:d+m/2,textAnchor:R,verticalAnchor:"middle"},q):s==="insideRight"?ir({x:v+y-C,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},q):s==="insideTop"?ir({x:p+u/2,y:d+E,textAnchor:"middle",verticalAnchor:S},q):s==="insideBottom"?ir({x:x+f/2,y:d+m-E,textAnchor:"middle",verticalAnchor:k},q):s==="insideTopLeft"?ir({x:p+C,y:d+E,textAnchor:R,verticalAnchor:S},q):s==="insideTopRight"?ir({x:p+u-C,y:d+E,textAnchor:O,verticalAnchor:S},q):s==="insideBottomLeft"?ir({x:x+C,y:d+m-E,textAnchor:R,verticalAnchor:k},q):s==="insideBottomRight"?ir({x:x+f-C,y:d+m-E,textAnchor:O,verticalAnchor:k},q):s&&typeof s=="object"&&(Fe(s.x)||Ws(s.x))&&(Fe(s.y)||Ws(s.y))?ir({x:l+Xi(s.x,y),y:d+Xi(s.y,m),textAnchor:"end",verticalAnchor:"end"},q):ir({x:N,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},q)},VW={offset:5,zIndex:ma.label};function zi(t){var e=nn(t,VW),{viewBox:r,position:n,value:s,children:i,content:l,className:d="",textBreakAll:u,labelRef:f}=e,m=BW(),p=BR(),x=n==="center"?p:m??p,v,y,N;if(r==null?v=x:hy(r)?v=r:v=t4(r),!v||Jr(s)&&Jr(i)&&!b.isValidElement(l)&&typeof l!="function")return null;var w=ir(ir({},e),{},{viewBox:v});if(b.isValidElement(l)){var{labelRef:E}=w,k=DW(w,RW);return b.cloneElement(l,k)}if(typeof l=="function"){if(y=b.createElement(l,w),b.isValidElement(y))return y}else y=zW(e);var S=jn(e);if(hy(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return qW(e,n,y,S,v);N=HW(v,e.offset,e.position)}else N=GW(e,v);return b.createElement(di,{zIndex:e.zIndex},b.createElement(d1,Bs({ref:f,className:Ft("recharts-label",d)},S,N,{textAnchor:kW(S.textAnchor)?S.textAnchor:N.textAnchor,breakAll:u}),y))}zi.displayName="Label";var YW=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?b.createElement(zi,Bs({key:"label-implicit"},n)):hs(t)?b.createElement(zi,Bs({key:"label-implicit",value:t},n)):b.isValidElement(t)?t.type===zi?b.cloneElement(t,ir({key:"label-implicit"},n)):b.createElement(zi,Bs({key:"label-implicit",content:t},n)):u1(t)?b.createElement(zi,Bs({key:"label-implicit",content:t},n)):t&&typeof t=="object"?b.createElement(zi,Bs({},t,{key:"label-implicit"},n)):null};function WW(t){var{label:e,labelRef:r}=t,n=BR();return YW(e,n,r)||null}var Pb={},Mb={},N5;function XW(){return N5||(N5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(Mb)),Mb}var Lb={},_5;function KW(){return _5||(_5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Lb)),Lb}var E5;function JW(){return E5||(E5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XW(),r=KW(),n=nw();function s(i){if(n.isArrayLike(i))return e.last(r.toArray(i))}t.last=s})(Pb)),Pb}var Ub,S5;function QW(){return S5||(S5=1,Ub=JW().last),Ub}var ZW=QW();const eX=Wn(ZW);var tX=["valueAccessor"],rX=["dataKey","clockWise","id","textBreakAll","zIndex"];function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(null,arguments)}function k5(t,e){if(t==null)return{};var r,n,s=aX(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function aX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nX=t=>Array.isArray(t.value)?eX(t.value):t.value,zR=b.createContext(void 0),sX=zR.Provider,FR=b.createContext(void 0);FR.Provider;function iX(){return b.useContext(zR)}function oX(){return b.useContext(FR)}function Bf(t){var{valueAccessor:e=nX}=t,r=k5(t,tX),{dataKey:n,clockWise:s,id:i,textBreakAll:l,zIndex:d}=r,u=k5(r,rX),f=iX(),m=oX(),p=f||m;return!p||!p.length?null:b.createElement(di,{zIndex:d??ma.label},b.createElement(us,{className:"recharts-label-list"},p.map((x,v)=>{var y,N=Jr(n)?e(x,v):pa(x&&x.payload,n),w=Jr(i)?{}:{id:"".concat(i,"-").concat(v)};return b.createElement(zi,km({key:"label-".concat(v)},jn(x),u,w,{fill:(y=r.fill)!==null&&y!==void 0?y:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:l,viewBox:x.viewBox,index:v,zIndex:0}))})))}Bf.displayName="LabelList";function lX(t){var{label:e}=t;return e?e===!0?b.createElement(Bf,{key:"labelList-implicit"}):b.isValidElement(e)||u1(e)?b.createElement(Bf,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(Bf,km({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fy.apply(null,arguments)}var qR=t=>{var{cx:e,cy:r,r:n,className:s}=t,i=Ft("recharts-dot",s);return Fe(e)&&Fe(r)&&Fe(n)?b.createElement("circle",fy({},zn(t),aw(t),{className:i,cx:e,cy:r,r:n})):null},cX={radiusAxis:{},angleAxis:{}},HR=Pa({name:"polarAxis",initialState:cX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:pce,removeRadiusAxis:gce,addAngleAxis:xce,removeAngleAxis:bce}=HR.actions,dX=HR.reducer,GR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function uX(t){var{fn:e,args:r}=t,n=Lr(),s=Ma();return b.useLayoutEffect(()=>{if(!s){var i=e(r);return n(tV(i)),()=>{n(rV(i))}}},[e,r,n,s]),null}function hX(t){var{legendPayload:e}=t,r=Lr(),n=Ma();return b.useLayoutEffect(()=>n?kc:(r(Oz(e)),()=>{r(Rz(e))}),[r,n,e]),null}var $b,fX=()=>{var[t]=b.useState(()=>ru("uid-"));return t},mX=($b=Ry.useId)!==null&&$b!==void 0?$b:fX;function VR(t,e){var r=mX();return e||(t?"".concat(t,"-").concat(r):r)}var pX=b.createContext(void 0),gX=t=>{var{id:e,type:r,children:n}=t,s=VR("recharts-".concat(r),e);return b.createElement(pX.Provider,{value:s},n(s))},xX={cartesianItems:[],polarItems:[]},YR=Pa({name:"graphicalItems",initialState:xX,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:wr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,s=Gs(t).cartesianItems.indexOf(r);s>-1&&(t.cartesianItems[s]=n)},prepare:wr()},removeCartesianGraphicalItem:{reducer(t,e){var r=Gs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:wr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:wr()},removePolarGraphicalItem:{reducer(t,e){var r=Gs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:wr()}}}),{addCartesianGraphicalItem:bX,replaceCartesianGraphicalItem:vX,removeCartesianGraphicalItem:yX,addPolarGraphicalItem:vce,removePolarGraphicalItem:yce}=YR.actions,wX=YR.reducer;function jX(t){var e=Lr(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?e(bX(t)):r.current!==t&&e(vX({prev:r.current,next:t})),r.current=t},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(e(yX(r.current)),r.current=null)},[e]),null}var NX=["points"];function A5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(r),!0).forEach(function(n){_X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _X(t,e,r){return(e=EX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EX(t){var e=SX(t,"string");return typeof e=="symbol"?e:e+""}function SX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Am.apply(null,arguments)}function kX(t,e){if(t==null)return{};var r,n,s=AX(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function AX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CX(t){var{option:e,dotProps:r,className:n}=t;if(b.isValidElement(e))return b.cloneElement(e,r);if(typeof e=="function")return e(r);var s=Ft(n,typeof e!="boolean"?e.className:""),i=r??{},{points:l}=i,d=kX(i,NX);return b.createElement(qR,Am({},d,{className:s}))}function TX(t,e){return t==null?!1:e?!0:t.length===1}function OX(t){var{points:e,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:l,needClip:d,clipPathId:u,zIndex:f=ma.scatter}=t;if(!TX(e,r))return null;var m=GR(r),p=s$(r),x=e.map((y,N)=>{var w,E,k=Bb(Bb(Bb({r:3},l),p),{},{index:N,cx:(w=y.x)!==null&&w!==void 0?w:void 0,cy:(E=y.y)!==null&&E!==void 0?E:void 0,dataKey:i,value:y.value,payload:y.payload,points:e});return b.createElement(CX,{key:"dot-".concat(N),option:r,dotProps:k,className:s})}),v={};return d&&u!=null&&(v.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),b.createElement(di,{zIndex:f},b.createElement(us,Am({className:n},v),x))}function C5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function T5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(r),!0).forEach(function(n){RX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RX(t,e,r){return(e=DX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PX={xAxis:{},yAxis:{},zAxis:{}},WR=Pa({name:"cartesianAxis",initialState:PX,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:wr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:wr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:wr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:wr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:wr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:wr()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,s=t.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);t.yAxis[r]=T5(T5({},t.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:MX,removeXAxis:LX,addYAxis:UX,removeYAxis:$X,addZAxis:wce,removeZAxis:jce,updateYAxisWidth:BX}=WR.actions,zX=WR.reducer,FX=pe([Zr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),qX=pe([FX,ni,si],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),h1=()=>Ge(qX),HX=()=>Ge(GV);function O5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function zb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(r),!0).forEach(function(n){GX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GX(t,e,r){return(e=VX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WX=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=t;if(s===!1||e.x==null||e.y==null)return null;var l={index:r,dataKey:i,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=zb(zb(zb({},l),Zm(s)),aw(s)),u;return b.isValidElement(s)?u=b.cloneElement(s,d):typeof s=="function"?u=s(d):u=b.createElement(qR,d),b.createElement(us,{className:"recharts-active-dot"},u)};function R5(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:s,zIndex:i=ma.activeDot}=t,l=Ge(hu),d=HX();if(e==null||d==null)return null;var u=e.find(f=>d.includes(f.payload));return Jr(u)?null:b.createElement(di,{zIndex:i},b.createElement(WX,{point:u,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n}))}var XX={},XR=Pa({name:"errorBars",initialState:XX,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:s}=e.payload;t[r]&&(t[r]=t[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:Nce,replaceErrorBar:_ce,removeErrorBar:Ece}=XR.actions,KX=XR.reducer;function KR(t,e){var r,n,s=Ge(f=>oi(f,t)),i=Ge(f=>li(f,e)),l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Va.allowDataOverflow,d=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ya.allowDataOverflow,u=l||d;return{needClip:u,needClipX:l,needClipY:d}}function JX(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,s=h1(),{needClipX:i,needClipY:l,needClip:d}=KR(e,r);if(!d||!s)return null;var{x:u,y:f,width:m,height:p}=s;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:i?u:u-m/2,y:l?f:f-p/2,width:i?m:m*2,height:l?p:p*2}))}var QX=t=>{var{chartData:e}=t,r=Lr(),n=Ma();return b.useEffect(()=>n?()=>{}:(r(o5(e)),()=>{r(o5(void 0))}),[e,r,n]),null},D5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},JR=Pa({name:"brush",initialState:D5,reducers:{setBrushSettings(t,e){return e.payload==null?D5:e.payload}}}),{setBrushSettings:Sce}=JR.actions,ZX=JR.reducer;function eK(t,e,r){return(e=tK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tK(t){var e=rK(t,"string");return typeof e=="symbol"?e:e+""}function rK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class f1{static create(e){return new f1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}default:return this.scale(e)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?e>=n&&e<=s:e>=s&&e<=n}}eK(f1,"EPS",1e-4);function aK(t){return(t%180+180)%180}var nK=function(e){var{width:r,height:n}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=aK(s),l=i*Math.PI/180,d=Math.atan(n/r),u=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(u)},sK={dots:[],areas:[],lines:[]},QR=Pa({name:"referenceElements",initialState:sK,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Gs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Gs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Gs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:kce,removeDot:Ace,addArea:Cce,removeArea:Tce,addLine:Oce,removeLine:Rce}=QR.actions,iK=QR.reducer,oK=b.createContext(void 0),lK=t=>{var{children:e}=t,[r]=b.useState("".concat(ru("recharts"),"-clip")),n=h1();if(n==null)return null;var{x:s,y:i,width:l,height:d}=n;return b.createElement(oK.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:s,y:i,height:d,width:l}))),e)};function xc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ZR(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function cK(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return nK(n,r)}function dK(t,e,r){var n=r==="width",{x:s,y:i,width:l,height:d}=t;return e===1?{start:n?s:i,end:n?s+l:i+d}:{start:n?s+l:i+d,end:n?s:i}}function Cm(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function uK(t,e){return ZR(t,e+1)}function hK(t,e,r,n,s){for(var i=(n||[]).slice(),{start:l,end:d}=e,u=0,f=1,m=l,p=function(){var y=n==null?void 0:n[u];if(y===void 0)return{v:ZR(n,f)};var N=u,w,E=()=>(w===void 0&&(w=r(y,N)),w),k=y.coordinate,S=u===0||Cm(t,k,E,m,d);S||(u=0,m=l,f+=1),S&&(m=k+t*(E()/2+s),u+=f)},x;f<=i.length;)if(x=p(),x)return x.v;return[]}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){fK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e,r){return(e=mK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mK(t){var e=pK(t,"string");return typeof e=="symbol"?e:e+""}function pK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gK(t,e,r,n,s){for(var i=(n||[]).slice(),l=i.length,{start:d}=e,{end:u}=e,f=function(x){var v=i[x],y,N=()=>(y===void 0&&(y=r(v,x)),y);if(x===l-1){var w=t*(v.coordinate+t*N()/2-u);i[x]=v=na(na({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else i[x]=v=na(na({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var E=Cm(t,v.tickCoord,N,d,u);E&&(u=v.tickCoord-t*(N()/2+s),i[x]=na(na({},v),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return i}function xK(t,e,r,n,s,i){var l=(n||[]).slice(),d=l.length,{start:u,end:f}=e;if(i){var m=n[d-1],p=r(m,d-1),x=t*(m.coordinate+t*p/2-f);if(l[d-1]=m=na(na({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate}),m.tickCoord!=null){var v=Cm(t,m.tickCoord,()=>p,u,f);v&&(f=m.tickCoord-t*(p/2+s),l[d-1]=na(na({},m),{},{isShow:!0}))}}for(var y=i?d-1:d,N=function(k){var S=l[k],A,C=()=>(A===void 0&&(A=r(S,k)),A);if(k===0){var O=t*(S.coordinate-t*C()/2-u);l[k]=S=na(na({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else l[k]=S=na(na({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var R=Cm(t,S.tickCoord,C,u,f);R&&(u=S.tickCoord+t*(C()/2+s),l[k]=na(na({},S),{},{isShow:!0}))}},w=0;w<y;w++)N(w);return l}function m1(t,e,r){var{tick:n,ticks:s,viewBox:i,minTickGap:l,orientation:d,interval:u,tickFormatter:f,unit:m,angle:p}=t;if(!s||!s.length||!n)return[];if(Fe(u)||Ac.isSsr){var x;return(x=uK(s,Fe(u)?u:0))!==null&&x!==void 0?x:[]}var v=[],y=d==="top"||d==="bottom"?"width":"height",N=m&&y==="width"?Xd(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(S,A)=>{var C=typeof f=="function"?f(S.value,A):S.value;return y==="width"?cK(Xd(C,{fontSize:e,letterSpacing:r}),N,p):Xd(C,{fontSize:e,letterSpacing:r})[y]},E=s.length>=2?vn(s[1].coordinate-s[0].coordinate):1,k=dK(i,E,y);return u==="equidistantPreserveStart"?hK(E,k,w,s,l):(u==="preserveStart"||u==="preserveStartEnd"?v=xK(E,k,w,s,l,u==="preserveStartEnd"):v=gK(E,k,w,s,l),v.filter(S=>S.isShow))}var bK=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var d=r?r.getBoundingClientRect().width:0,u=s+i,f=l+u+d+(r?n:0);return Math.round(f)}return 0},vK=["axisLine","width","height","className","hide","ticks","axisType"],yK=["viewBox"],wK=["viewBox"];function my(t,e){if(t==null)return{};var r,n,s=jK(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function jK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yo.apply(null,arguments)}function P5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(r),!0).forEach(function(n){NK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NK(t,e,r){return(e=_K(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _K(t){var e=EK(t,"string");return typeof e=="symbol"?e:e+""}function EK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ma.axis};function SK(t){var{x:e,y:r,width:n,height:s,orientation:i,mirror:l,axisLine:d,otherSvgProps:u}=t;if(!d)return null;var f=fr(fr(fr({},u),zn(d)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!l||i==="bottom"&&l);f=fr(fr({},f),{},{x1:e,y1:r+m*s,x2:e+n,y2:r+m*s})}else{var p=+(i==="left"&&!l||i==="right"&&l);f=fr(fr({},f),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+s})}return b.createElement("line",Yo({},f,{className:Ft("recharts-cartesian-axis-line",rp(d,"className"))}))}function kK(t,e,r,n,s,i,l,d,u){var f,m,p,x,v,y,N=d?-1:1,w=t.tickSize||l,E=Fe(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":f=m=t.coordinate,x=r+ +!d*s,p=x-N*w,y=p-N*u,v=E;break;case"left":p=x=t.coordinate,m=e+ +!d*n,f=m-N*w,v=f-N*u,y=E;break;case"right":p=x=t.coordinate,m=e+ +d*n,f=m+N*w,v=f+N*u,y=E;break;default:f=m=t.coordinate,x=r+ +d*s,p=x+N*w,y=p+N*u,v=E;break}return{line:{x1:f,y1:p,x2:m,y2:x},tick:{x:v,y}}}function AK(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function CK(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function TK(t){var{option:e,tickProps:r,value:n}=t,s,i=Ft(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))s=b.cloneElement(e,fr(fr({},r),{},{className:i}));else if(typeof e=="function")s=e(fr(fr({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ft(l,e==null?void 0:e.className)),s=b.createElement(d1,Yo({},r,{className:l}),n)}return s}var OK=b.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:l,unit:d,padding:u,tickTextProps:f,orientation:m,mirror:p,x,y:v,width:y,height:N,tickSize:w,tickMargin:E,fontSize:k,letterSpacing:S,getTicksConfig:A,events:C,axisType:O}=t,R=m1(fr(fr({},A),{},{ticks:r}),k,S),L=AK(m,p),$=CK(m,p),M=zn(A),H=Zm(n),q={};typeof s=="object"&&(q=s);var F=fr(fr({},M),{},{fill:"none"},q),X=R.map(I=>fr({entry:I},kK(I,x,v,y,N,m,w,p,E))),ue=X.map(I=>{var{entry:z,line:oe}=I;return b.createElement(us,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},s&&b.createElement("line",Yo({},F,oe,{className:Ft("recharts-cartesian-axis-tick-line",rp(s,"className"))})))}),B=X.map((I,z)=>{var{entry:oe,tick:K}=I,D=fr(fr(fr(fr({textAnchor:L,verticalAnchor:$},M),{},{stroke:"none",fill:i},H),K),{},{index:z,payload:oe,visibleTicksCount:R.length,tickFormatter:l,padding:u},f);return b.createElement(us,Yo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},z$(C,oe,z)),n&&b.createElement(TK,{option:n,tickProps:D,value:"".concat(typeof l=="function"?l(oe.value,z):oe.value).concat(d||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},B.length>0&&b.createElement(di,{zIndex:ma.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},B)),ue.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ue))}),RK=b.forwardRef((t,e)=>{var{axisLine:r,width:n,height:s,className:i,hide:l,ticks:d,axisType:u}=t,f=my(t,vK),[m,p]=b.useState(""),[x,v]=b.useState(""),y=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return bK({ticks:y.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var N=b.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=E;var k=E[0];if(k){var S=window.getComputedStyle(k),A=S.fontSize,C=S.letterSpacing;(A!==m||C!==x)&&(p(A),v(C))}}},[m,x]);return l||n!=null&&n<=0||s!=null&&s<=0?null:b.createElement(di,{zIndex:t.zIndex},b.createElement(us,{className:Ft("recharts-cartesian-axis",i)},b.createElement(SK,{x:t.x,y:t.y,width:n,height:s,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:zn(t)}),b.createElement(OK,{ref:N,axisType:u,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(UW,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(WW,{label:t.label,labelRef:t.labelRef}),t.children)))}),DK=b.memo(RK,(t,e)=>{var{viewBox:r}=t,n=my(t,yK),{viewBox:s}=e,i=my(e,wK);return xc(r,s)&&xc(n,i)}),g1=b.forwardRef((t,e)=>{var r=nn(t,p1);return b.createElement(DK,Yo({},r,{ref:e}))});g1.displayName="CartesianAxis";var IK=["x1","y1","x2","y2","key"],PK=["offset"],MK=["xAxisId","yAxisId"],LK=["xAxisId","yAxisId"];function M5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(r),!0).forEach(function(n){UK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UK(t,e,r){return(e=$K(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $K(t){var e=BK(t,"string");return typeof e=="symbol"?e:e+""}function BK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mo.apply(null,arguments)}function Tm(t,e){if(t==null)return{};var r,n,s=zK(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function zK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var FK=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:l,ry:d}=t;return b.createElement("rect",{x:n,y:s,ry:d,width:i,height:l,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function eD(t){var{option:e,lineItemProps:r}=t,n;if(b.isValidElement(e))n=b.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var s,{x1:i,y1:l,x2:d,y2:u,key:f}=r,m=Tm(r,IK),p=(s=zn(m))!==null&&s!==void 0?s:{},{offset:x}=p,v=Tm(p,PK);n=b.createElement("line",Mo({},v,{x1:i,y1:l,x2:d,y2:u,fill:"none",key:f}))}return n}function qK(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:s}=t;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=t,d=Tm(t,MK),u=s.map((f,m)=>{var p=sa(sa({},d),{},{x1:e,y1:f,x2:e+r,y2:f,key:"line-".concat(m),index:m});return b.createElement(eD,{key:"line-".concat(m),option:n,lineItemProps:p})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function HK(t){var{y:e,height:r,vertical:n=!0,verticalPoints:s}=t;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=t,d=Tm(t,LK),u=s.map((f,m)=>{var p=sa(sa({},d),{},{x1:f,y1:e,x2:f,y2:e+r,key:"line-".concat(m),index:m});return b.createElement(eD,{option:n,lineItemProps:p,key:"line-".concat(m)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function GK(t){var{horizontalFill:e,fillOpacity:r,x:n,y:s,width:i,height:l,horizontalPoints:d,horizontal:u=!0}=t;if(!u||!e||!e.length||d==null)return null;var f=d.map(p=>Math.round(p+s-s)).sort((p,x)=>p-x);s!==f[0]&&f.unshift(0);var m=f.map((p,x)=>{var v=!f[x+1],y=v?s+l-p:f[x+1]-p;if(y<=0)return null;var N=x%e.length;return b.createElement("rect",{key:"react-".concat(x),y:p,x:n,height:y,width:i,stroke:"none",fill:e[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function VK(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:l,height:d,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var f=u.map(p=>Math.round(p+s-s)).sort((p,x)=>p-x);s!==f[0]&&f.unshift(0);var m=f.map((p,x)=>{var v=!f[x+1],y=v?s+l-p:f[x+1]-p;if(y<=0)return null;var N=x%r.length;return b.createElement("rect",{key:"react-".concat(x),x:p,y:i,width:y,height:d,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var YK=(t,e)=>{var{xAxis:r,width:n,height:s,offset:i}=t;return YO(m1(sa(sa(sa({},p1),r),{},{ticks:WO(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,e)},WK=(t,e)=>{var{yAxis:r,width:n,height:s,offset:i}=t;return YO(m1(sa(sa(sa({},p1),r),{},{ticks:WO(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,e)},XK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ma.grid};function tD(t){var e=a4(),r=n4(),n=r4(),s=sa(sa({},nn(t,XK)),{},{x:Fe(t.x)?t.x:n.left,y:Fe(t.y)?t.y:n.top,width:Fe(t.width)?t.width:n.width,height:Fe(t.height)?t.height:n.height}),{xAxisId:i,yAxisId:l,x:d,y:u,width:f,height:m,syncWithTicks:p,horizontalValues:x,verticalValues:v}=s,y=Ma(),N=Ge($=>Xk($,"xAxis",i,y)),w=Ge($=>Xk($,"yAxis",l,y));if(!fs(f)||!fs(m)||!Fe(d)||!Fe(u))return null;var E=s.verticalCoordinatesGenerator||YK,k=s.horizontalCoordinatesGenerator||WK,{horizontalPoints:S,verticalPoints:A}=s;if((!S||!S.length)&&typeof k=="function"){var C=x&&x.length,O=k({yAxis:w?sa(sa({},w),{},{ticks:C?x:w.ticks}):void 0,width:e??f,height:r??m,offset:n},C?!0:p);lm(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!A||!A.length)&&typeof E=="function"){var R=v&&v.length,L=E({xAxis:N?sa(sa({},N),{},{ticks:R?v:N.ticks}):void 0,width:e??f,height:r??m,offset:n},R?!0:p);lm(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(A=L)}return b.createElement(di,{zIndex:s.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(FK,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),b.createElement(GK,Mo({},s,{horizontalPoints:S})),b.createElement(VK,Mo({},s,{verticalPoints:A})),b.createElement(qK,Mo({},s,{offset:n,horizontalPoints:S,xAxis:N,yAxis:w})),b.createElement(HK,Mo({},s,{offset:n,verticalPoints:A,xAxis:N,yAxis:w}))))}tD.displayName="CartesianGrid";function KK(t){var e=Zm(t),r=3,n=2;if(e!=null){var{r:s,strokeWidth:i}=e,l=Number(s),d=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var rD=(t,e,r,n)=>eR(t,"xAxis",e,n),aD=(t,e,r,n)=>Z3(t,"xAxis",e,n),nD=(t,e,r,n)=>eR(t,"yAxis",r,n),sD=(t,e,r,n)=>Z3(t,"yAxis",r,n),JK=pe([Mt,rD,nD,aD,sD],(t,e,r,n,s)=>ai(t,"xAxis")?om(e,n,!1):om(r,s,!1)),QK=(t,e,r,n,s)=>s,iD=pe([w3,QK],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),ZK=(t,e,r,n,s)=>{var i,l=iD(t,e,r,n,s);if(l!=null){var d=Mt(t),u=ai(d,"xAxis"),f;if(u?f=iy(t,"yAxis",r,n):f=iy(t,"xAxis",e,n),f!=null){var{stackId:m}=l,p=Hw(l);if(!(m==null||p==null)){var x=(i=f[m])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(v=>v.key===p)}}}},eJ=pe([Mt,rD,nD,aD,sD,ZK,Pw,JK,iD,VH],(t,e,r,n,s,i,l,d,u,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=l;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||s==null||n.length===0||s.length===0||d==null)){var{data:v}=u,y;if(v&&v.length>0?y=v:y=m==null?void 0:m.slice(p,x+1),y!=null)return vJ({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:p,areaSettings:u,stackedData:i,displayedData:y,chartBaseValue:f,bandSize:d})}}),tJ=["id"],rJ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zo.apply(null,arguments)}function oD(t,e){if(t==null)return{};var r,n,s=aJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function aJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function L5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(r),!0).forEach(function(n){nJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nJ(t,e,r){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sJ(t){var e=iJ(t,"string");return typeof e=="symbol"?e:e+""}function iJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Om(t,e){return t&&t!=="none"?t:e}var oJ=t=>{var{dataKey:e,name:r,stroke:n,fill:s,legendType:i,hide:l}=t;return[{inactive:l,dataKey:e,type:i,color:Om(n,s),value:XO(r,e),payload:t}]};function lJ(t){var{dataKey:e,data:r,stroke:n,strokeWidth:s,fill:i,name:l,hide:d,unit:u}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:e,nameKey:void 0,name:XO(l,e),hide:d,type:t.tooltipType,color:Om(n,i),unit:u}}}function cJ(t){var{clipPathId:e,points:r,props:n}=t,{needClip:s,dot:i,dataKey:l}=n,d=zn(n);return b.createElement(OX,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:d,needClip:s,clipPathId:e})}function dJ(t){var{showLabels:e,children:r,points:n}=t,s=n.map(i=>{var l,d,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(d=i.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return tc(tc({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return b.createElement(sX,{value:e?s:void 0},r)}function U5(t){var{points:e,baseLine:r,needClip:n,clipPathId:s,props:i}=t,{layout:l,type:d,stroke:u,connectNulls:f,isRange:m}=i,{id:p}=i,x=oD(i,tJ),v=zn(x),y=jn(x);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(us,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},b.createElement(Uf,zo({},y,{id:p,points:e,connectNulls:f,type:d,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&b.createElement(Uf,zo({},v,{className:"recharts-area-curve",layout:l,type:d,connectNulls:f,fill:"none",points:e})),u!=="none"&&m&&b.createElement(Uf,zo({},v,{className:"recharts-area-curve",layout:l,type:d,connectNulls:f,fill:"none",points:r}))),b.createElement(cJ,{points:e,props:x,clipPathId:s}))}function uJ(t){var{alpha:e,baseLine:r,points:n,strokeWidth:s}=t,i=n[0].y,l=n[n.length-1].y;if(!er(i)||!er(l))return null;var d=e*Math.abs(i-l),u=Math.max(...n.map(f=>f.x||0));return Fe(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(f=>f.x||0),u)),Fe(u)?b.createElement("rect",{x:0,y:i<l?i:i-d,width:u+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function hJ(t){var{alpha:e,baseLine:r,points:n,strokeWidth:s}=t,i=n[0].x,l=n[n.length-1].x;if(!er(i)||!er(l))return null;var d=e*Math.abs(i-l),u=Math.max(...n.map(f=>f.y||0));return Fe(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(f=>f.y||0),u)),Fe(u)?b.createElement("rect",{x:i<l?i:i-d,y:0,width:d,height:Math.floor(u+(s?parseInt("".concat(s),10):1))}):null}function fJ(t){var{alpha:e,layout:r,points:n,baseLine:s,strokeWidth:i}=t;return r==="vertical"?b.createElement(uJ,{alpha:e,points:n,baseLine:s,strokeWidth:i}):b.createElement(hJ,{alpha:e,points:n,baseLine:s,strokeWidth:i})}function mJ(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=t,{points:l,baseLine:d,isAnimationActive:u,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:x,onAnimationEnd:v}=n,y=u4(n,"recharts-area-"),[N,w]=b.useState(!1),E=!N,k=b.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),S=b.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]),A=s.current,C=i.current;return b.createElement(dJ,{showLabels:E,points:l},n.children,b.createElement(d4,{animationId:y,begin:f,duration:m,isActive:u,easing:p,onAnimationEnd:k,onAnimationStart:S,key:y},O=>{if(A){var R=A.length/l.length,L=O===1?l:l.map((M,H)=>{var q=Math.floor(H*R);if(A[q]){var F=A[q];return tc(tc({},M),{},{x:is(F.x,M.x,O),y:is(F.y,M.y,O)})}return M}),$;return Fe(d)?$=is(C,d,O):Jr(d)||Fn(d)?$=is(C,0,O):$=d.map((M,H)=>{var q=Math.floor(H*R);if(Array.isArray(C)&&C[q]){var F=C[q];return tc(tc({},M),{},{x:is(F.x,M.x,O),y:is(F.y,M.y,O)})}return M}),O>0&&(s.current=L,i.current=$),b.createElement(U5,{points:L,baseLine:$,needClip:e,clipPathId:r,props:n})}return O>0&&(s.current=l,i.current=d),b.createElement(us,null,u&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(r)},b.createElement(fJ,{alpha:O,points:l,baseLine:d,layout:n.layout,strokeWidth:n.strokeWidth}))),b.createElement(us,{clipPath:"url(#animationClipPath-".concat(r,")")},b.createElement(U5,{points:l,baseLine:d,needClip:e,clipPathId:r,props:n})))}),b.createElement(lX,{label:n.label}))}function pJ(t){var{needClip:e,clipPathId:r,props:n}=t,s=b.useRef(null),i=b.useRef();return b.createElement(mJ,{needClip:e,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class gJ extends b.PureComponent{render(){var{hide:e,dot:r,points:n,className:s,top:i,left:l,needClip:d,xAxisId:u,yAxisId:f,width:m,height:p,id:x,baseLine:v,zIndex:y}=this.props;if(e)return null;var N=Ft("recharts-area",s),w=x,{r:E,strokeWidth:k}=KK(r),S=GR(r),A=E*2+k;return b.createElement(di,{zIndex:y},b.createElement(us,{className:N},d&&b.createElement("defs",null,b.createElement(JX,{clipPathId:w,xAxisId:u,yAxisId:f}),!S&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:l-A/2,y:i-A/2,width:m+A,height:p+A}))),b.createElement(pJ,{needClip:d,clipPathId:w,props:this.props})),b.createElement(R5,{points:n,mainColor:Om(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&b.createElement(R5,{points:v,mainColor:Om(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var lD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ac.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:ma.area};function xJ(t){var e,r=nn(t,lD),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:d,dot:u,fill:f,fillOpacity:m,hide:p,isAnimationActive:x,legendType:v,stroke:y,xAxisId:N,yAxisId:w}=r,E=oD(r,rJ),k=mp(),S=jR(),{needClip:A}=KR(N,w),C=Ma(),{points:O,isRange:R,baseLine:L}=(e=Ge(X=>eJ(X,N,w,C,t.id)))!==null&&e!==void 0?e:{},$=h1();if(k!=="horizontal"&&k!=="vertical"||$==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:M,width:H,x:q,y:F}=$;return!O||!O.length?null:b.createElement(gJ,zo({},E,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:l,baseLine:L,connectNulls:d,dot:u,fill:f,fillOpacity:m,height:M,hide:p,layout:k,isAnimationActive:x,isRange:R,legendType:v,needClip:A,points:O,stroke:y,width:H,left:q,top:F,xAxisId:N,yAxisId:w}))}var bJ=(t,e,r,n,s)=>{var i=r??e;if(Fe(i))return i;var l=t==="horizontal"?s:n,d=l.scale.domain();if(l.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return i==="dataMin"?f:i==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return i==="dataMin"?d[0]:i==="dataMax"?d[1]:d[0]};function vJ(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:l,xAxis:d,yAxis:u,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:x,bandSize:v}=t,y=s&&s.length,N=bJ(i,l,r,d,u),w=i==="horizontal",E=!1,k=f.map((A,C)=>{var O;y?O=s[m+C]:(O=pa(A,n),Array.isArray(O)?E=!0:O=[N,O]);var R=O[1]==null||y&&!e&&pa(A,n)==null;return w?{x:_S({axis:d,ticks:p,bandSize:v,entry:A,index:C}),y:R?null:u.scale(O[1]),value:O,payload:A}:{x:R?null:d.scale(O[1]),y:_S({axis:u,ticks:x,bandSize:v,entry:A,index:C}),value:O,payload:A}}),S;return y||E?S=k.map(A=>{var C=Array.isArray(A.value)?A.value[0]:null;return w?{x:A.x,y:C!=null&&A.y!=null?u.scale(C):null,payload:A.payload}:{x:C!=null?d.scale(C):null,y:A.y,payload:A.payload}}):S=w?u.scale(N):d.scale(N),{points:k,baseLine:S,isRange:E}}function yJ(t){var e=nn(t,lD),r=Ma();return b.createElement(gX,{id:e.id,type:"area"},n=>b.createElement(b.Fragment,null,b.createElement(hX,{legendPayload:oJ(e)}),b.createElement(uX,{fn:lJ,args:e}),b.createElement(jX,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:GB(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),b.createElement(xJ,zo({},e,{id:n}))))}var cD=b.memo(yJ);cD.displayName="Area";var wJ=["dangerouslySetInnerHTML","ticks"],jJ=["id"],NJ=["domain"],_J=["domain"];function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},py.apply(null,arguments)}function Rm(t,e){if(t==null)return{};var r,n,s=EJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function EJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function SJ(t){var e=Lr();return b.useLayoutEffect(()=>(e(MX(t)),()=>{e(LX(t))}),[t,e]),null}var kJ=t=>{var{xAxisId:e,className:r}=t,n=Ge(JO),s=Ma(),i="xAxis",l=Ge(w=>Ic(w,i,e,s)),d=Ge(w=>Q3(w,i,e,s)),u=Ge(w=>UG(w,e)),f=Ge(w=>HG(w,e)),m=Ge(w=>x3(w,e));if(u==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:x}=t,v=Rm(t,wJ),{id:y}=m,N=Rm(m,jJ);return b.createElement(g1,py({},v,N,{scale:l,x:f.x,y:f.y,width:u.width,height:u.height,className:Ft("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:d,axisType:i}))},AJ={allowDataOverflow:Va.allowDataOverflow,allowDecimals:Va.allowDecimals,allowDuplicatedCategory:Va.allowDuplicatedCategory,height:Va.height,hide:!1,mirror:Va.mirror,orientation:Va.orientation,padding:Va.padding,reversed:Va.reversed,scale:Va.scale,tickCount:Va.tickCount,type:Va.type,xAxisId:0},CJ=t=>{var e,r,n,s,i,l=nn(t,AJ);return b.createElement(b.Fragment,null,b.createElement(SJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),b.createElement(kJ,l))},TJ=(t,e)=>{var{domain:r}=t,n=Rm(t,NJ),{domain:s}=e,i=Rm(e,_J);return xc(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:xc({domain:r},{domain:s}):!1},dD=b.memo(CJ,TJ);dD.displayName="XAxis";var OJ=["dangerouslySetInnerHTML","ticks"],RJ=["id"],DJ=["domain"],IJ=["domain"];function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gy.apply(null,arguments)}function Dm(t,e){if(t==null)return{};var r,n,s=PJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function PJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MJ(t){var e=Lr();return b.useLayoutEffect(()=>(e(UX(t)),()=>{e($X(t))}),[t,e]),null}var LJ=t=>{var{yAxisId:e,className:r,width:n,label:s}=t,i=b.useRef(null),l=b.useRef(null),d=Ge(JO),u=Ma(),f=Lr(),m="yAxis",p=Ge(C=>Ic(C,m,e,u)),x=Ge(C=>YG(C,e)),v=Ge(C=>VG(C,e)),y=Ge(C=>Q3(C,m,e,u)),N=Ge(C=>b3(C,e));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!x||u1(s)||b.isValidElement(s)||N==null)){var C=i.current;if(C){var O=C.getCalculatedWidth();Math.round(x.width)!==Math.round(O)&&f(BX({id:e,width:O}))}}},[y,x,f,s,e,n,N]),x==null||v==null||N==null)return null;var{dangerouslySetInnerHTML:w,ticks:E}=t,k=Dm(t,OJ),{id:S}=N,A=Dm(N,RJ);return b.createElement(g1,gy({},k,A,{ref:i,labelRef:l,scale:p,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:x.width,height:x.height,className:Ft("recharts-".concat(m," ").concat(m),r),viewBox:d,ticks:y,axisType:m}))},UJ={allowDataOverflow:Ya.allowDataOverflow,allowDecimals:Ya.allowDecimals,allowDuplicatedCategory:Ya.allowDuplicatedCategory,hide:!1,mirror:Ya.mirror,orientation:Ya.orientation,padding:Ya.padding,reversed:Ya.reversed,scale:Ya.scale,tickCount:Ya.tickCount,type:Ya.type,width:Ya.width,yAxisId:0},$J=t=>{var e,r,n,s,i,l=nn(t,UJ);return b.createElement(b.Fragment,null,b.createElement(MJ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),b.createElement(LJ,l))},BJ=(t,e)=>{var{domain:r}=t,n=Dm(t,DJ),{domain:s}=e,i=Dm(e,IJ);return xc(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:xc({domain:r},{domain:s}):!1},uD=b.memo($J,BJ);uD.displayName="YAxis";var Fb={exports:{}},qb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $5;function zJ(){if($5)return qb;$5=1;var t=jc();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,l=t.useMemo,d=t.useDebugValue;return qb.useSyncExternalStoreWithSelector=function(u,f,m,p,x){var v=s(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=l(function(){function w(C){if(!E){if(E=!0,k=C,C=p(C),x!==void 0&&y.hasValue){var O=y.value;if(x(O,C))return S=O}return S=C}if(O=S,r(k,C))return O;var R=p(C);return x!==void 0&&x(O,R)?(k=C,O):(k=C,S=R)}var E=!1,k,S,A=m===void 0?null:m;return[function(){return w(f())},A===null?void 0:function(){return w(A())}]},[f,m,p,x]);var N=n(u,v[0],v[1]);return i(function(){y.hasValue=!0,y.value=N},[N]),d(N),N},qb}var B5;function FJ(){return B5||(B5=1,Fb.exports=zJ()),Fb.exports}FJ();function qJ(t){t()}function HJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){qJ(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=e={callback:r,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!n||t===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var z5={notify(){},get:()=>[]};function GJ(t,e){let r,n=z5,s=0,i=!1;function l(N){m();const w=n.subscribe(N);let E=!1;return()=>{E||(E=!0,w(),p())}}function d(){n.notify()}function u(){y.onStateChange&&y.onStateChange()}function f(){return i}function m(){s++,r||(r=t.subscribe(u),n=HJ())}function p(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=z5)}function x(){i||(i=!0,m())}function v(){i&&(i=!1,p())}const y={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:f,trySubscribe:x,tryUnsubscribe:v,getListeners:()=>n};return y}var VJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YJ=VJ(),WJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XJ=WJ(),KJ=()=>YJ||XJ?b.useLayoutEffect:b.useEffect,JJ=KJ(),Hb=Symbol.for("react-redux-context"),Gb=typeof globalThis<"u"?globalThis:{};function QJ(){if(!b.createContext)return{};const t=Gb[Hb]??(Gb[Hb]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var ZJ=QJ();function eQ(t){const{children:e,context:r,serverState:n,store:s}=t,i=b.useMemo(()=>{const u=GJ(s);return{store:s,subscription:u,getServerState:n?()=>n:void 0}},[s,n]),l=b.useMemo(()=>s.getState(),[s]);JJ(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const d=r||ZJ;return b.createElement(d.Provider,{value:i},e)}var tQ=eQ,rQ=(t,e)=>e,x1=pe([rQ,Mt,p3,Ar,gR,ci,aY,Zr],dY),b1=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},hD=Nn("mouseClick"),fD=_u();fD.startListening({actionCreator:hD,effect:(t,e)=>{var r=t.payload,n=x1(e.getState(),b1(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(sV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xy=Nn("mouseMove"),mD=_u();mD.startListening({actionCreator:xy,effect:(t,e)=>{var r=t.payload,n=e.getState(),s=t1(n,n.tooltip.settings.shared),i=x1(n,b1(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?e.dispatch(oR({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):e.dispatch(iR()))}});var F5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},pD=Pa({name:"rootProps",initialState:F5,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:F5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),aQ=pD.reducer,{updateOptions:nQ}=pD.actions,gD=Pa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Dce}=gD.actions,sQ=gD.reducer,xD=Nn("keyDown"),bD=Nn("focus"),v1=_u();v1.startListening({actionCreator:xD,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(r1(s,Mc(r))),d=ci(r);if(i==="Enter"){var u=Sm(r,"axis","hover",String(s.index));e.dispatch(ly({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:u}));return}var f=JG(r),m=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,x=l+p*m;if(!(d==null||x>=d.length||x<0)){var v=Sm(r,"axis","hover",String(x));e.dispatch(ly({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});v1.startListening({actionCreator:bD,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",l=Sm(r,"axis","hover",String(i));e.dispatch(ly({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var xn=Nn("externalEvent"),vD=_u();vD.startListening({actionCreator:xn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:FV(r),activeDataKey:BV(r),activeIndex:hu(r),activeLabel:vR(r),activeTooltipIndex:hu(r),isTooltipActive:qV(r)};t.payload.handler(n,t.payload.reactEvent)}}});var iQ=pe([Pc],t=>t.tooltipItemPayloads),oQ=pe([iQ,Iu,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var s=t.find(d=>d.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var l=e(i,r);return l}}}),yD=Nn("touchMove"),wD=_u();wD.startListening({actionCreator:yD,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),s=t1(n,n.tooltip.settings.shared);if(s==="axis"){var i=x1(n,b1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(oR({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var l,d=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(d.clientX,d.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(QB),m=(l=u.getAttribute(ZB))!==null&&l!==void 0?l:void 0,p=oQ(e.getState(),f,m);e.dispatch(nV({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var lQ=wO({brush:ZX,cartesianAxis:zX,chartData:FY,errorBars:KX,graphicalItems:wX,layout:PB,legend:Dz,options:LY,polarAxis:dX,polarOptions:sQ,referenceElements:iK,rootProps:aQ,tooltip:iV,zIndex:_Y}),cQ=function(e){return iB({reducer:lQ,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([fD.middleware,mD.middleware,v1.middleware,vD.middleware,wD.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(DO({type:"raf"}))},devTools:Ac.devToolsEnabled})};function dQ(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,s=Ma(),i=b.useRef(null);if(s)return r;i.current==null&&(i.current=cQ(e));var l=sw;return b.createElement(tQ,{context:l,store:i.current},r)}function uQ(t){var{layout:e,margin:r}=t,n=Lr(),s=Ma();return b.useEffect(()=>{s||(n(RB(e)),n(OB(r)))},[n,s,e,r]),null}function hQ(t){var e=Lr();return b.useEffect(()=>{e(nQ(t))},[e,t]),null}function q5(t){var{zIndex:e,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=VR("".concat(n).concat(e)),i=Lr();return b.useLayoutEffect(()=>(i(jY({zIndex:e,elementId:s,isPanorama:r})),()=>{i(NY({zIndex:e,isPanorama:r}))}),[i,e,s,r]),b.createElement("g",{id:s})}function H5(t){var{children:e,isPanorama:r}=t,n=Ge(hY);if(!n||n.length===0)return e;var s=n.filter(l=>l<0),i=n.filter(l=>l>0);return b.createElement(b.Fragment,null,s.map(l=>b.createElement(q5,{key:l,zIndex:l,isPanorama:r})),e,i.map(l=>b.createElement(q5,{key:l,zIndex:l,isPanorama:r})))}var fQ=["children"];function mQ(t,e){if(t==null)return{};var r,n,s=pQ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function pQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(null,arguments)}var gQ={width:"100%",height:"100%",display:"block"},xQ=b.forwardRef((t,e)=>{var r=a4(),n=n4(),s=i4();if(!fs(r)||!fs(n))return null;var{children:i,otherAttributes:l,title:d,desc:u}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=s?0:void 0,typeof l.role=="string"?m=l.role:m=s?"application":void 0),b.createElement(FT,Im({},l,{title:d,desc:u,role:m,tabIndex:f,width:r,height:n,style:gQ,ref:e}),i)}),bQ=t=>{var{children:e}=t,r=Ge(hp);if(!r)return null;var{width:n,height:s,y:i,x:l}=r;return b.createElement(FT,{width:n,height:s,x:l,y:i},e)},G5=b.forwardRef((t,e)=>{var{children:r}=t,n=mQ(t,fQ),s=Ma();return s?b.createElement(bQ,null,b.createElement(H5,{isPanorama:!0},r)):b.createElement(xQ,Im({ref:e},n),b.createElement(H5,{isPanorama:!1},r))});function vQ(){var t=Lr(),[e,r]=b.useState(null),n=Ge(JB);return b.useEffect(()=>{if(e!=null){var s=e.getBoundingClientRect(),i=s.width/e.offsetWidth;er(i)&&i!==n&&t(IB(i))}},[e,t,n]),r}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){wQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wQ(t,e,r){return(e=jQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jQ(t){var e=NQ(t,"string");return typeof e=="symbol"?e:e+""}function NQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(null,arguments)}var _Q=()=>(JY(),null);function Pm(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var EQ=b.forwardRef((t,e)=>{var r,n,s=b.useRef(null),[i,l]=b.useState({containerWidth:Pm((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Pm((n=t.style)===null||n===void 0?void 0:n.height)}),d=b.useCallback((f,m)=>{l(p=>{var x=Math.round(f),v=Math.round(m);return p.containerWidth===x&&p.containerHeight===v?p:{containerWidth:x,containerHeight:v}})},[]),u=b.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();d(m,p);var x=y=>{var{width:N,height:w}=y[0].contentRect;d(N,w)},v=new ResizeObserver(x);v.observe(f),s.current=v}},[e,d]);return b.useEffect(()=>()=>{var f=s.current;f!=null&&f.disconnect()},[d]),b.createElement(b.Fragment,null,b.createElement(pp,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Wo({ref:u},t)))}),SQ=b.forwardRef((t,e)=>{var{width:r,height:n}=t,[s,i]=b.useState({containerWidth:Pm(r),containerHeight:Pm(n)}),l=b.useCallback((u,f)=>{i(m=>{var p=Math.round(u),x=Math.round(f);return m.containerWidth===p&&m.containerHeight===x?m:{containerWidth:p,containerHeight:x}})},[]),d=b.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:f,height:m}=u.getBoundingClientRect();l(f,m)}},[e,l]);return b.createElement(b.Fragment,null,b.createElement(pp,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",Wo({ref:d},t)))}),kQ=b.forwardRef((t,e)=>{var{width:r,height:n}=t;return b.createElement(b.Fragment,null,b.createElement(pp,{width:r,height:n}),b.createElement("div",Wo({ref:e},t)))}),AQ=b.forwardRef((t,e)=>{var{width:r,height:n}=t;return Ws(r)||Ws(n)?b.createElement(SQ,Wo({},t,{ref:e})):b.createElement(kQ,Wo({},t,{ref:e}))});function CQ(t){return t===!0?EQ:AQ}var TQ=b.forwardRef((t,e)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:l,onDoubleClick:d,onMouseDown:u,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:x,onTouchEnd:v,onTouchMove:y,onTouchStart:N,style:w,width:E,responsive:k,dispatchTouchEvents:S=!0}=t,A=b.useRef(null),C=Lr(),[O,R]=b.useState(null),[L,$]=b.useState(null),M=vQ(),H=uw(),q=(H==null?void 0:H.width)>0?H.width:E,F=(H==null?void 0:H.height)>0?H.height:s,X=b.useCallback(ae=>{M(ae),typeof e=="function"&&e(ae),R(ae),$(ae),ae!=null&&(A.current=ae)},[M,e,R,$]),ue=b.useCallback(ae=>{C(hD(ae)),C(xn({handler:i,reactEvent:ae}))},[C,i]),B=b.useCallback(ae=>{C(xy(ae)),C(xn({handler:f,reactEvent:ae}))},[C,f]),I=b.useCallback(ae=>{C(iR()),C(xn({handler:m,reactEvent:ae}))},[C,m]),z=b.useCallback(ae=>{C(xy(ae)),C(xn({handler:p,reactEvent:ae}))},[C,p]),oe=b.useCallback(()=>{C(bD())},[C]),K=b.useCallback(ae=>{C(xD(ae.key))},[C]),D=b.useCallback(ae=>{C(xn({handler:l,reactEvent:ae}))},[C,l]),U=b.useCallback(ae=>{C(xn({handler:d,reactEvent:ae}))},[C,d]),W=b.useCallback(ae=>{C(xn({handler:u,reactEvent:ae}))},[C,u]),re=b.useCallback(ae=>{C(xn({handler:x,reactEvent:ae}))},[C,x]),he=b.useCallback(ae=>{C(xn({handler:N,reactEvent:ae}))},[C,N]),J=b.useCallback(ae=>{S&&C(yD(ae)),C(xn({handler:y,reactEvent:ae}))},[C,S,y]),ve=b.useCallback(ae=>{C(xn({handler:v,reactEvent:ae}))},[C,v]),Te=CQ(k);return b.createElement(AR.Provider,{value:O},b.createElement(h$.Provider,{value:L},b.createElement(Te,{width:q??(w==null?void 0:w.width),height:F??(w==null?void 0:w.height),className:Ft("recharts-wrapper",n),style:yQ({position:"relative",cursor:"default",width:q,height:F},w),onClick:ue,onContextMenu:D,onDoubleClick:U,onFocus:oe,onKeyDown:K,onMouseDown:W,onMouseEnter:B,onMouseLeave:I,onMouseMove:z,onMouseUp:re,onTouchEnd:ve,onTouchMove:J,onTouchStart:he,ref:X},b.createElement(_Q,null),r)))}),OQ=["width","height","responsive","children","className","style","compact","title","desc"];function RQ(t,e){if(t==null)return{};var r,n,s=DQ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function DQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IQ=b.forwardRef((t,e)=>{var{width:r,height:n,responsive:s,children:i,className:l,style:d,compact:u,title:f,desc:m}=t,p=RQ(t,OQ),x=zn(p);return u?b.createElement(b.Fragment,null,b.createElement(pp,{width:r,height:n}),b.createElement(G5,{otherAttributes:x,title:f,desc:m},i)):b.createElement(TQ,{className:l,style:d,width:r,height:n,responsive:s??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(G5,{otherAttributes:x,title:f,desc:m,ref:e},b.createElement(lK,null,i)))});function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},by.apply(null,arguments)}var PQ={top:5,right:5,bottom:5,left:5},MQ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:PQ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},LQ=b.forwardRef(function(e,r){var n,s=nn(e.categoricalChartProps,MQ),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:f}=e,m={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return b.createElement(dQ,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},b.createElement(QX,{chartData:f.data}),b.createElement(uQ,{layout:s.layout,margin:s.margin}),b.createElement(hQ,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),b.createElement(IQ,by({},s,{ref:r})))}),UQ=["axis"],$Q=b.forwardRef((t,e)=>b.createElement(LQ,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UQ,tooltipPayloadSearcher:PY,categoricalChartProps:t,ref:e}));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Y5=t=>{const e=zQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},jD=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),FQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:l,...d},u)=>b.createElement("svg",{ref:u,...qQ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:jD("lucide",s),...!i&&!FQ(d)&&{"aria-hidden":"true"},...d},[...l.map(([f,m])=>b.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(HQ,{ref:i,iconNode:e,className:jD(`lucide-${BQ(Y5(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Y5(t),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gi=_e("activity",GQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],YQ=_e("arrow-down-right",VQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],XQ=_e("arrow-down",WQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lc=_e("arrow-left",KQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vt=_e("arrow-right",JQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ND=_e("arrow-up-right",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],eZ=_e("arrow-up",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mu=_e("ban",tZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],vy=_e("barcode",rZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yy=_e("bell",aZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bc=_e("book-open",nZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],wy=_e("building-2",sZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ui=_e("calendar",iZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jy=_e("chart-column",oZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],_D=_e("chart-no-axes-column-increasing",lZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pt=_e("check",cZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xo=_e("chevron-down",dZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ki=_e("chevron-left",uZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ha=_e("chevron-right",hZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vc=_e("chevron-up",fZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ir=_e("circle-alert",mZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ut=_e("circle-check-big",pZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W5=_e("circle-check",gZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ny=_e("circle-play",xZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mu=_e("circle-question-mark",bZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pu=_e("circle-x",vZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wZ=_e("circle",yZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qn=_e("clock",jZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],_y=_e("code",NZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pt=_e("copy",_Z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ao=_e("credit-card",EZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ji=_e("crown",SZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Nf=_e("database",kZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Mm=_e("dollar-sign",AZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ei=_e("download",CZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],OZ=_e("ellipsis-vertical",TZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Oa=_e("external-link",RZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ED=_e("eye-off",DZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yc=_e("eye",IZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oa=_e("file-text",PZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],SD=_e("file",MZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],UZ=_e("fingerprint-pattern",LZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],y1=_e("funnel",$Z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yt=_e("globe",BZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],FZ=_e("heart-handshake",zZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],kD=_e("house",qZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Lu=_e("image",HZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wi=_e("info",GZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],YZ=_e("instagram",VZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],XZ=_e("key-round",WZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Hn=_e("key",KZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ca=_e("layers",JZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ey=_e("layout-dashboard",QZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],eee=_e("lightbulb",ZZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ti=_e("link",tee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lt=_e("loader-circle",ree);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],nee=_e("lock-open",aee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_r=_e("lock",see);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fo=_e("log-out",iee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],At=_e("mail",oee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],cee=_e("megaphone",lee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],w1=_e("menu",dee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gu=_e("message-circle",uee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fee=_e("monitor",hee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ga=_e("package",mee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],gee=_e("palette",pee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],bee=_e("panel-left-close",xee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],oc=_e("panels-top-left",vee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ko=_e("pen",yee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jee=_e("phone",wee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ps=_e("play",Nee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],Eee=_e("plug",_ee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pr=_e("plus",See);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Lm=_e("qr-code",kee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bn=_e("refresh-cw",Aee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],AD=_e("rotate-cw",Cee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gn=_e("save",Tee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vn=_e("search",Oee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dee=_e("send",Ree);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Um=_e("server",Iee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uu=_e("settings",Pee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],CD=_e("shield-alert",Mee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],en=_e("shield-check",Lee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yn=_e("shield",Uee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],gr=_e("shopping-bag",$ee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Kd=_e("shopping-cart",Bee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],Fee=_e("slash",zee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Hee=_e("smartphone",qee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],j1=_e("sparkles",Gee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],TD=_e("tag",Vee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],X5=_e("target",Yee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Xee=_e("terminal",Wee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pr=_e("trash-2",Kee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$m=_e("trending-up",Jee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],la=_e("triangle-alert",Qee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ete=_e("type",Zee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ia=_e("upload",tte);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OD=_e("user-check",rte);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nte=_e("user-plus",ate);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ra=_e("user",ste);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jr=_e("users",ite);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Dp=_e("video",ote);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cte=_e("wallet",lte);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],ute=_e("webhook",dte);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mr=_e("x",hte);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gs=_e("zap",fte),De=({children:t,className:e="",noPadding:r=!1,...n})=>a.jsx("div",{className:`glass-panel rounded-[20px] ${r?"":"p-6"} ${e}`,...n,children:t}),je=({children:t,variant:e="primary",isLoading:r,className:n="",disabled:s,size:i="md",...l})=>{const d="rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transform active:scale-95",u={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},f={primary:"bg-primary hover:bg-primary-hover text-white shadow-lg shadow-primary/30 focus:ring-primary border border-transparent",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:text-gray-900 focus:ring-gray-200 dark:bg-white/10 dark:text-white dark:border-transparent dark:hover:bg-white/20",danger:"bg-red-500/10 text-red-600 hover:bg-red-500/20 border border-red-500/20 focus:ring-red-500",outline:"border border-gray-200 dark:border-dark-border bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-border focus:ring-gray-500",ghost:"bg-transparent text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/5"};return a.jsx("button",{className:`${d} ${u[i]} ${f[e]} ${n}`,disabled:r||s,...l,children:r?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processando..."]}):t})},RD=b.createContext(void 0),mte=({children:t})=>{const[e,r]=b.useState("dark");b.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e)},[e]);const n=()=>{r("dark")};return b.useEffect(()=>{e!=="dark"&&r("dark")},[e]),a.jsx(RD.Provider,{value:{theme:e,toggleTheme:n},children:t})},DD=()=>{const t=b.useContext(RD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},We={API_URL:"https://bcmnryxjweiovrwmztpn.supabase.co/functions/v1",ENDPOINTS:{VALIDATE_TOKEN:"/manage-licenses",GENERATE_TOKEN:"/generate-install-token",GET_LICENSE:"/get-license-status"},SHARED_SECRET:"d8c36148-5c4e-4f7f-8c3e-9b6f12345678"},Vb={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},pte=t=>typeof import.meta<"u"&&Vb&&Vb[t]?Vb[t]:typeof window<"u"&&window._env_&&window._env_[t]?window._env_[t]:"",gte=We.API_URL.replace("/functions/v1",""),N1=pte("VITE_CENTRAL_SUPABASE_ANON_KEY")||"MISSING_KEY_PLACEHOLDER";N1==="MISSING_KEY_PLACEHOLDER"&&console.error(" CRITICAL: VITE_CENTRAL_SUPABASE_ANON_KEY is missing from environment variables.");const xte=N1,tn=Wy(gte,N1,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-central-auth-token"}}),Vi=Object.freeze(Object.defineProperty({__proto__:null,CENTRAL_SUPABASE_ANON_KEY:xte,centralSupabase:tn},Symbol.toStringTag,{value:"Module"})),_1=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(null),s=async(i,l,d)=>{e(!0);try{const{data:{session:u}}=await tn.auth.getSession();if(!(u!=null&&u.access_token))return{allowed:!1,limit:0,message:"Not authenticated",upsell_offer:null};const m=await(await fetch(`${We.API_URL}/check-entitlement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify({resource:i,feature:d,current_count:l})})).json();return n(m),m}catch(u){return console.error("Entitlement check failed:",u),{allowed:!1,limit:0,message:"Error checking limits",upsell_offer:null}}finally{e(!1)}};return b.useEffect(()=>{s()},[]),{checkEntitlement:s,entitlements:r,loading:t}},bte=({complianceStatus:t})=>t==="verified"?null:a.jsx("div",{className:"w-full bg-gradient-to-r from-orange-600 to-yellow-500 text-white shadow-md relative z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-2 flex flex-col sm:flex-row items-center justify-between gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-white/20 p-1 rounded",children:a.jsx(la,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"font-medium",children:"Ateno: Configure os dados do seu negcio para ativar seus checkouts e envios de e-mail."})]}),a.jsxs(Bt,{to:"/admin/business-settings",className:"whitespace-nowrap bg-white text-orange-600 hover:bg-orange-50 px-3 py-1 rounded-full font-bold text-xs flex items-center gap-1 transition-colors shadow-sm",children:["Configurar agora ",a.jsx(Vt,{className:"w-3 h-3"})]})]})}),Nt=({children:t})=>{var S,A;const e=Da(),{theme:r,toggleTheme:n}=DD(),{user:s,signOut:i,compliance:l,isWhiteLabel:d,profile:u}=tr(),{entitlements:f}=_1(),[m,p]=b.useState(!0),[x,v]=b.useState(!1),[y,N]=b.useState(()=>localStorage.getItem("show_admin_email")!=="false"),w=[{path:"/admin",icon:Ey,label:"Viso Geral"},{path:"/admin/business-settings",icon:Uu,label:"Configurar Negcio"},{path:"/admin/products",icon:gr,label:"Produtos"},{path:"/admin/gateways",icon:ao,label:"Gateways"},{path:"/admin/domains",icon:Yt,label:"Domnios"},{path:"/admin/checkouts",icon:Kd,label:"Checkouts"},{path:"/admin/orders",icon:TD,label:"Pedidos"},{path:"/admin/integrations",icon:Eee,label:"Integraes"},{path:"/admin/notifications",icon:yy,label:"Notificaes"}],E=localStorage.getItem("license_usage_type")==="commercial",k=(s==null?void 0:s.email)==="contato.jeandamin@gmail.com";return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-dark-bg text-gray-900 dark:text-dark-textMain overflow-hidden font-sans flex-col",children:[a.jsx(bte,{complianceStatus:l==null?void 0:l.status}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-40 lg:hidden backdrop-blur-sm transition-opacity duration-300",onClick:()=>v(!1)}),a.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50 h-full
        bg-white dark:bg-[#05050A]
        border-r border-gray-200 dark:border-white/10
        transition-all duration-300 ease-in-out flex flex-col
        
        // Mobile Logic (Default)
        w-64
        ${x?"translate-x-0 shadow-2xl":"-translate-x-full"}
        
        // Desktop Logic (lg breakpoint)
        lg:translate-x-0
        ${m?"lg:w-64":"lg:w-20"}
      `,children:[a.jsx("button",{onClick:()=>p(!m),className:"hidden lg:flex absolute -right-4 top-1/2 -translate-y-1/2 w-6 h-12 bg-white dark:bg-[#1A1A2E] border border-gray-200 dark:border-white/10 rounded-full items-center justify-center z-50 shadow-sm hover:shadow-md dark:hover:shadow-[0_0_15px_rgba(138,43,226,0.6)] hover:border-primary/50 transition-all duration-300 group",children:m?a.jsx(Ki,{className:"w-4 h-4 text-gray-400 group-hover:text-white"}):a.jsx(ha,{className:"w-4 h-4 text-gray-400 group-hover:text-white"})}),a.jsxs("div",{className:"h-20 flex items-center px-6 shrink-0",children:[m||x?a.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xl tracking-tight animate-in fade-in duration-200 whitespace-nowrap",children:[a.jsx("img",{src:"/logo.png",alt:"Super Checkout",className:"w-8 h-8 object-contain rounded-md shrink-0"}),a.jsxs("span",{className:"dark:text-white flex items-center gap-1",children:["Super Checkout ",a.jsx("span",{className:"text-xs text-primary/80",children:".app"})]})]}):a.jsx("div",{className:"w-full flex justify-center",children:a.jsx("img",{src:"/logo.png",alt:"Super Checkout",className:"w-8 h-8 object-contain rounded-md"})}),a.jsx("button",{onClick:()=>v(!1),className:"lg:hidden text-gray-500 ml-auto p-2",children:a.jsx(Mr,{className:"w-6 h-6"})})]}),a.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 px-3 custom-scrollbar",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"space-y-1",children:w.map(C=>{const O=e.pathname===C.path;return a.jsxs(Bt,{to:C.path,title:m?"":C.label,onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative overflow-hidden ${O?"text-white bg-primary/20 shadow-[0_0_20px_rgba(138,43,226,0.15)] border border-primary/20":"text-gray-500 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[O&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-primary rounded-r-full"}),a.jsx(C.icon,{className:`w-5 h-5 flex-shrink-0 transition-colors ${O?"text-primary-light":"text-gray-400 group-hover:text-gray-300"}`}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:C.label})]},C.path)})})}),a.jsxs("div",{className:"mt-2 pt-4 border-t border-gray-200 dark:border-white/5",children:[(m||x)&&a.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-3 mb-2 animate-in fade-in flex items-center gap-2",children:"Configuraes"}),a.jsxs("div",{className:"space-y-1",children:[!d&&k&&a.jsxs(Bt,{to:"/admin/free-users",onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative ${e.pathname.startsWith("/admin/free-users")?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,title:"Gesto de Leads (CRM)",children:[a.jsx(jr,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Leads CRM"})]}),(E||k)&&a.jsxs(Bt,{to:"/admin/licenses",onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative ${e.pathname==="/admin/licenses"?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,title:"Minha Licena",children:[a.jsx(Hn,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Minha Licena"})]}),(E||k)&&a.jsxs(Bt,{to:"/admin/installations",onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative ${e.pathname==="/admin/installations"?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,title:"Instalaes",children:[a.jsx(Yt,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Instalaes"})]}),k&&a.jsxs(a.Fragment,{children:[a.jsxs(Bt,{to:"/admin/system-licenses",onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative ${e.pathname==="/admin/system-licenses"?"text-yellow-400 bg-yellow-400/10":"text-gray-400 hover:text-yellow-400 hover:bg-white/5"}`,title:"Gesto de Licenas (Admin)",children:[a.jsx(en,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Gesto Global"})]}),a.jsxs(Bt,{to:"/admin/activation-content",onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative ${e.pathname==="/admin/activation-content"?"text-green-400 bg-green-400/10":"text-gray-400 hover:text-green-400 hover:bg-white/5"}`,title:"Editor do Portal de Ativao",children:[a.jsx(en,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Portal de Ativao"})]})]}),((f==null?void 0:f.is_partner)||(u==null?void 0:u.partner_status)==="active")&&a.jsxs(Bt,{to:"/admin/partner-dashboard",onClick:()=>v(!1),className:`flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all group relative ${e.pathname==="/admin/partner-dashboard"?"text-orange-400 bg-orange-400/10":"text-gray-400 hover:text-orange-400 hover:bg-white/5"}`,title:"Prestador de Servios",children:[a.jsx(Ji,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("div",{className:`ml-3 truncate transition-all duration-300 ${!m&&!x?"w-0 opacity-0":"w-auto opacity-100"}`,children:"Prestador de Servios"})]})]})]})]}),a.jsx("div",{className:"p-4 shrink-0 border-t border-gray-200 dark:border-white/5",children:a.jsxs(Bt,{to:"/admin/members",className:`block rounded-2xl p-4 bg-gradient-to-br from-purple-600 to-indigo-700 text-white shadow-lg shadow-purple-500/20 group relative overflow-hidden transition-all hover:shadow-purple-500/30 ${!m&&!x?"p-2 flex justify-center":""}`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10 blur-xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-black/10 rounded-full -ml-8 -mb-8 blur-xl"}),a.jsxs("div",{className:`flex items-center gap-3 ${!m&&!x?"justify-center":""}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center shrink-0 backdrop-blur-sm border border-white/10",children:a.jsx(jr,{className:"w-5 h-5 text-white"})}),(m||x)&&a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-sm truncate",children:"rea de Membros"}),a.jsx("p",{className:"text-[10px] text-white/70 truncate",children:"Gerenciar alunos"})]})]})]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative bg-gray-50 dark:bg-[#05050A]",children:[a.jsxs("header",{className:"h-16 flex items-center justify-between px-4 lg:px-8 z-10 shrink-0 border-b border-gray-200 dark:border-white/5 lg:border-none",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{onClick:()=>v(!0),className:"lg:hidden p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(w1,{className:"w-6 h-6"})})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-white/5 transition-colors relative",children:[a.jsx(yy,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-primary rounded-full shadow-[0_0_8px_rgba(138,43,226,0.8)]"})]}),a.jsx("div",{className:"h-8 w-px bg-gray-200 dark:bg-white/10 mx-1 hidden md:block"}),a.jsxs("div",{className:"flex items-center gap-3 pl-1",children:[a.jsxs(Bt,{to:"/admin/settings",className:"flex items-center gap-3 group",children:[a.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-primary transition-colors",children:((S=s==null?void 0:s.user_metadata)==null?void 0:S.name)||"Admin"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-[10px] text-gray-500",children:y?(s==null?void 0:s.email)||"admin@super.com":"******@******.com"}),a.jsx("button",{onClick:C=>{C.preventDefault();const O=!y;N(O),localStorage.setItem("show_admin_email",String(O))},className:"p-0.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-md transition-colors",title:y?"Ocultar email":"Mostrar email",children:y?a.jsx(yc,{className:"w-3 h-3 text-gray-400"}):a.jsx(ED,{className:"w-3 h-3 text-gray-400"})})]})]}),a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-lg ring-2 ring-white/10 group-hover:ring-primary/50 transition-all",children:(A=s==null?void 0:s.user_metadata)!=null&&A.name?s.user_metadata.name.substring(0,2).toUpperCase():"AD"})]}),a.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Sair",children:a.jsx(Fo,{className:"w-5 h-5"})})]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 lg:p-8 lg:pt-2 scroll-smooth custom-scrollbar",children:a.jsx("div",{className:"max-w-[1600px] mx-auto pb-20 lg:pb-0",children:t})})]})]})]})};function Jd(t){let e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function Sy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function vte(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function K5(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function J5(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function yte(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function wte(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Yb(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function jte(t,e){let r=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(r*r+n*n+s*s)}function Nte(t,e){let r=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return r*r+n*n+s*s}function Q5(t){let e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function _te(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ete(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ky(t,e){let r=e[0],n=e[1],s=e[2],i=r*r+n*n+s*s;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function ID(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Z5(t,e,r){let n=e[0],s=e[1],i=e[2],l=r[0],d=r[1],u=r[2];return t[0]=s*u-i*d,t[1]=i*l-n*u,t[2]=n*d-s*l,t}function Ste(t,e,r,n){let s=e[0],i=e[1],l=e[2];return t[0]=s+n*(r[0]-s),t[1]=i+n*(r[1]-i),t[2]=l+n*(r[2]-l),t}function kte(t,e,r,n,s){const i=Math.exp(-n*s);let l=e[0],d=e[1],u=e[2];return t[0]=r[0]+(l-r[0])*i,t[1]=r[1]+(d-r[1])*i,t[2]=r[2]+(u-r[2])*i,t}function Ate(t,e,r){let n=e[0],s=e[1],i=e[2],l=r[3]*n+r[7]*s+r[11]*i+r[15];return l=l||1,t[0]=(r[0]*n+r[4]*s+r[8]*i+r[12])/l,t[1]=(r[1]*n+r[5]*s+r[9]*i+r[13])/l,t[2]=(r[2]*n+r[6]*s+r[10]*i+r[14])/l,t}function Cte(t,e,r){let n=e[0],s=e[1],i=e[2],l=r[3]*n+r[7]*s+r[11]*i+r[15];return l=l||1,t[0]=(r[0]*n+r[4]*s+r[8]*i)/l,t[1]=(r[1]*n+r[5]*s+r[9]*i)/l,t[2]=(r[2]*n+r[6]*s+r[10]*i)/l,t}function Tte(t,e,r){let n=e[0],s=e[1],i=e[2];return t[0]=n*r[0]+s*r[3]+i*r[6],t[1]=n*r[1]+s*r[4]+i*r[7],t[2]=n*r[2]+s*r[5]+i*r[8],t}function Ote(t,e,r){let n=e[0],s=e[1],i=e[2],l=r[0],d=r[1],u=r[2],f=r[3],m=d*i-u*s,p=u*n-l*i,x=l*s-d*n,v=d*x-u*p,y=u*m-l*x,N=l*p-d*m,w=f*2;return m*=w,p*=w,x*=w,v*=2,y*=2,N*=2,t[0]=n+m+v,t[1]=s+p+y,t[2]=i+x+N,t}const Rte=(function(){const t=[0,0,0],e=[0,0,0];return function(r,n){Sy(t,r),Sy(e,n),ky(t,t),ky(e,e);let s=ID(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}})();function Dte(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class $n extends Array{constructor(e=0,r=e,n=e){return super(e,r,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,n=e){return e.length?this.copy(e):(vte(this,e,r,n),this)}copy(e){return Sy(this,e),this}add(e,r){return r?K5(this,e,r):K5(this,this,e),this}sub(e,r){return r?J5(this,e,r):J5(this,this,e),this}multiply(e){return e.length?yte(this,this,e):Yb(this,this,e),this}divide(e){return e.length?wte(this,this,e):Yb(this,this,1/e),this}inverse(e=this){return Ete(this,e),this}len(){return Jd(this)}distance(e){return e?jte(this,e):Jd(this)}squaredLen(){return Q5(this)}squaredDistance(e){return e?Nte(this,e):Q5(this)}negate(e=this){return _te(this,e),this}cross(e,r){return r?Z5(this,e,r):Z5(this,this,e),this}scale(e){return Yb(this,this,e),this}normalize(){return ky(this,this),this}dot(e){return ID(this,e)}equals(e){return Dte(this,e)}applyMatrix3(e){return Tte(this,this,e),this}applyMatrix4(e){return Ate(this,this,e),this}scaleRotateMatrix4(e){return Cte(this,this,e),this}applyQuaternion(e){return Ote(this,this,e),this}angle(e){return Rte(this,e)}lerp(e,r){return Ste(this,this,e,r),this}smoothLerp(e,r,n){return kte(this,this,e,r,n),this}clone(){return new $n(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],n=this[1],s=this[2];return this[0]=e[0]*r+e[4]*n+e[8]*s,this[1]=e[1]*r+e[5]*n+e[9]*s,this[2]=e[2]*r+e[6]*n+e[10]*s,this.normalize()}}const eA=new $n;let Ite=1,Pte=1,tA=!1;class Mte{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=Ite++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in r)this.addAttribute(n,r[n])}addAttribute(e,r){if(this.attributes[e]=r,r.id=Pte++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:n,type:s})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const i=this.attributes[n];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let l=1;s===35674&&(l=2),s===35675&&(l=3),s===35676&&(l=4);const d=i.size/l,u=l===1?0:l*l*4,f=l===1?0:l*4;for(let m=0;m<l;m++)this.gl.vertexAttribPointer(r+m,d,i.type,i.normalized,i.stride+u,i.offset+m*f),this.gl.enableVertexAttribArray(r+m),this.gl.renderer.vertexAttribDivisor(r+m,i.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){var s;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:l})=>{const d=this.attributes[l];d.needsUpdate&&this.updateAttribute(d)});let n=2;((s=this.attributes.index)==null?void 0:s.type)===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!tA)return console.warn("No position buffer data found to compute bounds"),tA=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,n=e.size;this.bounds||(this.bounds={min:new $n,max:new $n,center:new $n,scale:new $n,radius:1/0});const s=this.bounds.min,i=this.bounds.max,l=this.bounds.center,d=this.bounds.scale;s.set(1/0),i.set(-1/0);for(let u=0,f=r.length;u<f;u+=n){const m=r[u],p=r[u+1],x=r[u+2];s.x=Math.min(m,s.x),s.y=Math.min(p,s.y),s.z=Math.min(x,s.z),i.x=Math.max(m,i.x),i.y=Math.max(p,i.y),i.z=Math.max(x,i.z)}d.sub(i,s),l.add(s,i).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let s=0;for(let i=0,l=r.length;i<l;i+=n)eA.fromArray(r,i),s=Math.max(s,this.bounds.center.squaredDistance(eA));this.bounds.radius=Math.sqrt(s)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Lte=1;const rA={};class Ute{constructor(e,{vertex:r,fragment:n,uniforms:s={},transparent:i=!1,cullFace:l=e.BACK,frontFace:d=e.CCW,depthTest:u=!0,depthWrite:f=!0,depthFunc:m=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=s,this.id=Lte++,r||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=i,this.cullFace=l,this.frontFace=d,this.depthTest=u,this.depthWrite=f,this.depthFunc=m,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:n})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${aA(e)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${aA(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){let d=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(d,this.gl.getUniformLocation(this.program,d.name));const u=d.name.match(/(\w+)/g);d.uniformName=u[0],d.nameComponents=u.slice(1)}this.attributeLocations=new Map;const s=[],i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<i;l++){const d=this.gl.getActiveAttrib(this.program,l),u=this.gl.getAttribLocation(this.program,d.name);u!==-1&&(s[u]=d.name,this.attributeLocations.set(d,u))}this.attributeOrder=s.join("")}setBlendFunc(e,r,n,s){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=s,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,n){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=n}setStencilOp(e,r,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,i)=>{let l=this.uniforms[i.uniformName];for(const d of i.nameComponents){if(!l)break;if(d in l)l=l[d];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return nA(`Active uniform ${i.name} has not been supplied`);if(l&&l.value===void 0)return nA(`${i.name} uniform is missing a value parameter`);if(l.value.texture)return r=r+1,l.value.update(r),Wb(this.gl,i.type,s,r);if(l.value.length&&l.value[0].texture){const d=[];return l.value.forEach(u=>{r=r+1,u.update(r),d.push(r)}),Wb(this.gl,i.type,s,d)}Wb(this.gl,i.type,s,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Wb(t,e,r,n){n=n.length?$te(n):n;const s=t.renderer.state.uniformLocations.get(r);if(n.length)if(s===void 0||s.length!==n.length)t.renderer.state.uniformLocations.set(r,n.slice(0));else{if(Bte(s,n))return;s.set?s.set(n):zte(s,n),t.renderer.state.uniformLocations.set(r,s)}else{if(s===n)return;t.renderer.state.uniformLocations.set(r,n)}switch(e){case 5126:return n.length?t.uniform1fv(r,n):t.uniform1f(r,n);case 35664:return t.uniform2fv(r,n);case 35665:return t.uniform3fv(r,n);case 35666:return t.uniform4fv(r,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?t.uniform1iv(r,n):t.uniform1i(r,n);case 35671:case 35667:return t.uniform2iv(r,n);case 35672:case 35668:return t.uniform3iv(r,n);case 35673:case 35669:return t.uniform4iv(r,n);case 35674:return t.uniformMatrix2fv(r,!1,n);case 35675:return t.uniformMatrix3fv(r,!1,n);case 35676:return t.uniformMatrix4fv(r,!1,n)}}function aA(t){let e=t.split(`
`);for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function $te(t){const e=t.length,r=t[0].length;if(r===void 0)return t;const n=e*r;let s=rA[n];s||(rA[n]=s=new Float32Array(n));for(let i=0;i<e;i++)s.set(t[i],i*r);return s}function Bte(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zte(t,e){for(let r=0,n=t.length;r<n;r++)t[r]=e[r]}let Xb=0;function nA(t){Xb>100||(console.warn(t),Xb++,Xb>100&&console.warn("More than 100 program warnings - stopping logs."))}const Kb=new $n;let Fte=1;class qte{constructor({canvas:e=document.createElement("canvas"),width:r=300,height:n=150,dpr:s=1,alpha:i=!1,depth:l=!0,stencil:d=!1,antialias:u=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:m=!1,powerPreference:p="default",autoClear:x=!0,webgl:v=2}={}){const y={alpha:i,depth:l,stencil:d,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:m,powerPreference:p};this.dpr=s,this.alpha=i,this.color=!0,this.depth=l,this.stencil=d,this.premultipliedAlpha=f,this.autoClear=x,this.id=Fte++,v===2&&(this.gl=e.getContext("webgl2",y)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",y)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,n=0,s=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=n,this.state.viewport.y=s,this.gl.viewport(n,s,e,r))}setScissor(e,r,n=0,s=0){this.gl.scissor(n,s,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,n,s){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=s,n!==void 0?this.gl.blendFuncSeparate(e,r,n,s):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,n){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,n||0))}setStencilOp(e,r,n){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=n,this.gl.stencilOp(e,r,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,n){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:n,sort:s}){let i=[];if(r&&n&&r.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(n&&l.frustumCulled&&r&&!r.frustumIntersectsMesh(l)||i.push(l))}),s){const l=[],d=[],u=[];i.forEach(f=>{f.program.transparent?f.program.depthTest?d.push(f):u.push(f):l.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!r)&&(f.worldMatrix.getTranslation(Kb),Kb.applyMatrix4(r.projectionViewMatrix),f.zDepth=Kb.z)}),l.sort(this.sortOpaque),d.sort(this.sortTransparent),u.sort(this.sortUI),i=l.concat(d,u)}return i}render({scene:e,camera:r,target:n=null,update:s=!0,sort:i=!0,frustumCull:l=!0,clear:d}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(d||this.autoClear&&d!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:l,sort:i}).forEach(f=>{f.draw({camera:r})})}}function Hte(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Gte(t,e,r,n,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=s,t}function Vte(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=r*r+n*n+s*s+i*i;return l>0&&(l=1/Math.sqrt(l)),t[0]=r*l,t[1]=n*l,t[2]=s*l,t[3]=i*l,t}function Yte(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Wte(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Xte(t,e,r){r=r*.5;let n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function sA(t,e,r){let n=e[0],s=e[1],i=e[2],l=e[3],d=r[0],u=r[1],f=r[2],m=r[3];return t[0]=n*m+l*d+s*f-i*u,t[1]=s*m+l*u+i*d-n*f,t[2]=i*m+l*f+n*u-s*d,t[3]=l*m-n*d-s*u-i*f,t}function Kte(t,e,r){r*=.5;let n=e[0],s=e[1],i=e[2],l=e[3],d=Math.sin(r),u=Math.cos(r);return t[0]=n*u+l*d,t[1]=s*u+i*d,t[2]=i*u-s*d,t[3]=l*u-n*d,t}function Jte(t,e,r){r*=.5;let n=e[0],s=e[1],i=e[2],l=e[3],d=Math.sin(r),u=Math.cos(r);return t[0]=n*u-i*d,t[1]=s*u+l*d,t[2]=i*u+n*d,t[3]=l*u-s*d,t}function Qte(t,e,r){r*=.5;let n=e[0],s=e[1],i=e[2],l=e[3],d=Math.sin(r),u=Math.cos(r);return t[0]=n*u+s*d,t[1]=s*u-n*d,t[2]=i*u+l*d,t[3]=l*u-i*d,t}function Zte(t,e,r,n){let s=e[0],i=e[1],l=e[2],d=e[3],u=r[0],f=r[1],m=r[2],p=r[3],x,v,y,N,w;return v=s*u+i*f+l*m+d*p,v<0&&(v=-v,u=-u,f=-f,m=-m,p=-p),1-v>1e-6?(x=Math.acos(v),y=Math.sin(x),N=Math.sin((1-n)*x)/y,w=Math.sin(n*x)/y):(N=1-n,w=n),t[0]=N*s+w*u,t[1]=N*i+w*f,t[2]=N*l+w*m,t[3]=N*d+w*p,t}function ere(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=r*r+n*n+s*s+i*i,d=l?1/l:0;return t[0]=-r*d,t[1]=-n*d,t[2]=-s*d,t[3]=i*d,t}function tre(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function rre(t,e){let r=e[0]+e[4]+e[8],n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);let i=(s+1)%3,l=(s+2)%3;n=Math.sqrt(e[s*3+s]-e[i*3+i]-e[l*3+l]+1),t[s]=.5*n,n=.5/n,t[3]=(e[i*3+l]-e[l*3+i])*n,t[i]=(e[i*3+s]+e[s*3+i])*n,t[l]=(e[l*3+s]+e[s*3+l])*n}return t}function are(t,e,r="YXZ"){let n=Math.sin(e[0]*.5),s=Math.cos(e[0]*.5),i=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),d=Math.sin(e[2]*.5),u=Math.cos(e[2]*.5);return r==="XYZ"?(t[0]=n*l*u+s*i*d,t[1]=s*i*u-n*l*d,t[2]=s*l*d+n*i*u,t[3]=s*l*u-n*i*d):r==="YXZ"?(t[0]=n*l*u+s*i*d,t[1]=s*i*u-n*l*d,t[2]=s*l*d-n*i*u,t[3]=s*l*u+n*i*d):r==="ZXY"?(t[0]=n*l*u-s*i*d,t[1]=s*i*u+n*l*d,t[2]=s*l*d+n*i*u,t[3]=s*l*u-n*i*d):r==="ZYX"?(t[0]=n*l*u-s*i*d,t[1]=s*i*u+n*l*d,t[2]=s*l*d-n*i*u,t[3]=s*l*u+n*i*d):r==="YZX"?(t[0]=n*l*u+s*i*d,t[1]=s*i*u+n*l*d,t[2]=s*l*d-n*i*u,t[3]=s*l*u-n*i*d):r==="XZY"&&(t[0]=n*l*u-s*i*d,t[1]=s*i*u-n*l*d,t[2]=s*l*d+n*i*u,t[3]=s*l*u+n*i*d),t}const nre=Hte,sre=Gte,ire=Yte,ore=Vte;class lre extends Array{constructor(e=0,r=0,n=0,s=1){super(e,r,n,s),this.onChange=()=>{},this._target=this;const i=["0","1","2","3"];return new Proxy(this,{set(l,d){const u=Reflect.set(...arguments);return u&&i.includes(d)&&l.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Wte(this._target),this.onChange(),this}set(e,r,n,s){return e.length?this.copy(e):(sre(this._target,e,r,n,s),this.onChange(),this)}rotateX(e){return Kte(this._target,this._target,e),this.onChange(),this}rotateY(e){return Jte(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Qte(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return ere(this._target,e),this.onChange(),this}conjugate(e=this._target){return tre(this._target,e),this.onChange(),this}copy(e){return nre(this._target,e),this.onChange(),this}normalize(e=this._target){return ore(this._target,e),this.onChange(),this}multiply(e,r){return r?sA(this._target,e,r):sA(this._target,this._target,e),this.onChange(),this}dot(e){return ire(this._target,e)}fromMatrix3(e){return rre(this._target,e),this.onChange(),this}fromEuler(e,r){return are(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return Xte(this._target,e,r),this.onChange(),this}slerp(e,r){return Zte(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const cre=1e-6;function dre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ure(t,e,r,n,s,i,l,d,u,f,m,p,x,v,y,N,w){return t[0]=e,t[1]=r,t[2]=n,t[3]=s,t[4]=i,t[5]=l,t[6]=d,t[7]=u,t[8]=f,t[9]=m,t[10]=p,t[11]=x,t[12]=v,t[13]=y,t[14]=N,t[15]=w,t}function hre(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fre(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=e[4],d=e[5],u=e[6],f=e[7],m=e[8],p=e[9],x=e[10],v=e[11],y=e[12],N=e[13],w=e[14],E=e[15],k=r*d-n*l,S=r*u-s*l,A=r*f-i*l,C=n*u-s*d,O=n*f-i*d,R=s*f-i*u,L=m*N-p*y,$=m*w-x*y,M=m*E-v*y,H=p*w-x*N,q=p*E-v*N,F=x*E-v*w,X=k*F-S*q+A*H+C*M-O*$+R*L;return X?(X=1/X,t[0]=(d*F-u*q+f*H)*X,t[1]=(s*q-n*F-i*H)*X,t[2]=(N*R-w*O+E*C)*X,t[3]=(x*O-p*R-v*C)*X,t[4]=(u*M-l*F-f*$)*X,t[5]=(r*F-s*M+i*$)*X,t[6]=(w*A-y*R-E*S)*X,t[7]=(m*R-x*A+v*S)*X,t[8]=(l*q-d*M+f*L)*X,t[9]=(n*M-r*q-i*L)*X,t[10]=(y*O-N*A+E*k)*X,t[11]=(p*A-m*O-v*k)*X,t[12]=(d*$-l*H-u*L)*X,t[13]=(r*H-n*$+s*L)*X,t[14]=(N*S-y*C-w*k)*X,t[15]=(m*C-p*S+x*k)*X,t):null}function PD(t){let e=t[0],r=t[1],n=t[2],s=t[3],i=t[4],l=t[5],d=t[6],u=t[7],f=t[8],m=t[9],p=t[10],x=t[11],v=t[12],y=t[13],N=t[14],w=t[15],E=e*l-r*i,k=e*d-n*i,S=e*u-s*i,A=r*d-n*l,C=r*u-s*l,O=n*u-s*d,R=f*y-m*v,L=f*N-p*v,$=f*w-x*v,M=m*N-p*y,H=m*w-x*y,q=p*w-x*N;return E*q-k*H+S*M+A*$-C*L+O*R}function iA(t,e,r){let n=e[0],s=e[1],i=e[2],l=e[3],d=e[4],u=e[5],f=e[6],m=e[7],p=e[8],x=e[9],v=e[10],y=e[11],N=e[12],w=e[13],E=e[14],k=e[15],S=r[0],A=r[1],C=r[2],O=r[3];return t[0]=S*n+A*d+C*p+O*N,t[1]=S*s+A*u+C*x+O*w,t[2]=S*i+A*f+C*v+O*E,t[3]=S*l+A*m+C*y+O*k,S=r[4],A=r[5],C=r[6],O=r[7],t[4]=S*n+A*d+C*p+O*N,t[5]=S*s+A*u+C*x+O*w,t[6]=S*i+A*f+C*v+O*E,t[7]=S*l+A*m+C*y+O*k,S=r[8],A=r[9],C=r[10],O=r[11],t[8]=S*n+A*d+C*p+O*N,t[9]=S*s+A*u+C*x+O*w,t[10]=S*i+A*f+C*v+O*E,t[11]=S*l+A*m+C*y+O*k,S=r[12],A=r[13],C=r[14],O=r[15],t[12]=S*n+A*d+C*p+O*N,t[13]=S*s+A*u+C*x+O*w,t[14]=S*i+A*f+C*v+O*E,t[15]=S*l+A*m+C*y+O*k,t}function mre(t,e,r){let n=r[0],s=r[1],i=r[2],l,d,u,f,m,p,x,v,y,N,w,E;return e===t?(t[12]=e[0]*n+e[4]*s+e[8]*i+e[12],t[13]=e[1]*n+e[5]*s+e[9]*i+e[13],t[14]=e[2]*n+e[6]*s+e[10]*i+e[14],t[15]=e[3]*n+e[7]*s+e[11]*i+e[15]):(l=e[0],d=e[1],u=e[2],f=e[3],m=e[4],p=e[5],x=e[6],v=e[7],y=e[8],N=e[9],w=e[10],E=e[11],t[0]=l,t[1]=d,t[2]=u,t[3]=f,t[4]=m,t[5]=p,t[6]=x,t[7]=v,t[8]=y,t[9]=N,t[10]=w,t[11]=E,t[12]=l*n+m*s+y*i+e[12],t[13]=d*n+p*s+N*i+e[13],t[14]=u*n+x*s+w*i+e[14],t[15]=f*n+v*s+E*i+e[15]),t}function pre(t,e,r){let n=r[0],s=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function gre(t,e,r,n){let s=n[0],i=n[1],l=n[2],d=Math.hypot(s,i,l),u,f,m,p,x,v,y,N,w,E,k,S,A,C,O,R,L,$,M,H,q,F,X,ue;return Math.abs(d)<cre?null:(d=1/d,s*=d,i*=d,l*=d,u=Math.sin(r),f=Math.cos(r),m=1-f,p=e[0],x=e[1],v=e[2],y=e[3],N=e[4],w=e[5],E=e[6],k=e[7],S=e[8],A=e[9],C=e[10],O=e[11],R=s*s*m+f,L=i*s*m+l*u,$=l*s*m-i*u,M=s*i*m-l*u,H=i*i*m+f,q=l*i*m+s*u,F=s*l*m+i*u,X=i*l*m-s*u,ue=l*l*m+f,t[0]=p*R+N*L+S*$,t[1]=x*R+w*L+A*$,t[2]=v*R+E*L+C*$,t[3]=y*R+k*L+O*$,t[4]=p*M+N*H+S*q,t[5]=x*M+w*H+A*q,t[6]=v*M+E*H+C*q,t[7]=y*M+k*H+O*q,t[8]=p*F+N*X+S*ue,t[9]=x*F+w*X+A*ue,t[10]=v*F+E*X+C*ue,t[11]=y*F+k*X+O*ue,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function xre(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function MD(t,e){let r=e[0],n=e[1],s=e[2],i=e[4],l=e[5],d=e[6],u=e[8],f=e[9],m=e[10];return t[0]=Math.hypot(r,n,s),t[1]=Math.hypot(i,l,d),t[2]=Math.hypot(u,f,m),t}function bre(t){let e=t[0],r=t[1],n=t[2],s=t[4],i=t[5],l=t[6],d=t[8],u=t[9],f=t[10];const m=e*e+r*r+n*n,p=s*s+i*i+l*l,x=d*d+u*u+f*f;return Math.sqrt(Math.max(m,p,x))}const LD=(function(){const t=[1,1,1];return function(e,r){let n=t;MD(n,r);let s=1/n[0],i=1/n[1],l=1/n[2],d=r[0]*s,u=r[1]*i,f=r[2]*l,m=r[4]*s,p=r[5]*i,x=r[6]*l,v=r[8]*s,y=r[9]*i,N=r[10]*l,w=d+p+N,E=0;return w>0?(E=Math.sqrt(w+1)*2,e[3]=.25*E,e[0]=(x-y)/E,e[1]=(v-f)/E,e[2]=(u-m)/E):d>p&&d>N?(E=Math.sqrt(1+d-p-N)*2,e[3]=(x-y)/E,e[0]=.25*E,e[1]=(u+m)/E,e[2]=(v+f)/E):p>N?(E=Math.sqrt(1+p-d-N)*2,e[3]=(v-f)/E,e[0]=(u+m)/E,e[1]=.25*E,e[2]=(x+y)/E):(E=Math.sqrt(1+N-d-p)*2,e[3]=(u-m)/E,e[0]=(v+f)/E,e[1]=(x+y)/E,e[2]=.25*E),e}})();function vre(t,e,r,n){let s=Jd([t[0],t[1],t[2]]);const i=Jd([t[4],t[5],t[6]]),l=Jd([t[8],t[9],t[10]]);PD(t)<0&&(s=-s),r[0]=t[12],r[1]=t[13],r[2]=t[14];const u=t.slice(),f=1/s,m=1/i,p=1/l;u[0]*=f,u[1]*=f,u[2]*=f,u[4]*=m,u[5]*=m,u[6]*=m,u[8]*=p,u[9]*=p,u[10]*=p,LD(e,u),n[0]=s,n[1]=i,n[2]=l}function yre(t,e,r,n){const s=t,i=e[0],l=e[1],d=e[2],u=e[3],f=i+i,m=l+l,p=d+d,x=i*f,v=i*m,y=i*p,N=l*m,w=l*p,E=d*p,k=u*f,S=u*m,A=u*p,C=n[0],O=n[1],R=n[2];return s[0]=(1-(N+E))*C,s[1]=(v+A)*C,s[2]=(y-S)*C,s[3]=0,s[4]=(v-A)*O,s[5]=(1-(x+E))*O,s[6]=(w+k)*O,s[7]=0,s[8]=(y+S)*R,s[9]=(w-k)*R,s[10]=(1-(x+N))*R,s[11]=0,s[12]=r[0],s[13]=r[1],s[14]=r[2],s[15]=1,s}function wre(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=r+r,d=n+n,u=s+s,f=r*l,m=n*l,p=n*d,x=s*l,v=s*d,y=s*u,N=i*l,w=i*d,E=i*u;return t[0]=1-p-y,t[1]=m+E,t[2]=x-w,t[3]=0,t[4]=m-E,t[5]=1-f-y,t[6]=v+N,t[7]=0,t[8]=x+w,t[9]=v-N,t[10]=1-f-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jre(t,e,r,n,s){let i=1/Math.tan(e/2),l=1/(n-s);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*n*l,t[15]=0,t}function Nre(t,e,r,n,s,i,l){let d=1/(e-r),u=1/(n-s),f=1/(i-l);return t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+r)*d,t[13]=(s+n)*u,t[14]=(l+i)*f,t[15]=1,t}function _re(t,e,r,n){let s=e[0],i=e[1],l=e[2],d=n[0],u=n[1],f=n[2],m=s-r[0],p=i-r[1],x=l-r[2],v=m*m+p*p+x*x;v===0?x=1:(v=1/Math.sqrt(v),m*=v,p*=v,x*=v);let y=u*x-f*p,N=f*m-d*x,w=d*p-u*m;return v=y*y+N*N+w*w,v===0&&(f?d+=1e-6:u?f+=1e-6:u+=1e-6,y=u*x-f*p,N=f*m-d*x,w=d*p-u*m,v=y*y+N*N+w*w),v=1/Math.sqrt(v),y*=v,N*=v,w*=v,t[0]=y,t[1]=N,t[2]=w,t[3]=0,t[4]=p*w-x*N,t[5]=x*y-m*w,t[6]=m*N-p*y,t[7]=0,t[8]=m,t[9]=p,t[10]=x,t[11]=0,t[12]=s,t[13]=i,t[14]=l,t[15]=1,t}function oA(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function lA(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function Ere(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}class Bm extends Array{constructor(e=1,r=0,n=0,s=0,i=0,l=1,d=0,u=0,f=0,m=0,p=1,x=0,v=0,y=0,N=0,w=1){return super(e,r,n,s,i,l,d,u,f,m,p,x,v,y,N,w),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,n,s,i,l,d,u,f,m,p,x,v,y,N,w){return e.length?this.copy(e):(ure(this,e,r,n,s,i,l,d,u,f,m,p,x,v,y,N,w),this)}translate(e,r=this){return mre(this,r,e),this}rotate(e,r,n=this){return gre(this,n,e,r),this}scale(e,r=this){return pre(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?oA(this,e,r):oA(this,this,e),this}sub(e,r){return r?lA(this,e,r):lA(this,this,e),this}multiply(e,r){return e.length?r?iA(this,e,r):iA(this,this,e):Ere(this,this,e),this}identity(){return hre(this),this}copy(e){return dre(this,e),this}fromPerspective({fov:e,aspect:r,near:n,far:s}={}){return jre(this,e,r,n,s),this}fromOrthogonal({left:e,right:r,bottom:n,top:s,near:i,far:l}){return Nre(this,e,r,n,s,i,l),this}fromQuaternion(e){return wre(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return fre(this,e),this}compose(e,r,n){return yre(this,e,r,n),this}decompose(e,r,n){return vre(this,e,r,n),this}getRotation(e){return LD(e,this),this}getTranslation(e){return xre(e,this),this}getScaling(e){return MD(e,this),this}getMaxScaleOnAxis(){return bre(this)}lookAt(e,r,n){return _re(this,e,r,n),this}determinant(){return PD(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function Sre(t,e,r="YXZ"){return r==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):r==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):r==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const cA=new Bm;class kre extends Array{constructor(e=0,r=e,n=e,s="YXZ"){super(e,r,n),this.order=s,this.onChange=()=>{},this._target=this;const i=["0","1","2"];return new Proxy(this,{set(l,d){const u=Reflect.set(...arguments);return u&&i.includes(d)&&l.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,n=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return Sre(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,n){return cA.fromQuaternion(e),this._target.fromRotationMatrix(cA,r),n||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class Are{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Bm,this.worldMatrix=new Bm,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new $n,this.quaternion=new lre,this.scale=new $n(1),this.rotation=new kre,this.up=new $n(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,n=this.children.length;r<n;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,n=this.children.length;r<n;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Cre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Tre(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=r+r,d=n+n,u=s+s,f=r*l,m=n*l,p=n*d,x=s*l,v=s*d,y=s*u,N=i*l,w=i*d,E=i*u;return t[0]=1-p-y,t[3]=m-E,t[6]=x+w,t[1]=m+E,t[4]=1-f-y,t[7]=v-N,t[2]=x-w,t[5]=v+N,t[8]=1-f-p,t}function Ore(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Rre(t,e,r,n,s,i,l,d,u,f){return t[0]=e,t[1]=r,t[2]=n,t[3]=s,t[4]=i,t[5]=l,t[6]=d,t[7]=u,t[8]=f,t}function Dre(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ire(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=e[4],d=e[5],u=e[6],f=e[7],m=e[8],p=m*l-d*f,x=-m*i+d*u,v=f*i-l*u,y=r*p+n*x+s*v;return y?(y=1/y,t[0]=p*y,t[1]=(-m*n+s*f)*y,t[2]=(d*n-s*l)*y,t[3]=x*y,t[4]=(m*r-s*u)*y,t[5]=(-d*r+s*i)*y,t[6]=v*y,t[7]=(-f*r+n*u)*y,t[8]=(l*r-n*i)*y,t):null}function dA(t,e,r){let n=e[0],s=e[1],i=e[2],l=e[3],d=e[4],u=e[5],f=e[6],m=e[7],p=e[8],x=r[0],v=r[1],y=r[2],N=r[3],w=r[4],E=r[5],k=r[6],S=r[7],A=r[8];return t[0]=x*n+v*l+y*f,t[1]=x*s+v*d+y*m,t[2]=x*i+v*u+y*p,t[3]=N*n+w*l+E*f,t[4]=N*s+w*d+E*m,t[5]=N*i+w*u+E*p,t[6]=k*n+S*l+A*f,t[7]=k*s+S*d+A*m,t[8]=k*i+S*u+A*p,t}function Pre(t,e,r){let n=e[0],s=e[1],i=e[2],l=e[3],d=e[4],u=e[5],f=e[6],m=e[7],p=e[8],x=r[0],v=r[1];return t[0]=n,t[1]=s,t[2]=i,t[3]=l,t[4]=d,t[5]=u,t[6]=x*n+v*l+f,t[7]=x*s+v*d+m,t[8]=x*i+v*u+p,t}function Mre(t,e,r){let n=e[0],s=e[1],i=e[2],l=e[3],d=e[4],u=e[5],f=e[6],m=e[7],p=e[8],x=Math.sin(r),v=Math.cos(r);return t[0]=v*n+x*l,t[1]=v*s+x*d,t[2]=v*i+x*u,t[3]=v*l-x*n,t[4]=v*d-x*s,t[5]=v*u-x*i,t[6]=f,t[7]=m,t[8]=p,t}function Lre(t,e,r){let n=r[0],s=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ure(t,e){let r=e[0],n=e[1],s=e[2],i=e[3],l=e[4],d=e[5],u=e[6],f=e[7],m=e[8],p=e[9],x=e[10],v=e[11],y=e[12],N=e[13],w=e[14],E=e[15],k=r*d-n*l,S=r*u-s*l,A=r*f-i*l,C=n*u-s*d,O=n*f-i*d,R=s*f-i*u,L=m*N-p*y,$=m*w-x*y,M=m*E-v*y,H=p*w-x*N,q=p*E-v*N,F=x*E-v*w,X=k*F-S*q+A*H+C*M-O*$+R*L;return X?(X=1/X,t[0]=(d*F-u*q+f*H)*X,t[1]=(u*M-l*F-f*$)*X,t[2]=(l*q-d*M+f*L)*X,t[3]=(s*q-n*F-i*H)*X,t[4]=(r*F-s*M+i*$)*X,t[5]=(n*M-r*q-i*L)*X,t[6]=(N*R-w*O+E*C)*X,t[7]=(w*A-y*R-E*S)*X,t[8]=(y*O-N*A+E*k)*X,t):null}class $re extends Array{constructor(e=1,r=0,n=0,s=0,i=1,l=0,d=0,u=0,f=1){return super(e,r,n,s,i,l,d,u,f),this}set(e,r,n,s,i,l,d,u,f){return e.length?this.copy(e):(Rre(this,e,r,n,s,i,l,d,u,f),this)}translate(e,r=this){return Pre(this,r,e),this}rotate(e,r=this){return Mre(this,r,e),this}scale(e,r=this){return Lre(this,r,e),this}multiply(e,r){return r?dA(this,e,r):dA(this,this,e),this}identity(){return Dre(this),this}copy(e){return Ore(this,e),this}fromMatrix4(e){return Cre(this,e),this}fromQuaternion(e){return Tre(this,e),this}fromBasis(e,r,n){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],n[0],n[1],n[2]),this}inverse(e=this){return Ire(this,e),this}getNormalMatrix(e){return Ure(this,e),this}}let Bre=0;class zre extends Are{constructor(e,{geometry:r,program:n,mode:s=e.TRIANGLES,frustumCulled:i=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Bre++,this.geometry=r,this.program=n,this.mode=s,this.frustumCulled=i,this.renderOrder=l,this.modelViewMatrix=new Bm,this.normalMatrix=new $re,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}))}}const uA={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function hA(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Fre(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function fA(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?hA(t):uA[t.toLowerCase()]?hA(uA[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Fre(t)}class mA extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...fA(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(fA(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class qre extends Mte{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}const Hre=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Gre=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ), 
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function zs(t){const{colorStops:e=["#5227FF","#7cff67","#5227FF"],amplitude:r=1,blend:n=.5}=t,s=b.useRef(t);s.current=t;const i=b.useRef(null);return b.useEffect(()=>{const l=i.current;if(!l)return;const d=new qte({alpha:!0,premultipliedAlpha:!0,antialias:!0}),u=d.gl;u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.canvas.style.backgroundColor="transparent";let f;function m(){if(!l)return;const E=l.offsetWidth,k=l.offsetHeight;d.setSize(E,k),f&&(f.uniforms.uResolution.value=[E,k])}const p=new ResizeObserver(()=>{m()});p.observe(l);const x=new qre(u);x.attributes.uv&&delete x.attributes.uv;const v=e.map(E=>{const k=new mA(E);return[k.r,k.g,k.b]});f=new Ute(u,{vertex:Hre,fragment:Gre,uniforms:{uTime:{value:0},uAmplitude:{value:r},uColorStops:{value:v},uResolution:{value:[l.offsetWidth,l.offsetHeight]},uBlend:{value:n}}});const y=new zre(u,{geometry:x,program:f});l.appendChild(u.canvas);let N=0;const w=E=>{N=requestAnimationFrame(w);const{time:k=E*.01,speed:S=1}=s.current;f.uniforms.uTime.value=k*S*.1,f.uniforms.uAmplitude.value=s.current.amplitude??1,f.uniforms.uBlend.value=s.current.blend??n;const A=s.current.colorStops??e;f.uniforms.uColorStops.value=A.map(C=>{const O=new mA(C);return[O.r,O.g,O.b]}),d.render({scene:y})};return N=requestAnimationFrame(w),m(),()=>{var E;cancelAnimationFrame(N),p.disconnect(),l&&u.canvas.parentNode===l&&l.removeChild(u.canvas),(E=u.getExtension("WEBGL_lose_context"))==null||E.loseContext()}},[r]),a.jsx("div",{ref:i,className:"aurora-container"})}const Er=({isOpen:t,onClose:e,title:r,children:n,className:s=""})=>(b.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity",onClick:e}),a.jsxs("div",{className:`relative w-full max-w-md bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 transform transition-all animate-in fade-in zoom-in-95 duration-200 overflow-hidden flex flex-col max-h-[90vh] ${s}`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsxs("div",{className:"relative flex items-center justify-between p-6 border-b border-white/10 bg-white/[0.02]",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:r}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-lg",children:a.jsx(Mr,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"relative p-6 overflow-y-auto",children:n})]})]}):null),Kn=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Confirmar",cancelText:l="Cancelar",variant:d="primary",loading:u=!1})=>a.jsxs(Er,{isOpen:t,onClose:e,title:n,children:[a.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed",children:s}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(je,{variant:"ghost",onClick:e,disabled:u,children:l}),a.jsx(je,{variant:d==="danger"?"danger":"primary",onClick:r,disabled:u,children:u?"Processando...":i})]})]}),$r=({isOpen:t,onClose:e,title:r,message:n,buttonText:s="OK",variant:i="info"})=>{const l=()=>{if(r)return r;switch(i){case"success":return"Sucesso";case"error":return"Erro";default:return"Informao"}};return a.jsxs(Er,{isOpen:t,onClose:e,title:l(),children:[a.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed",children:n}),a.jsx("div",{className:"flex justify-end",children:a.jsx(je,{variant:"primary",onClick:e,children:s})})]})},E1=({isOpen:t,onClose:e,offerSlug:r})=>{const[n,s]=se.useState([]),[i,l]=se.useState(!1);if(se.useEffect(()=>{t&&(async()=>{l(!0);try{const v=await ce.getPublicSaaSProducts();s(v)}catch(v){console.error("Error fetching SaaS products for modal:",v)}finally{l(!1)}})()},[t]),!r)return null;const d={unlimited_domains:{title:"Licena Vitalcia",description:"Acabe com as limitaes de domnios para sempre. Pague uma vez e use sem limites em todos os seus projetos.",price:"R$ 197",features:["Domnios Ilimitados","Subdomnios Livres","SSL Automtico incluso","Atualizaes Vitalcias"],cta:"Fazer Upgrade Vitalcio",link:"https://pay.supercheckout.app/vitalicia",plan_slug:"upgrade_domains"},partner_rights:{title:"Licena Comercial / Parceiro",description:"O modelo ideal para agncias e freelancers. Instale o sistema para seus clientes e lucre com a implementao.",price:"R$ 497",features:["Direito de Uso Comercial","Instalaes p/ Clientes","Suporte Prioritrio","Painel de Gesto Multi-Licenas"],cta:"Ser Parceiro Oficial",link:"https://pay.supercheckout.app/parceiro",plan_slug:"saas"},whitelabel:{title:"Upgrade White Label Elite",description:"Remova totalmente a nossa marca e apresente o sistema como seu para seus clientes.",price:"R$ 997",features:["Tudo da Licena Comercial","Remover Marca Super Checkout","Personalizao de Logotipo","Domnio Prprio de Admin"],cta:"Ativar White Label",link:"https://pay.supercheckout.app/upgrade-whitelabel",plan_slug:"whitelabel"}},u=d[r]||d.unlimited_domains,f=n.find(x=>x.saas_plan_slug===u.plan_slug||u.plan_slug==="whitelabel"&&x.saas_plan_slug==="upgrade_domains"||u.plan_slug==="upgrade_domains"&&x.saas_plan_slug==="whitelabel"),m=(f==null?void 0:f.checkout_url)||u.link,p=f?`R$ ${f.price_real}`:u.price;return a.jsx(Er,{isOpen:t,onClose:e,title:"",children:a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("div",{className:"mb-6 flex justify-center sm:justify-start",children:a.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center text-purple-400",children:a.jsx(gs,{className:"w-6 h-6"})})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:u.title}),a.jsx("p",{className:"text-gray-400 mb-6",children:u.description}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:[a.jsx("ul",{className:"space-y-3",children:u.features.map((x,v)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-300",children:[a.jsx(ut,{className:"w-4 h-4 text-green-500"}),x]},v))}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Pagamento nico"}),a.jsx("span",{className:"text-xl font-bold text-white",children:i?"...":p})]})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(je,{onClick:()=>window.open(m,"_blank"),disabled:i,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold shadow-lg shadow-purple-500/20",children:[i?"Carregando...":u.cta," ",a.jsx(Vt,{className:"w-4 h-4 ml-2"})]}),a.jsx("button",{onClick:e,className:"text-sm text-gray-500 hover:text-white transition-colors py-2",children:"No, obrigado. Quero continuar limitado."})]})]})})},Vre=()=>{const{theme:t}=DD(),{profile:e,isWhiteLabel:r}=tr(),{entitlements:n}=_1(),[s,i]=b.useState("today"),[l,d]=b.useState(null),[u,f]=b.useState({totalRevenue:0,totalOrders:0,successfulOrders:0,abandonedCarts:0,conversionRate:0,avgTicket:0,customers:0,paymentMethods:{pix:0,card:0,boleto:0}}),[m,p]=b.useState([]),x=(N,w)=>{const E=new Date;let k;switch(w){case"today":k=new Date(E.setHours(0,0,0,0));break;case"7d":k=new Date(E.getTime()-10080*60*1e3);break;case"15d":k=new Date(E.getTime()-360*60*60*1e3);break;case"30d":k=new Date(E.getTime()-720*60*60*1e3);break;default:k=new Date(E.setHours(0,0,0,0))}return N.filter(S=>new Date(S.created_at)>=k)},v=(N,w)=>{const E=N.filter(k=>k.status===wt.PAID);if(w==="today"){const k=Array.from({length:24},(S,A)=>({name:`${A}h`,value:0}));return E.forEach(S=>{const A=new Date(S.created_at).getHours();k[A].value+=S.amount}),k}else{const k=w==="7d"?7:w==="15d"?15:30,S=Array.from({length:k},(C,O)=>({name:`Dia ${O+1}`,value:0})),A=Date.now();return E.forEach(C=>{const O=Math.floor((A-new Date(C.created_at).getTime())/864e5);O>=0&&O<k&&(S[k-1-O].value+=C.amount)}),S}};b.useEffect(()=>{(async()=>{const w=await ce.getOrders(),E=x(w,s),k=E.filter(M=>M.status===wt.PAID),S=k.reduce((M,H)=>M+H.amount,0),A=k.length,C=E.length,O=k.filter(M=>M.payment_method==="pix").length,R=k.filter(M=>M.payment_method==="credit_card").length,L=k.filter(M=>M.payment_method==="boleto").length,$=new Set(E.map(M=>M.customer_email)).size;f({totalRevenue:S,totalOrders:C,successfulOrders:A,abandonedCarts:C-A,conversionRate:C>0?A/C*100:0,avgTicket:A>0?S/A:0,customers:$,paymentMethods:{pix:O,card:R,boleto:L}}),p(v(E,s))})()},[s]);const y=({label:N,value:w})=>a.jsx("button",{onClick:()=>i(w),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${s===w?"bg-primary text-white shadow-[0_0_15px_rgba(138,43,226,0.5)] border border-primary":"bg-white border-gray-200 text-gray-500 hover:text-gray-900 hover:bg-gray-50 dark:bg-white/5 dark:text-gray-400 dark:border-white/5 dark:hover:border-white/20 dark:hover:text-white"}`,children:N});return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Viso geral do seu negcio em tempo real."})]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0",children:[a.jsx(y,{label:"Hoje",value:"today"}),a.jsx(y,{label:"7 dias",value:"7d"}),a.jsx(y,{label:"15 dias",value:"15d"}),a.jsx(y,{label:"30 dias",value:"30d"})]})]}),!r&&(e==null?void 0:e.role)==="admin"&&(n==null?void 0:n.partner_status)==="none"&&a.jsx("div",{className:"mb-8 relative overflow-hidden rounded-3xl bg-gradient-to-r from-orange-500 via-amber-500 to-yellow-500 p-[1px] shadow-lg shadow-orange-500/20 group",children:a.jsxs("div",{className:"relative bg-[#0A0A0F] rounded-[23px] overflow-hidden p-6 md:p-8",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-orange-500/10 rounded-full blur-3xl -mr-32 -mt-32 transition-transform duration-1000 group-hover:scale-110"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-yellow-500/5 rounded-full blur-3xl -ml-24 -mb-24"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-400 to-yellow-600 flex items-center justify-center shadow-lg shadow-orange-500/40 shrink-0",children:a.jsx(Ji,{className:"w-8 h-8 text-white animate-pulse"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl md:text-2xl font-black text-white leading-tight",children:["Desbloqueie o Poder Total do ",a.jsx("span",{className:"text-orange-400",children:"Super Checkout"})]}),a.jsx("p",{className:"text-gray-400 text-sm md:text-base mt-2 max-w-xl",children:"Voc est no plano gratuito. Faa o upgrade agora para ter domnios ilimitados, remover nossa marca e comear a escalar suas vendas sem limites."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[a.jsxs(je,{onClick:()=>d("unlimited_domains"),className:"w-full sm:w-auto px-8 py-4 bg-orange-500 hover:bg-orange-600 text-white font-bold text-lg rounded-2xl border-none shadow-xl shadow-orange-500/20 flex items-center gap-2 transform transition-all active:scale-95",children:[a.jsx(gs,{className:"w-5 h-5 fill-current"}),"Upgrade Vitalcio"]}),a.jsxs("button",{onClick:()=>d("partner_rights"),className:"text-gray-400 hover:text-white font-medium text-sm transition-colors flex items-center gap-1 group/btn",children:["Ver Planos de Parceiro",a.jsx(Vt,{className:"w-4 h-4 transition-transform group-hover/btn:translate-x-1"})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"lg:col-span-3 flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(De,{className:"relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx(zs,{colorStops:["#8A2BE2","#6A1BB2","#8A2BE2"],amplitude:.8,blend:.6,speed:.5})}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:a.jsx(Mm,{className:"w-24 h-24 text-primary"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/20 text-primary border border-primary/20",children:a.jsx($m,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"Vendas realizadas"})]}),a.jsxs("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-4",children:["R$ ",u.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),a.jsxs(De,{className:"relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx(zs,{colorStops:["#8A2BE2","#6A1BB2","#8A2BE2"],amplitude:.8,blend:.6,speed:.5})}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:a.jsx(gr,{className:"w-24 h-24 text-blue-500"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400 border border-blue-500/20",children:a.jsx(Kd,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"Quantidade de vendas"})]}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-4",children:u.successfulOrders})]})]})]}),a.jsxs(De,{className:"relative overflow-hidden flex-1 min-h-[180px] flex flex-col justify-center",children:[a.jsx("div",{className:"absolute inset-0 opacity-20",children:a.jsx(zs,{colorStops:["#10B981","#059669","#10B981"],amplitude:.6,blend:.7,speed:.4})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:"Meios de Pagamento"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Converso"})]}),u.successfulOrders>0?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Lm,{className:"w-5 h-5 text-[#10B981]"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Pix"})]}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:u.paymentMethods.pix})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ao,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Carto"})]}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:u.paymentMethods.card})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vy,{className:"w-5 h-5 text-orange-400"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Boleto"})]}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:u.paymentMethods.boleto})]})]}):a.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:a.jsx("p",{children:"Nenhuma venda encontrada para este perodo"})})]})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(De,{className:"relative overflow-hidden h-full flex flex-col",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx(zs,{colorStops:["#8A2BE2","#6A1BB2","#8A2BE2"],amplitude:.8,blend:.6,speed:.5})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-gray-900 dark:text-white font-bold mb-6",children:"Performance"}),a.jsxs("div",{className:"flex-1 flex flex-col justify-between gap-4",children:[a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Abandono C."}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.abandonedCarts})]}),a.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Taxa Converso"}),a.jsx($m,{className:"w-4 h-4 text-green-500"})]}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[u.conversionRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Ticket Mdio"}),a.jsx(Mm,{className:"w-4 h-4 text-primary"})]}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",u.avgTicket.toFixed(2)]})]}),a.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Clientes"}),a.jsx(jr,{className:"w-4 h-4 text-blue-400"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.customers})]})]})]})]})})]}),a.jsx("div",{className:"w-full h-72",children:a.jsxs(De,{className:"relative overflow-hidden h-full",noPadding:!0,children:[a.jsx("div",{className:"absolute inset-0 opacity-25",children:a.jsx(zs,{colorStops:["#8A2BE2","#6A1BB2","#8A2BE2"],amplitude:.8,blend:.6,speed:.5})}),a.jsx("div",{className:"relative z-10 p-6 pb-0 flex justify-between items-center",children:a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Volume de Vendas"})}),a.jsx("div",{className:"relative z-10 w-full h-[220px] px-2",children:a.jsx(kz,{width:"100%",height:"100%",children:a.jsxs($Q,{data:m,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#8A2BE2",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#8A2BE2",stopOpacity:0})]})}),a.jsx(tD,{strokeDasharray:"3 3",vertical:!1,stroke:t==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}),a.jsx(dD,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:t==="dark"?"#6B7280":"#9CA3AF",fontSize:12},dy:10}),a.jsx(uD,{axisLine:!1,tickLine:!1,tick:{fill:t==="dark"?"#6B7280":"#9CA3AF",fontSize:12},tickFormatter:N=>`R$${(N/1e3).toFixed(1)} k`}),a.jsx(sW,{contentStyle:{backgroundColor:t==="dark"?"#161A23":"#FFFFFF",borderRadius:"12px",border:t==="dark"?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(0,0,0,0.1)",boxShadow:"0 4px 20px -2px rgba(0, 0, 0, 0.5)",color:t==="dark"?"#fff":"#000"},itemStyle:{color:t==="dark"?"#fff":"#000"},cursor:{stroke:"rgba(138, 43, 226, 0.5)",strokeWidth:1},formatter:N=>[`R$ ${N.toFixed(2)} `,"Vendas"]}),a.jsx(cD,{type:"monotone",dataKey:"value",stroke:"#8A2BE2",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)",activeDot:{r:6,strokeWidth:0,fill:"#fff",shadow:"0 0 10px #8A2BE2"}})]})})})]})}),a.jsx(E1,{isOpen:!!l,onClose:()=>d(null),offerSlug:l})]})},Dt=({children:t})=>{const{user:e,profile:r,account:n,compliance:s,loading:i}=tr();if(Da(),i)return a.jsx(Qm,{});if(!e)return a.jsx(Rf,{to:"/login",replace:!0});const d=e.email==="contato.jeandamin@gmail.com";return(r==null?void 0:r.role)==="admin"||d?a.jsx(a.Fragment,{children:t}):!r&&!d?a.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-[#05050A] text-white",children:[a.jsx("p",{className:"text-gray-400",children:"No foi possvel carregar suas permisses."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-purple-600 rounded",children:"Tentar Novamente"}),a.jsxs("p",{className:"text-xs text-gray-600 mt-4 font-mono",children:["UID: ",e==null?void 0:e.id]})]}):a.jsxs("div",{className:"min-h-screen bg-[#05050A] flex flex-col items-center justify-center text-white p-6 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Acesso Negado"}),a.jsx("p",{className:"text-gray-400 max-w-md mb-6",children:"Sua conta no possui permisso para acessar o Painel Administrativo."}),a.jsx("button",{onClick:()=>window.history.back(),className:"mt-8 px-6 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:"Voltar"})]})},S1=({isOpen:t,onClose:e})=>a.jsx(Er,{isOpen:t,onClose:e,title:a.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[a.jsx(la,{className:"w-5 h-5"}),a.jsx("span",{children:"Configurao Obrigatria"})]}),children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-600 to-yellow-500 p-6 rounded-2xl text-white shadow-lg relative overflow-hidden group",children:[a.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-white/10 blur-2xl rounded-full group-hover:scale-110 transition-transform duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-3",children:[a.jsx("div",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm border border-white/30",children:a.jsx(wy,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-bold",children:"Identidade do seu Negcio"}),a.jsx("p",{className:"text-sm text-orange-50/90 leading-relaxed font-medium",children:"Ateno: Configure os dados do seu negcio para ativar seus checkouts e envios de e-mail."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed",children:["Para garantir a segurana das suas vendas e o funcionamento correto dos e-mails automticos, voc precisa definir o ",a.jsx("strong",{children:"Nome do Negcio"})," e o ",a.jsx("strong",{children:"E-mail de Suporte"}),"."]}),a.jsxs("div",{className:"bg-[#0F0F13] border border-white/5 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 mt-1.5 shrink-0"}),a.jsx("p",{className:"text-xs text-gray-300",children:"Essas informaes aparecero no rodap dos seus checkouts."})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 mt-1.5 shrink-0"}),a.jsx("p",{className:"text-xs text-gray-300",children:"O e-mail de suporte ser o remetente oficial para seus clientes."})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[a.jsx(je,{variant:"ghost",onClick:e,className:"flex-1 border-white/5 hover:bg-white/5",children:"Agora no"}),a.jsxs("a",{href:"/admin/business-settings",className:"flex-[2] bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-orange-600/20",children:["Configurar Agora ",a.jsx(Vt,{className:"w-4 h-4"})]})]})]})}),pA={name:"",description:"",imageUrl:"",price_real:0,price_fake:0,sku:"",category:"",redirect_link:"",is_order_bump:!1,is_upsell:!1,active:!0,member_area_action:"checkout",member_area_checkout_id:"",saas_plan_slug:"",member_area_id:null},Yre=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState("grid"),{profile:l,compliance:d}=tr(),[u,f]=b.useState(!1),[m,p]=b.useState(null),[x,v]=b.useState(null),[y,N]=b.useState(pA),[w,E]=b.useState(!1),k=b.useRef(null),[S,A]=b.useState([]),[C,O]=b.useState([]),[R,L]=b.useState([]),[$,M]=b.useState([]),[H,q]=b.useState(null),[F,X]=b.useState(!1),[ue,B]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),I=(Z,te,Oe="info")=>{B({isOpen:!0,title:Z,message:te,variant:Oe})},z=()=>{B(Z=>({...Z,isOpen:!1}))},[oe,K]=b.useState(""),[D,U]=b.useState(1),W=9;b.useEffect(()=>{ve()},[]),b.useEffect(()=>{U(1)},[oe]);const[re,he]=b.useState(null),J=Z=>{navigator.clipboard.writeText(Z),he(Z),setTimeout(()=>he(null),2e3)},ve=async()=>{n(!0);const Z=await ce.getProducts();e(Z);const te=await ce.getContents();A(te);const Oe=await ce.getCheckouts();L(Oe);const He=await ce.getMemberAreas();M(He),n(!1)},Te=async Z=>{Z.preventDefault(),n(!0);try{if(m){const te={id:m,...y};await ce.updateProduct(te)}else await ce.createProduct({id:x,...y});x&&await ce.setProductContents(x,C),await ve(),i("grid"),p(null),v(null)}catch(te){console.error("Error saving product:",te);const Oe=te instanceof Error?te.message:JSON.stringify(te);I("Erro ao Salvar",Oe,"error")}finally{n(!1)}},ae=Z=>{q(Z)},Ae=async()=>{if(H)try{X(!0),await ce.deleteProduct(H),await ve(),q(null),I("Sucesso","Produto excludo com sucesso.","success")}catch(Z){console.error("Error deleting product:",Z),I("Erro","Erro ao excluir produto.","error")}finally{X(!1)}},Ce=async Z=>{if(Z.target.files&&Z.target.files[0]){const te=Z.target.files[0];try{if(E(!0),!x)throw new Error("No product ID available");const Oe=await ce.uploadProductImage(te,x);N({...y,imageUrl:Oe})}catch(Oe){console.error("Error uploading image:",Oe),I("Erro","Erro ao fazer upload da imagem.","error")}finally{E(!1)}}},ge=Z=>{if(Z)p(Z.id),v(Z.id),N({name:Z.name,description:Z.description,imageUrl:Z.imageUrl||"",price_real:Z.price_real||0,price_fake:Z.price_fake||0,sku:Z.sku||"",category:Z.category||"",redirect_link:Z.redirect_link||"",is_order_bump:Z.is_order_bump||!1,is_upsell:Z.is_upsell||!1,active:Z.active,member_area_action:Z.member_area_action||"checkout",member_area_checkout_id:Z.member_area_checkout_id||"",saas_plan_slug:Z.saas_plan_slug||"",member_area_id:Z.member_area_id||null}),ce.getProductContents(Z.id).then(te=>O(te));else{p(null);const te=crypto.randomUUID();v(te),N(pA),O([])}i("edit")},Y=Z=>{if(!(d!=null&&d.is_ready)){f(!0);return}Z()},me=()=>{const Z=t.filter(Re=>Re.name.toLowerCase().includes(oe.toLowerCase())||Re.category&&Re.category.toLowerCase().includes(oe.toLowerCase())),te=Math.ceil(Z.length/W),Oe=(D-1)*W,He=Z.slice(Oe,Oe+W);return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Meus Produtos"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie seu catlogo digital."})]}),a.jsxs(je,{onClick:()=>Y(()=>ge()),className:"shadow-xl shadow-primary/20",children:[a.jsx(pr,{className:"w-4 h-4"})," Criar Novo Produto"]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, categoria ou preo...",value:oe,onChange:Re=>K(Re.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-500"})]})}),r?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(Re=>a.jsx(De,{className:"h-[420px] animate-pulse",children:a.jsx("div",{})},Re))}):t.length===0?a.jsxs(De,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ca,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum produto cadastrado"}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx(je,{onClick:()=>ge(),children:"Criar Produto"})})]}):Z.length===0?a.jsxs(De,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vn,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum produto encontrado"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Tente buscar com outros termos"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:He.map(Re=>{var Se;return a.jsx(De,{className:"group relative flex flex-col hover:-translate-y-1 transition-all",noPadding:!0,children:a.jsxs("div",{className:"p-5 flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-1",children:Re.name}),a.jsxs("button",{onClick:()=>J(Re.id),className:"flex items-center gap-1.5 text-[10px] text-gray-500 hover:text-primary transition-colors w-fit",title:"Copiar ID do Produto",children:[re===Re.id?a.jsx(pt,{className:"w-3 h-3"}):a.jsx(Pt,{className:"w-3 h-3"}),a.jsx("span",{className:"truncate max-w-[120px]",children:Re.id})]})]}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full border ${Re.active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:Re.active?"Ativo":"Inativo"})]}),Re.category&&a.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-md mb-3 inline-block self-start",children:Re.category}),a.jsx("div",{className:"w-full h-48 rounded-xl overflow-hidden bg-white/5 relative mb-4 border border-white/5",children:Re.imageUrl?a.jsx("img",{src:Re.imageUrl,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Lu,{className:"w-8 h-8 text-gray-600"})})}),a.jsxs("div",{className:"flex items-center justify-between mb-6 mt-auto pt-4 border-t border-white/5",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Preo"}),a.jsxs("span",{className:"text-lg font-bold text-white",children:["R$ ",(Se=Re.price_real)==null?void 0:Se.toFixed(2)]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>ge(Re),className:"flex-1 bg-white/5 hover:bg-white/10 text-gray-300 py-2.5 rounded-xl text-sm font-medium border border-white/5",children:[a.jsx(Ko,{className:"w-4 h-4 inline mr-2"})," Editar"]}),a.jsx("button",{onClick:()=>ae(Re.id),className:"w-12 bg-red-500/10 text-red-400 rounded-xl flex items-center justify-center border border-red-500/10",children:a.jsx(Pr,{className:"w-4 h-4"})})]}),(Re.is_order_bump||Re.is_upsell)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full h-px bg-white/5 my-3"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Re.is_order_bump&&a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-white/5 px-2.5 py-1.5 rounded-lg border border-white/10",children:[a.jsx(Ca,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"Order bump"})]}),Re.is_upsell&&a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-white/5 px-2.5 py-1.5 rounded-lg border border-white/10",children:[a.jsx(Vt,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"Upsell"})]})]})]})]})},Re.id)})}),te>1&&a.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[a.jsx("button",{onClick:()=>U(Re=>Math.max(1,Re-1)),disabled:D===1,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Anterior"}),a.jsxs("span",{className:"text-gray-400 text-sm",children:["Pgina ",D," de ",te]}),a.jsx("button",{onClick:()=>U(Re=>Math.min(te,Re+1)),disabled:D===te,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Prxima"})]})]})]})},ke=()=>a.jsxs("div",{className:"animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>i("grid"),className:"p-2 rounded-full bg-white/5 border border-white/10",children:a.jsx(Lc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:m?"Editar Produto":"Novo Produto"}),m&&a.jsxs("button",{onClick:()=>J(m),className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-primary transition-colors",children:[re===m?a.jsx(pt,{className:"w-3 h-3"}):a.jsx(Pt,{className:"w-3 h-3"}),"ID: ",m]})]})]}),a.jsxs(je,{onClick:Te,isLoading:r,children:[a.jsx(Gn,{className:"w-4 h-4"})," Salvar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1 space-y-6",children:a.jsxs(De,{children:[a.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Imagem"}),a.jsx("div",{className:"relative w-full aspect-square rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden mb-4 group",children:y.imageUrl?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:y.imageUrl,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs(je,{variant:"secondary",size:"sm",onClick:()=>{var Z;return(Z=k.current)==null?void 0:Z.click()},children:[a.jsx(ia,{className:"w-4 h-4 mr-2"})," Trocar"]})})]}):a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var Z;return(Z=k.current)==null?void 0:Z.click()},children:[a.jsx(ia,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsx("span",{className:"text-xs text-gray-400",children:w?"Enviando...":"Clique para upload"})]})}),a.jsx("input",{type:"file",ref:k,className:"hidden",accept:"image/*",onChange:Ce}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Ou cole uma URL externa:"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-500",placeholder:"https://...",value:y.imageUrl,onChange:Z=>N({...y,imageUrl:Z.target.value})})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(De,{children:a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Nome"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"Nome do produto",value:y.name,onChange:Z=>N({...y,name:Z.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Categoria"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"Ex: Marketing, Design, Cursos...",value:y.category,onChange:Z=>N({...y,category:Z.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Preo Real"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"0.00",value:y.price_real,onChange:Z=>N({...y,price_real:parseFloat(Z.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Preo Fictcio"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"0.00",value:y.price_fake,onChange:Z=>N({...y,price_fake:parseFloat(Z.target.value)})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Descrio"}),a.jsx("textarea",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",rows:4,placeholder:"Descreva seu produto...",value:y.description,onChange:Z=>N({...y,description:Z.target.value})})]}),(l==null?void 0:l.role)==="owner"&&a.jsxs("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-4 mt-2",children:[a.jsxs("label",{className:"block text-sm font-bold text-primary mb-2 flex items-center gap-2",children:[a.jsx(pt,{className:"w-4 h-4"})," Mapeamento SaaS (Opcional)"]}),a.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50 transition-all [&>option]:bg-gray-900",value:y.saas_plan_slug,onChange:Z=>N({...y,saas_plan_slug:Z.target.value}),children:[a.jsx("option",{value:"",children:"No  um plano SaaS"}),a.jsx("option",{value:"upgrade_domains",children:"Upgrade Domnios Ilimitados (1 Instalao)"}),a.jsx("option",{value:"saas",children:"Licena de Uso Comercial / Parceiro"}),a.jsx("option",{value:"whitelabel",children:"Plano Whitelabel / Agncia Master"})]}),a.jsx("p",{className:"text-[10px] text-gray-500 mt-2 italic",children:"* Se selecionado, o sistema criar a licena comercial automaticamente aps a venda."})]})]})}),a.jsxs(De,{children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Ca,{className:"w-5 h-5 text-primary"}),"Configuraes de Venda"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"Produto Ativo"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Exibir este produto no catlogo e permitir vendas."})]}),a.jsx("button",{onClick:()=>N({...y,active:!y.active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.active?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.active?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"Order Bump"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Oferta complementar exibida dentro do checkout."})]}),a.jsx("button",{onClick:()=>N({...y,is_order_bump:!y.is_order_bump}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.is_order_bump?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.is_order_bump?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"Upsell (One Click)"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Oferta apresentada imediatamente aps a compra."})]}),a.jsx("button",{onClick:()=>N({...y,is_upsell:!y.is_upsell}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.is_upsell?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.is_upsell?"translate-x-6":"translate-x-1"}`})})]})]})]}),a.jsxs(De,{children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Ca,{className:"w-5 h-5 text-primary"}),"Configurao da rea de Membros"]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Ao ao Clicar (para quem no comprou)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${y.member_area_action==="checkout"||!y.member_area_action?"bg-primary/10 border-primary":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[a.jsx("input",{type:"radio",name:"member_area_action",className:"hidden",checked:y.member_area_action==="checkout"||!y.member_area_action,onChange:()=>N({...y,member_area_action:"checkout"})}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-400 flex items-center justify-center",children:(y.member_area_action==="checkout"||!y.member_area_action)&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:"Direcionar para Checkout"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Envia o usurio direto para o link de pagamento."})]})]}),a.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${y.member_area_action==="sales_page"?"bg-primary/10 border-primary":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[a.jsx("input",{type:"radio",name:"member_area_action",className:"hidden",checked:y.member_area_action==="sales_page",onChange:()=>N({...y,member_area_action:"sales_page"})}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-400 flex items-center justify-center",children:y.member_area_action==="sales_page"&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:"Pgina de Vendas Interna"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Abre um modal com detalhes do produto antes da compra."})]})]})]}),(y.member_area_action==="checkout"||!y.member_area_action)&&a.jsxs("div",{className:"mt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Selecione o Checkout"}),a.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all [&>option]:bg-gray-900 [&>option]:text-white",value:y.member_area_checkout_id,onChange:Z=>N({...y,member_area_checkout_id:Z.target.value}),children:[a.jsx("option",{value:"",className:"bg-gray-900 text-gray-400",children:" Nenhum checkout vinculado"}),R.map(Z=>a.jsxs("option",{value:Z.id,className:"bg-gray-900 text-white",children:[Z.name," (",Z.custom_url_slug,")"]},Z.id))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:y.member_area_checkout_id?" O usurio ser redirecionado para este checkout especfico.":" Nenhum checkout vinculado. Selecione um para ativar o redirecionamento."})]})]})})]}),a.jsxs(De,{children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Ca,{className:"w-5 h-5 text-primary"}),"Entrega Automtica (rea de Membros)"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Selecione o contedo que ser liberado aps a compra:"}),a.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-4 mb-4",children:[a.jsxs("label",{className:"block text-sm font-bold text-white mb-2 flex items-center gap-2",children:[a.jsx(Ca,{className:"w-4 h-4 text-primary"}),"rea de Membros Principal"]}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Define qual rea de membros este produto pertence (usado para gerar links de e-mail corretos)."}),a.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50 transition-all [&>option]:bg-gray-900",value:y.member_area_id||"",onChange:Z=>N({...y,member_area_id:Z.target.value||null}),children:[a.jsx("option",{value:"",children:"Nenhuma vinculada"}),$.map(Z=>a.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:S.length===0?a.jsx("div",{className:"text-sm text-gray-500 italic",children:'Nenhum contedo cadastrado. Crie em "Contedos".'}):S.map(Z=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/5 bg-white/5 cursor-pointer hover:bg-white/10 transition-colors",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary focus:ring-primary bg-black/20",checked:C.includes(Z.id),onChange:te=>{te.target.checked?O([...C,Z.id]):O(C.filter(Oe=>Oe!==Z.id))}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-white",children:Z.title}),a.jsx("div",{className:"text-xs text-gray-400 capitalize",children:Z.type})]})]},Z.id))})]})]})]})]})]});return a.jsxs(Nt,{children:[s==="grid"?me():ke(),a.jsx(Kn,{isOpen:!!H,onClose:()=>q(null),onConfirm:Ae,title:"Excluir Produto",message:"Tem certeza que deseja excluir este produto? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:F}),a.jsx($r,{isOpen:ue.isOpen,onClose:z,title:ue.title,message:ue.message,variant:ue.variant}),a.jsx(S1,{isOpen:u,onClose:()=>f(!1)})]})},Wre=()=>{const[t,e]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,f]=b.useState(!1),[m,p]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),x=(S,A,C="info")=>{p({isOpen:!0,title:S,message:A,variant:C})},v=()=>{p(S=>({...S,isOpen:!1}))},[y,N]=b.useState({name:"",product_id:"",price:0,payment_type:Ui.ONE_TIME,recurrence_type:Ql.NONE});b.useEffect(()=>{(async()=>{e(await ce.getOffers()),n(await ce.getProducts())})()},[]);const w=async S=>{S.preventDefault();try{await ce.createOffer({active:!0,...y}),e(await ce.getOffers()),i(!1),N({name:"",product_id:"",price:0,payment_type:Ui.ONE_TIME,recurrence_type:Ql.NONE}),x("Sucesso","Oferta criada com sucesso!","success")}catch(A){console.error("Error creating offer:",A),x("Erro","Erro ao criar oferta.","error")}},E=S=>{d(S)},k=async()=>{if(l)try{f(!0),await ce.deleteOffer(l),e(await ce.getOffers()),d(null),x("Sucesso","Oferta excluda com sucesso.","success")}catch(S){console.error(S),x("Erro","Erro ao excluir oferta.","error")}finally{f(!1)}};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ofertas"}),a.jsx("p",{className:"text-gray-500 dark:text-dark-text text-sm mt-1",children:"Crie planos de preos para seus produtos."})]}),a.jsxs(je,{onClick:()=>i(!0),children:[a.jsx(pr,{className:"w-4 h-4"})," Nova Oferta"]})]}),a.jsxs(De,{noPadding:!0,className:"overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-dark-bg border-b border-gray-200 dark:border-dark-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Nome da Oferta"}),a.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Produto"}),a.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Preo"}),a.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400",children:"Tipo de Cobrana"}),a.jsx("th",{className:"px-6 py-4 font-medium text-gray-500 dark:text-gray-400 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:t.map(S=>{const A=r.find(C=>C.id===S.product_id);return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-purple-500/10 text-purple-500 flex items-center justify-center",children:a.jsx(TD,{className:"w-4 h-4"})}),S.name]})}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:(A==null?void 0:A.name)||"Produto Desconhecido"}),a.jsxs("td",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white",children:["R$ ",S.price.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${S.payment_type===Ui.RECURRING?"bg-blue-500/10 text-blue-500 border border-blue-500/20":"bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300"}`,children:S.payment_type===Ui.RECURRING?`Assinatura ${S.recurrence_type===Ql.MONTHLY?"Mensal":"Anual"}`:"nica"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>E(S.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})})})]},S.id)})})]})}),t.length===0&&a.jsx("div",{className:"p-12 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma oferta criada ainda."})})]}),a.jsx(Er,{isOpen:s,onClose:()=>i(!1),title:"Criar Oferta",children:a.jsxs("form",{onSubmit:w,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Nome da Oferta"}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:y.name,onChange:S=>N({...y,name:S.target.value}),placeholder:"Ex: Especial Black Friday"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Produto"}),a.jsxs("select",{required:!0,className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:y.product_id,onChange:S=>N({...y,product_id:S.target.value}),children:[a.jsx("option",{value:"",children:"-- Selecione o Produto --"}),r.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Preo (R$)"}),a.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:y.price,onChange:S=>N({...y,price:parseFloat(S.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Tipo"}),a.jsxs("select",{className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:y.payment_type,onChange:S=>N({...y,payment_type:S.target.value}),children:[a.jsx("option",{value:Ui.ONE_TIME,children:"nica"}),a.jsx("option",{value:Ui.RECURRING,children:"Assinatura"})]})]})]}),y.payment_type===Ui.RECURRING&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Frequncia"}),a.jsxs("select",{className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none dark:text-white",value:y.recurrence_type,onChange:S=>N({...y,recurrence_type:S.target.value}),children:[a.jsx("option",{value:Ql.MONTHLY,children:"Mensal"}),a.jsx("option",{value:Ql.YEARLY,children:"Anual"})]})]}),a.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[a.jsx(je,{type:"button",variant:"ghost",onClick:()=>i(!1),children:"Cancelar"}),a.jsx(je,{type:"submit",children:"Criar Oferta"})]})]})}),a.jsx(Kn,{isOpen:!!l,onClose:()=>d(null),onConfirm:k,title:"Excluir Oferta",message:"Tem certeza que deseja excluir esta oferta?",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:u}),a.jsx($r,{isOpen:m.isOpen,onClose:v,title:m.title,message:m.message,variant:m.variant})]})},Xre=()=>{const t=gt(),[e,r]=b.useState([]),[n,s]=b.useState([]),[i,l]=b.useState([]),[d,u]=b.useState([]),[f,m]=b.useState(!0),[p,x]=b.useState(null),[v,y]=b.useState(!1),[N,w]=b.useState(null),[E,k]=b.useState(null),[S,A]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),C=(I,z,oe="info")=>{A({isOpen:!0,title:I,message:z,variant:oe})},O=()=>{A(I=>({...I,isOpen:!1}))};b.useEffect(()=>{R()},[]);const R=async()=>{m(!0);try{const[I,z,oe,K]=await Promise.all([ce.getCheckouts(),ce.getProducts(),ce.getGateways(),ce.getDomains()]);r(I),s(z),l(oe),u(K)}catch(I){console.error("Error loading data:",I)}finally{m(!1)}},L=async I=>{w(I);try{const z=await ce.getCheckoutUsage(I);z.products.length>0||z.domains.length>0?k(z):x(I)}catch(z){console.error("Error checking checkout usage:",z),C("Erro","Erro ao verificar uso do checkout","error")}finally{w(null)}},$=async()=>{if(p)try{y(!0),await ce.deleteCheckout(p),await R(),x(null),C("Sucesso","Checkout excludo com sucesso","success")}catch(I){console.error("Error deleting checkout:",I),C("Erro","Erro ao excluir checkout.","error")}finally{y(!1)}},M=I=>{const z=n.find(oe=>oe.id===I);return z?z.name:"Produto no encontrado"},H=I=>{if(!I)return a.jsx("span",{className:"text-gray-600 italic",children:"Sem domnio"});const z=d.find(oe=>oe.id===I);return z?a.jsx("span",{className:"bg-white/5 px-3 py-1 rounded text-gray-300 text-sm border border-white/5",children:z.domain}):a.jsx("span",{className:"text-gray-600 italic",children:"Domnio removido"})},q=I=>{const z=i.find(oe=>oe.id===I);return z?a.jsx("span",{className:"bg-white/5 px-3 py-1 rounded text-gray-300 text-xs uppercase border border-white/5 font-medium tracking-wide",children:z.name.replace("_"," ")}):a.jsx("span",{className:"text-red-400 text-xs",children:"Gateway removido"})},{compliance:F}=tr(),[X,ue]=b.useState(!1),B=I=>{if((F==null?void 0:F.status)!=="verified"){ue(!0);return}I()};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Meus Checkouts"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Gerencie seus links de pagamento."})]}),a.jsxs(je,{onClick:()=>B(()=>t("/admin/checkouts/edit/new")),className:"shadow-lg shadow-primary/20",children:[a.jsx(pr,{className:"w-4 h-4"})," Novo Checkout"]})]}),a.jsx(De,{noPadding:!0,className:"overflow-hidden border border-gray-200 dark:border-white/5 bg-white dark:bg-[#0A0A0B]",children:f?a.jsx("div",{className:"p-12 text-center text-gray-500 animate-pulse",children:"Carregando checkouts..."}):e.length===0?a.jsxs("div",{className:"p-16 text-center flex flex-col items-center justify-center",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4",children:a.jsx(gr,{className:"w-8 h-8 text-gray-600"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhum checkout criado"}),a.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Crie seu primeiro checkout para comear a vender."}),a.jsx(je,{onClick:()=>t("/admin/checkouts/edit/new"),children:"Criar Checkout"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[#0F0F12] border-b border-white/5 text-gray-400 font-medium",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-5 w-[30%]",children:"Checkout / Produto"}),a.jsx("th",{className:"px-6 py-5",children:"Domnio"}),a.jsx("th",{className:"px-6 py-5",children:"Gateway"}),a.jsx("th",{className:"px-6 py-5 text-center",children:"Order Bumps"}),a.jsx("th",{className:"px-6 py-5",children:"Status"}),a.jsx("th",{className:"px-6 py-5 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:e.map(I=>a.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("span",{className:"text-white font-bold text-[15px]",children:I.name}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs",children:[a.jsx(gr,{className:"w-3 h-3"}),a.jsx("span",{children:M(I.product_id)})]})]})}),a.jsx("td",{className:"px-6 py-5",children:H(I.domain_id)}),a.jsx("td",{className:"px-6 py-5",children:q(I.gateway_id)}),a.jsx("td",{className:"px-6 py-5 text-center",children:I.order_bump_ids&&I.order_bump_ids.length>0?a.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-orange-500/10 text-orange-500 text-xs font-bold border border-orange-500/20",children:I.order_bump_ids.length}):a.jsx("span",{className:"text-gray-600",children:"-"})}),a.jsx("td",{className:"px-6 py-5",children:I.active?a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-500/10 text-green-400 text-xs font-medium border border-green-500/10",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400"})," Ativo"]}):a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-gray-500/10 text-gray-400 text-xs font-medium border border-gray-500/10",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"})," Inativo"]})}),a.jsx("td",{className:"px-6 py-5 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2 opacity-100 sm:opacity-60 sm:group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>t(`/admin/checkouts/edit/${I.id}`),className:"p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-blue-400 border border-blue-500/10 transition-colors",title:"Editar",children:a.jsx(Ko,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>L(I.id),disabled:N===I.id,className:"p-2 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-red-400 border border-red-500/10 transition-colors disabled:opacity-50",title:"Excluir",children:N===I.id?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(Pr,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{const z=d.find(U=>U.id===I.domain_id),oe=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",D=`${z&&!oe?`https://${z.domain}`:window.location.origin+"/c"}/${I.custom_url_slug}`;navigator.clipboard.writeText(D),C("Sucesso","Link copiado: "+D,"success")},className:"p-2 bg-gray-500/10 hover:bg-gray-500/20 rounded-lg text-gray-400 border border-gray-500/10 transition-colors",title:"Copiar Link",children:a.jsx(Pt,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{const z=d.find(U=>U.id===I.domain_id),oe=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",D=`${z&&!oe?`https://${z.domain}`:window.location.origin+"/c"}/${I.custom_url_slug}`;window.open(D,"_blank")},className:"p-2 bg-purple-500/10 hover:bg-purple-500/20 rounded-lg text-purple-400 border border-purple-500/10 transition-colors",title:"Visualizar em nova aba",children:a.jsx(yc,{className:"w-4 h-4"})})]})})]},I.id))})]})})}),a.jsx(Kn,{isOpen:!!p,onClose:()=>x(null),onConfirm:$,title:"Excluir Checkout",message:"Tem certeza que deseja excluir este checkout? Esta ao no pode ser desfeita e o link de pagamento deixar de funcionar.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:v}),a.jsx($r,{isOpen:S.isOpen,onClose:O,title:S.title,message:S.message,variant:S.variant}),a.jsx(Er,{isOpen:!!E,onClose:()=>k(null),title:"Checkout em Uso",className:"max-w-md",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex items-start gap-3",children:[a.jsx(la,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-yellow-500 font-bold text-sm mb-1",children:"No  possvel excluir"}),a.jsx("p",{className:"text-yellow-200/80 text-xs",children:"Este checkout est vinculado aos seguintes itens. Remova os vnculos antes de excluir."})]})]}),a.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-xl overflow-hidden",children:[(E==null?void 0:E.products.length)>0&&a.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Produtos"}),a.jsx("ul",{className:"space-y-1",children:E.products.map(I=>a.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),I.name]},I.id))})]}),(E==null?void 0:E.domains.length)>0&&a.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Domnios"}),a.jsx("ul",{className:"space-y-1",children:E.domains.map(I=>a.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),I.domain]},I.id))})]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(je,{onClick:()=>k(null),children:"Entendi"})})]})}),a.jsx(Er,{isOpen:X,onClose:()=>ue(!1),title:"Identidade Obrigatria",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex items-start gap-3",children:[a.jsx(la,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-yellow-500 font-bold text-sm mb-1",children:"Configure seu Negcio"}),a.jsx("p",{className:"text-yellow-200/80 text-xs",children:"Para criar checkouts e vender, voc precisa definir a identidade do seu negcio (Nome e Email de Suporte). Isso garante a segurana dos seus clientes."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(je,{variant:"ghost",onClick:()=>ue(!1),children:"Cancelar"}),a.jsx("a",{href:"/admin/business-settings",className:"bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2",children:"Configurar Agora"})]})]})})]})},gA={fields:{name:!0,email:!0,phone:!0,cpf:!0},payment_methods:{pix:!0,credit_card:!0,boleto:!0},timer:{active:!1,minutes:15,bg_color:"#EF4444",text_color:"#FFFFFF"},header_image:"",upsell:{active:!1,product_id:"",show_title:!0,show_subtitle:!0,show_description:!0,show_media:!0,media_type:"video",button_text:"Sim, quero adicionar ao meu pedido"}},Kre=()=>{var Z,te,Oe,He,Re,Se,Ne,Ie,Ee,xe,Pe,tt,Ve,rt,Ze,rr,Br,sn,Kt,ea,Wt,ft,ca,zr,La,vs,Zn,Ua,Ke,Ct,ar,xr,kn,Rt;const{compliance:t}=tr(),{id:e}=Ia(),r=gt(),n=e==="new",s=b.useRef(null),[i]=b.useState(()=>n?crypto.randomUUID():""),l=n?i:e,[d,u]=b.useState([]),[f,m]=b.useState([]),[p,x]=b.useState([]),[v,y]=b.useState(""),[N,w]=b.useState(!0),[E,k]=b.useState(""),[S,A]=b.useState(""),[C,O]=b.useState(""),[R,L]=b.useState(""),[$,M]=b.useState([]),[H,q]=b.useState(""),[F,X]=b.useState(""),[ue,B]=b.useState(""),[I,z]=b.useState(gA),[oe,K]=b.useState(!0),[D,U]=b.useState(!1),[W,re]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),[he,J]=b.useState(!1),ve=(ne,Lt,xt="info")=>{re({isOpen:!0,title:ne,message:Lt,variant:xt})},Te=()=>{re(ne=>({...ne,isOpen:!1}))},ae=d.filter(ne=>ne.active),Ae=ae.filter(ne=>ne.is_order_bump&&ne.id!==E),Ce=ae.filter(ne=>ne.is_upsell&&ne.id!==E);b.useEffect(()=>{(async()=>{if(u(await ce.getProducts()),m(await ce.getDomains()),x(await ce.getGateways()),!n&&e){const xt=(await ce.getCheckouts()).find(ta=>ta.id===e);xt&&(y(xt.name),w(xt.active),k(xt.product_id),A(xt.gateway_id),O(xt.domain_id||""),L(xt.custom_url_slug),M(xt.order_bump_ids||[]),q(xt.upsell_product_id||""),X(xt.thank_you_button_url||""),B(xt.thank_you_button_text||""),z(xt.config||gA))}K(!1)})()},[e,n]);const ge=async()=>{if(console.log(" Debug - Form state:",{name:v,productId:E,gatewayId:S}),!(t!=null&&t.is_ready)){J(!0);return}if(!v||!E||!S){ve("Ateno","Por favor, preencha o nome, selecione um produto e um gateway.","info");return}try{K(!0);const ne={name:v,active:N,product_id:E,gateway_id:S,domain_id:C||null,custom_url_slug:R||(n?`chk-${Date.now()}`:e),order_bump_ids:$,upsell_product_id:H||void 0,thank_you_button_url:F||null,thank_you_button_text:ue||null,config:I,offer_id:void 0};n?await ce.createCheckout({id:l,...ne}):await ce.updateCheckout({id:e,...ne}),r("/admin/checkouts")}catch(ne){console.error("Error saving checkout:",ne),ve("Erro","Erro ao salvar checkout.","error")}finally{K(!1)}},Y=ne=>{$.includes(ne)?M($.filter(Lt=>Lt!==ne)):M([...$,ne])},me=async ne=>{if(ne.target.files&&ne.target.files[0])try{U(!0);const Lt=await ce.uploadCheckoutBanner(ne.target.files[0],l);z({...I,header_image:Lt})}catch(Lt){console.error("Error uploading banner:",Lt),ve("Erro","Erro ao fazer upload da imagem. Tente novamente.","error")}finally{U(!1)}},ke=ne=>{switch(ne){case Pn.MERCADO_PAGO:return"/mercado-pago-logo.png";case Pn.STRIPE:return"https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Stripe_Logo%2C_revised_2016.svg/2560px-Stripe_Logo%2C_revised_2016.svg.png";default:return""}};return a.jsxs(Nt,{children:[oe?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Carregando editor..."})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"sticky top-0 z-30 bg-gray-50/80 dark:bg-[#05050A]/80 backdrop-blur-md py-4 border-b border-gray-200 dark:border-white/5 mb-8 -mx-4 px-8 lg:-mx-8",children:a.jsxs("div",{className:"max-w-[1200px] mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>r("/admin/checkouts"),className:"p-2 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Lc,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:n?"Novo Checkout":"Editar Checkout"}),a.jsx("p",{className:"text-xs text-gray-400",children:n?"Configure seu novo link de pagamento.":`Editando: ${v}`})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(je,{variant:"ghost",onClick:()=>r("/admin/checkouts"),children:"Cancelar"}),a.jsxs(je,{onClick:ge,children:[a.jsx(Gn,{className:"w-4 h-4"})," ",n?"Criar Checkout":"Atualizar"]})]})]})}),a.jsxs("div",{className:"max-w-[1000px] mx-auto space-y-8 pb-20",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"1"}),"Identificao & URL"]}),a.jsx(De,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome do Checkout (Interno)"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: Oferta Black Friday",value:v,onChange:ne=>y(ne.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Domnio"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none appearance-none",value:C,onChange:ne=>O(ne.target.value),children:[a.jsx("option",{value:"",className:"bg-[#161A23] text-white",children:"supercheckout.app (Padro)"}),f.filter(ne=>ne.usage===kt.CHECKOUT).map(ne=>a.jsxs("option",{value:ne.id,className:"bg-[#161A23] text-white",children:[ne.domain," ",ne.status!==Wr.ACTIVE?`(${ne.status})`:""]},ne.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Slug (URL)"}),a.jsxs("div",{className:"flex",children:[a.jsxs("span",{className:"bg-white/5 border border-r-0 border-white/10 rounded-l-xl px-3 flex items-center text-gray-500 text-xs truncate max-w-[100px]",children:["/",C?"":"c/"]}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-r-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"promocao-especial",value:R,onChange:ne=>L(ne.target.value)})]})]})]})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"2"}),"Produto Principal"]}),a.jsxs(De,{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Selecione o produto que ser vendido"}),ae.length===0?a.jsxs("div",{className:"text-center py-8 border border-dashed border-white/10 rounded-xl bg-white/5",children:[a.jsx(gr,{className:"w-10 h-10 text-gray-500 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-400",children:"Nenhum produto ativo encontrado."}),a.jsx(je,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>r("/admin/products"),children:"Criar Produto"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[280px] overflow-y-auto custom-scrollbar pr-2",children:ae.map(ne=>{var Lt;return a.jsxs("label",{className:`cursor-pointer border rounded-xl p-3 flex items-center gap-3 transition-all duration-200 ${E===ne.id?"bg-primary/10 border-primary/50 shadow-[0_0_15px_rgba(138,43,226,0.1)]":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}`,children:[a.jsx("input",{type:"radio",name:"product",className:"hidden",checked:E===ne.id,onChange:()=>k(ne.id)}),a.jsx("div",{className:"w-14 h-14 rounded-lg bg-white/10 flex-shrink-0 overflow-hidden",children:ne.imageUrl?a.jsx("img",{src:ne.imageUrl,className:"w-full h-full object-cover"}):a.jsx(gr,{className:"w-full h-full p-3 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold text-white text-sm line-clamp-1",children:ne.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-primary-light text-xs font-bold bg-primary/10 px-1.5 py-0.5 rounded",children:["R$ ",(Lt=ne.price_real)==null?void 0:Lt.toFixed(2)]}),ne.price_fake&&a.jsxs("span",{className:"text-gray-500 text-[10px] line-through",children:["R$ ",ne.price_fake.toFixed(2)]})]})]}),E===ne.id&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:a.jsx(pt,{className:"w-4 h-4 text-white"})})]},ne.id)})})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"3"}),"Processador de Pagamento"]}),a.jsxs(De,{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Escolha a conta bancria para processar as vendas"}),p.filter(ne=>ne.active).length===0?a.jsxs("div",{className:"text-center py-8 border border-dashed border-white/10 rounded-xl bg-white/5",children:[a.jsx(cte,{className:"w-10 h-10 text-gray-500 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-400",children:"Nenhum gateway ativo configurado."}),a.jsx(je,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>r("/admin/gateways"),children:"Configurar Gateway"})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:p.filter(ne=>ne.active).map(ne=>a.jsxs("button",{onClick:()=>A(ne.id),className:`relative group flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200 h-32 ${S===ne.id?"border-green-500 bg-green-500/10 shadow-[0_0_15px_rgba(34,197,94,0.2)]":"border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20"}`,children:[a.jsx("div",{className:"w-12 h-12 mb-3 flex items-center justify-center",children:a.jsx("img",{src:ke(ne.name),alt:ne.name,className:"w-full h-full object-contain"})}),a.jsx("span",{className:`text-xs font-bold uppercase tracking-wide ${S===ne.id?"text-green-400":"text-gray-400"}`,children:ne.name.replace("_"," ")}),S===ne.id&&a.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:a.jsx(pt,{className:"w-3 h-3 text-white"})})]},ne.id))})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"4"}),"Order Bumps"]})}),a.jsx(De,{children:Ae.length===0?a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx(Ir,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:'Nenhum outro produto ativo marcado como "Order Bump".'})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Selecione os produtos complementares:"}),Ae.map(ne=>{var Lt;return a.jsxs("label",{className:`cursor-pointer border rounded-xl p-3 flex items-center gap-3 transition-all ${$.includes(ne.id)?"bg-orange-500/10 border-orange-500/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[a.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${$.includes(ne.id)?"bg-orange-500 border-orange-500":"border-gray-500"}`,children:$.includes(ne.id)&&a.jsx(pt,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:$.includes(ne.id),onChange:()=>Y(ne.id)}),a.jsx("div",{className:"w-10 h-10 rounded bg-white/10 flex-shrink-0 overflow-hidden",children:ne.imageUrl&&a.jsx("img",{src:ne.imageUrl,className:"w-full h-full object-cover"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-white text-sm",children:ne.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:["R$ ",(Lt=ne.price_real)==null?void 0:Lt.toFixed(2)]})]})]},ne.id)})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 rounded-xl border border-primary/30 bg-primary/5 shadow-[0_0_20px_rgba(138,43,226,0.1)] transition-all hover:bg-primary/10 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute -right-10 -top-10 w-32 h-32 bg-primary/20 blur-3xl rounded-full group-hover:bg-primary/30 transition-all"}),a.jsx("div",{className:"relative z-10",children:a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-3",children:[a.jsx("span",{className:"bg-primary w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold text-white shadow-lg shadow-primary/40",children:"5"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"flex items-center gap-2",children:["Oferta de Upsell (Ps-Compra)",a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary/20 text-primary text-[10px] font-bold uppercase tracking-wider border border-primary/20",children:"Lucro Extra"})]}),a.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"Oferea um produto extra aps a compra e aumente seu ticket mdio."})]})]})}),a.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[a.jsxs("div",{className:"flex flex-col items-end mr-2",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:"Ativar Upsell"}),a.jsx("span",{className:"text-[10px] text-gray-400",children:(Z=I.upsell)!=null&&Z.active?"Oferta Ativa":"Oferta Inativa"})]}),a.jsx("button",{onClick:()=>{var ne;return z({...I,upsell:{...I.upsell,active:!((ne=I.upsell)!=null&&ne.active)}})},className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-[#05050A] ${(te=I.upsell)!=null&&te.active?"bg-gradient-to-r from-primary to-primary-light shadow-[0_0_15px_rgba(138,43,226,0.5)]":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${(Oe=I.upsell)!=null&&Oe.active?"translate-x-6":"translate-x-1"}`})})]})]}),((He=I.upsell)==null?void 0:He.active)&&a.jsxs(De,{className:"animate-in fade-in slide-in-from-top-4 duration-300 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Produto da Oferta"}),a.jsxs("select",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none appearance-none",value:((Re=I.upsell)==null?void 0:Re.product_id)||"",onChange:ne=>z({...I,upsell:{...I.upsell,product_id:ne.target.value}}),children:[a.jsx("option",{value:"",className:"bg-[#161A23] text-white",children:"-- Selecione o Produto --"}),Ce.map(ne=>{var Lt;return a.jsxs("option",{value:ne.id,className:"bg-[#161A23] text-white",children:[ne.name," (R$ ",(Lt=ne.price_real)==null?void 0:Lt.toFixed(2),")"]},ne.id)})]})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[a.jsx(Lu,{className:"w-4 h-4 text-purple-400"}),"Contedo da Pgina"]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[a.jsx("div",{className:"pt-2",children:a.jsx("input",{type:"checkbox",checked:(Se=I.upsell)==null?void 0:Se.show_title,onChange:()=>{var ne;return z({...I,upsell:{...I.upsell,show_title:!((ne=I.upsell)!=null&&ne.show_title)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Ttulo (Headline)"}),a.jsx("input",{type:"text",className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(Ne=I.upsell)!=null&&Ne.show_title?"":"opacity-50"}`,placeholder:"ESPERE! Tenho uma oferta especial para voc...",value:((Ie=I.upsell)==null?void 0:Ie.title)||"",disabled:!((Ee=I.upsell)!=null&&Ee.show_title),onChange:ne=>z({...I,upsell:{...I.upsell,title:ne.target.value}})})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[a.jsx("div",{className:"pt-2",children:a.jsx("input",{type:"checkbox",checked:(xe=I.upsell)==null?void 0:xe.show_subtitle,onChange:()=>{var ne;return z({...I,upsell:{...I.upsell,show_subtitle:!((ne=I.upsell)!=null&&ne.show_subtitle)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Subttulo"}),a.jsx("input",{type:"text",className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(Pe=I.upsell)!=null&&Pe.show_subtitle?"":"opacity-50"}`,placeholder:"Adicione este pacote exclusivo ao seu pedido por apenas...",value:((tt=I.upsell)==null?void 0:tt.subtitle)||"",disabled:!((Ve=I.upsell)!=null&&Ve.show_subtitle),onChange:ne=>z({...I,upsell:{...I.upsell,subtitle:ne.target.value}})})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[a.jsx("div",{className:"pt-2",children:a.jsx("input",{type:"checkbox",checked:(rt=I.upsell)==null?void 0:rt.show_media,onChange:()=>{var ne;return z({...I,upsell:{...I.upsell,show_media:!((ne=I.upsell)!=null&&ne.show_media)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Mdia de Vendas"}),a.jsxs("div",{className:"flex bg-black/20 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>z({...I,upsell:{...I.upsell,media_type:"video"}}),className:`px-3 py-1 text-xs rounded-md transition-colors ${((Ze=I.upsell)==null?void 0:Ze.media_type)==="video"?"bg-primary text-white":"text-gray-400 hover:text-white"}`,children:"Vdeo"}),a.jsx("button",{onClick:()=>z({...I,upsell:{...I.upsell,media_type:"image"}}),className:`px-3 py-1 text-xs rounded-md transition-colors ${((rr=I.upsell)==null?void 0:rr.media_type)==="image"?"bg-primary text-white":"text-gray-400 hover:text-white"}`,children:"Imagem"})]})]}),a.jsx("input",{type:"text",className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(Br=I.upsell)!=null&&Br.show_media?"":"opacity-50"}`,placeholder:((sn=I.upsell)==null?void 0:sn.media_type)==="video"?"URL do Vdeo (YouTube, Vimeo...)":"URL da Imagem",value:((Kt=I.upsell)==null?void 0:Kt.media_url)||"",disabled:!((ea=I.upsell)!=null&&ea.show_media),onChange:ne=>z({...I,upsell:{...I.upsell,media_url:ne.target.value}})})]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/5 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Texto do Boto (Ao Principal)"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Sim, quero adicionar ao meu pedido",value:((Wt=I.upsell)==null?void 0:Wt.button_text)||"",onChange:ne=>z({...I,upsell:{...I.upsell,button_text:ne.target.value}})})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/5 border border-white/5",children:[a.jsx("div",{className:"pt-2",children:a.jsx("input",{type:"checkbox",checked:(ft=I.upsell)==null?void 0:ft.show_description,onChange:()=>{var ne;return z({...I,upsell:{...I.upsell,show_description:!((ne=I.upsell)!=null&&ne.show_description)}})},className:"w-4 h-4 rounded border-gray-500 bg-transparent text-primary focus:ring-primary"})}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Descrio Detalhada"}),a.jsx("textarea",{rows:3,className:`w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none ${(ca=I.upsell)!=null&&ca.show_description?"":"opacity-50"}`,placeholder:"Explique os benefcios...",value:((zr=I.upsell)==null?void 0:zr.description)||"",disabled:!((La=I.upsell)!=null&&La.show_description),onChange:ne=>z({...I,upsell:{...I.upsell,description:ne.target.value}})})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"6"}),"Campos do Formulrio"]}),a.jsx(De,{children:a.jsx("div",{className:"space-y-4",children:[{id:"name",label:"Nome Completo"},{id:"email",label:"E-mail"},{id:"phone",label:"WhatsApp / Telefone"},{id:"cpf",label:"CPF / Documento"}].map(ne=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:ne.label}),a.jsx("button",{onClick:()=>z({...I,fields:{...I.fields,[ne.id]:!I.fields[ne.id]}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.fields[ne.id]?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.fields[ne.id]?"translate-x-6":"translate-x-1"}`})})]},ne.id))})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"7"}),"Formas de Pagamento Visveis"]}),a.jsx(De,{children:a.jsx("div",{className:"space-y-4",children:[{id:"pix",label:"Pix (QR Code)"},{id:"credit_card",label:"Carto de Crdito"},{id:"boleto",label:"Boleto Bancrio"}].map(ne=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:ne.label}),a.jsx("button",{onClick:()=>z({...I,payment_methods:{...I.payment_methods,[ne.id]:!I.payment_methods[ne.id]}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.payment_methods[ne.id]?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.payment_methods[ne.id]?"translate-x-6":"translate-x-1"}`})})]},ne.id))})})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"8"}),"Design e Escassez"]}),a.jsx(De,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Imagem de Cabealho (Banner)"}),a.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Tamanho recomendado: 1200x300 pixels"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"text",className:"flex-1 bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Cole a URL ou faa upload...",value:I.header_image||"",onChange:ne=>z({...I,header_image:ne.target.value})}),a.jsx("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:me}),a.jsx(je,{variant:"secondary",onClick:()=>{var ne;return(ne=s.current)==null?void 0:ne.click()},className:"whitespace-nowrap",disabled:D,children:D?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Enviando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{className:"w-4 h-4"})," Upload"]})})]}),I.header_image&&a.jsxs("div",{className:"mt-3 w-full h-32 rounded-lg overflow-hidden border border-white/10 relative group",children:[a.jsx("img",{src:I.header_image,className:"w-full h-full object-cover",alt:"Banner Preview"}),a.jsx("button",{onClick:()=>z({...I,header_image:""}),className:"absolute top-2 right-2 bg-black/50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:""})})]})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-white flex items-center gap-2",children:[a.jsx(qn,{className:"w-4 h-4 text-red-400"})," Timer de Escassez"]}),a.jsx("button",{onClick:()=>z({...I,timer:{...I.timer,active:!I.timer.active}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.timer.active?"bg-red-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.timer.active?"translate-x-6":"translate-x-1"}`})})]}),I.timer.active&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-white/5 p-4 rounded-xl animate-in fade-in duration-300",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Tempo (minutos)"}),a.jsx("input",{type:"number",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:I.timer.minutes,onChange:ne=>z({...I,timer:{...I.timer,minutes:parseInt(ne.target.value)}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Cor de Fundo"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"color",className:"h-9 w-9 rounded cursor-pointer border-none bg-transparent",value:I.timer.bg_color,onChange:ne=>z({...I,timer:{...I.timer,bg_color:ne.target.value}})}),a.jsx("span",{className:"text-xs text-gray-500",children:I.timer.bg_color})]})]})]})]})]})})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"9"}),"Rastreamento de Converso"]}),a.jsxs(De,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-white/5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-gray-200",children:"Ativar Rastreamento"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Habilita a injeo de scripts (Pixels e Tags) no checkout."})]}),a.jsx("button",{onClick:()=>{var ne;return z({...I,pixels:{...I.pixels,active:!((ne=I.pixels)!=null&&ne.active)}})},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${(vs=I.pixels)!=null&&vs.active?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${(Zn=I.pixels)!=null&&Zn.active?"translate-x-6":"translate-x-1"}`})})]}),((Ua=I.pixels)==null?void 0:Ua.active)&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsx("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"font-bold text-blue-400 text-xs",children:"GTM"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-bold text-blue-100",children:"Google Tag Manager (Avanado)"}),a.jsx("p",{className:"text-xs text-blue-300/70 mb-3",children:"Se voc usar o GTM, ns ignoraremos os pixels individuais abaixo e carregaremos apenas o seu container."}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-blue-500/30 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-blue-500/50 outline-none placeholder-blue-300/30",placeholder:"Ex: GTM-ABC1234",value:((Ke=I.pixels)==null?void 0:Ke.gtm_id)||"",onChange:ne=>z({...I,pixels:{...I.pixels,gtm_id:ne.target.value}})})]})]})}),a.jsxs("div",{className:`space-y-6 ${(Ct=I.pixels)!=null&&Ct.gtm_id?"opacity-50 pointer-events-none grayscale":""}`,children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[a.jsx(_D,{className:"w-3 h-3"})," Analytics"]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"Google Analytics 4 (GA4)"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: G-XXXXXXXXXX",value:((ar=I.pixels)==null?void 0:ar.google_analytics_id)||"",onChange:ne=>z({...I,pixels:{...I.pixels,google_analytics_id:ne.target.value}})})})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[a.jsx(ao,{className:"w-3 h-3"})," Plataformas de Anncios"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"Facebook Pixel ID"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: 123456789012345",value:((xr=I.pixels)==null?void 0:xr.facebook_pixel_id)||"",onChange:ne=>z({...I,pixels:{...I.pixels,facebook_pixel_id:ne.target.value}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"TikTok Pixel ID"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: C123ABC456DEF789",value:((kn=I.pixels)==null?void 0:kn.tiktok_pixel_id)||"",onChange:ne=>z({...I,pixels:{...I.pixels,tiktok_pixel_id:ne.target.value}})})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1.5",children:"Google Ads Conversion ID"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: AW-123456789",value:((Rt=I.pixels)==null?void 0:Rt.google_ads_id)||"",onChange:ne=>z({...I,pixels:{...I.pixels,google_ads_id:ne.target.value}})})]})]})]})]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"10"}),"Status do Checkout"]}),a.jsxs(De,{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-white",children:"Checkout Ativo"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Se desativado, a pgina pblica mostrar erro."})]}),a.jsx("button",{onClick:()=>w(!N),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N?"bg-green-500":"bg-white/10"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N?"translate-x-6":"translate-x-1"}`})})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/20 w-6 h-6 rounded flex items-center justify-center text-xs text-primary",children:"11"}),"Pgina de Agradecimento"]}),a.jsx(De,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Personalize o boto exibido na pgina de agradecimento aps a compra."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"URL do Boto (opcional)"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"https://wa.me/5511999999999 ou /login",value:F,onChange:ne=>X(ne.target.value)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Deixe vazio para usar a rea de membros (/login). Use links externos (WhatsApp, Telegram) ou rotas internas."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Texto do Boto (opcional)"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Acessar",value:ue,onChange:ne=>B(ne.target.value)}),a.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:'Texto exibido no boto. Padro: "Acessar"'})]})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-white/5",children:[a.jsx(je,{variant:"ghost",onClick:()=>r("/admin/checkouts"),children:"Cancelar"}),a.jsxs(je,{onClick:ge,size:"lg",children:[a.jsx(Gn,{className:"w-4 h-4"})," ",n?"Publicar Checkout":"Salvar Alteraes"]})]})]})]}),a.jsx($r,{isOpen:W.isOpen,onClose:Te,title:W.title,message:W.message,variant:W.variant}),a.jsx(S1,{isOpen:he,onClose:()=>J(!1)})]})},Jre=()=>{const{compliance:t}=tr(),[e,r]=b.useState([]),[n,s]=b.useState(!1),[i,l]=b.useState({public_key:"",private_key:"",webhook_secret:"",active:!1}),[d,u]=b.useState(!1),[f,m]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),p=(N,w,E="info")=>{m({isOpen:!0,title:N,message:w,variant:E})},x=()=>{m(N=>({...N,isOpen:!1}))};b.useEffect(()=>{(async()=>{const w=await ce.getGateways();r(w);const E=w.find(k=>k.name===Pn.MERCADO_PAGO);E&&l({public_key:E.public_key,private_key:E.private_key,webhook_secret:E.webhook_secret,active:E.active})})()},[]);const v=async N=>{N.preventDefault();try{const w=e.findIndex(S=>S.name===Pn.MERCADO_PAGO);if(w>=0){const S={id:e[w].id,name:Pn.MERCADO_PAGO,...i};await ce.updateGateway(S)}else await ce.createGateway({name:Pn.MERCADO_PAGO,...i});const E=await ce.getGateways();r(E);const k=E.find(S=>S.name===Pn.MERCADO_PAGO);k&&l({public_key:k.public_key,private_key:k.private_key,webhook_secret:k.webhook_secret,active:k.active}),u(!1),setTimeout(()=>{p("Sucesso","Gateway salvo com sucesso!","success")},100)}catch(w){console.error("Error saving gateway:",w),p("Erro","Erro ao salvar gateway. Verifique o console.","error")}},y=({title:N,logo:w,status:E,onClick:k,imgClassName:S="max-w-full max-h-full"})=>a.jsxs(De,{className:`relative overflow-hidden group hover:border-primary/50 transition-all cursor-pointer h-40 flex items-center justify-center ${E==="active"?"border-green-500/50 bg-green-500/5":""}`,onClick:E!=="soon"?k:void 0,children:[E==="soon"&&a.jsx("div",{className:"absolute top-3 right-3 z-10",children:a.jsx("div",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold border uppercase tracking-wider bg-gray-100 dark:bg-white/5 text-gray-400 border-transparent",children:"Em Breve"})}),a.jsx("div",{className:"w-40 h-20 flex items-center justify-center opacity-70 group-hover:opacity-100 transition-opacity",children:a.jsx("img",{src:w,alt:N,className:`${S} object-contain brightness-0 invert`})})]});return a.jsxs(Nt,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gateways de Pagamento"}),a.jsx("p",{className:"text-gray-500 dark:text-dark-text text-sm mt-1",children:"Conecte provedores para receber pagamentos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(De,{className:`relative overflow-hidden group hover:border-primary/50 transition-all cursor-pointer h-40 flex items-center justify-center ${i.active?"border-green-500 dark:border-green-400":""}`,onClick:()=>{if(!(t!=null&&t.is_ready)){s(!0);return}u(!0)},children:[i.active&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-transparent to-green-500/5 pointer-events-none"}),a.jsx("div",{className:"absolute top-3 right-3 z-10",children:i.active?a.jsxs("span",{className:"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full font-medium flex items-center gap-1",children:[a.jsx(ut,{className:"w-3 h-3"}),"Ativo"]}):a.jsx("div",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold border uppercase tracking-wider bg-gray-100 dark:bg-white/5 text-gray-400 border-transparent",children:"Inativo"})}),a.jsx("div",{className:"relative z-10 w-40 h-20 flex items-center justify-center opacity-70 group-hover:opacity-100 transition-opacity",children:a.jsx("img",{src:"/mercado-pago-logo.png",alt:"Mercado Pago",className:"max-w-full max-h-full object-contain brightness-0 invert"})})]}),a.jsx(y,{title:"Stripe",logo:"/stripe-logo.png",status:"soon",imgClassName:"max-w-full max-h-12"})]}),a.jsx(Er,{isOpen:d,onClose:()=>u(!1),title:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 flex items-center justify-center",children:a.jsx("img",{src:"/mercado-pago-logo.png",className:"h-full object-contain",alt:"MP"})}),a.jsx("span",{children:"Configuraes Mercado Pago"})]}),className:"max-w-xl",children:a.jsxs("form",{onSubmit:v,className:"space-y-5",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl flex items-start gap-3",children:[a.jsx(la,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Use suas ",a.jsx("strong",{children:"Credenciais de Produo"}),". Chaves de teste funcionaro para simulao."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Chave Pblica (Public Key)"}),a.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none font-mono text-xs dark:text-white",placeholder:"APP_USR-...",value:i.public_key,onChange:N=>l({...i,public_key:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Token de Acesso (Access Token)"}),a.jsx("input",{type:"password",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none font-mono text-xs dark:text-white",placeholder:"APP_USR-...",value:i.private_key,onChange:N=>l({...i,private_key:N.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Segredo do Webhook"}),a.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-primary/50 outline-none font-mono text-xs dark:text-white",value:i.webhook_secret,onChange:N=>l({...i,webhook_secret:N.target.value})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Habilitar Gateway"}),a.jsx("button",{type:"button",onClick:()=>l({...i,active:!i.active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-dark-card ${i.active?"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.active?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[a.jsx(je,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Cancelar"}),a.jsx(je,{type:"submit",children:"Salvar Credenciais"})]})]})}),a.jsx($r,{isOpen:f.isOpen,onClose:x,title:f.title,message:f.message,variant:f.variant}),a.jsx(S1,{isOpen:n,onClose:()=>s(!1)})]})},Qre=()=>{const{profile:t,isWhiteLabel:e}=tr(),[r,n]=b.useState([]),[s,i]=b.useState(!1),[l,d]=b.useState(!1),[u,f]=b.useState(null),[m,p]=b.useState(null),[x,v]=b.useState(null),[y,N]=b.useState(null),[w,E]=b.useState(""),[k,S]=b.useState(null),[A,C]=b.useState(!1),[O,R]=b.useState(null),[L,$]=b.useState(!1),[M,H]=b.useState(null),[q,F]=b.useState(null),[X,ue]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),[B,I]=b.useState("all"),{checkEntitlement:z,loading:oe}=_1(),[K,D]=b.useState(null),[U,W]=b.useState({domain:"",type:Av.CNAME,usage:kt.CHECKOUT}),[re,he]=b.useState(null),[J,ve]=b.useState(null);b.useEffect(()=>{(async()=>{n(await ce.getDomains())})()},[]),b.useEffect(()=>{r.length>0&&r.forEach(te=>{te.status===Wr.PENDING&&ae(te.id,te.domain,!0)})},[r.length]);const Te=async te=>{te.preventDefault(),C(!0),R(null);try{const Oe=await fetch("/api/domains/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:U.domain})}),He=Oe.headers.get("content-type");if(!He||!He.includes("application/json"))throw new Error('API indisponvel. Use "vercel dev" para testar localmente.');const Re=await Oe.json();if(!Oe.ok)throw new Error(Re.error||"Falha ao adicionar domnio na Vercel");const Se={status:Wr.PENDING,created_at:new Date().toISOString(),domain:U.domain,type:U.type,checkout_id:null,usage:U.usage},Ne=await ce.createDomain(Se),Ie=[...r,Ne];n(Ie),i(!1),W({domain:"",type:Av.CNAME,usage:kt.CHECKOUT}),Ae(Ne)}catch(Oe){R(Oe.message)}finally{C(!1)}},ae=async(te,Oe,He=!1)=>{He||p(te);try{const Se=await(await fetch(`/api/domains/verify?domain=${Oe}`)).json();if(ve(Se),console.log("Verification response:",Se),Se.error)throw new Error(Se.error);const Ne=r.find(xe=>xe.id===te);let Ie=Wr.PENDING;if(Se.verified?Ie=Wr.ACTIVE:Se.error?Ie=Wr.ERROR:Ie=Wr.PENDING,Ne&&Ne.status!==Ie){const xe=r.map(Pe=>Pe.id===te?{...Pe,status:Ie}:Pe);n(xe)}if(Se.dnsRecords&&Se.dnsRecords.length>0)return Se.dnsRecords;const Ee=Se.verificationChallenges||Se.verification;return Ee&&Ee.length>0?Ee:[{type:"CNAME",domain:Oe,value:"cname.vercel-dns.com",reason:"default_cname"},{type:"A",domain:"@",value:"76.76.21.21",reason:"default_a"}]}catch(Re){return console.error("Verification failed:",Re),ve({error:Re.message}),n(Se=>Se.map(Ne=>Ne.id===te?{...Ne,status:Wr.ERROR}:Ne)),null}finally{He||p(null)}},Ae=async te=>{f(te),he(null),$(!0),d(!0);const Oe=await ae(te.id,te.domain,!0);Oe&&he(Oe),$(!1)},Ce=async(te,Oe)=>{H(te);try{const He=await ce.getDomainUsage(te);He.checkouts.length>0||He.memberAreas.length>0?F(He):(N(te),E(Oe))}catch(He){console.error("Error checking domain usage:",He),ue({isOpen:!0,title:"Erro",message:"Erro ao verificar uso do domnio",variant:"error"})}finally{H(null)}},ge=async()=>{if(!(!y||!w)){v(y);try{await fetch(`/api/domains/remove?domain=${w}`,{method:"DELETE"}),await ce.deleteDomain(y),n(r.filter(te=>te.id!==y)),N(null),E("")}catch(te){console.error("Removal failed:",te),ue({isOpen:!0,title:"Erro",message:"Erro ao remover domnio",variant:"error"})}finally{v(null)}}},Y=(te,Oe)=>{navigator.clipboard.writeText(te),S(Oe),setTimeout(()=>S(null),2e3)},me=te=>{switch(te){case Wr.ACTIVE:return a.jsxs("span",{className:"flex items-center gap-1.5 bg-green-500/10 text-green-400 px-2.5 py-1 rounded-full text-xs font-bold border border-green-500/20 shadow-[0_0_10px_rgba(74,222,128,0.2)]",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Conectado"]});case Wr.PENDING:return a.jsxs("span",{className:"flex items-center gap-1.5 bg-yellow-500/10 text-yellow-400 px-2.5 py-1 rounded-full text-xs font-bold border border-yellow-500/20",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"Aguardando DNS"]});case Wr.ERROR:return a.jsxs("span",{className:"flex items-center gap-1.5 bg-red-500/10 text-red-400 px-2.5 py-1 rounded-full text-xs font-bold border border-red-500/20",children:[a.jsx(la,{className:"w-3 h-3"}),"Erro"]});default:return null}},ke=te=>{switch(te){case kt.CHECKOUT:return a.jsxs("span",{className:"flex items-center gap-1.5 bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded text-[10px] font-medium border border-blue-500/20 uppercase tracking-wide",children:[a.jsx(Kd,{className:"w-3 h-3"})," Checkout"]});case kt.MEMBER_AREA:return a.jsxs("span",{className:"flex items-center gap-1.5 bg-purple-500/10 text-purple-400 px-2 py-0.5 rounded text-[10px] font-medium border border-purple-500/20 uppercase tracking-wide",children:[a.jsx(jr,{className:"w-3 h-3"})," rea de Membros"]});case kt.SYSTEM:default:return a.jsxs("span",{className:"flex items-center gap-1.5 bg-green-500/10 text-green-400 px-2 py-0.5 rounded text-[10px] font-medium border border-green-500/20 uppercase tracking-wide",children:[a.jsx(oc,{className:"w-3 h-3"})," Sistema"]})}},Z=r.filter(te=>B==="all"?!0:B==="checkout"?te.usage===kt.CHECKOUT:B==="member_area"?te.usage===kt.MEMBER_AREA:B==="system"?te.usage===kt.SYSTEM:!0);return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Domnios"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Conecte seus domnios personalizados."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[!e&&r.length>0&&(t==null?void 0:t.role)==="admin"&&a.jsxs("div",{onClick:()=>D("unlimited_domains"),className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-xl bg-orange-500/10 border border-orange-500/20 text-orange-400 cursor-pointer hover:bg-orange-500/20 transition-all group",children:[a.jsx(Ji,{className:"w-4 h-4 text-orange-400 group-hover:scale-110 transition-transform"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase leading-none",children:"Plano Free"}),a.jsxs("p",{className:"text-xs font-medium",children:["Limite: ",r.length,"/1 domnio"]})]}),a.jsx(Vt,{className:"w-3 h-3 ml-1 group-hover:translate-x-1 transition-transform"})]}),a.jsxs(je,{onClick:async()=>{const te=await z("domains",r.length);te.allowed?i(!0):D(te.upsell_offer||"unlimited_domains")},className:"shadow-xl shadow-primary/20",disabled:oe,children:[oe?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(pr,{className:"w-4 h-4"})," Adicionar Domnio"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("button",{onClick:()=>I("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${B==="all"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"Todos"}),a.jsxs("button",{onClick:()=>I("checkout"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${B==="checkout"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[a.jsx(Kd,{className:"w-4 h-4"})," Checkout"]}),a.jsxs("button",{onClick:()=>I("member_area"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${B==="member_area"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[a.jsx(jr,{className:"w-4 h-4"})," rea de Membros"]}),a.jsxs("button",{onClick:()=>I("system"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${B==="system"?"bg-primary text-white":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[a.jsx(oc,{className:"w-4 h-4"})," Sistema"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:Z.length===0?a.jsxs(De,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Yt,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum domnio conectado"}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx(je,{onClick:()=>i(!0),children:"Adicionar Domnio"})})]}):Z.map(te=>a.jsx(De,{className:"group overflow-hidden relative",noPadding:!0,children:a.jsxs("div",{className:"p-6 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${te.status===Wr.ACTIVE?"bg-green-500/10 border-green-500/20 text-green-500":"bg-white/5 border-white/10 text-gray-400"}`,children:a.jsx(Yt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:te.domain}),me(te.status)]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[ke(te.usage||kt.SYSTEM),a.jsxs("span",{className:"text-sm text-gray-500",children:["Adicionado em ",new Date(te.created_at).toLocaleDateString()]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 self-end lg:self-auto",children:[a.jsxs(je,{size:"sm",variant:"secondary",onClick:()=>Ae(te),className:"bg-white/5 hover:bg-white/10 border-white/10",children:[a.jsx(Um,{className:"w-4 h-4 mr-2"}),te.status===Wr.ACTIVE?"Detalhes DNS":"Configurao DNS"]}),a.jsx(je,{size:"sm",variant:"ghost",onClick:()=>ae(te.id,te.domain),disabled:m===te.id,children:m===te.id?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(AD,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ce(te.id,te.domain),disabled:x===te.id||M===te.id,className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500 transition-colors",children:x===te.id||M===te.id?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(Pr,{className:"w-4 h-4"})})]})]})},te.id))}),a.jsx(Er,{isOpen:s,onClose:()=>i(!1),title:"Adicionar Domnio",children:a.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[O&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[a.jsx(la,{className:"w-4 h-4"})," ",O]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Finalidade do Domnio"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl border cursor-pointer transition-all ${U.usage===kt.CHECKOUT?"bg-blue-500/20 border-blue-500/50":"bg-black/30 border-white/10 hover:border-white/20"}`,onClick:()=>W({...U,usage:kt.CHECKOUT}),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U.usage===kt.CHECKOUT?"bg-blue-500 text-white":"bg-white/5 text-gray-400"}`,children:a.jsx(Kd,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-bold ${U.usage===kt.CHECKOUT?"text-white":"text-gray-300"}`,children:"Para Checkout"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Ex: pay.meusite.com"})]})]})}),a.jsx("div",{className:`p-3 rounded-xl border cursor-pointer transition-all ${U.usage===kt.MEMBER_AREA?"bg-purple-500/20 border-purple-500/50":"bg-black/30 border-white/10 hover:border-white/20"}`,onClick:()=>W({...U,usage:kt.MEMBER_AREA}),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U.usage===kt.MEMBER_AREA?"bg-purple-500 text-white":"bg-white/5 text-gray-400"}`,children:a.jsx(jr,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-bold ${U.usage===kt.MEMBER_AREA?"text-white":"text-gray-300"}`,children:"Para rea de Membros"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Ex: membros.meusite.com"})]})]})}),a.jsx("div",{className:`p-3 rounded-xl border cursor-pointer transition-all ${U.usage===kt.SYSTEM?"bg-green-500/20 border-green-500/50":"bg-black/30 border-white/10 hover:border-white/20"}`,onClick:()=>W({...U,usage:kt.SYSTEM}),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${U.usage===kt.SYSTEM?"bg-green-500 text-white":"bg-white/5 text-gray-400"}`,children:a.jsx(oc,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-bold ${U.usage===kt.SYSTEM?"text-white":"text-gray-300"}`,children:"Para Sistema"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Ex: admin.meusite.com"})]})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Domnio (sem http/https)"}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-black/30 border border-purple-500/20 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none placeholder:text-gray-600",placeholder:U.usage===kt.MEMBER_AREA?"clube.meusite.com":"pay.meusite.com",value:U.domain,onChange:te=>W({...U,domain:te.target.value})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(je,{variant:"ghost",onClick:()=>i(!1),children:"Cancelar"}),a.jsx(je,{onClick:Te,disabled:A,className:"bg-purple-600 hover:bg-purple-700 text-white border-none shadow-lg shadow-purple-500/20",children:A?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):"Adicionar"})]})]})}),u&&a.jsx(Er,{isOpen:l,onClose:()=>d(!1),title:u.status===Wr.ACTIVE?"Domnio Conectado":"Configurao DNS",className:"max-w-2xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center border ${u.status===Wr.ACTIVE?"bg-green-500/20 text-green-500 border-green-500/20":"bg-yellow-500/20 text-yellow-500 border-yellow-500/20"}`,children:a.jsx(Um,{className:"w-5 h-5"})}),a.jsx("p",{className:"text-sm text-gray-400",children:u.status===Wr.ACTIVE?"Seu domnio est ativo e funcionando.":"Configure seu provedor para conectar o domnio."})]}),a.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-xl p-4 space-y-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("p",{className:"text-sm text-gray-300",children:"Registros DNS necessrios:"})}),L?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-primary"})}):re?a.jsxs("div",{className:"space-y-6",children:[re.filter(te=>te.type.toUpperCase()==="CNAME").length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Subdomnio (CNAME)"}),re.filter(te=>te.type.toUpperCase()==="CNAME").map((te,Oe)=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Type"}),a.jsx("span",{className:"text-white font-mono font-bold",children:"CNAME"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Name"}),a.jsx("span",{className:"text-white font-mono",children:te.domain.startsWith("www.")?"www":te.domain.split(".").length>2?te.domain.split(".")[0]:"@"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5 relative group col-span-2",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Value"}),a.jsx("span",{className:"text-white font-mono break-all",children:te.value}),a.jsx("button",{onClick:()=>Y(te.value,`val-cname-${Oe}`),className:"absolute top-2 right-2 text-gray-500 hover:text-white",children:k===`val-cname-${Oe}`?a.jsx(ut,{className:"w-3 h-3 text-green-500"}):a.jsx(Pt,{className:"w-3 h-3"})})]})]},`cname-${Oe}`))]}),re.filter(te=>te.type.toUpperCase()==="A").length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Domnio (A Record)"}),re.filter(te=>te.type.toUpperCase()==="A").map((te,Oe)=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Type"}),a.jsx("span",{className:"text-white font-mono font-bold",children:"A"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Name"}),a.jsx("span",{className:"text-white font-mono",children:"@"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5 relative group col-span-2",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Value"}),a.jsx("span",{className:"text-white font-mono break-all",children:te.value}),a.jsx("button",{onClick:()=>Y(te.value,`val-a-${Oe}`),className:"absolute top-2 right-2 text-gray-500 hover:text-white",children:k===`val-a-${Oe}`?a.jsx(ut,{className:"w-3 h-3 text-green-500"}):a.jsx(Pt,{className:"w-3 h-3"})})]})]},`a-${Oe}`))]}),re.filter(te=>te.type.toUpperCase()==="TXT").length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Verificao (TXT)"}),re.filter(te=>te.type.toUpperCase()==="TXT").map((te,Oe)=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Type"}),a.jsx("span",{className:"text-white font-mono font-bold",children:"TXT"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Name"}),a.jsx("span",{className:"text-white font-mono",children:te.domain.startsWith("_vercel")?"_vercel":"@"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/5 relative group col-span-2",children:[a.jsx("span",{className:"text-gray-500 block mb-1",children:"Value"}),a.jsx("span",{className:"text-white font-mono break-all",children:te.value}),a.jsx("button",{onClick:()=>Y(te.value,`val-txt-${Oe}`),className:"absolute top-2 right-2 text-gray-500 hover:text-white",children:k===`val-txt-${Oe}`?a.jsx(ut,{className:"w-3 h-3 text-green-500"}):a.jsx(Pt,{className:"w-3 h-3"})})]})]},`txt-${Oe}`))]}),a.jsx("div",{className:"grid grid-cols-4 gap-2 text-xs mt-2",children:a.jsxs("div",{className:"col-span-4 bg-white/5 p-2 rounded border border-white/5 flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Proxy (Cloudflare)"}),a.jsx("span",{className:"text-gray-400 font-mono",children:"Desativado (Nuvem Cinza)"})]})})]}):a.jsx("div",{className:"text-center py-8 text-gray-400",children:a.jsx("p",{className:"mb-2 font-medium text-white",children:"No foi possvel obter os registros."})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(je,{onClick:()=>d(!1),children:"Fechar"})})]})}),a.jsx(Kn,{isOpen:!!y,onClose:()=>{N(null),E("")},onConfirm:ge,title:"Excluir Domnio",message:"Tem certeza que deseja excluir este domnio? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:x===y}),a.jsx(Er,{isOpen:!!q,onClose:()=>F(null),title:"Domnio em Uso",className:"max-w-md",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex items-start gap-3",children:[a.jsx(la,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-yellow-500 font-bold text-sm mb-1",children:"No  possvel excluir"}),a.jsx("p",{className:"text-yellow-200/80 text-xs",children:"Este domnio est vinculado aos seguintes itens. Remova os vnculos antes de excluir."})]})]}),a.jsxs("div",{className:"bg-black/30 border border-white/10 rounded-xl overflow-hidden",children:[(q==null?void 0:q.checkouts.length)>0&&a.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Checkouts"}),a.jsx("ul",{className:"space-y-1",children:q.checkouts.map(te=>a.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),te.name]},te.id))})]}),(q==null?void 0:q.memberAreas.length)>0&&a.jsxs("div",{className:"p-3 border-b border-white/5 last:border-0",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"reas de Membros"}),a.jsx("ul",{className:"space-y-1",children:q.memberAreas.map(te=>a.jsxs("li",{className:"text-sm text-white flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),te.name]},te.id))})]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(je,{onClick:()=>F(null),children:"Entendi"})})]})}),a.jsx($r,{isOpen:X.isOpen,onClose:()=>ue({...X,isOpen:!1}),title:X.title,message:X.message,variant:X.variant}),a.jsx(E1,{isOpen:!!K,onClose:()=>D(null),offerSlug:K})]})},Zre=()=>{const{user:t}=tr(),[e,r]=b.useState(!1),[n,s]=b.useState(null),[i,l]=b.useState(""),[d,u]=b.useState(""),[f,m]=b.useState(""),[p,x]=b.useState("");b.useEffect(()=>{var N;t&&(l(((N=t.user_metadata)==null?void 0:N.name)||""),u(t.email||""))},[t]);const v=async N=>{N.preventDefault(),r(!0),s(null);try{const{error:w}=await V.auth.updateUser({data:{name:i}});if(w)throw w;s({type:"success",text:"Perfil atualizado com sucesso!"})}catch(w){s({type:"error",text:w.message||"Erro ao atualizar perfil"})}finally{r(!1)}},y=async N=>{if(N.preventDefault(),f!==p){s({type:"error",text:"As senhas no coincidem"});return}r(!0),s(null);try{const{error:w}=await V.auth.updateUser({password:f});if(w)throw w;s({type:"success",text:"Senha alterada com sucesso!"}),m(""),x("")}catch(w){s({type:"error",text:w.message||"Erro ao alterar senha"})}finally{r(!1)}};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configuraes da Conta"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie suas informaes pessoais e segurana."})]}),a.jsxs("div",{className:"max-w-4xl space-y-6",children:[n&&a.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${n.type==="success"?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[n.type==="success"?a.jsx(ut,{className:"w-5 h-5"}):a.jsx(Ir,{className:"w-5 h-5"}),n.text]}),a.jsxs(De,{children:[a.jsx("div",{className:"p-6 border-b border-white/5",children:a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(Ra,{className:"w-5 h-5 text-primary"}),"Informaes do Perfil"]})}),a.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome Completo"}),a.jsx("input",{type:"text",value:i,onChange:N=>l(N.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"Seu nome"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"E-mail"}),a.jsx("input",{type:"email",value:d,disabled:!0,className:"w-full bg-white/5 border border-white/5 rounded-xl px-4 py-3 text-gray-400 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O e-mail no pode ser alterado."})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(je,{type:"submit",disabled:e,children:[e?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(Gn,{className:"w-4 h-4"}),"Salvar Alteraes"]})})]})]}),a.jsxs(De,{children:[a.jsx("div",{className:"p-6 border-b border-white/5",children:a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(_r,{className:"w-5 h-5 text-primary"}),"Segurana"]})}),a.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nova Senha"}),a.jsx("input",{type:"password",value:f,onChange:N=>m(N.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"",minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Confirmar Senha"}),a.jsx("input",{type:"password",value:p,onChange:N=>x(N.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"",minLength:6})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(je,{type:"submit",variant:"outline",disabled:e||!f,children:[e?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(Gn,{className:"w-4 h-4"}),"Alterar Senha"]})})]})]})]})]})};function Qr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UD(...t){return e=>{let r=!1;const n=t.map(s=>{const i=xA(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():xA(t[s],null)}}}}function xs(...t){return b.useCallback(UD(...t),t)}function eae(t,e){const r=b.createContext(e),n=i=>{const{children:l,...d}=i,u=b.useMemo(()=>d,Object.values(d));return a.jsx(r.Provider,{value:u,children:l})};n.displayName=t+"Provider";function s(i){const l=b.useContext(r);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Ip(t,e=[]){let r=[];function n(i,l){const d=b.createContext(l),u=r.length;r=[...r,l];const f=p=>{var E;const{scope:x,children:v,...y}=p,N=((E=x==null?void 0:x[t])==null?void 0:E[u])||d,w=b.useMemo(()=>y,Object.values(y));return a.jsx(N.Provider,{value:w,children:v})};f.displayName=i+"Provider";function m(p,x){var N;const v=((N=x==null?void 0:x[t])==null?void 0:N[u])||d,y=b.useContext(v);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=r.map(l=>b.createContext(l));return function(d){const u=(d==null?void 0:d[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return s.scopeName=t,[n,tae(s,...e)]}function tae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=n.reduce((d,{useScope:u,scopeName:f})=>{const p=u(i)[`__scope${f}`];return{...d,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}var xu=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},rae=Ry[" useId ".trim().toString()]||(()=>{}),aae=0;function Qd(t){const[e,r]=b.useState(rae());return xu(()=>{r(n=>n??String(aae++))},[t]),t||(e?`radix-${e}`:"")}var nae=Ry[" useInsertionEffect ".trim().toString()]||xu;function k1({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,l]=sae({defaultProp:e,onChange:r}),d=t!==void 0,u=d?t:s;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const p=m.current;p!==d&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,n])}const f=b.useCallback(m=>{var p;if(d){const x=iae(m)?m(t):m;x!==t&&((p=l.current)==null||p.call(l,x))}else i(m)},[d,t,i,l]);return[u,f]}function sae({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),s=b.useRef(r),i=b.useRef(e);return nae(()=>{i.current=e},[e]),b.useEffect(()=>{var l;s.current!==r&&((l=i.current)==null||l.call(i,r),s.current=r)},[r,s]),[r,n,i]}function iae(t){return typeof t=="function"}function zm(t){const e=oae(t),r=b.forwardRef((n,s)=>{const{children:i,...l}=n,d=b.Children.toArray(i),u=d.find(cae);if(u){const f=u.props.children,m=d.map(p=>p===u?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:p);return a.jsx(e,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,m):null})}return a.jsx(e,{...l,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function oae(t){const e=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const l=uae(s),d=dae(i,s.props);return s.type!==b.Fragment&&(d.ref=n?UD(n,l):l),b.cloneElement(s,d)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lae=Symbol("radix.slottable");function cae(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lae}function dae(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...d)=>{const u=i(...d);return s(...d),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function uae(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var hae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ba=hae.reduce((t,e)=>{const r=zm(`Primitive.${e}`),n=b.forwardRef((s,i)=>{const{asChild:l,...d}=s,u=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fae(t,e){t&&Ym.flushSync(()=>t.dispatchEvent(e))}function wc(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function mae(t,e=globalThis==null?void 0:globalThis.document){const r=wc(t);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var pae="DismissableLayer",Ay="dismissableLayer.update",gae="dismissableLayer.pointerDownOutside",xae="dismissableLayer.focusOutside",bA,$D=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BD=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...u}=t,f=b.useContext($D),[m,p]=b.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=b.useState({}),y=xs(e,R=>p(R)),N=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=N.indexOf(w),k=m?N.indexOf(m):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,A=k>=E,C=yae(R=>{const L=R.target,$=[...f.branches].some(M=>M.contains(L));!A||$||(s==null||s(R),l==null||l(R),R.defaultPrevented||d==null||d())},x),O=wae(R=>{const L=R.target;[...f.branches].some(M=>M.contains(L))||(i==null||i(R),l==null||l(R),R.defaultPrevented||d==null||d())},x);return mae(R=>{k===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),b.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(bA=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),vA(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=bA)}},[m,x,r,f]),b.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),vA())},[m,f]),b.useEffect(()=>{const R=()=>v({});return document.addEventListener(Ay,R),()=>document.removeEventListener(Ay,R)},[]),a.jsx(ba.div,{...u,ref:y,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:Qr(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Qr(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Qr(t.onPointerDownCapture,C.onPointerDownCapture)})});BD.displayName=pae;var bae="DismissableLayerBranch",vae=b.forwardRef((t,e)=>{const r=b.useContext($D),n=b.useRef(null),s=xs(e,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(ba.div,{...t,ref:s})});vae.displayName=bae;function yae(t,e=globalThis==null?void 0:globalThis.document){const r=wc(t),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=d=>{if(d.target&&!n.current){let u=function(){zD(gae,r,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function wae(t,e=globalThis==null?void 0:globalThis.document){const r=wc(t),n=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!n.current&&zD(xae,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vA(){const t=new CustomEvent(Ay);document.dispatchEvent(t)}function zD(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?fae(s,i):s.dispatchEvent(i)}var Jb="focusScope.autoFocusOnMount",Qb="focusScope.autoFocusOnUnmount",yA={bubbles:!1,cancelable:!0},jae="FocusScope",FD=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=t,[d,u]=b.useState(null),f=wc(s),m=wc(i),p=b.useRef(null),x=xs(e,N=>u(N)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let N=function(S){if(v.paused||!d)return;const A=S.target;d.contains(A)?p.current=A:$i(p.current,{select:!0})},w=function(S){if(v.paused||!d)return;const A=S.relatedTarget;A!==null&&(d.contains(A)||$i(p.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&$i(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",w);const k=new MutationObserver(E);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",w),k.disconnect()}}},[n,d,v.paused]),b.useEffect(()=>{if(d){jA.add(v);const N=document.activeElement;if(!d.contains(N)){const E=new CustomEvent(Jb,yA);d.addEventListener(Jb,f),d.dispatchEvent(E),E.defaultPrevented||(Nae(Aae(qD(d)),{select:!0}),document.activeElement===N&&$i(d))}return()=>{d.removeEventListener(Jb,f),setTimeout(()=>{const E=new CustomEvent(Qb,yA);d.addEventListener(Qb,m),d.dispatchEvent(E),E.defaultPrevented||$i(N??document.body,{select:!0}),d.removeEventListener(Qb,m),jA.remove(v)},0)}}},[d,f,m,v]);const y=b.useCallback(N=>{if(!r&&!n||v.paused)return;const w=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,E=document.activeElement;if(w&&E){const k=N.currentTarget,[S,A]=_ae(k);S&&A?!N.shiftKey&&E===A?(N.preventDefault(),r&&$i(S,{select:!0})):N.shiftKey&&E===S&&(N.preventDefault(),r&&$i(A,{select:!0})):E===k&&N.preventDefault()}},[r,n,v.paused]);return a.jsx(ba.div,{tabIndex:-1,...l,ref:x,onKeyDown:y})});FD.displayName=jae;function Nae(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if($i(n,{select:e}),document.activeElement!==r)return}function _ae(t){const e=qD(t),r=wA(e,t),n=wA(e.reverse(),t);return[r,n]}function qD(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function wA(t,e){for(const r of t)if(!Eae(r,{upTo:e}))return r}function Eae(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Sae(t){return t instanceof HTMLInputElement&&"select"in t}function $i(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Sae(t)&&e&&t.select()}}var jA=kae();function kae(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=NA(t,e),t.unshift(e)},remove(e){var r;t=NA(t,e),(r=t[0])==null||r.resume()}}}function NA(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Aae(t){return t.filter(e=>e.tagName!=="A")}var Cae="Portal",HD=b.forwardRef((t,e)=>{var d;const{container:r,...n}=t,[s,i]=b.useState(!1);xu(()=>i(!0),[]);const l=r||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?CC.createPortal(a.jsx(ba.div,{...n,ref:e}),l):null});HD.displayName=Cae;function Tae(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var $u=t=>{const{present:e,children:r}=t,n=Oae(e),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=xs(n.ref,Rae(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};$u.displayName="Presence";function Oae(t){const[e,r]=b.useState(),n=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),l=t?"mounted":"unmounted",[d,u]=Tae(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=_f(n.current);i.current=d==="mounted"?f:"none"},[d]),xu(()=>{const f=n.current,m=s.current;if(m!==t){const x=i.current,v=_f(f);t?u("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(m&&x!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),xu(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,p=v=>{const N=_f(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&N&&(u("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},x=v=>{v.target===e&&(i.current=_f(n.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function _f(t){return(t==null?void 0:t.animationName)||"none"}function Rae(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Zb=0;function Dae(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_A()),document.body.insertAdjacentElement("beforeend",t[1]??_A()),Zb++,()=>{Zb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zb--}},[])}function _A(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zf="right-scroll-bar-position",Ff="width-before-scroll-bar",Iae="with-scroll-bars-hidden",Pae="--removed-body-scroll-bar-size";function ev(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Mae(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var Lae=typeof window<"u"?b.useLayoutEffect:b.useEffect,EA=new WeakMap;function Uae(t,e){var r=Mae(null,function(n){return t.forEach(function(s){return ev(s,n)})});return Lae(function(){var n=EA.get(r);if(n){var s=new Set(n),i=new Set(t),l=r.current;s.forEach(function(d){i.has(d)||ev(d,null)}),i.forEach(function(d){s.has(d)||ev(d,l)})}EA.set(r,t)},[t]),r}function $ae(t){return t}function Bae(t,e){e===void 0&&(e=$ae);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var l=e(i,n);return r.push(l),function(){r=r.filter(function(d){return d!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(d){return i(d)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var d=r;r=[],d.forEach(i),l=r}var u=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),r}}}};return s}function zae(t){t===void 0&&(t={});var e=Bae(null);return e.options=bn({async:!0,ssr:!1},t),e}var GD=function(t){var e=t.sideCar,r=Zi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,bn({},r))};GD.isSideCarExport=!0;function Fae(t,e){return t.useMedium(e),GD}var VD=zae(),tv=function(){},Pp=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:tv,onWheelCapture:tv,onTouchMoveCapture:tv}),s=n[0],i=n[1],l=t.forwardProps,d=t.children,u=t.className,f=t.removeScrollBar,m=t.enabled,p=t.shards,x=t.sideCar,v=t.noRelative,y=t.noIsolation,N=t.inert,w=t.allowPinchZoom,E=t.as,k=E===void 0?"div":E,S=t.gapMode,A=Zi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=x,O=Uae([r,e]),R=bn(bn({},A),s);return b.createElement(b.Fragment,null,m&&b.createElement(C,{sideCar:VD,removeScrollBar:f,shards:p,noRelative:v,noIsolation:y,inert:N,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:S}),l?b.cloneElement(b.Children.only(d),bn(bn({},R),{ref:O})):b.createElement(k,bn({},R,{className:u,ref:O}),d))});Pp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pp.classNames={fullWidth:Ff,zeroRight:zf};var qae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qae();return e&&t.setAttribute("nonce",e),t}function Gae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Vae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Yae=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Hae())&&(Gae(e,r),Vae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Wae=function(){var t=Yae();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},YD=function(){var t=Wae(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},Xae={left:0,top:0,right:0,gap:0},rv=function(t){return parseInt(t||"",10)||0},Kae=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rv(r),rv(n),rv(s)]},Jae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Xae;var e=Kae(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Qae=YD(),lc="data-scroll-locked",Zae=function(t,e,r,n){var s=t.left,i=t.top,l=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Iae,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(lc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zf,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ff,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(lc,`] {
    `).concat(Pae,": ").concat(d,`px;
  }
`)},SA=function(){var t=parseInt(document.body.getAttribute(lc)||"0",10);return isFinite(t)?t:0},ene=function(){b.useEffect(function(){return document.body.setAttribute(lc,(SA()+1).toString()),function(){var t=SA()-1;t<=0?document.body.removeAttribute(lc):document.body.setAttribute(lc,t.toString())}},[])},tne=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;ene();var i=b.useMemo(function(){return Jae(s)},[s]);return b.createElement(Qae,{styles:Zae(i,!e,s,r?"":"!important")})},Cy=!1;if(typeof window<"u")try{var Ef=Object.defineProperty({},"passive",{get:function(){return Cy=!0,!0}});window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch{Cy=!1}var Vl=Cy?{passive:!1}:!1,rne=function(t){return t.tagName==="TEXTAREA"},WD=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!rne(t)&&r[e]==="visible")},ane=function(t){return WD(t,"overflowY")},nne=function(t){return WD(t,"overflowX")},kA=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=XD(t,n);if(s){var i=KD(t,n),l=i[1],d=i[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sne=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ine=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},XD=function(t,e){return t==="v"?ane(e):nne(e)},KD=function(t,e){return t==="v"?sne(e):ine(e)},one=function(t,e){return t==="h"&&e==="rtl"?-1:1},lne=function(t,e,r,n,s){var i=one(t,window.getComputedStyle(e).direction),l=i*n,d=r.target,u=e.contains(d),f=!1,m=l>0,p=0,x=0;do{if(!d)break;var v=KD(t,d),y=v[0],N=v[1],w=v[2],E=N-w-i*y;(y||E)&&XD(t,d)&&(p+=E,x+=y);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&d!==document.body||u&&(e.contains(d)||e===d));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(f=!0),f},Sf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AA=function(t){return[t.deltaX,t.deltaY]},CA=function(t){return t&&"current"in t?t.current:t},cne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},une=0,Yl=[];function hne(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(une++)[0],i=b.useState(YD)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var N=zy([t.lockRef.current],(t.shards||[]).map(CA),!0).filter(Boolean);return N.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var d=b.useCallback(function(N,w){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!l.current.allowPinchZoom;var E=Sf(N),k=r.current,S="deltaX"in N?N.deltaX:k[0]-E[0],A="deltaY"in N?N.deltaY:k[1]-E[1],C,O=N.target,R=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in N&&R==="h"&&O.type==="range")return!1;var L=window.getSelection(),$=L&&L.anchorNode,M=$?$===O||$.contains(O):!1;if(M)return!1;var H=kA(R,O);if(!H)return!0;if(H?C=R:(C=R==="v"?"h":"v",H=kA(R,O)),!H)return!1;if(!n.current&&"changedTouches"in N&&(S||A)&&(n.current=C),!C)return!0;var q=n.current||C;return lne(q,w,N,q==="h"?S:A)},[]),u=b.useCallback(function(N){var w=N;if(!(!Yl.length||Yl[Yl.length-1]!==i)){var E="deltaY"in w?AA(w):Sf(w),k=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&cne(C.delta,E)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var S=(l.current.shards||[]).map(CA).filter(Boolean).filter(function(C){return C.contains(w.target)}),A=S.length>0?d(w,S[0]):!l.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),f=b.useCallback(function(N,w,E,k){var S={name:N,delta:w,target:E,should:k,shadowParent:fne(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),m=b.useCallback(function(N){r.current=Sf(N),n.current=void 0},[]),p=b.useCallback(function(N){f(N.type,AA(N),N.target,d(N,t.lockRef.current))},[]),x=b.useCallback(function(N){f(N.type,Sf(N),N.target,d(N,t.lockRef.current))},[]);b.useEffect(function(){return Yl.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",u,Vl),document.addEventListener("touchmove",u,Vl),document.addEventListener("touchstart",m,Vl),function(){Yl=Yl.filter(function(N){return N!==i}),document.removeEventListener("wheel",u,Vl),document.removeEventListener("touchmove",u,Vl),document.removeEventListener("touchstart",m,Vl)}},[]);var v=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(i,{styles:dne(s)}):null,v?b.createElement(tne,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mne=Fae(VD,hne);var JD=b.forwardRef(function(t,e){return b.createElement(Pp,bn({},t,{ref:e,sideCar:mne}))});JD.classNames=Pp.classNames;var pne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,kf=new WeakMap,Af={},av=0,QD=function(t){return t&&(t.host||QD(t.parentNode))},gne=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=QD(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},xne=function(t,e,r,n){var s=gne(e,Array.isArray(t)?t:[t]);Af[r]||(Af[r]=new WeakMap);var i=Af[r],l=[],d=new Set,u=new Set(s),f=function(p){!p||d.has(p)||(d.add(p),f(p.parentNode))};s.forEach(f);var m=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(x){if(d.has(x))m(x);else try{var v=x.getAttribute(n),y=v!==null&&v!=="false",N=(Wl.get(x)||0)+1,w=(i.get(x)||0)+1;Wl.set(x,N),i.set(x,w),l.push(x),N===1&&y&&kf.set(x,!0),w===1&&x.setAttribute(r,"true"),y||x.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return m(e),d.clear(),av++,function(){l.forEach(function(p){var x=Wl.get(p)-1,v=i.get(p)-1;Wl.set(p,x),i.set(p,v),x||(kf.has(p)||p.removeAttribute(n),kf.delete(p)),v||p.removeAttribute(r)}),av--,av||(Wl=new WeakMap,Wl=new WeakMap,kf=new WeakMap,Af={})}},bne=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=pne(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),xne(n,s,r,"aria-hidden")):function(){return null}},Mp="Dialog",[ZD]=Ip(Mp),[vne,Jn]=ZD(Mp),eI=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:l=!0}=t,d=b.useRef(null),u=b.useRef(null),[f,m]=k1({prop:n,defaultProp:s??!1,onChange:i,caller:Mp});return a.jsx(vne,{scope:e,triggerRef:d,contentRef:u,contentId:Qd(),titleId:Qd(),descriptionId:Qd(),open:f,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(p=>!p),[m]),modal:l,children:r})};eI.displayName=Mp;var tI="DialogTrigger",yne=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Jn(tI,r),i=xs(e,s.triggerRef);return a.jsx(ba.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":T1(s.open),...n,ref:i,onClick:Qr(t.onClick,s.onOpenToggle)})});yne.displayName=tI;var A1="DialogPortal",[wne,rI]=ZD(A1,{forceMount:void 0}),aI=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Jn(A1,e);return a.jsx(wne,{scope:e,forceMount:r,children:b.Children.map(n,l=>a.jsx($u,{present:r||i.open,children:a.jsx(HD,{asChild:!0,container:s,children:l})}))})};aI.displayName=A1;var Fm="DialogOverlay",nI=b.forwardRef((t,e)=>{const r=rI(Fm,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Jn(Fm,t.__scopeDialog);return i.modal?a.jsx($u,{present:n||i.open,children:a.jsx(Nne,{...s,ref:e})}):null});nI.displayName=Fm;var jne=zm("DialogOverlay.RemoveScroll"),Nne=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Jn(Fm,r);return a.jsx(JD,{as:jne,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ba.div,{"data-state":T1(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Jo="DialogContent",sI=b.forwardRef((t,e)=>{const r=rI(Jo,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Jn(Jo,t.__scopeDialog);return a.jsx($u,{present:n||i.open,children:i.modal?a.jsx(_ne,{...s,ref:e}):a.jsx(Ene,{...s,ref:e})})});sI.displayName=Jo;var _ne=b.forwardRef((t,e)=>{const r=Jn(Jo,t.__scopeDialog),n=b.useRef(null),s=xs(e,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return bne(i)},[]),a.jsx(iI,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qr(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Qr(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&i.preventDefault()}),onFocusOutside:Qr(t.onFocusOutside,i=>i.preventDefault())})}),Ene=b.forwardRef((t,e)=>{const r=Jn(Jo,t.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return a.jsx(iI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,d;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(d=r.triggerRef.current)==null||d.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),iI=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=t,d=Jn(Jo,r),u=b.useRef(null),f=xs(e,u);return Dae(),a.jsxs(a.Fragment,{children:[a.jsx(FD,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(BD,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":T1(d.open),...l,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Cne,{titleId:d.titleId}),a.jsx(One,{contentRef:u,descriptionId:d.descriptionId})]})]})}),C1="DialogTitle",Sne=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Jn(C1,r);return a.jsx(ba.h2,{id:s.titleId,...n,ref:e})});Sne.displayName=C1;var oI="DialogDescription",kne=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Jn(oI,r);return a.jsx(ba.p,{id:s.descriptionId,...n,ref:e})});kne.displayName=oI;var lI="DialogClose",Ane=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Jn(lI,r);return a.jsx(ba.button,{type:"button",...n,ref:e,onClick:Qr(t.onClick,()=>s.onOpenChange(!1))})});Ane.displayName=lI;function T1(t){return t?"open":"closed"}var cI="DialogTitleWarning",[Ice,dI]=eae(cI,{contentName:Jo,titleName:C1,docsSlug:"dialog"}),Cne=({titleId:t})=>{const e=dI(cI),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Tne="DialogDescriptionWarning",One=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dI(Tne).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Lp=eI,Up=aI,$p=nI,Bp=sI;class Rne{async getSenderIdentity(){try{const{data:e}=await V.from("business_settings").select("sender_name, business_name").single();if(e)return e.sender_name||e.business_name}catch(e){console.warn("[EmailService] Failed to fetch sender identity:",e)}}async sendEmail(e){try{e.from_name||(e.from_name=await this.getSenderIdentity());const r=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const n=await r.json();return console.error("[EmailService] Error sending email:",n),!1}return!0}catch(r){return console.error("[EmailService] Network error:",r),!1}}async sendPaymentApproved(e){var l,d;const{data:r}=await V.from("email_templates").select("*").eq("event_type","ORDER_COMPLETED").eq("active",!0).single(),n=((d=(l=e.items)==null?void 0:l[0])==null?void 0:d.name)||"seu produto",s="https://app.supercheckout.com/login";if(r){const u={"{{order_id}}":e.id?"#"+e.id.split("-")[0]:"","{{customer_name}}":e.customer_name||"Cliente","{{product_names}}":n,"{{members_area_url}}":s};let f=r.subject,m=r.html_body;for(const[p,x]of Object.entries(u))f=f.replace(new RegExp(p,"g"),x),m=m.replace(new RegExp(p,"g"),x);return await this.sendEmail({to:e.customer_email,subject:f,html:m})}const i=`
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso Liberado!</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f6f6f6;">
    <center style="width: 100%; background-color: #f6f6f6;">
        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; padding: 20px 0; box-shadow: 0 0 10px rgba(0,0,0,0.05);">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding: 20px; font-family: Arial, sans-serif; background-color: #ffffff; text-align: center;">
                        <p style="font-size: 24px; font-weight: bold; color: #1a1a1a; margin-top: 0; margin-bottom: 20px;">
                            Ol, ${e.customer_name}!
                        </p>
                        <p style="font-size: 16px; line-height: 1.5; color: #555555; margin-bottom: 30px;">
                            Seu pagamento para o produto <strong>${n}</strong> foi aprovado com sucesso!
                            <br>Voc j pode acessar seu produto e comear agora mesmo.
                        </p>
                        <div style="margin: 0 auto 40px auto; display: block;">
                            <table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center" style="margin: auto;">
                                <tr>
                                    <td style="border-radius: 6px; background: #007bff; text-align: center;">
                                        <a href="${s}" target="_blank" 
                                           style="background: #007bff; border: 1px solid #007bff; padding: 12px 25px; color: #ffffff; display: inline-block; 
                                                  font-family: Arial, sans-serif; font-size: 17px; font-weight: bold; text-decoration: none; border-radius: 6px;">
                                            ACESSAR REA DE MEMBROS
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <p style="font-size: 14px; line-height: 1.5; color: #555555; margin-top: 0; margin-bottom: 20px;">
                            Conte com nosso time de suporte se precisar de qualquer ajuda.<br>
                            Atenciosamente,<br>
                            <strong>Super Checkout</strong>
                        </p>
                    </td>
                </tr>
            </table>
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding: 20px; font-family: Arial, sans-serif; font-size: 11px; color: #AAAAAA; text-align: center; border-top: 1px solid #eeeeee; margin-top: 30px;">
                        Este  um e-mail automtico transacional e no deve ser respondido.<br>
                        Seu ${n}  um lanamento da Super Checkout.
                    </td>
                </tr>
            </table>
        </div>
    </center>
</body>
</html>
    `;return await this.sendEmail({to:e.customer_email,subject:"Pagamento Aprovado - Acesso Liberado!",html:i})}async sendAccessEmail(e){const{data:r}=await V.from("email_templates").select("*").eq("event_type","ACCESS_GRANTED").eq("active",!0).single(),n=e.membersAreaUrl||"https://app.supercheckout.com/login";if(r){const s={"{{name}}":e.name||"Cliente","{{email}}":e.email,"{{members_area_url}}":n};let i=r.subject,l=r.html_body;for(const[d,u]of Object.entries(s))i=i.replace(new RegExp(d,"g"),u),l=l.replace(new RegExp(d,"g"),u);return await this.sendEmail({to:e.email,subject:i,html:l})}return await this.sendEmail({to:e.email,subject:"Acesso Liberado - rea de Membros",html:`<h1>Ol, ${e.name}!</h1><p>Seu acesso foi liberado. Acesse em: ${n}</p>`})}async sendBoletoGenerated(e,r,n){var s,i;(i=(s=e.items)==null?void 0:s[0])!=null&&i.name}async sendSystemEmail(e,r,n){try{const{data:s}=await V.from("system_email_templates").select("*").eq("event_type",e).eq("active",!0).maybeSingle();if(!s)return console.warn(`[EmailService] System template not found or inactive for: ${e}`),!1;let i=s.subject,l=s.html_body;for(const[d,u]of Object.entries(n))i=i.replace(new RegExp(d,"g"),u),l=l.replace(new RegExp(d,"g"),u);return await this.sendEmail({to:r,subject:i,html:l,from_name:"Super Checkout"})}catch(s){return console.error(`[EmailService] Error sending system email ${e}:`,s),!1}}async sendWelcomeFree(e,r){return await this.sendSystemEmail("WELCOME_FREE",e,{"{{name}}":r,"{{portal_url}}":"https://app.supercheckout.com.br/login"})}async sendUpgradeUnlimited(e,r){return await this.sendSystemEmail("UPGRADE_UNLIMITED",e,{"{{name}}":r,"{{support_url}}":"https://wa.me/55..."})}async sendUpgradePartner(e,r){return await this.sendSystemEmail("UPGRADE_PARTNER",e,{"{{name}}":r,"{{partner_portal_url}}":"https://app.supercheckout.com.br/admin/partner"})}}const Un=new Rne,uI=Object.freeze(Object.defineProperty({__proto__:null,emailService:Un},Symbol.toStringTag,{value:"Module"})),hI=6048e5,Dne=864e5,TA=Symbol.for("constructDateFrom");function Qi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&TA in t?t[TA](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qn(t,e){return Qi(e||t,t)}let Ine={};function zp(){return Ine}function bu(t,e){var d,u,f,m;const r=zp(),n=(e==null?void 0:e.weekStartsOn)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,s=Qn(t,e==null?void 0:e.in),i=s.getDay(),l=(i<n?7:0)+i-n;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function qm(t,e){return bu(t,{...e,weekStartsOn:1})}function fI(t,e){const r=Qn(t,e==null?void 0:e.in),n=r.getFullYear(),s=Qi(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=qm(s),l=Qi(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const d=qm(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function OA(t){const e=Qn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Pne(t,...e){const r=Qi.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function RA(t,e){const r=Qn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Mne(t,e,r){const[n,s]=Pne(r==null?void 0:r.in,t,e),i=RA(n),l=RA(s),d=+i-OA(i),u=+l-OA(l);return Math.round((d-u)/Dne)}function Lne(t,e){const r=fI(t,e),n=Qi(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),qm(n)}function Une(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $ne(t){return!(!Une(t)&&typeof t!="number"||isNaN(+Qn(t)))}function Bne(t,e){const r=Qn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const zne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fne=(t,e,r)=>{let n;const s=zne[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cc(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const qne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vne={date:cc({formats:qne,defaultWidth:"full"}),time:cc({formats:Hne,defaultWidth:"full"}),dateTime:cc({formats:Gne,defaultWidth:"full"})},Yne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wne=(t,e,r,n)=>Yne[t];function os(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=r!=null&&r.width?String(r.width):l;s=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[d]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Xne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ese={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tse=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rse={ordinalNumber:tse,era:os({values:Xne,defaultWidth:"wide"}),quarter:os({values:Kne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:os({values:Jne,defaultWidth:"wide"}),day:os({values:Qne,defaultWidth:"wide"}),dayPeriod:os({values:Zne,defaultWidth:"wide",formattingValues:ese,defaultFormattingWidth:"wide"})};function ls(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const l=i[0],d=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(d)?nse(d,p=>p.test(l)):ase(d,p=>p.test(l));let f;f=t.valueCallback?t.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const m=e.slice(l.length);return{value:f,rest:m}}}function ase(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function nse(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function mI(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const d=e.slice(s.length);return{value:l,rest:d}}}const sse=/^(\d+)(th|st|nd|rd)?/i,ise=/\d+/i,ose={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lse={any:[/^b/i,/^(a|c)/i]},cse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dse={any:[/1/i,/2/i,/3/i,/4/i]},use={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xse={ordinalNumber:mI({matchPattern:sse,parsePattern:ise,valueCallback:t=>parseInt(t,10)}),era:ls({matchPatterns:ose,defaultMatchWidth:"wide",parsePatterns:lse,defaultParseWidth:"any"}),quarter:ls({matchPatterns:cse,defaultMatchWidth:"wide",parsePatterns:dse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ls({matchPatterns:use,defaultMatchWidth:"wide",parsePatterns:hse,defaultParseWidth:"any"}),day:ls({matchPatterns:fse,defaultMatchWidth:"wide",parsePatterns:mse,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:pse,defaultMatchWidth:"any",parsePatterns:gse,defaultParseWidth:"any"})},bse={code:"en-US",formatDistance:Fne,formatLong:Vne,formatRelative:Wne,localize:rse,match:xse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vse(t,e){const r=Qn(t,e==null?void 0:e.in);return Mne(r,Bne(r))+1}function yse(t,e){const r=Qn(t,e==null?void 0:e.in),n=+qm(r)-+Lne(r);return Math.round(n/hI)+1}function pI(t,e){var m,p,x,v;const r=Qn(t,e==null?void 0:e.in),n=r.getFullYear(),s=zp(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(x=s.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,l=Qi((e==null?void 0:e.in)||t,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const d=bu(l,e),u=Qi((e==null?void 0:e.in)||t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const f=bu(u,e);return+r>=+d?n+1:+r>=+f?n:n-1}function wse(t,e){var d,u,f,m;const r=zp(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=pI(t,e),i=Qi((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),bu(i,e)}function jse(t,e){const r=Qn(t,e==null?void 0:e.in),n=+bu(r,e)-+wse(r,e);return Math.round(n/hI)+1}function yt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Li={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return yt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):yt(r+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return yt(s,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DA={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Li.y(t,e)},Y:function(t,e,r,n){const s=pI(t,n),i=s>0?s:1-s;if(e==="YY"){const l=i%100;return yt(l,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):yt(i,e.length)},R:function(t,e){const r=fI(t);return yt(r,e.length)},u:function(t,e){const r=t.getFullYear();return yt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Li.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=jse(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):yt(s,e.length)},I:function(t,e,r){const n=yse(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):yt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Li.d(t,e)},D:function(t,e,r){const n=vse(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return yt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return yt(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return yt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Xl.noon:n===0?s=Xl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Xl.evening:n>=12?s=Xl.afternoon:n>=4?s=Xl.morning:s=Xl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Li.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Li.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Li.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Li.s(t,e)},S:function(t,e){return Li.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return PA(n);case"XXXX":case"XX":return To(n);case"XXXXX":case"XXX":default:return To(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return PA(n);case"xxxx":case"xx":return To(n);case"xxxxx":case"xxx":default:return To(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+IA(n,":");case"OOOO":default:return"GMT"+To(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+IA(n,":");case"zzzz":default:return"GMT"+To(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return yt(n,e.length)},T:function(t,e,r){return yt(+t,e.length)}};function IA(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+yt(i,2)}function PA(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):To(t,e)}function To(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=yt(Math.trunc(n/60),2),i=yt(n%60,2);return r+s+e+i}const MA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Nse=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return MA(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",MA(n,e)).replace("{{time}}",gI(s,e))},_se={p:gI,P:Nse},Ese=/^D+$/,Sse=/^Y+$/,kse=["D","DD","YY","YYYY"];function Ase(t){return Ese.test(t)}function Cse(t){return Sse.test(t)}function Tse(t,e,r){const n=Ose(t,e,r);if(console.warn(n),kse.includes(t))throw new RangeError(n)}function Ose(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ise=/^'([^]*?)'?$/,Pse=/''/g,Mse=/[a-zA-Z]/;function Us(t,e,r){var m,p,x,v,y,N,w,E;const n=zp(),s=(r==null?void 0:r.locale)??n.locale??bse,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((N=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((E=(w=n.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,d=Qn(t,r==null?void 0:r.in);if(!$ne(d))throw new RangeError("Invalid time value");let u=e.match(Dse).map(k=>{const S=k[0];if(S==="p"||S==="P"){const A=_se[S];return A(k,s.formatLong)}return k}).join("").match(Rse).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const S=k[0];if(S==="'")return{isToken:!1,value:Lse(k)};if(DA[S])return{isToken:!0,value:k};if(S.match(Mse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(u=s.localize.preprocessor(d,u));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return u.map(k=>{if(!k.isToken)return k.value;const S=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Cse(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ase(S))&&Tse(S,e,String(t));const A=DA[S[0]];return A(d,S,s.localize,f)}).join("")}function Lse(t){const e=t.match(Ise);return e?e[1].replace(Pse,"'"):t}const Use={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},$se=(t,e,r)=>{let n;const s=Use[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},Bse={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},zse={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Fse={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qse={date:cc({formats:Bse,defaultWidth:"full"}),time:cc({formats:zse,defaultWidth:"full"}),dateTime:cc({formats:Fse,defaultWidth:"full"})},Hse={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Gse=(t,e,r,n)=>{const s=Hse[t];return typeof s=="function"?s(e):s},Vse={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Yse={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Wse={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Xse={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Kse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Jse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Qse=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},Zse={ordinalNumber:Qse,era:os({values:Vse,defaultWidth:"wide"}),quarter:os({values:Yse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:os({values:Wse,defaultWidth:"wide"}),day:os({values:Xse,defaultWidth:"wide"}),dayPeriod:os({values:Kse,defaultWidth:"wide",formattingValues:Jse,defaultFormattingWidth:"wide"})},eie=/^(\d+)[o]?/i,tie=/\d+/i,rie={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},aie={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},nie={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},sie={any:[/1/i,/2/i,/3/i,/4/i]},iie={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},oie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},lie={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},cie={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},die={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},uie={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},hie={ordinalNumber:mI({matchPattern:eie,parsePattern:tie,valueCallback:t=>parseInt(t,10)}),era:ls({matchPatterns:rie,defaultMatchWidth:"wide",parsePatterns:aie,defaultParseWidth:"any"}),quarter:ls({matchPatterns:nie,defaultMatchWidth:"wide",parsePatterns:sie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ls({matchPatterns:iie,defaultMatchWidth:"wide",parsePatterns:oie,defaultParseWidth:"any"}),day:ls({matchPatterns:lie,defaultMatchWidth:"wide",parsePatterns:cie,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:die,defaultMatchWidth:"any",parsePatterns:uie,defaultParseWidth:"any"})},Hm={code:"pt-BR",formatDistance:$se,formatLong:qse,formatRelative:Gse,localize:Zse,match:hie,options:{weekStartsOn:0,firstWeekContainsDate:1}},fie=({order:t,isOpen:e,onClose:r})=>{var m;const[n,s]=b.useState(!1),[i,l]=b.useState({isOpen:!1,title:"",message:"",variant:"info"});if(!t)return null;const d=p=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p),u=()=>{var y,N;if(!t.customer_phone)return;const p=t.customer_phone.replace(/\D/g,""),x=((N=(y=t.items)==null?void 0:y[0])==null?void 0:N.name)||"Produto",v=`Ol ${t.customer_name}, vi que voc adquiriu o produto ${x}. Precisa de ajuda em algo?`;window.open(`https://wa.me/55${p}?text=${encodeURIComponent(v)}`,"_blank")},f=async()=>{s(!0);try{if(await Un.sendPaymentApproved(t))l({isOpen:!0,title:"Sucesso",message:"E-mail de confirmao de venda reenviado com sucesso!",variant:"success"});else throw new Error("Falha ao enviar e-mail")}catch{l({isOpen:!0,title:"Erro",message:"No foi possvel reenviar o e-mail. Tente novamente mais tarde.",variant:"error"})}finally{s(!1)}};return a.jsxs(Lp,{open:e,onOpenChange:r,children:[a.jsxs(Up,{children:[a.jsx($p,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),a.jsxs(Bp,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-2xl bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl z-50 flex flex-col overflow-hidden outline-none animate-in zoom-in-95 duration-200 border border-purple-500/20 max-h-[90vh]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsxs("div",{className:"relative flex-none p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes do Pedido"}),a.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-mono bg-purple-500/10 text-purple-400 border border-purple-500/20",children:["#",t.id.slice(0,8)]})]}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(ui,{className:"w-4 h-4"}),Us(new Date(t.created_at),"d 'de' MMMM 's' HH:mm",{locale:Hm})]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Mr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"relative flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20",children:[a.jsx("div",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Status do Pedido"}),a.jsxs("div",{className:"flex items-center gap-2",children:[t.status==="paid"?a.jsx(ut,{className:"w-5 h-5 text-green-500"}):t.status==="pending"?a.jsx(qn,{className:"w-5 h-5 text-yellow-500"}):a.jsx(Ir,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:`font-bold ${t.status==="paid"?"text-green-400":t.status==="pending"?"text-yellow-400":"text-red-400"}`,children:t.status==="paid"?"Aprovado":t.status==="pending"?"Pendente":t.status==="failed"?"Falhou":t.status})]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20",children:[a.jsx("div",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Pagamento"}),a.jsxs("div",{className:"flex items-center gap-2 text-white font-medium capitalize",children:[a.jsx(ao,{className:"w-5 h-5 text-gray-400"}),t.payment_method==="credit_card"?"Carto de Crdito":t.payment_method]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Ra,{className:"w-4 h-4 text-purple-400"})," Informaes do Cliente"]}),a.jsx("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden",children:a.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Nome Completo"}),a.jsx("div",{className:"font-medium text-white",children:t.customer_name})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"E-mail"}),a.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[t.customer_email,a.jsx("button",{className:"text-gray-400 hover:text-primary transition-colors",title:"Copiar",children:a.jsx(oa,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"CPF"}),a.jsx("div",{className:"font-medium text-white",children:t.customer_cpf||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Telefone"}),a.jsxs("div",{className:"font-medium text-white flex items-center gap-2",children:[t.customer_phone||"-",t.customer_phone&&a.jsx("button",{onClick:u,className:"bg-green-500/10 hover:bg-green-500/20 text-green-500 p-1 rounded-md transition-colors",title:"Conversar no WhatsApp",children:a.jsx(gu,{className:"w-4 h-4"})})]})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4 text-purple-400"})," Itens do Pedido"]}),a.jsx("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-100 dark:border-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Produto"}),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 text-right",children:"Qtd"}),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 text-right",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:(m=t.items)==null?void 0:m.map((p,x)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-white",children:p.name}),a.jsx("td",{className:"px-4 py-3 text-gray-500 text-right",children:p.quantity}),a.jsx("td",{className:"px-4 py-3 text-white text-right font-medium",children:d(p.price)})]},x))}),a.jsx("tfoot",{className:"bg-gray-50/50 dark:bg-white/5 border-t border-gray-100 dark:border-white/5",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:2,className:"px-4 py-3 font-bold text-white text-right",children:"Total do Pedido"}),a.jsx("td",{className:"px-4 py-3 font-bold text-purple-400 text-2xl text-right",children:d(t.amount)})]})})]})})]})]}),a.jsxs("div",{className:"relative p-6 border-t border-white/10 bg-white/[0.02] flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:["ID Transao: ",a.jsx("span",{className:"font-mono select-all",children:t.gateway_id||"-"})]}),a.jsxs("div",{className:"flex gap-3",children:[t.status==="paid"&&a.jsxs(je,{variant:"secondary",onClick:f,disabled:n,className:"bg-white/5 hover:bg-white/10 text-white border-white/10",children:[n?a.jsx(Bn,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(At,{className:"w-4 h-4 mr-2"}),"Reenviar E-mail de Venda"]}),a.jsx(je,{variant:"secondary",onClick:r,className:"bg-purple-600 hover:bg-purple-700 text-white border-none",children:"Fechar"})]})]})]})]}),a.jsx($r,{isOpen:i.isOpen,onClose:()=>l({...i,isOpen:!1}),title:i.title,message:i.message,variant:i.variant})]})},mie=({customer:t,isOpen:e,onClose:r})=>{const[n,s]=b.useState(!1),[i,l]=b.useState({isOpen:!1,title:"",message:"",variant:"info"});if(!t)return null;const d=p=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p),u=p=>new Date(p).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}),f=()=>{if(!t.phone)return;const p=t.phone.replace(/\D/g,"");window.open(`https://wa.me/55${p}`,"_blank")},m=async()=>{s(!0);try{const x=(await ce.getOrders()).filter(y=>y.customer_email===t.email&&y.status==="paid").sort((y,N)=>new Date(N.created_at).getTime()-new Date(y.created_at).getTime())[0];if(!x){l({isOpen:!0,title:"Aviso",message:"Nenhum pedido aprovado encontrado para este cliente.",variant:"info"});return}if(await Un.sendPaymentApproved(x))l({isOpen:!0,title:"Sucesso",message:"E-mail de confirmao de venda reenviado com sucesso!",variant:"success"});else throw new Error("Falha ao enviar e-mail")}catch{l({isOpen:!0,title:"Erro",message:"No foi possvel reenviar o e-mail. Tente novamente mais tarde.",variant:"error"})}finally{s(!1)}};return a.jsxs(Lp,{open:e,onOpenChange:r,children:[a.jsxs(Up,{children:[a.jsx($p,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),a.jsxs(Bp,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-2xl bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl z-50 flex flex-col overflow-hidden outline-none animate-in zoom-in-95 duration-200 border border-purple-500/20 max-h-[90vh]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsxs("div",{className:"relative flex-none p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-3 mb-1",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes do Cliente"})}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente desde ",u(t.lastOrderDate)," (Baseado no ltimo pedido)"]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Mr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"relative flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20 flex flex-col items-center text-center",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-full text-green-500 mb-2",children:a.jsx(gr,{className:"w-5 h-5"})}),a.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Total Gasto"}),a.jsx("div",{className:"text-xl font-bold text-white",children:d(t.totalSpent)})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-black/30 border border-purple-500/20 flex flex-col items-center text-center",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full text-blue-500 mb-2",children:a.jsx(oa,{className:"w-5 h-5"})}),a.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Total Pedidos"}),a.jsx("div",{className:"text-xl font-bold text-white",children:t.orderCount})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Ra,{className:"w-4 h-4 text-purple-400"})," Dados de Contato"]}),a.jsxs("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-500 font-bold",children:t.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-white",children:t.name}),a.jsx("div",{className:"text-xs text-gray-500",children:"Nome registrado no checkout"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2 border-t border-gray-100 dark:border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:t.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jee,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:t.phone||"No informado"}),t.phone&&a.jsxs("button",{onClick:f,className:"ml-auto text-green-500 text-xs font-bold hover:underline flex items-center gap-1",children:[a.jsx(gu,{className:"w-3 h-3"})," WhatsApp"]})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-wider flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4 text-purple-400"})," Produtos Adquiridos"]}),a.jsx("div",{className:"bg-black/20 rounded-xl border border-purple-500/20 overflow-hidden p-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:t.products.map((p,x)=>a.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-purple-500/10 text-purple-400 text-sm border border-purple-500/20",children:p},x))})})]})]}),a.jsxs("div",{className:"relative p-6 border-t border-white/10 bg-white/[0.02] flex flex-col md:flex-row justify-end items-center gap-4",children:[a.jsxs(je,{variant:"secondary",onClick:m,disabled:n,className:"w-full md:w-auto bg-white/5 hover:bg-white/10 text-white border-white/10",children:[n?a.jsx(Bn,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(At,{className:"w-4 h-4 mr-2"}),"Reenviar E-mail de Venda"]}),a.jsx(je,{variant:"secondary",onClick:r,className:"w-full md:w-auto bg-purple-600 hover:bg-purple-700 text-white border-none",children:"Fechar"})]})]})]}),a.jsx($r,{isOpen:i.isOpen,onClose:()=>l({...i,isOpen:!1}),title:i.title,message:i.message,variant:i.variant})]})},pie=()=>{const[t,e]=b.useState("orders"),[r,n]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,f]=b.useState(!1),[m,p]=b.useState(1),x=10,[v,y]=b.useState({search:"",status:"all",method:"all",productId:"all"}),[N,w]=b.useState("Ol {{nome}}, vi que voc adquiriu o produto {{produto}}. Precisa de ajuda em algo?"),[E,k]=b.useState(!1),[S,A]=b.useState(null),[C,O]=b.useState(null);b.useEffect(()=>{R()},[]);const R=async()=>{const D=await ce.getOrders(),U=await ce.getProducts();d(U);const W=D.sort((he,J)=>new Date(J.created_at).getTime()-new Date(he.created_at).getTime());n(W);const re=new Map;W.forEach(he=>{var ae,Ae;const J=he.customer_email;if(!J)return;const ve=re.get(J),Te=((Ae=(ae=he.items)==null?void 0:ae[0])==null?void 0:Ae.name)||"Produto";ve?(ve.totalSpent+=he.amount,ve.orderCount+=1,ve.products.includes(Te)||ve.products.push(Te)):re.set(J,{email:J,name:he.customer_name,phone:he.customer_phone,totalSpent:he.amount,orderCount:1,lastOrderDate:he.created_at,products:[Te]})}),i(Array.from(re.values()))},L=D=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D),$=D=>new Date(D).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}),M=D=>{const U={[wt.PAID]:{label:"Aprovado",cls:"bg-green-500/10 text-green-500 border-green-500/20"},[wt.PENDING]:{label:"Pendente",cls:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"},[wt.FAILED]:{label:"Falhou",cls:"bg-red-500/10 text-red-500 border-red-500/20"},[wt.CANCELED]:{label:"Cancelado",cls:"bg-gray-500/10 text-gray-500 border-gray-500/20"},[wt.REFUNDED]:{label:"Reembolsado",cls:"bg-purple-500/10 text-purple-500 border-purple-500/20"}},W=U[D]||U[wt.PENDING];return a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border ${W.cls}`,children:W.label})},H=r.filter(D=>{const U=D.customer_name.toLowerCase().includes(v.search.toLowerCase())||D.customer_email.toLowerCase().includes(v.search.toLowerCase())||D.id.includes(v.search),W=v.status==="all"||D.status===v.status,re=v.method==="all"||D.payment_method===v.method,he=v.productId==="all"||D.items&&D.items.some(J=>{var ve;return J.name===((ve=l.find(Te=>Te.id===v.productId))==null?void 0:ve.name)});return U&&W&&re&&he}),q=s.filter(D=>{var he;const U=D.name.toLowerCase().includes(v.search.toLowerCase())||D.email.toLowerCase().includes(v.search.toLowerCase()),W=v.productId!=="all"?(he=l.find(J=>J.id===v.productId))==null?void 0:he.name:null,re=!W||D.products.includes(W);return U&&re}),F=Math.ceil(t==="orders"?H.length/x:q.length/x),X=H.slice((m-1)*x,m*x),ue=q.slice((m-1)*x,m*x);b.useEffect(()=>{p(1)},[t,v.search,v.status,v.method,v.productId]);const I=(v.productId!=="all"?H:r.filter(D=>D.status===wt.PAID)).reduce((D,U)=>D+(U.status===wt.PAID?U.amount:0),0),z=H.length,oe=t==="customers"?q.length:new Set(H.map(D=>D.customer_email)).size,K=()=>{const D=[["Nome","Email","Telefone","Total Gasto","Pedidos","Produtos"].join(","),...q.map(he=>[`"${he.name}"`,he.email,he.phone||"",he.totalSpent.toFixed(2),he.orderCount,`"${he.products.join("; ")}"`].join(","))].join(`
`),U=new Blob([D],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(U),re=document.createElement("a");re.href=W,re.setAttribute("download","clientes_export.csv"),document.body.appendChild(re),re.click(),document.body.removeChild(re)};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-6 gap-4 border-b border-gray-200 dark:border-white/5 pb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"Pedidos & CRM"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Viso geral de vendas e gerenciamento de clientes"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-gray-100 dark:bg-black/20 p-1.5 rounded-xl border border-gray-200 dark:border-white/5",children:[a.jsx("button",{onClick:()=>e("orders"),className:`px-5 py-2 rounded-lg text-sm transition-all font-medium ${t==="orders"?"bg-primary text-white shadow-lg":"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5"}`,children:"Pedidos"}),a.jsx("button",{onClick:()=>e("customers"),className:`px-5 py-2 rounded-lg text-sm transition-all font-medium ${t==="customers"?"bg-primary text-white shadow-lg":"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5"}`,children:"Clientes"}),a.jsx("div",{className:"h-6 w-px bg-white/10 mx-1"}),t==="customers"&&a.jsxs(je,{variant:"ghost",onClick:K,className:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5 px-4 h-9",children:[a.jsx(ei,{className:"w-4 h-4 mr-2"})," Exportar"]}),a.jsxs(je,{variant:"ghost",onClick:()=>k(!0),className:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-white/5 px-4 h-9",children:[a.jsx(gu,{className:"w-4 h-4 mr-2"})," Msg WhatsApp"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs(De,{noPadding:!0,className:"p-6 relative overflow-hidden group border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-3xl -mr-16 -mt-16 transition-opacity opacity-50 group-hover:opacity-100"}),a.jsxs("div",{className:"flex justify-between items-start relative",children:[a.jsxs("div",{className:"mr-4",children:[a.jsx("p",{className:"text-xs text-green-400 font-bold uppercase tracking-wider mb-1",children:v.productId!=="all"?"Faturamento (Filtrado)":"Faturamento Total"}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:L(I)})]}),a.jsx("div",{className:"p-3 bg-green-500/10 rounded-xl border border-green-500/20 text-green-500 shadow-[0_0_15px_rgba(34,197,94,0.1)]",children:a.jsx(Mm,{className:"w-6 h-6"})})]})]}),a.jsxs(De,{noPadding:!0,className:"p-6 relative overflow-hidden group border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl -mr-16 -mt-16 transition-opacity opacity-50 group-hover:opacity-100"}),a.jsxs("div",{className:"flex justify-between items-start relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-400 font-bold uppercase tracking-wider mb-1",children:t==="orders"?"Vendas Realizadas":"Vendas Totais"}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:z})]}),a.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl border border-blue-500/20 text-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.1)]",children:a.jsx(gr,{className:"w-6 h-6"})})]})]}),a.jsxs(De,{noPadding:!0,className:"p-6 relative overflow-hidden group border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -mr-16 -mt-16 transition-opacity opacity-50 group-hover:opacity-100"}),a.jsxs("div",{className:"flex justify-between items-start relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-purple-400 font-bold uppercase tracking-wider mb-1",children:t==="customers"?"Clientes (Filtrado)":"Clientes nicos"}),a.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:oe})]}),a.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl border border-purple-500/20 text-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.1)]",children:a.jsx(jr,{className:"w-6 h-6"})})]})]})]}),a.jsxs(De,{noPadding:!0,className:"flex flex-col min-h-[600px] border-gray-200 dark:border-white/5 bg-white dark:bg-[#12121A]",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/5 flex flex-col xl:flex-row justify-between gap-4 bg-gray-50 dark:bg-white/[0.02]",children:[a.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[t==="orders"?"Todas as Vendas":"Base de Clientes",a.jsx("span",{className:"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded text-xs font-mono",children:t==="orders"?H.length:q.length})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("div",{className:"relative flex-grow md:flex-grow-0",children:[a.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx("input",{type:"text",placeholder:t==="orders"?"Buscar pedido...":"Buscar cliente...",className:"w-full md:w-64 bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-gray-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary/50 transition-all placeholder:text-gray-500 dark:placeholder:text-gray-600",value:v.search,onChange:D=>y({...v,search:D.target.value})})]}),a.jsx("div",{className:"flex-grow md:flex-grow-0 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(ga,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsxs("select",{className:"w-full bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg pl-10 pr-8 py-2 text-sm text-gray-900 dark:text-white focus:ring-1 focus:ring-primary appearance-none cursor-pointer hover:border-gray-300 dark:hover:border-white/20 transition-colors",value:v.productId,onChange:D=>y({...v,productId:D.target.value}),children:[a.jsx("option",{value:"all",children:"Todos os Produtos"}),l.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx(YQ,{className:"w-3 h-3 text-gray-500"})})]})}),a.jsx(je,{variant:"outline",onClick:()=>f(!u),className:`border-gray-200 dark:border-white/10 ${u?"bg-gray-100 dark:bg-white/10 text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:a.jsx(y1,{className:"w-4 h-4"})})]})]}),u&&a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/20 border-b border-gray-200 dark:border-white/5 grid grid-cols-1 md:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase block mb-1.5",children:"Status do Pedido"}),a.jsxs("select",{className:"w-full bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-300 focus:text-gray-900 dark:focus:text-white",value:v.status,onChange:D=>y({...v,status:D.target.value}),children:[a.jsx("option",{value:"all",children:"Todos"}),a.jsx("option",{value:wt.PAID,children:"Aprovado"}),a.jsx("option",{value:wt.PENDING,children:"Pendente"}),a.jsx("option",{value:wt.FAILED,children:"Falhou"}),a.jsx("option",{value:wt.REFUNDED,children:"Reembolsado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase block mb-1.5",children:"Mtodo de Pagamento"}),a.jsxs("select",{className:"w-full bg-white dark:bg-[#0A0A0F] border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-300 focus:text-gray-900 dark:focus:text-white",value:v.method,onChange:D=>y({...v,method:D.target.value}),children:[a.jsx("option",{value:"all",children:"Todos"}),a.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),a.jsx("option",{value:"pix",children:"Pix"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto bg-white dark:bg-[#12121A]",children:t==="orders"?a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-[#151520] text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-white/5 sticky top-0 backdrop-blur-md",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Pedido"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Produto"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:H.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[a.jsx(gr,{className:"w-12 h-12 mb-4 opacity-20"}),a.jsx("p",{className:"text-lg font-medium",children:"Nenhum pedido encontrado"}),a.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros de busca."})]})})}):X.map(D=>{var U,W,re,he;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded border border-gray-200 dark:border-white/5",children:["#",D.id.slice(0,8)]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:$(D.created_at)})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:D.customer_name}),a.jsx("div",{className:"text-gray-500 text-xs",children:D.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-gray-600 dark:text-gray-300 text-xs max-w-[200px] truncate bg-gray-100 dark:bg-white/5 px-2 py-1 rounded w-fit",title:(W=(U=D.items)==null?void 0:U[0])==null?void 0:W.name,children:((he=(re=D.items)==null?void 0:re[0])==null?void 0:he.name)||"Produto Indefinido"})}),a.jsx("td",{className:"px-6 py-4 font-bold text-gray-900 dark:text-white tracking-wider",children:L(D.amount)}),a.jsx("td",{className:"px-6 py-4",children:M(D.status)}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-primary hover:text-white text-xs font-bold border border-primary/30 hover:bg-primary px-3 py-1.5 rounded-lg",onClick:()=>A(D),children:"Ver Detalhes"})})]},D.id)})})]}):a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-gray-100 dark:bg-[#151520] text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-white/5 sticky top-0 backdrop-blur-md",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Nome"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Contato"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Total Gasto"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Pedidos"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider",children:"Produtos Adquiridos"}),a.jsx("th",{className:"px-6 py-4 font-semibold uppercase text-xs tracking-wider text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:ue.map((D,U)=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center text-sm font-bold text-white ring-1 ring-white/10",children:D.name.charAt(0).toUpperCase()}),D.name]})}),a.jsxs("td",{className:"px-6 py-4 text-gray-400",children:[a.jsx("div",{children:D.email}),a.jsx("div",{className:"text-xs text-gray-600 font-mono mt-0.5",children:D.phone||"-"})]}),a.jsx("td",{className:"px-6 py-4 font-bold text-green-400 tracking-wider font-mono",children:L(D.totalSpent)}),a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:a.jsxs("span",{className:"bg-gray-100 dark:bg-white/5 px-2.5 py-1 rounded-md text-xs font-medium border border-gray-200 dark:border-white/5 whitespace-nowrap",children:[D.orderCount," pedidos"]})}),a.jsx("td",{className:"px-6 py-4 text-gray-400 text-xs",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.products.slice(0,2).map((W,re)=>a.jsx("span",{className:"bg-blue-500/10 text-blue-400 border border-blue-500/20 px-1.5 py-0.5 rounded",children:W},re)),D.products.length>2&&a.jsxs("span",{className:"text-gray-600 px-1.5 py-0.5 text-[10px] self-center",children:["+",D.products.length-2," outros"]})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-primary hover:text-white text-xs font-bold border border-primary/30 hover:bg-primary px-3 py-1.5 rounded-lg",onClick:()=>O(D),children:"Ver Detalhes"})})]},U))})]})}),F>1&&a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-white/[0.02] flex items-center justify-between",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between w-full",children:[a.jsxs("div",{className:"text-sm text-gray-400 text-center md:text-left",children:["Pgina ",a.jsx("span",{className:"text-white font-bold",children:m})," de ",a.jsx("span",{className:"text-white font-bold",children:F}),"  Mostrando ",a.jsx("span",{className:"text-white font-bold",children:t==="orders"?X.length:ue.length})," de ",a.jsx("span",{className:"text-white font-bold",children:t==="orders"?H.length:q.length})," registros"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{variant:"outline",onClick:()=>p(D=>Math.max(1,D-1)),disabled:m===1,className:"border-white/10 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed px-3 h-8 text-xs",children:"Anterior"}),a.jsx("div",{className:"flex items-center gap-1",children:(()=>{const D=[];if(F<=5)for(let W=1;W<=F;W++)D.push(W);else{let W=Math.max(1,m-1),re=Math.min(F,m+1);m<=3&&(re=Math.min(F,4)),m>=F-2&&(W=Math.max(1,F-3)),W>1&&(D.push(1),W>2&&D.push("..."));for(let he=W;he<=re;he++)D.push(he);re<F&&(re<F-1&&D.push("..."),D.push(F))}return D.map((W,re)=>W==="..."?a.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`dots-${re}`):a.jsx("button",{onClick:()=>p(W),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${m===W?"bg-primary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:W},W))})()}),a.jsx(je,{variant:"outline",onClick:()=>p(D=>Math.min(F,D+1)),disabled:m===F,className:"border-white/10 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed px-3 h-8 text-xs",children:"Prxima"})]})]})})]}),E&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-[9999]",style:{zIndex:9999},children:[a.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:()=>k(!1)}),a.jsxs("div",{className:"relative w-full max-w-md bg-[#12121A]/80 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-2xl overflow-hidden flex flex-col z-[10000]",style:{zIndex:1e4},children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsxs("div",{className:"relative flex justify-between items-center p-6 border-b border-white/10 bg-white/[0.02]",children:[a.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(gu,{className:"w-5 h-5 text-purple-400"})," Configurar Mensagem"]}),a.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:a.jsx(Mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"relative p-6",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Define a mensagem padro que ser aberta no WhatsApp ao clicar no contato do cliente."}),a.jsx("textarea",{className:"w-full h-32 bg-black/30 border border-purple-500/20 rounded-lg p-3 text-white text-sm mb-4 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 outline-none resize-none placeholder:text-gray-600",value:N,onChange:D=>w(D.target.value),placeholder:"Digite sua mensagem..."}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Variveis disponveis: ",a.jsx("code",{className:"text-purple-400 bg-purple-500/10 px-1.5 py-0.5 rounded",children:"{{nome}}"}),", ",a.jsx("code",{className:"text-purple-400 bg-purple-500/10 px-1.5 py-0.5 rounded",children:"{{produto}}"})]})]}),a.jsxs("div",{className:"relative p-6 border-t border-white/10 bg-white/[0.02] flex justify-end gap-2",children:[a.jsx(je,{variant:"ghost",onClick:()=>k(!1),className:"text-gray-300 hover:bg-white/5",children:"Cancelar"}),a.jsx(je,{onClick:()=>k(!1),className:"bg-purple-600 hover:bg-purple-700 text-white border-none shadow-lg shadow-purple-500/20",children:"Salvar Modelo"})]})]})]}),S&&a.jsx(fie,{isOpen:!0,order:S,onClose:()=>A(null)}),C&&a.jsx(mie,{isOpen:!0,customer:C,onClose:()=>O(null)})]})},gie=[{id:"checkout.iniciado",label:"Checkout Iniciado"},{id:"checkout.abandonado",label:"Checkout Abandonado"},{id:"pagamento.aprovado",label:"Pagamento Aprovado"},{id:"pagamento.recusado",label:"Pagamento Recusado"},{id:"pagamento.pendente",label:"Pagamento Pendente"},{id:"boleto.gerado",label:"Boleto Gerado"},{id:"pix.gerado",label:"Pix Gerado"},{id:"assinatura.criada",label:"Assinatura Criada"},{id:"assinatura.cancelada",label:"Assinatura Cancelada"},{id:"reembolso.solicitado",label:"Reembolso Solicitado"},{id:"reembolso.aprovado",label:"Reembolso Aprovado"}],$d={"pagamento.aprovado":{event:"pagamento.aprovado",checkout_id:"chk_123456",order_id:"ord_987654",amount:197,currency:"BRL",payment_method:"credit_card",status:"paid",customer:{name:"Joo da Silva",email:"joao@exemplo.com",phone:"5511999998888",cpf:"123.456.789-00"},items:[{name:"Curso React Pro",price:197,qty:1}],created_at:"2023-10-27T14:30:00Z"},"checkout.abandonado":{event:"checkout.abandonado",checkout_id:"chk_123456",cart_token:"crt_abc123",recovered_url:"https://checkout.app/r/abc123",customer:{email:"joao@exemplo.com",name:"Joo"},created_at:"2023-10-27T15:00:00Z"}},xie=()=>{const[t,e]=b.useState("outgoing"),[r,n]=b.useState([]),[s,i]=b.useState([]),[l,d]=b.useState(!1),[u,f]=b.useState(null),[m,p]=b.useState(null),[x,v]=b.useState(1),y=10,[N,w]=b.useState(null),[E,k]=b.useState(!1),[S,A]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),C=(J,ve,Te="info")=>{A({isOpen:!0,title:J,message:ve,variant:Te})},O=()=>{A(J=>({...J,isOpen:!1}))},[R,L]=b.useState({name:"",url:"",method:"POST",headers:[],events:[],active:!0,secret:""}),[$,M]=b.useState("idle"),[H,q]=b.useState(null);b.useEffect(()=>{F()},[]);const F=async()=>{n(await ce.getWebhooks());const J=await ce.getWebhookLogs();i(J.sort((ve,Te)=>new Date(Te.created_at).getTime()-new Date(ve.created_at).getTime()))},X=J=>{var ae;J.preventDefault();const ve={id:u||crypto.randomUUID(),created_at:u?((ae=r.find(Ae=>Ae.id===u))==null?void 0:ae.created_at)||new Date().toISOString():new Date().toISOString(),...R};let Te;u?Te=r.map(Ae=>Ae.id===u?ve:Ae):Te=[...r,ve],ce.saveWebhooks(Te),n(Te),d(!1),K()},ue=J=>{w(J)},B=()=>{if(!N)return;const J=r.filter(ve=>ve.id!==N);ce.saveWebhooks(J),n(J),w(null),C("Sucesso","Webhook excludo com sucesso.","success")},I=async J=>{var Te,ae;M("loading"),q(null);const ve=$d[((Te=J.events)==null?void 0:Te[0])||"pagamento.aprovado"]||$d["pagamento.aprovado"];try{const Ae=Date.now();let Ce=0,ge="",Y=!1;try{const te=await fetch(J.url,{method:J.method,headers:{"Content-Type":"application/json",...J.secret?{"X-Super-Checkout-Signature":J.secret}:{},...(ae=J.headers)==null?void 0:ae.reduce((Oe,He)=>({...Oe,[He.key]:He.value}),{})},body:JSON.stringify(ve)});Ce=te.status,ge=await te.text(),Y=te.ok}catch(te){ge=te.message||"Network Error / CORS Blocked",Ce=0}const me=Date.now()-Ae,Z=[{id:crypto.randomUUID(),webhook_id:J.id,direction:"outgoing",event:"test.event",payload:JSON.stringify(ve),response_status:Ce,response_body:ge,duration_ms:me,created_at:new Date().toISOString()},...s];ce.saveWebhookLogs(Z),i(Z),q({status:Ce,body:ge.substring(0,200)+(ge.length>200?"...":""),duration:me}),M(Y?"success":"error")}catch{M("error")}},z=J=>{f(J.id),L({name:J.name,url:J.url,method:J.method,headers:J.headers||[],events:J.events,active:J.active,secret:J.secret||""}),d(!0),M("idle")},oe=()=>{f(null),K(),d(!0),M("idle")},K=()=>{L({name:"",url:"",method:"POST",headers:[],events:[],active:!0,secret:crypto.randomUUID().replace(/-/g,"")})},D=J=>{const ve=R.events;ve.includes(J)?L({...R,events:ve.filter(Te=>Te!==J)}):L({...R,events:[...ve,J]})},U=J=>{navigator.clipboard.writeText(J)},W=()=>{const J=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),ve=URL.createObjectURL(J),Te=document.createElement("a");Te.href=ve,Te.download="webhooks_config.json",Te.click()},re=()=>{const J=`ID,Event,Status,Date,URL
`,ve=s.map(Ce=>`${Ce.id},${Ce.event},${Ce.response_status},${Ce.created_at},${Ce.direction}`).join(`
`),Te=new Blob([J+ve],{type:"text/csv"}),ae=URL.createObjectURL(Te),Ae=document.createElement("a");Ae.href=ae,Ae.download="webhook_history.csv",Ae.click()},he=J=>{try{return JSON.stringify(JSON.parse(J),null,2)}catch{return J}};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Gi,{className:"w-6 h-6 text-primary"})," Webhooks"]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Integre seu checkout com Zapier, n8n, CRMs e outros sistemas."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(je,{variant:"outline",onClick:W,className:"border-gray-200 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-white/5",children:[a.jsx(ei,{className:"w-4 h-4 mr-2"})," Exportar Config"]}),a.jsxs(je,{onClick:oe,className:"shadow-xl shadow-primary/20",children:[a.jsx(pr,{className:"w-4 h-4 mr-2"})," Novo Webhook"]})]})]}),a.jsxs("div",{className:"flex gap-6 mb-6 border-b border-white/5 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>e("outgoing"),className:`pb-3 text-sm font-medium transition-all relative ${t==="outgoing"?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Webhooks de Sada",t==="outgoing"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-t-full"})]}),a.jsxs("button",{onClick:()=>e("incoming"),className:`pb-3 text-sm font-medium transition-all relative ${t==="incoming"?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Webhooks de Entrada",t==="incoming"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-t-full"})]}),a.jsxs("button",{onClick:()=>e("history"),className:`pb-3 text-sm font-medium transition-all relative ${t==="history"?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Histrico de Disparos",t==="history"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-t-full"})]})]}),t==="outgoing"&&a.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:r.length===0?a.jsxs("div",{className:"text-center py-20 bg-white dark:bg-white/5 rounded-2xl border border-dashed border-gray-300 dark:border-white/10",children:[a.jsx(Yt,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum webhook configurado"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Crie sua primeira integrao para notificar sistemas externos sobre vendas."}),a.jsx("div",{className:"flex justify-center",children:a.jsx(je,{onClick:oe,children:"Criar Primeiro Webhook"})})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(J=>a.jsx(De,{noPadding:!0,className:"group overflow-hidden transition-all hover:border-primary/30",children:a.jsxs("div",{className:"p-6 flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${J.active?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]":"bg-gray-600"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:J.name}),a.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-mono font-bold ${J.method==="POST"?"bg-blue-500/20 text-blue-400":J.method==="GET"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:J.method})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 font-mono mb-2 truncate",children:[a.jsx("span",{className:"truncate",children:J.url}),a.jsx("button",{onClick:()=>U(J.url),className:"hover:text-gray-900 dark:hover:text-white",children:a.jsx(Pt,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[J.events.slice(0,3).map(ve=>a.jsx("span",{className:"text-xs bg-gray-100 dark:bg-white/5 px-2 py-1 rounded border border-gray-200 dark:border-white/5 text-gray-600 dark:text-gray-300",children:ve},ve)),J.events.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",J.events.length-3," outros"]})]})]}),a.jsxs("div",{className:"hidden lg:block text-right min-w-[140px]",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"ltimo Disparo"}),J.last_fired_at?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:new Date(J.last_fired_at).toLocaleString()}),a.jsxs("div",{className:`text-xs font-bold mt-1 inline-flex items-center gap-1 ${J.last_status&&J.last_status>=200&&J.last_status<300?"text-green-500":"text-red-500"}`,children:[J.last_status===200?a.jsx(ut,{className:"w-3 h-3"}):a.jsx(la,{className:"w-3 h-3"}),"HTTP ",J.last_status]})]}):a.jsx("p",{className:"text-gray-600 italic",children:"Nunca disparado"})]}),a.jsxs("div",{className:"flex items-center gap-2 self-end lg:self-center",children:[a.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>I(J),children:[a.jsx(ps,{className:"w-4 h-4 text-primary mr-2"})," Testar"]}),a.jsx("button",{onClick:()=>z(J),className:"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:a.jsx(Uu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ue(J.id),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})})]})]})},J.id))})}),t==="history"&&a.jsxs(De,{noPadding:!0,className:"overflow-hidden animate-in fade-in duration-300",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/5 flex justify-between items-center bg-gray-50/50 dark:bg-white/5",children:[a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Log de Eventos Recentes"}),a.jsxs(je,{variant:"ghost",size:"sm",onClick:re,className:"text-xs",children:[a.jsx(ei,{className:"w-3 h-3 mr-2"})," Exportar CSV"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[a.jsx("thead",{className:"text-gray-500 bg-gray-100 dark:bg-black/20 font-medium",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Evento / Direo"}),a.jsx("th",{className:"px-4 py-3",children:"Data & Hora"}),a.jsx("th",{className:"px-4 py-3",children:"Durao"}),a.jsx("th",{className:"px-4 py-3",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Nenhum registro encontrado."})}):s.slice((x-1)*y,x*y).map(J=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-bold border ${J.response_status&&J.response_status>=200&&J.response_status<300?"bg-green-500/10 text-green-500 border-green-500/20":J.response_status&&J.response_status>=400?"bg-red-500/10 text-red-500 border-red-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:J.response_status||"OK"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-gray-900 dark:text-white font-mono",children:J.event}),a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:J.direction})]})}),a.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs",children:new Date(J.created_at).toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs font-mono",children:J.duration_ms?`${J.duration_ms}ms`:"-"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("button",{className:"text-primary hover:text-primary-hover dark:hover:text-white text-xs flex items-center gap-1",onClick:()=>p(J),children:[a.jsx(_y,{className:"w-3 h-3"})," Payload"]})})]},J.id))})]})}),s.length>y&&a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-white/5 flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-400",children:["Mostrando ",(x-1)*y+1," - ",Math.min(x*y,s.length)," de ",s.length," registros"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{variant:"ghost",size:"sm",onClick:()=>v(J=>Math.max(1,J-1)),disabled:x===1,children:"Anterior"}),a.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,Math.ceil(s.length/y))},(J,ve)=>ve+1).map((J,ve,Te)=>null),Array.from({length:Math.ceil(s.length/y)},(J,ve)=>ve+1).map(J=>a.jsx("button",{onClick:()=>v(J),className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${x===J?"bg-primary text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:J},J))]}),a.jsx(je,{variant:"ghost",size:"sm",onClick:()=>v(J=>Math.min(Math.ceil(s.length/y),J+1)),disabled:x===Math.ceil(s.length/y),children:"Prxima"})]})]})]}),t==="incoming"&&a.jsxs("div",{className:"animate-in fade-in duration-300 max-w-4xl",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-purple-900/20 rounded-2xl p-8 border border-white/10 mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Webhooks de Entrada"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"Utilize nossa API para atualizar status de pedidos, liberar acessos ou integrar com sistemas legados."}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10 flex items-center justify-between gap-4",children:[a.jsxs("code",{className:"text-primary-light font-mono text-sm break-all",children:[typeof window<"u"?window.location.origin:"https://api.supercheckout.app","/api/v1/webhooks/incoming/","{integration_id}"]}),a.jsxs(je,{size:"sm",variant:"secondary",onClick:()=>U(`${typeof window<"u"?window.location.origin:"https://api.supercheckout.app"}/api/v1/webhooks/incoming/`),children:[a.jsx(Pt,{className:"w-4 h-4 mr-2"})," Copiar"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(De,{children:[a.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(Xee,{className:"w-4 h-4 text-green-500"})," Exemplo cURL"]}),a.jsx("pre",{className:"bg-black/30 p-4 rounded-lg text-xs text-gray-400 font-mono overflow-x-auto visible-scrollbar",children:`curl -X POST ${typeof window<"u"?window.location.origin:"https://api.supercheckout.app"}/api/v1/webhooks/incoming/123 \\
-H "Content-Type: application/json" \\
-H "Authorization: Bearer YOUR_API_KEY" \\
-d '{
  "event": "pedido.atualizar",
  "order_id": "ord_555",
  "status": "paid"
}'`})]}),a.jsxs(De,{children:[a.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(_y,{className:"w-4 h-4 text-yellow-500"})," Eventos Suportados"]}),a.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," pedido.atualizar"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," acesso.liberar"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," assinatura.cancelar"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-600 rounded-full"})," cliente.bloquear"]})]}),a.jsxs("a",{href:"/docs/webhooks",target:"_blank",className:"text-primary text-xs mt-4 block hover:underline flex items-center gap-1",children:["Ver documentao completa da API ",a.jsx(Oa,{className:"w-3 h-3"})]})]})]})]}),a.jsx(Er,{isOpen:l,onClose:()=>d(!1),title:u?"Editar Webhook":"Novo Webhook",className:"max-w-4xl",children:a.jsxs("form",{onSubmit:X,className:"flex flex-col lg:flex-row gap-6 max-h-[70vh] overflow-y-auto visible-scrollbar p-1",children:[a.jsxs("div",{className:"flex-1 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome da Integrao"}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"Ex: Notificar Zapier - Vendas",value:R.name,onChange:J=>L({...R,name:J.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Endpoint URL"}),a.jsxs("div",{className:"flex",children:[a.jsxs("select",{className:"bg-white/5 border border-r-0 border-white/10 rounded-l-xl px-3 py-3 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none w-24 font-bold",value:R.method,onChange:J=>L({...R,method:J.target.value}),children:[a.jsx("option",{value:"POST",children:"POST"}),a.jsx("option",{value:"GET",children:"GET"}),a.jsx("option",{value:"PUT",children:"PUT"}),a.jsx("option",{value:"PATCH",children:"PATCH"})]}),a.jsx("input",{required:!0,type:"url",className:"flex-1 bg-black/20 border border-white/10 rounded-r-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none font-mono text-sm",placeholder:"https://hooks.zapier.com/...",value:R.url,onChange:J=>L({...R,url:J.target.value})})]})]})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Eventos de Disparo"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-y-auto visible-scrollbar pr-2",children:gie.map(J=>a.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${R.events.includes(J.id)?"bg-primary/10 border-primary/50":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[a.jsx("input",{type:"checkbox",className:"hidden",checked:R.events.includes(J.id),onChange:()=>D(J.id)}),a.jsx("div",{className:`w-4 h-4 rounded border mr-3 flex items-center justify-center ${R.events.includes(J.id)?"bg-primary border-primary":"border-gray-500"}`,children:R.events.includes(J.id)&&a.jsx(ut,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-sm text-gray-300",children:J.label})]},J.id))})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[a.jsx(_r,{className:"w-3 h-3 text-primary"})," Segurana"]}),a.jsxs("button",{type:"button",onClick:()=>L({...R,secret:crypto.randomUUID().replace(/-/g,"")}),className:"text-xs text-primary hover:text-white flex items-center gap-1",children:[a.jsx(AD,{className:"w-3 h-3"})," Gerar Nova Chave"]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["Enviamos esta chave no header ",a.jsx("code",{className:"text-primary",children:"X-Super-Checkout-Signature"})," para validar a autenticidade."]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",readOnly:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-xs font-mono text-gray-300",value:R.secret}),a.jsx("button",{type:"button",onClick:()=>U(R.secret),className:"absolute right-2 top-2 text-gray-500 hover:text-white",children:a.jsx(Pt,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Status"}),a.jsx("button",{type:"button",onClick:()=>L({...R,active:!R.active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${R.active?"bg-green-500":"bg-gray-600"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${R.active?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(je,{type:"button",variant:"ghost",onClick:()=>d(!1),children:"Cancelar"}),a.jsx(je,{type:"submit",children:"Salvar Webhook"})]})]})]}),a.jsxs("div",{className:"w-full lg:w-1/3 bg-black/20 p-6 rounded-xl border border-white/5 flex flex-col",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"text-sm font-bold text-white mb-3 flex items-center justify-between",children:[a.jsx("span",{children:"Payload Preview"}),a.jsx("span",{className:"text-[10px] bg-white/10 px-2 py-1 rounded text-gray-400",children:"JSON"})]}),a.jsxs("div",{className:"bg-[#1E1E1E] rounded-xl border border-white/10 p-4 h-[300px] overflow-y-auto visible-scrollbar relative group",children:[a.jsx("pre",{className:"text-xs font-mono text-green-400 whitespace-pre-wrap break-all",children:JSON.stringify($d[R.events[0]]||$d["pagamento.aprovado"],null,2)}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-white/10 p-1.5 rounded text-gray-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>U(JSON.stringify($d["pagamento.aprovado"],null,2)),children:a.jsx(Pt,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5",children:[a.jsxs(je,{type:"button",onClick:()=>I(R),disabled:!R.url||$==="loading",variant:"secondary",className:"w-full mb-3",children:[$==="loading"?a.jsx(Gi,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(ps,{className:"w-4 h-4 mr-2"}),$==="loading"?"Disparando...":"Testar Webhook"]}),$!=="idle"&&H&&a.jsxs("div",{className:`p-3 rounded-lg border text-xs ${$==="success"?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[a.jsxs("div",{className:"flex justify-between mb-1 font-bold",children:[a.jsxs("span",{className:$==="success"?"text-green-400":"text-red-400",children:["Status: ",H.status]}),a.jsxs("span",{className:"text-gray-400",children:[H.duration,"ms"]})]}),a.jsx("p",{className:"text-gray-300 line-clamp-3 font-mono opacity-80",children:H.body})]})]})]})]})}),a.jsx(Kn,{isOpen:!!N,onClose:()=>w(null),onConfirm:B,title:"Excluir Webhook",message:"Tem certeza que deseja excluir este webhook?",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger"}),a.jsx($r,{isOpen:S.isOpen,onClose:O,title:S.title,message:S.message,variant:S.variant}),a.jsx(Er,{isOpen:!!m,onClose:()=>p(null),title:"Detalhes do Disparo",className:"max-w-3xl",children:m&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between ${m.response_status&&m.response_status>=200&&m.response_status<300?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[m.response_status&&m.response_status>=200&&m.response_status<300?a.jsx(ut,{className:"w-5 h-5"}):a.jsx(la,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold",children:["Status: HTTP ",m.response_status||"N/A"]}),a.jsx("p",{className:"text-xs opacity-80",children:new Date(m.created_at).toLocaleString()})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs uppercase tracking-wider opacity-70",children:"Durao"}),a.jsxs("p",{className:"font-mono font-bold",children:[m.duration_ms,"ms"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2 flex items-center justify-between",children:[a.jsx("span",{children:"Payload Enviado (JSON)"}),a.jsxs(je,{size:"sm",variant:"ghost",onClick:()=>U(m.payload),children:[a.jsx(Pt,{className:"w-3 h-3 mr-2"})," Copiar"]})]}),a.jsx("div",{className:"bg-[#1E1E1E] rounded-xl border border-gray-200 dark:border-white/10 p-4 max-h-[300px] overflow-y-auto visible-scrollbar",children:a.jsx("pre",{className:"text-xs font-mono text-blue-300 whitespace-pre-wrap break-all",children:he(m.payload)})})]}),m.response_body&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Resposta do Servidor"}),a.jsx("div",{className:"bg-[#1E1E1E] rounded-xl border border-gray-200 dark:border-white/10 p-4 max-h-[200px] overflow-y-auto visible-scrollbar",children:a.jsx("pre",{className:"text-xs font-mono text-gray-400 whitespace-pre-wrap break-all",children:m.response_body.substring(0,1e3)+(m.response_body.length>1e3?"...":"")})})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-white/5",children:a.jsx(je,{onClick:()=>p(null),children:"Fechar"})})]})})]})},bie=()=>{var H;const{user:t,account:e}=tr(),[r,n]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState(null),[u,f]=b.useState(!1),[m,p]=b.useState(null),[x,v]=b.useState(null),[y,N]=b.useState({isOpen:!1,installationId:"",domain:""}),[w,E]=b.useState(null),[k,S]=b.useState(null);b.useEffect(()=>{C().then(()=>O())},[]);const A=async(q,F)=>{if(confirm(`ATENO: Reinstalar ir DESATIVAR a instalao atual em "${F}" e gerar um novo link.

O site atual PARAR DE FUNCIONAR at que a nova instalao seja concluda.

Deseja continuar?`)){f(!0);try{const{data:{session:X}}=await V.auth.getSession();if(!X)throw new Error("Sesso expirada");const ue=await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"reinstall",email:X.user.email,installation_id:q,license_key:l==null?void 0:l.key})});if(!ue.ok){const oe=await ue.json();throw new Error(oe.message||"Erro ao reinstalar")}const B=await ue.json(),I=new URL(window.location.href),z=`${I.protocol}//${I.host}/installer?token=${B.token}`;v(z),alert(`Link de Reinstalao Gerado!

A instalao antiga foi marcada como 'replaced'.
Use o link exibido na tela para instalar no novo servidor.`),await O()}catch(X){alert(X.message)}finally{f(!1)}}},C=async()=>{try{const{data:q}=await V.from("app_config").select("value").eq("key","installation_id").single();if(q!=null&&q.value){const ue=typeof q.value=="string"?q.value.replace(/^"|"$/g,""):q.value;S(ue)}const X=await(await fetch("/api/licenses/validate")).json();X.valid&&(X.role&&(E(X.role),localStorage.setItem("license_role",X.role)),X.installation_id&&!(q!=null&&q.value)&&S(X.installation_id))}catch(q){console.error("Failed to fetch local details",q)}},O=async()=>{n(!0),i(null);try{if(!t||!t.email)throw new Error("Sesso no encontrada ou email invlido.");const q=await fetch(`${We.API_URL}${We.ENDPOINTS.GET_LICENSE}`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({email:t.email})});if(!q.ok){const X=await q.json().catch(()=>({}));throw new Error(X.message||`Falha ao buscar licena (${q.status})`)}const F=await q.json();console.log("License Data Received:",F),(e==null?void 0:e.plan_type)==="free"&&(t==null?void 0:t.email)!=="contato.jeandamin@gmail.com"&&(F.max_installations=1,F.plan="Free Tier"),d(F)}catch(q){console.error("Erro ao buscar licena:",q),i(q.message||"Erro desconhecido ao carregar licena.")}finally{n(!1)}},R=async()=>{if(l){if(l.used_installations>=l.max_installations){alert("Limite de instalaes atingido. Faa upgrade do seu plano.");return}f(!0);try{const{data:{session:q}}=await V.auth.getSession();if(!q){alert("Sesso expirada. Faa login novamente.");return}let F=k;if(!F){console.log(" ID missing in state, fetching aggressively...");const{data:z}=await V.from("app_config").select("value").eq("key","installation_id").single();z!=null&&z.value&&(F=typeof z.value=="string"?z.value.replace(/^"|"$/g,""):z.value,S(F))}if(!F){alert(`ERRO CRTICO: No foi possvel recuperar o ID da Instalao do banco de dados.

Por favor, contate o suporte.

Detalhe tcnico: app_config.installation_id is null/empty.`);return}const X=await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"generate_token",email:q.user.email,requestor_installation_id:F})});if(!X.ok){const z=await X.json();throw new Error(z.error||z.message||"Erro ao gerar token")}const{token:ue}=await X.json(),B=new URL(window.location.href),I=`${B.protocol}//${B.host}/installer?token=${ue}`;v(I)}catch(q){alert(q.message)}finally{f(!1)}}},L=async(q,F)=>{N({isOpen:!0,installationId:q,domain:F})},$=async()=>{if(!l)return;const{installationId:q,domain:F}=y;p(q);try{const{data:{session:X}}=await V.auth.getSession();if(!X||!X.user.email){alert("Sesso expirada. Faa login novamente.");return}if(!k){alert("Erro de identificao local. Recarregue a pgina.");return}const ue=await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"revoke_installation",email:X.user.email,installation_id:q,requestor_installation_id:k})});if(!ue.ok){const B=await ue.json();throw new Error(B.error||B.message||"Erro ao revogar instalao")}await O(),alert("Instalao revogada com sucesso!")}catch(X){console.error("Erro ao revogar:",X),alert(X.message)}finally{p(null),N({isOpen:!1,installationId:"",domain:""})}},M=q=>{navigator.clipboard.writeText(q)};return r?a.jsx(Nt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-gray-400",children:[a.jsx(lt,{className:"w-8 h-8 animate-spin mb-4 text-primary"}),a.jsx("p",{children:"Carregando dados da licena..."})]})}):s?a.jsx(Nt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-6 text-red-500",children:a.jsx(la,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Erro ao carregar licena"}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:s}),a.jsxs(je,{onClick:O,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Bn,{className:"w-4 h-4"})," Tentar Novamente"]})]})}):l?w==="client"?a.jsxs(Nt,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(en,{className:"w-6 h-6 text-primary"})," Minha Licena"]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerenciado por sua Agncia."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs(De,{className:"p-6 bg-gradient-to-br from-primary/10 to-transparent border-primary/20",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:a.jsx(Hn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Plano Atual"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:l.plan})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary/80 bg-primary/5 py-1 px-2 rounded w-fit",children:[a.jsx(ut,{className:"w-3 h-3"})," Instalao Cliente Ativa"]})]}),a.jsxs(De,{className:"p-6 flex flex-col justify-center items-center text-center",children:[a.jsx(en,{className:"w-12 h-12 text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Gerenciamento Restrito"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Esta instalao  gerenciada por uma licena Agency. Entre em contato com o proprietrio para alteraes."})]})]})]}):a.jsxs(Nt,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(en,{className:"w-6 h-6 text-primary"})," Minha Licena ",a.jsx("span",{className:"text-gray-600 text-xs ml-2",children:"(v1.1)"}),a.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full ml-2 uppercase tracking-wide",children:"Owner"})]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie suas instalaes e acesse o instalador."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(De,{className:"p-6 bg-gradient-to-br from-primary/10 to-transparent border-primary/20",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:a.jsx(Hn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Plano Atual"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:(t==null?void 0:t.email)==="contato.jeandamin@gmail.com"||l.plan==="lifetime"?"Proprietrio (Vitalcio)":l.plan})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary/80 bg-primary/5 py-1 px-2 rounded w-fit",children:[a.jsx(ut,{className:"w-3 h-3"})," Ativo"]})]}),a.jsxs(De,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500",children:a.jsx(Um,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Instalaes"}),a.jsxs("h3",{className:"text-xl font-bold text-white",children:[l.used_installations," ",a.jsx("span",{className:"text-gray-500 text-sm font-normal",children:l.max_installations>9e5?" (Ilimitado)":`/ ${l.max_installations}`})]})]})]}),a.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500",style:{width:`${(t==null?void 0:t.email)==="contato.jeandamin@gmail.com"||l.max_installations>9e5?"5%":Math.min(100,l.used_installations/l.max_installations*100)}%`}})})]}),a.jsxs(De,{className:"p-6 flex flex-col justify-center items-start",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Instalador Seguro"}),x?a.jsxs("div",{className:"w-full animate-in fade-in slide-in-from-bottom-2",children:[a.jsxs("div",{className:"bg-black/30 border border-primary/30 rounded-lg p-3 mb-2 flex flex-col gap-2",children:[a.jsx("span",{className:"text-xs text-primary font-bold",children:"Link Gerado (Vlido por 1h):"}),a.jsx("code",{className:"text-xs text-gray-400 break-all",children:x})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(je,{variant:"outline",size:"sm",onClick:()=>M(x),className:"flex-1",children:[a.jsx(Pt,{className:"w-3 h-3 mr-1"})," Copiar"]}),a.jsxs(je,{size:"sm",onClick:()=>window.open(x,"_blank"),className:"flex-1",children:["Abrir ",a.jsx(Oa,{className:"w-3 h-3 ml-1"})]})]}),a.jsx("button",{onClick:()=>v(null),className:"text-[10px] text-gray-500 hover:text-white mt-2 w-full text-center",children:"Gerar outro link"})]}):a.jsx(je,{onClick:R,disabled:u||l.used_installations>=l.max_installations,className:"w-full",children:u?a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Gerando Token..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"w-4 h-4 mr-2"})," Nova Instalao"]})})]})]}),a.jsxs(De,{className:"overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-white/5 bg-white/5 flex justify-between items-center",children:a.jsxs("h3",{className:"font-medium text-white flex items-center gap-2",children:[a.jsx(Yt,{className:"w-4 h-4 text-gray-400"})," Instalaes Ativas"]})}),a.jsxs("div",{className:"divide-y divide-white/5",children:[(H=l.installations)==null?void 0:H.map(q=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-gray-800 flex items-center justify-center text-gray-400",children:a.jsx(Yt,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:q.domain}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Instalado em ",new Date(q.installed_at).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[q.status==="active"?a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-500/10 text-green-500 border border-green-500/20",children:"Ativo"}):a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-500/10 text-red-500 border border-red-500/20",children:"Revogado"}),a.jsxs(je,{variant:"outline",size:"sm",onClick:()=>L(q.id,q.domain),disabled:m===q.id||q.status==="revoked",className:"border-red-500/20 text-red-400 hover:bg-red-500/10 hover:text-red-300 h-7 text-xs px-3 transition-colors",children:[m===q.id?a.jsx(lt,{className:"w-3 h-3 animate-spin mr-1.5"}):a.jsx(Pr,{className:"w-3 h-3 mr-1.5"}),"Revogar"]}),q.status==="active"&&a.jsxs(je,{variant:"outline",size:"sm",onClick:()=>A(q.id,q.domain),disabled:u,className:"border-blue-500/20 text-blue-400 hover:bg-blue-500/10 hover:text-blue-300 h-7 text-xs px-3 transition-colors ml-2",children:[a.jsx(Bn,{className:"w-3 h-3 mr-1.5"}),"Reinstalar"]})]})]},q.id)),(!l.installations||l.installations.length===0)&&a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhuma instalao registrada."})]})]}),a.jsx(Kn,{isOpen:y.isOpen,onClose:()=>N({isOpen:!1,installationId:"",domain:""}),onConfirm:$,title:"Revogar Instalao",message:`Tem certeza que deseja revogar a instalao de "${y.domain}"?

Isso liberar um slot na sua licena, mas o sistema naquele domnio pode parar de funcionar.`,confirmText:"Sim, revogar",cancelText:"Cancelar",variant:"danger",loading:m===y.installationId})]}):null},vie="modulepreload",yie=function(t){return"/"+t},LA={},Dr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=l(r.map(f=>{if(f=yie(f),f in LA)return;LA[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":vie,m||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((v,y)=>{x.addEventListener("load",v),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return s.then(l=>{for(const d of l||[])d.status==="rejected"&&i(d.reason);return e().catch(i)})},wn={async list(t=1,e="",r=10){const n=new URLSearchParams({page:t.toString(),limit:r.toString(),search:e}),s=await fetch(`${We.API_URL}/manage-licenses?${n.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET}});if(!s.ok)throw new Error("Failed to fetch licenses");return s.json()},async getDetails(t){const e=new URLSearchParams({search:t,limit:"1"}),r=await fetch(`${We.API_URL}/manage-licenses?${e.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET}});if(!r.ok)return null;const n=await r.json();return n.data&&n.data.length>0&&n.data.find(i=>i.key===t)||null},async getInstallations(t){const e=new URLSearchParams({view:"installations",license_key:t}),r=await fetch(`${We.API_URL}/manage-licenses?${e.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET}});if(!r.ok)throw new Error("Failed to fetch installations");return(await r.json()).data||[]},async toggleStatus(t,e){if(!(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({key:t,action:e})})).ok)throw new Error(`Failed to ${e} license`)},async create(t){if(!(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"create",...t})})).ok)throw new Error("Failed to create license")},async createCommercial(t,e){const r=await fetch(`${We.API_URL}/create-commercial-license`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to create commercial license")}return r.json()},async update(t,e){if(!(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({key:t,action:"update",data:e})})).ok)throw new Error("Failed to update license")},async getLicenseByUserId(t,e){const r={"Content-Type":"application/json"};let n=`${We.API_URL}/get-license-status`;{r["x-admin-secret"]=We.SHARED_SECRET;const s=new URLSearchParams({email:e||""});n=`${n}?${s.toString()}`}try{const s=await fetch(n,{method:"GET",headers:r});return s.ok?await s.json():null}catch(s){return console.error("Error in getLicenseByUserId:",s),null}},async requestActivationLink(t){const{centralSupabase:e,CENTRAL_SUPABASE_ANON_KEY:r}=await Dr(async()=>{const{centralSupabase:s,CENTRAL_SUPABASE_ANON_KEY:i}=await Promise.resolve().then(()=>Vi);return{centralSupabase:s,CENTRAL_SUPABASE_ANON_KEY:i}},[]);if(!(await fetch(`${We.API_URL}/request-activation-link`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({email:t})})).ok)throw new Error("Failed to request link")},async generateInstallToken(t){const{centralSupabase:e,CENTRAL_SUPABASE_ANON_KEY:r}=await Dr(async()=>{const{centralSupabase:i,CENTRAL_SUPABASE_ANON_KEY:l}=await Promise.resolve().then(()=>Vi);return{centralSupabase:i,CENTRAL_SUPABASE_ANON_KEY:l}},void 0),{data:{session:n}}=await e.auth.getSession(),s=await fetch(`${We.API_URL}/generate-install-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(n==null?void 0:n.access_token)||r}`},body:JSON.stringify({license_key:t})});if(!s.ok)throw new Error("Falha ao gerar token de instalao");return await s.json()},async getMyInstallations(){const{supabase:t}=await Dr(async()=>{const{supabase:i}=await Promise.resolve().then(()=>l2);return{supabase:i}},void 0),{data:{user:e}}=await t.auth.getUser();if(!(e!=null&&e.email))return[];const r=new URLSearchParams({email:e.email}),n=await fetch(`${We.API_URL}/manage-user-installations?${r.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET}});if(!n.ok)throw new Error("Falha ao buscar instalaes");return(await n.json()).installations||[]},async revokeInstallation(t){const{supabase:e}=await Dr(async()=>{const{supabase:s}=await Promise.resolve().then(()=>l2);return{supabase:s}},void 0),{data:{user:r}}=await e.auth.getUser();if(!(r!=null&&r.email))throw new Error("E-mail do usurio no encontrado");const n=await fetch(`${We.API_URL}/manage-user-installations`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"revoke",installation_id:t,email:r.email})});if(!n.ok){const s=await n.json();throw new Error(s.error||"Falha ao desvincular instalao")}},async getOfficialPlans(){const{centralSupabase:t}=await Dr(async()=>{const{centralSupabase:n}=await Promise.resolve().then(()=>Vi);return{centralSupabase:n}},void 0),{data:e,error:r}=await t.from("plans").select("*").eq("active",!0).neq("slug","free");return r?(console.error("Error fetching official plans:",r.message),[]):(e||[]).map(n=>({id:n.id,name:n.name,description:n.description||"",active:n.active,imageUrl:n.image_url,price_real:n.price,checkout_url:n.checkout_url,saas_plan_slug:n.slug}))},async activateFree(){const{centralSupabase:t}=await Dr(async()=>{const{centralSupabase:n}=await Promise.resolve().then(()=>Vi);return{centralSupabase:n}},void 0),{data:{session:e}}=await t.auth.getSession();if(!(e!=null&&e.access_token))throw new Error("Sesso expirada. Faa login novamente.");const r=await fetch(`${We.API_URL}/activate-free-license`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||"Falha ao ativar licena")}return await r.json()}},wie={starter:{id:"starter",label:"Starter",type:"personal",maxInstallations:1,allowResale:!1,price:"R$ 297,00"},agency:{id:"agency",label:"Agency",type:"commercial",maxInstallations:10,allowResale:!0,price:"R$ 897,00"},enterprise:{id:"enterprise",label:"Enterprise / Master",type:"master",maxInstallations:999999,allowResale:!0,price:"Sob Consulta"}},jie=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(""),[l,d]=b.useState(1),[u,f]=b.useState(1),[m,p]=b.useState(0),[x,v]=b.useState(!1),[y,N]=b.useState({name:"",email:"",plan:"agency"}),[w,E]=b.useState(!1),[k,S]=b.useState(null),[A,C]=b.useState(!1),[O,R]=b.useState([]),[L,$]=b.useState(!1),[M,H]=b.useState(null);b.useEffect(()=>{const I=setTimeout(()=>{d(1),q(1,s)},500);return()=>clearTimeout(I)},[s]),b.useEffect(()=>{q(l,s)},[l]);const q=async(I,z)=>{n(!0);try{const oe=await wn.list(I,z);e(oe.data),f(oe.meta.totalPages),p(oe.meta.total)}catch(oe){console.error(oe)}finally{n(!1)}},F=async(I,z)=>{if(confirm(`Tem certeza que deseja ${z==="delete"?"DELETAR":z} esta licena?`))try{await wn.toggleStatus(I,z),q(l,s)}catch{alert("Erro ao executar ao")}},X=async()=>{if(!y.email||!y.name){alert("Preencha nome e e-mail");return}E(!0);try{const{data:{session:I}}=await V.auth.getSession();if(!I){alert("Sesso expirada");return}const z=await wn.createCommercial({name:y.name,email:y.email,plan:y.plan,source:"manual_admin"},I.access_token);S(z),v(!1),N({name:"",email:"",plan:"agency"}),q(1,"")}catch(I){alert(`Erro ao criar licena: ${I.message}`)}finally{E(!1)}},ue=async I=>{H(I),C(!0),$(!0);try{const z=await wn.getInstallations(I);R(z)}catch(z){console.error(z),alert(`Erro ao carregar instalaes: ${z.message}`)}finally{$(!1)}},B=I=>{navigator.clipboard.writeText(I)};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(Yn,{className:"w-6 h-6 text-primary"})," Gerenciamento de Licenas"]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Super Admin: Controle total de todas as licenas do sistema."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(je,{onClick:()=>q(l,s),variant:"ghost",size:"icon",children:a.jsx(Bn,{className:`w-4 h-4 ${r?"animate-spin":""}`})}),a.jsxs(je,{onClick:()=>v(!0),children:[a.jsx(pr,{className:"w-4 h-4 mr-2"})," Nova Licena"]})]})]}),a.jsx(De,{className:"mb-6 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou chave...",value:s,onChange:I=>i(I.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white focus:border-primary outline-none transition-all"})]})}),a.jsxs(De,{className:"overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-200 font-medium",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Cliente"}),a.jsx("th",{className:"p-4",children:"Plano"}),a.jsx("th",{className:"p-4",children:"Domnio Atual"}),a.jsx("th",{className:"p-4 text-center",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:r?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center",children:a.jsx("div",{className:"flex justify-center",children:a.jsx(Bn,{className:"w-6 h-6 animate-spin text-primary"})})})}):t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"Nenhuma licena encontrada."})}):t.map(I=>a.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"text-white font-medium",children:I.client_name||"Sem Nome"}),a.jsx("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:I.client_email}),a.jsxs("div",{className:"group/key flex items-center gap-2 mt-1",children:[a.jsx("code",{className:"text-[10px] font-mono bg-black/30 px-1 py-0.5 rounded opacity-50",children:I.key}),a.jsx("button",{onClick:()=>B(I.key),className:"opacity-0 group-hover/key:opacity-100 text-gray-500 hover:text-white transition-opacity",children:a.jsx(Pt,{className:"w-3 h-3"})})]})]}),a.jsxs("td",{className:"p-4",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs border uppercase font-bold ${I.plan.includes("enterprise")||I.plan.includes("master")?"bg-purple-500/10 text-purple-400 border-purple-500/20":I.plan.includes("agency")||I.plan.includes("commercial")?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:I.plan}),a.jsxs("div",{className:"text-xs mt-1",children:["Max: ",I.max_instances>9e5?"":I.max_instances]})]}),a.jsx("td",{className:"p-4 font-mono text-xs text-white/80",children:I.current_domain||"-"}),a.jsx("td",{className:"p-4 text-center",children:I.status==="active"?a.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-500/10 text-green-500 px-2 py-1 rounded text-xs border border-green-500/20",children:[a.jsx(ut,{className:"w-3 h-3"})," Ativo"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 bg-red-500/10 text-red-500 px-2 py-1 rounded text-xs border border-red-500/20",children:[a.jsx(pu,{className:"w-3 h-3"})," Suspenso"]})}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(je,{size:"sm",variant:"ghost",className:"h-10 w-10 text-gray-500 hover:text-blue-400",onClick:()=>ue(I.key),title:"Ver Instalaes",children:a.jsx(Ca,{className:"w-8 h-8"})}),I.status==="active"?a.jsx(je,{size:"sm",variant:"outline",className:"h-8 border-red-500/30 hover:bg-red-500/10 text-red-400",onClick:()=>F(I.key,"suspend"),children:"Suspender"}):a.jsx(je,{size:"sm",variant:"outline",className:"h-8 border-green-500/30 hover:bg-green-500/10 text-green-400",onClick:()=>F(I.key,"activate"),children:"Ativar"}),a.jsx(je,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-red-500",onClick:()=>F(I.key,"delete"),children:a.jsx(Pr,{className:"w-4 h-4"})})]})})]},I.key))})]})}),a.jsxs("div",{className:"p-4 border-t border-white/5 flex items-center justify-between bg-white/5",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:["Mostrando ",a.jsxs("span",{className:"text-white",children:[(l-1)*10+1,"-",Math.min(l*10,m)]})," de ",a.jsx("span",{className:"text-white",children:m})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(je,{variant:"outline",size:"sm",disabled:l===1,onClick:()=>d(I=>Math.max(1,I-1)),children:[a.jsx(Ki,{className:"w-4 h-4"})," Anterior"]}),a.jsxs(je,{variant:"outline",size:"sm",disabled:l>=u,onClick:()=>d(I=>Math.min(u,I+1)),children:["Prximo ",a.jsx(ha,{className:"w-4 h-4"})]})]})]})]}),a.jsx(Er,{isOpen:x,onClose:()=>v(!1),title:"Criar Nova Licena",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome do Cliente"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white outline-none focus:border-primary",value:y.name,onChange:I=>N({...y,name:I.target.value}),placeholder:"Ex: Joo Silva"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"E-mail do Cliente"}),a.jsx("input",{type:"email",className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white outline-none focus:border-primary",value:y.email,onChange:I=>N({...y,email:I.target.value}),placeholder:"Ex: joao@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Plano"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.values(wie).map(I=>a.jsxs("div",{onClick:()=>N({...y,plan:I.id}),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${y.plan===I.id?"bg-primary/10 border-primary text-white":"bg-white/5 border-white/10 text-gray-400 hover:border-white/20"}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:I.label}),a.jsx("div",{className:"text-xs opacity-70",children:I.maxInstallations>9e5?"Ilimitado":`${I.maxInstallations} Instalaes`})]}),a.jsx("div",{className:"text-xs font-bold text-primary",children:I.price})]},I.id))})]}),a.jsxs("div",{className:"pt-4 flex gap-2",children:[a.jsx(je,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancelar"}),a.jsx(je,{onClick:X,disabled:w,className:"flex-1",children:w?"Criando...":"Gerar Licena"})]})]})}),a.jsx(Er,{isOpen:A,onClose:()=>C(!1),title:"Instalaes Ativas",children:a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:["Visualizando instalaes da licena: ",a.jsx("code",{className:"text-xs bg-black/20 px-1 py-0.5 rounded",children:M})]}),L?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx(Bn,{className:"w-6 h-6 animate-spin text-primary"})}):O.length===0?a.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-lg text-gray-500",children:"Nenhuma instalao registrada para esta licena."}):a.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto pr-2",children:O.map(I=>a.jsxs("div",{className:"bg-white/5 border border-white/10 p-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 text-white font-medium text-sm",children:[a.jsx(Yt,{className:"w-3 h-3 text-primary"}),I.domain]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ui,{className:"w-3 h-3"})," ",new Date(I.installed_at).toLocaleDateString()]}),a.jsx("span",{className:`px-1.5 py-0.5 rounded border ${I.status==="active"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:I.status})]})]}),a.jsx("a",{href:`https://${I.domain}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",title:"Abrir Site",children:a.jsx(ti,{className:"w-4 h-4"})})]},I.id))}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(je,{variant:"outline",onClick:()=>C(!1),children:"Fechar"})})]})}),a.jsx(Er,{isOpen:!!k,onClose:()=>S(null),title:"Licena Criada com Sucesso",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4 text-green-400 text-sm flex items-center gap-2",children:[a.jsx(ut,{className:"w-5 h-5 shrink-0"}),"A licena foi gerada e o token de instalao est ativo por 1 hora."]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Link de Instalao (Envie para o cliente)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",readOnly:!0,value:(k==null?void 0:k.install_url)||"",className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white font-mono text-xs"}),a.jsx(je,{onClick:()=>B((k==null?void 0:k.install_url)||""),variant:"outline",size:"icon",children:a.jsx(Pt,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Chave da Licena"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("code",{className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white font-mono text-xs block truncate",children:k==null?void 0:k.license_key}),a.jsx(je,{onClick:()=>B((k==null?void 0:k.license_key)||""),variant:"outline",size:"icon",children:a.jsx(Pt,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsx(je,{onClick:()=>S(null),children:"Fechar"})})]})})]})},Nie=()=>{const{user:t,refreshProfile:e}=tr(),[r,n]=b.useState(!1),[s,i]=b.useState({business_name:"",support_email:(t==null?void 0:t.email)||"",legal_name:"",agree_terms:!1}),[l,d]=b.useState(null),[u,f]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!t)return;const{data:x}=await V.from("accounts").select("id").eq("owner_user_id",t.id).single();if(x){const{data:v}=await V.from("business_settings").select("*").eq("account_id",x.id).single();v&&i(y=>({...y,business_name:v.business_name||"",support_email:v.support_email||t.email||"",legal_name:v.legal_name||"",agree_terms:!0}))}})()},[t]);const m=async p=>{if(p.preventDefault(),!!t){n(!0),d(null),f(!1);try{let{data:x,error:v}=await V.from("accounts").select("id").eq("owner_user_id",t.id).single();if(!x){const{data:N,error:w}=await V.from("accounts").insert({owner_user_id:t.id,plan_type:"free"}).select().single();if(w)throw w;x=N}if(!s.agree_terms)throw new Error("Voc precisa concordar com os termos.");const{error:y}=await V.from("business_settings").upsert({account_id:x.id,business_name:s.business_name,legal_name:s.legal_name||s.business_name,support_email:s.support_email,sender_name:s.business_name,sender_email:s.support_email,compliance_status:"verified",is_ready_to_sell:!0},{onConflict:"account_id"});if(y)throw y;await V.from("system_events").insert({account_id:x.id,type:"business_info_updated",metadata:{business_name:s.business_name}}),await e(),f(!0)}catch(x){console.error(x),d(x.message||"Erro ao salvar configuraes.")}finally{n(!1)}}};return a.jsx(Nt,{children:a.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(wy,{className:"w-8 h-8 text-primary"})," Configurar Negcio"]}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Essas informaes aparecero nos seus checkouts e nos e-mails enviados aos seus clientes."})]}),a.jsxs("div",{className:"bg-[#0F0F13] border border-[#1F1F23] rounded-2xl p-8 shadow-sm",children:[l&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[a.jsx(Ir,{size:20}),a.jsx("span",{className:"text-sm",children:l})]}),u&&a.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[a.jsx(en,{size:20}),a.jsx("span",{className:"text-sm",children:"Configuraes salvas com sucesso! Seu sistema est pronto para vender."})]}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome do Negcio (Pblico)"}),a.jsxs("div",{className:"relative",children:[a.jsx(wy,{className:"absolute left-3 top-3 text-gray-500",size:18}),a.jsx("input",{type:"text",required:!0,value:s.business_name,onChange:p=>i({...s,business_name:p.target.value}),className:"w-full bg-[#05050A] border border-[#1F1F23] rounded-lg pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all outline-none",placeholder:"Ex: Minha Loja"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nome exibido nas faturas e remetente de emails."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"E-mail de Suporte"}),a.jsxs("div",{className:"relative",children:[a.jsx(At,{className:"absolute left-3 top-3 text-gray-500",size:18}),a.jsx("input",{type:"email",required:!0,value:s.support_email,onChange:p=>i({...s,support_email:p.target.value}),className:"w-full bg-[#05050A] border border-[#1F1F23] rounded-lg pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all outline-none",placeholder:"suporte@loja.com"})]})]}),a.jsx("div",{className:"bg-[#1F1F23]/50 p-4 rounded-lg border border-[#1F1F23]",children:a.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",required:!0,checked:s.agree_terms,onChange:p=>i({...s,agree_terms:p.target.checked}),className:"mt-1 w-4 h-4 rounded bg-[#05050A] border-gray-600 text-primary focus:ring-primary"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Declaro que as informaes acima so verdadeiras e representam meu negcio comercial."})]})}),a.jsxs("button",{type:"submit",disabled:r,className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold py-3 rounded-lg transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary/20",children:[r?"Salvando...":"Salvar Configuraes",!r&&a.jsx(Vt,{size:18})]})]})]})]})})},_ie=()=>{const{user:t}=tr(),[e,r]=b.useState([]),[n,s]=b.useState(!0);b.useEffect(()=>{t&&i()},[t]);const i=async()=>{s(!0);try{if(!t)return;const l=await wn.getMyInstallations();r(l)}catch(l){console.error(l)}finally{s(!1)}};return a.jsx(Nt,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-primary"})," Minhas Instalaes"]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie onde seu Super Checkout est instalado."})]}),a.jsx(je,{variant:"ghost",size:"icon",onClick:()=>i(),children:a.jsx(Bn,{className:`w-4 h-4 ${n?"animate-spin":""}`})})]}),a.jsx(De,{className:"min-h-[300px]",children:n?a.jsx("div",{className:"flex justify-center p-10",children:a.jsx(lt,{className:"animate-spin text-primary"})}):e.length===0?a.jsxs("div",{className:"p-10 text-center flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4",children:a.jsx(Yt,{className:"w-8 h-8 text-gray-600"})}),a.jsx("h3",{className:"text-white font-medium mb-1",children:"Nenhuma instalao ativa"}),a.jsx("p",{className:"text-gray-500 text-sm max-w-md",children:'Voc ainda no instalou o sistema em nenhum domnio. V em "Minha Licena" para gerar o link de instalao.'})]}):a.jsx("div",{className:"divide-y divide-white/5",children:e.map(l=>a.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between gap-4 hover:bg-white/[0.02] transition-colors",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-1",children:l.status==="active"?a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"}):a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium text-lg",children:l.domain}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1",children:[a.jsx(ui,{className:"w-3 h-3"})," Instalado em ",new Date(l.installed_at).toLocaleDateString()]}),a.jsxs("div",{className:"text-[10px] text-gray-600 font-mono mt-1",children:["ID: ",l.id]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("a",{href:`https://${l.domain}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-xs font-medium text-gray-400 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:"Acessar"})})]},l.id))})})]})})};function Eie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const Sie=t=>{switch(t){case"success":return Cie;case"info":return Oie;case"warning":return Tie;case"error":return Rie;default:return null}},kie=Array(12).fill(0),Aie=({visible:t,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},se.createElement("div",{className:"sonner-spinner"},kie.map((r,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Cie=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tie=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Oie=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rie=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Die=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Iie=()=>{const[t,e]=se.useState(document.hidden);return se.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Ty=1;class Pie{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Ty++,l=this.toasts.find(u=>u.id===i),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:n}),{...u,...e,id:i,dismissible:d,title:n}):u):this.addToast({title:n,...s,dismissible:d,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,l;const d=s.then(async f=>{if(l=["resolve",f],se.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(Lie(f)&&!f.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,y=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...y})}else if(f instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...y})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(f):r.success,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:x,...y})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,p=typeof r.description=="function"?await r.description(f):r.description,v=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((f,m)=>d.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||Ty++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Aa=new Pie,Mie=(t,e)=>{const r=(e==null?void 0:e.id)||Ty++;return Aa.addToast({title:t,...e,id:r}),r},Lie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Uie=Mie,$ie=()=>Aa.toasts,Bie=()=>Aa.getActiveToasts(),or=Object.assign(Uie,{success:Aa.success,info:Aa.info,warning:Aa.warning,error:Aa.error,custom:Aa.custom,message:Aa.message,promise:Aa.promise,dismiss:Aa.dismiss,loading:Aa.loading},{getHistory:$ie,getToasts:Bie});Eie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cf(t){return t.label!==void 0}const zie=3,Fie="24px",qie="16px",UA=4e3,Hie=356,Gie=14,Vie=45,Yie=200;function ns(...t){return t.filter(Boolean).join(" ")}function Wie(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const Xie=t=>{var e,r,n,s,i,l,d,u,f;const{invert:m,toast:p,unstyled:x,interacting:v,setHeights:y,visibleToasts:N,heights:w,index:E,toasts:k,expanded:S,removeToast:A,defaultRichColors:C,closeButton:O,style:R,cancelButtonStyle:L,actionButtonStyle:$,className:M="",descriptionClassName:H="",duration:q,position:F,gap:X,expandByDefault:ue,classNames:B,icons:I,closeButtonAriaLabel:z="Close toast"}=t,[oe,K]=se.useState(null),[D,U]=se.useState(null),[W,re]=se.useState(!1),[he,J]=se.useState(!1),[ve,Te]=se.useState(!1),[ae,Ae]=se.useState(!1),[Ce,ge]=se.useState(!1),[Y,me]=se.useState(0),[ke,Z]=se.useState(0),te=se.useRef(p.duration||q||UA),Oe=se.useRef(null),He=se.useRef(null),Re=E===0,Se=E+1<=N,Ne=p.type,Ie=p.dismissible!==!1,Ee=p.className||"",xe=p.descriptionClassName||"",Pe=se.useMemo(()=>w.findIndex(Ke=>Ke.toastId===p.id)||0,[w,p.id]),tt=se.useMemo(()=>{var Ke;return(Ke=p.closeButton)!=null?Ke:O},[p.closeButton,O]),Ve=se.useMemo(()=>p.duration||q||UA,[p.duration,q]),rt=se.useRef(0),Ze=se.useRef(0),rr=se.useRef(0),Br=se.useRef(null),[sn,Kt]=F.split("-"),ea=se.useMemo(()=>w.reduce((Ke,Ct,ar)=>ar>=Pe?Ke:Ke+Ct.height,0),[w,Pe]),Wt=Iie(),ft=p.invert||m,ca=Ne==="loading";Ze.current=se.useMemo(()=>Pe*X+ea,[Pe,ea]),se.useEffect(()=>{te.current=Ve},[Ve]),se.useEffect(()=>{re(!0)},[]),se.useEffect(()=>{const Ke=He.current;if(Ke){const Ct=Ke.getBoundingClientRect().height;return Z(Ct),y(ar=>[{toastId:p.id,height:Ct,position:p.position},...ar]),()=>y(ar=>ar.filter(xr=>xr.toastId!==p.id))}},[y,p.id]),se.useLayoutEffect(()=>{if(!W)return;const Ke=He.current,Ct=Ke.style.height;Ke.style.height="auto";const ar=Ke.getBoundingClientRect().height;Ke.style.height=Ct,Z(ar),y(xr=>xr.find(Rt=>Rt.toastId===p.id)?xr.map(Rt=>Rt.toastId===p.id?{...Rt,height:ar}:Rt):[{toastId:p.id,height:ar,position:p.position},...xr])},[W,p.title,p.description,y,p.id,p.jsx,p.action,p.cancel]);const zr=se.useCallback(()=>{J(!0),me(Ze.current),y(Ke=>Ke.filter(Ct=>Ct.toastId!==p.id)),setTimeout(()=>{A(p)},Yie)},[p,A,y,Ze]);se.useEffect(()=>{if(p.promise&&Ne==="loading"||p.duration===1/0||p.type==="loading")return;let Ke;return S||v||Wt?(()=>{if(rr.current<rt.current){const xr=new Date().getTime()-rt.current;te.current=te.current-xr}rr.current=new Date().getTime()})():(()=>{te.current!==1/0&&(rt.current=new Date().getTime(),Ke=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),zr()},te.current))})(),()=>clearTimeout(Ke)},[S,v,p,Ne,Wt,zr]),se.useEffect(()=>{p.delete&&(zr(),p.onDismiss==null||p.onDismiss.call(p,p))},[zr,p.delete]);function La(){var Ke;if(I!=null&&I.loading){var Ct;return se.createElement("div",{className:ns(B==null?void 0:B.loader,p==null||(Ct=p.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":Ne==="loading"},I.loading)}return se.createElement(Aie,{className:ns(B==null?void 0:B.loader,p==null||(Ke=p.classNames)==null?void 0:Ke.loader),visible:Ne==="loading"})}const vs=p.icon||(I==null?void 0:I[Ne])||Sie(Ne);var Zn,Ua;return se.createElement("li",{tabIndex:0,ref:He,className:ns(M,Ee,B==null?void 0:B.toast,p==null||(e=p.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Ne],p==null||(r=p.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(Zn=p.richColors)!=null?Zn:C,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":W,"data-promise":!!p.promise,"data-swiped":Ce,"data-removed":he,"data-visible":Se,"data-y-position":sn,"data-x-position":Kt,"data-index":E,"data-front":Re,"data-swiping":ve,"data-dismissible":Ie,"data-type":Ne,"data-invert":ft,"data-swipe-out":ae,"data-swipe-direction":D,"data-expanded":!!(S||ue&&W),"data-testid":p.testId,style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${he?Y:Ze.current}px`,"--initial-height":ue?"auto":`${ke}px`,...R,...p.style},onDragEnd:()=>{Te(!1),K(null),Br.current=null},onPointerDown:Ke=>{Ke.button!==2&&(ca||!Ie||(Oe.current=new Date,me(Ze.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(Te(!0),Br.current={x:Ke.clientX,y:Ke.clientY})))},onPointerUp:()=>{var Ke,Ct,ar;if(ae||!Ie)return;Br.current=null;const xr=Number(((Ke=He.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kn=Number(((Ct=He.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rt=new Date().getTime()-((ar=Oe.current)==null?void 0:ar.getTime()),ne=oe==="x"?xr:kn,Lt=Math.abs(ne)/Rt;if(Math.abs(ne)>=Vie||Lt>.11){me(Ze.current),p.onDismiss==null||p.onDismiss.call(p,p),U(oe==="x"?xr>0?"right":"left":kn>0?"down":"up"),zr(),Ae(!0);return}else{var xt,ta;(xt=He.current)==null||xt.style.setProperty("--swipe-amount-x","0px"),(ta=He.current)==null||ta.style.setProperty("--swipe-amount-y","0px")}ge(!1),Te(!1),K(null)},onPointerMove:Ke=>{var Ct,ar,xr;if(!Br.current||!Ie||((Ct=window.getSelection())==null?void 0:Ct.toString().length)>0)return;const Rt=Ke.clientY-Br.current.y,ne=Ke.clientX-Br.current.x;var Lt;const xt=(Lt=t.swipeDirections)!=null?Lt:Wie(F);!oe&&(Math.abs(ne)>1||Math.abs(Rt)>1)&&K(Math.abs(ne)>Math.abs(Rt)?"x":"y");let ta={x:0,y:0};const tl=An=>1/(1.5+Math.abs(An)/20);if(oe==="y"){if(xt.includes("top")||xt.includes("bottom"))if(xt.includes("top")&&Rt<0||xt.includes("bottom")&&Rt>0)ta.y=Rt;else{const An=Rt*tl(Rt);ta.y=Math.abs(An)<Math.abs(Rt)?An:Rt}}else if(oe==="x"&&(xt.includes("left")||xt.includes("right")))if(xt.includes("left")&&ne<0||xt.includes("right")&&ne>0)ta.x=ne;else{const An=ne*tl(ne);ta.x=Math.abs(An)<Math.abs(ne)?An:ne}(Math.abs(ta.x)>0||Math.abs(ta.y)>0)&&ge(!0),(ar=He.current)==null||ar.style.setProperty("--swipe-amount-x",`${ta.x}px`),(xr=He.current)==null||xr.style.setProperty("--swipe-amount-y",`${ta.y}px`)}},tt&&!p.jsx&&Ne!=="loading"?se.createElement("button",{"aria-label":z,"data-disabled":ca,"data-close-button":!0,onClick:ca||!Ie?()=>{}:()=>{zr(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ns(B==null?void 0:B.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(Ua=I==null?void 0:I.close)!=null?Ua:Die):null,(Ne||p.icon||p.promise)&&p.icon!==null&&((I==null?void 0:I[Ne])!==null||p.icon)?se.createElement("div",{"data-icon":"",className:ns(B==null?void 0:B.icon,p==null||(s=p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||La():null,p.type!=="loading"?vs:null):null,se.createElement("div",{"data-content":"",className:ns(B==null?void 0:B.content,p==null||(i=p.classNames)==null?void 0:i.content)},se.createElement("div",{"data-title":"",className:ns(B==null?void 0:B.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?se.createElement("div",{"data-description":"",className:ns(H,xe,B==null?void 0:B.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),se.isValidElement(p.cancel)?p.cancel:p.cancel&&Cf(p.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||L,onClick:Ke=>{Cf(p.cancel)&&Ie&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ke),zr())},className:ns(B==null?void 0:B.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,se.isValidElement(p.action)?p.action:p.action&&Cf(p.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:Ke=>{Cf(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ke),!Ke.defaultPrevented&&zr())},className:ns(B==null?void 0:B.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function $A(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Kie(t,e){const r={};return[t,e].forEach((n,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",d=i?qie:Fie;function u(f){["top","right","bottom","left"].forEach(m=>{r[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=d:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):u(d)}),r}const Jie=se.forwardRef(function(e,r){const{id:n,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:u,className:f,offset:m,mobileOffset:p,theme:x="light",richColors:v,duration:y,style:N,visibleToasts:w=zie,toastOptions:E,dir:k=$A(),gap:S=Gie,icons:A,containerAriaLabel:C="Notifications"}=e,[O,R]=se.useState([]),L=se.useMemo(()=>n?O.filter(W=>W.toasterId===n):O.filter(W=>!W.toasterId),[O,n]),$=se.useMemo(()=>Array.from(new Set([i].concat(L.filter(W=>W.position).map(W=>W.position)))),[L,i]),[M,H]=se.useState([]),[q,F]=se.useState(!1),[X,ue]=se.useState(!1),[B,I]=se.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=se.useRef(null),oe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=se.useRef(null),D=se.useRef(!1),U=se.useCallback(W=>{R(re=>{var he;return(he=re.find(J=>J.id===W.id))!=null&&he.delete||Aa.dismiss(W.id),re.filter(({id:J})=>J!==W.id)})},[]);return se.useEffect(()=>Aa.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{R(re=>re.map(he=>he.id===W.id?{...he,delete:!0}:he))});return}setTimeout(()=>{CC.flushSync(()=>{R(re=>{const he=re.findIndex(J=>J.id===W.id);return he!==-1?[...re.slice(0,he),{...re[he],...W},...re.slice(he+1)]:[W,...re]})})})}),[O]),se.useEffect(()=>{if(x!=="system"){I(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:re})=>{I(re?"dark":"light")})}catch{W.addListener(({matches:he})=>{try{I(he?"dark":"light")}catch(J){console.error(J)}})}},[x]),se.useEffect(()=>{O.length<=1&&F(!1)},[O]),se.useEffect(()=>{const W=re=>{var he;if(l.every(Te=>re[Te]||re.code===Te)){var ve;F(!0),(ve=z.current)==null||ve.focus()}re.code==="Escape"&&(document.activeElement===z.current||(he=z.current)!=null&&he.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[l]),se.useEffect(()=>{if(z.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,D.current=!1)}},[z.current]),se.createElement("section",{ref:r,"aria-label":`${C} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((W,re)=>{var he;const[J,ve]=W.split("-");return L.length?se.createElement("ol",{key:W,dir:k==="auto"?$A():k,tabIndex:-1,ref:z,className:f,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":J,"data-x-position":ve,style:{"--front-toast-height":`${((he=M[0])==null?void 0:he.height)||0}px`,"--width":`${Hie}px`,"--gap":`${S}px`,...N,...Kie(m,p)},onBlur:Te=>{D.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(D.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||D.current||(D.current=!0,K.current=Te.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{X||F(!1)},onDragEnd:()=>F(!1),onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||ue(!0)},onPointerUp:()=>ue(!1)},L.filter(Te=>!Te.position&&re===0||Te.position===W).map((Te,ae)=>{var Ae,Ce;return se.createElement(Xie,{key:Te.id,icons:A,index:ae,toast:Te,defaultRichColors:v,duration:(Ae=E==null?void 0:E.duration)!=null?Ae:y,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:s,visibleToasts:w,closeButton:(Ce=E==null?void 0:E.closeButton)!=null?Ce:u,interacting:X,position:W,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:U,toasts:L.filter(ge=>ge.position==Te.position),heights:M.filter(ge=>ge.position==Te.position),setHeights:H,expandByDefault:d,gap:S,expanded:q,swipeDirections:e.swipeDirections})})):null}))}),Qie=()=>{var oe,K,D;const{isWhiteLabel:t,profile:e,user:r}=tr(),n=(r==null?void 0:r.email)==="contato.jeandamin@gmail.com",[s,i]=b.useState([]),[l,d]=b.useState(!0),[u,f]=b.useState(""),[m,p]=b.useState("all"),[x,v]=b.useState("all"),[y,N]=b.useState([]),[w,E]=b.useState(null),[k,S]=b.useState(new Set),[A,C]=b.useState({totalLeads:0,activeInstallations:0,pendingSetup:0,conversionRate:0}),[O,R]=b.useState(0),[L,$]=b.useState(0),M=50;b.useEffect(()=>{H()},[]),b.useEffect(()=>{q()},[O,m,x]);const H=async()=>{try{const W=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"get_partners"})})).json();W.success&&W.data&&N(W.data)}catch(U){console.error("Error fetching partners list:",U)}},q=async()=>{try{d(!0);const W=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"get_crm_data",page:O+1,limit:M,partner_id:x})})).json();if(!W.success)throw new Error(W.error||"Erro ao carregar dados");const{data:re,count:he,partners:J,metrics:ve}=W;$(he||0);const Te=["free","whitelabel","upgrade_domains","saas","agency","master","partner"];let ae=(re||[]).map(Ae=>{const Ce=Ae.profile;if(!Ce)return null;const ge=Array.isArray(Ae.plan)?Ae.plan[0]:Ae.plan;if(!ge||!Te.includes(ge.slug))return null;const Y=Array.isArray(Ce.onboarding)?Ce.onboarding[0]:Ce.onboarding;return{user_id:Ce.id,email:Ce.email||"N/A",full_name:Ce.full_name||"Usurio",whatsapp:Ce.whatsapp,partner_consent:Ce.partner_consent,created_at:Ae.started_at||Ce.created_at,last_login_at:Ce.last_login_at,signup_source:Ce.signup_source,is_blocked:Ce.is_blocked||!1,onboarding:Y||null,subscription:{status:Ae.status,plan:ge},referer_id:Ce.referred_by_partner_id,referer:Ce.referred_by_partner_id&&(J!=null&&J[Ce.referred_by_partner_id])?{full_name:J[Ce.referred_by_partner_id].full_name,partner_status:J[Ce.referred_by_partner_id].partner_status}:null}}).filter(Boolean);i(ae),ve&&C({totalLeads:ve.totalLeads,activeInstallations:ve.activeInstallations,pendingSetup:ve.pendingSetup,conversionRate:ve.totalLeads?Math.round(ve.activeInstallations/ve.totalLeads*100):0})}catch(U){console.error("Error fetching CRM users:",U),or.error(`Erro ao carregar leads: ${U.message||"Desconhecido"}`)}finally{d(!1)}},F=U=>{if(!U.whatsapp){or.error("WhatsApp no informado");return}const W=U.whatsapp.replace(/\D/g,""),re=encodeURIComponent(`Ol ${U.full_name}, sou da equipe do Super Checkout! 

Vi que voc se cadastrou recentemente e queria te dar as boas-vindas. Precisa de ajuda para configurar sua primeira instalao?`);window.open(`https://wa.me/${W}?text=${re}`,"_blank"),S(he=>new Set(he).add(U.user_id))},X=U=>{const W=encodeURIComponent("Boas-vindas ao Super Checkout"),re=encodeURIComponent(`Ol ${U.full_name},

Seja muito bem-vindo ao Super Checkout! Estamos  disposio para ajudar no que for preciso.`);window.location.href=`mailto:${U.email}?subject=${W}&body=${re}`,S(he=>new Set(he).add(U.user_id))},ue=async(U,W,re)=>{try{const J=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"manage_partner_status",target_partner_id:U,new_status:W,reason:re||`Alterao manual via CRM por ${e==null?void 0:e.full_name}`})})).json();if(!J.success)throw new Error(J.error||"Erro ao atualizar status");or.success(`Status do parceiro atualizado para ${W}`),E(null),q()}catch(he){console.error("Error updating partner status:",he),or.error(`Erro: ${he.message}`)}},B=y.map(U=>{const W=s.filter(re=>re.referer_id===U.id).length;return{...U,leadCount:W}}).sort((U,W)=>W.leadCount-U.leadCount).slice(0,4),I=s.filter(U=>{var re,he;const W=U.email.toLowerCase().includes(u.toLowerCase())||U.full_name.toLowerCase().includes(u.toLowerCase());return m==="blocked"?W&&U.is_blocked:m==="setup_pending"?W&&(!((re=U.onboarding)!=null&&re.domain_configured)||!((he=U.onboarding)!=null&&he.gateway_configured)):W});if(t||!n)return a.jsx("div",{className:"min-h-screen bg-[#05050A] flex items-center justify-center text-gray-400",children:"Acesso negado."});const z=["owner","master_admin","admin"];return!(e!=null&&e.role)||!z.includes(e.role)?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Acesso negado."}):a.jsx(Nt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(jr,{className:"w-6 h-6 text-primary"}),"Gesto de Leads (Lead CRM)"]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Escalabilidade profissional para gesto de usurios gratuitos e indicaes."})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-lg border border-blue-100 dark:border-blue-800",children:[a.jsx(Yn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),a.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["Painel Admin (",(oe=e.role)==null?void 0:oe.toUpperCase(),")"]})]}),a.jsxs("p",{className:"text-[10px] text-gray-400",children:["Total na Base: ",L," leads"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-indigo-500/10 backdrop-blur-md p-5 rounded-2xl border border-white/10 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-all",children:a.jsx(jr,{className:"w-12 h-12 text-blue-500"})}),a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase tracking-widest",children:"Total de Leads"}),a.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[a.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white",children:A.totalLeads}),a.jsxs("span",{className:"text-[10px] text-green-500 font-bold flex items-center gap-0.5",children:[a.jsx($m,{className:"w-3 h-3"})," +12%"]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Base total de usurios gratuitos"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 backdrop-blur-md p-5 rounded-2xl border border-white/10 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-all",children:a.jsx(ut,{className:"w-12 h-12 text-green-500"})}),a.jsx("p",{className:"text-xs font-bold text-green-400 uppercase tracking-widest",children:"Ativos (Instalados)"}),a.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[a.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white",children:A.activeInstallations}),a.jsxs("span",{className:"text-[10px] text-green-500 font-bold",children:[A.conversionRate,"% Conv."]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Leads que j possuem instalaes"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 backdrop-blur-md p-5 rounded-2xl border border-white/10 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-all",children:a.jsx(gs,{className:"w-12 h-12 text-amber-500"})}),a.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-widest",children:"Pendente Setup"}),a.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[a.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white",children:A.pendingSetup}),a.jsx(Ir,{className:"w-4 h-4 text-amber-500 animate-pulse"})]}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Oportunidades de suporte tcnico"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-md p-5 rounded-2xl border border-white/10 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-all",children:a.jsx(oc,{className:"w-12 h-12 text-purple-500"})}),a.jsx("p",{className:"text-xs font-bold text-purple-400 uppercase tracking-widest",children:"Top Parceiro"}),a.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[a.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white truncate max-w-[150px]",children:((K=B[0])==null?void 0:K.full_name)||"N/A"}),a.jsxs("span",{className:"text-[10px] text-purple-400 font-bold",children:[((D=B[0])==null?void 0:D.leadCount)||0," ads"]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Quem mais est trazendo leads"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-white/5",children:[a.jsxs("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[a.jsx($m,{className:"w-4 h-4 text-primary"}),"Performance de Parceiros"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-4 duration-700",children:B.map((U,W)=>a.jsxs("div",{className:"relative overflow-hidden bg-white/5 backdrop-blur-sm p-4 rounded-xl border border-white/5 shadow-sm transition-all group hover:bg-white/10",children:[a.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-all",children:a.jsx(jr,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-[9px] font-black text-primary/60 bg-primary/5 px-2 py-0.5 rounded-full uppercase tracking-widest border border-primary/10",children:["Rank #",W+1]})]}),a.jsxs("div",{className:"mt-3 relative z-10",children:[a.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white truncate",children:U.full_name}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xl font-black text-primary",children:U.leadCount}),a.jsx("span",{className:"text-[10px] text-gray-500 font-semibold italic",children:"indicaes"})]})]})]},U.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-[#1A1A2E] p-4 rounded-xl border border-gray-200 dark:border-white/5 flex flex-col lg:flex-row gap-4 justify-between items-center shadow-sm",children:[a.jsxs("div",{className:"relative flex-1 w-full lg:max-w-xs",children:[a.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar nome ou email...",value:u,onChange:U=>f(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all text-sm"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(y1,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:x,onChange:U=>{v(U.target.value),R(0)},className:"bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-primary/50",children:[a.jsx("option",{value:"all",children:"Todos os Parceiros"}),y.map(U=>a.jsx("option",{value:U.id,children:U.full_name},U.id))]})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-white/5 p-1 rounded-lg border border-gray-200 dark:border-white/10",children:[a.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${m==="all"?"bg-white dark:bg-white/10 text-primary shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Todos"}),a.jsx("button",{onClick:()=>p("setup_pending"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${m==="setup_pending"?"bg-white dark:bg-white/10 text-primary shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Pendente Setup"}),a.jsx("button",{onClick:()=>p("blocked"),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${m==="blocked"?"bg-red-500 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Bloqueados"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-[#1A1A2E] rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/5 text-xs text-gray-500 uppercase tracking-wider font-semibold",children:[a.jsx("th",{className:"px-6 py-4",children:"Usurio"}),a.jsx("th",{className:"px-6 py-4",children:"Plano"}),a.jsx("th",{className:"px-6 py-4",children:"Status & Origem"}),a.jsx("th",{className:"px-6 py-4",children:"Acesso"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5 text-sm",children:l?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Carregando CRM..."})}):I.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Nenhum lead encontrado nesta pgina."})}):I.map(U=>{var he,J,ve,Te,ae,Ae,Ce,ge;const W=new Date(U.created_at)>new Date(Date.now()-864e5),re=k.has(U.user_id);return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center text-primary font-bold text-sm border border-primary/10",children:(he=U.full_name)==null?void 0:he.substring(0,2).toUpperCase()}),W&&a.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-white leading-tight",children:U.full_name}),W&&a.jsx("span",{className:"text-[8px] font-black bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded uppercase tracking-tighter border border-blue-500/10",children:"Novo Hoje"})]}),a.jsx("p",{className:"text-gray-500 text-[11px] font-mono mt-0.5",children:U.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black border w-fit uppercase tracking-widest ${((J=U.subscription)==null?void 0:J.plan.slug)==="whitelabel"?"bg-orange-500/10 text-orange-400 border-orange-500/20":["saas","agency","master","partner"].includes(((ve=U.subscription)==null?void 0:ve.plan.slug)||"")?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-green-500/10 text-green-400 border-green-500/20"}`,children:(Te=U.subscription)==null?void 0:Te.plan.name}),U.partner_consent&&a.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-bold text-emerald-500 bg-emerald-500/5 px-1.5 py-0.5 rounded border border-emerald-500/10 w-fit",children:[a.jsx(Yn,{className:"w-2.5 h-2.5"})," Contato Autorizado"]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex-1 h-1.5 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden flex gap-0.5",children:[a.jsx("div",{className:`h-full flex-1 transition-all ${(ae=U.onboarding)!=null&&ae.domain_configured?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.4)]":"bg-gray-300 dark:bg-white/10"}`,title:"Domnio"}),a.jsx("div",{className:`h-full flex-1 transition-all ${(Ae=U.onboarding)!=null&&Ae.gateway_configured?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.4)]":"bg-gray-300 dark:bg-white/10"}`,title:"Gateway"})]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[((Ce=U.onboarding)!=null&&Ce.domain_configured?50:0)+((ge=U.onboarding)!=null&&ge.gateway_configured?50:0),"%"]})]}),U.referer&&a.jsx("div",{className:"flex items-center gap-1.5",children:a.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/10 px-1.5 py-0.5 rounded border border-orange-100 dark:border-orange-900/20 w-fit",children:[a.jsx(jr,{className:"w-2.5 h-2.5"}),a.jsxs("span",{className:"font-medium",children:["Ref: ",U.referer.full_name]})]})})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col gap-1 text-[11px] text-gray-500 font-medium",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(qn,{className:"w-3 h-3 opacity-50"})," ",new Date(U.created_at).toLocaleDateString()]}),U.last_login_at&&a.jsxs("div",{className:"flex items-center gap-1.5 text-primary opacity-80",children:[a.jsx(Gi,{className:"w-3 h-3"}),new Date(U.last_login_at).toLocaleDateString()]})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end items-center gap-1",children:[U.whatsapp&&a.jsxs("button",{onClick:()=>F(U),className:`p-2 rounded-lg transition-all flex items-center gap-2 group/btn ${re?"bg-gray-100 text-gray-400":"bg-green-500/10 text-green-500 hover:bg-green-500 hover:text-white shadow-sm"}`,title:"Chamar no WhatsApp",children:[a.jsx(Hee,{className:"w-4 h-4"}),a.jsx("span",{className:"text-[10px] font-bold hidden xl:block",children:re?"Abordado":"WhatsApp"})]}),a.jsx("button",{onClick:()=>X(U),className:"p-2 bg-blue-500/10 text-blue-500 hover:bg-blue-500 hover:text-white rounded-lg transition-all",title:"Enviar E-mail",children:a.jsx(At,{className:"w-4 h-4"})}),a.jsx(Bt,{to:`/admin/free-users/${U.user_id}`,className:"p-2 bg-white/5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-all border border-transparent hover:border-primary/20",title:"Ver Detalhes",children:a.jsx(Vt,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative ml-1",children:[a.jsx("button",{onClick:()=>E(w===U.user_id?null:U.user_id),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(OZ,{className:"w-4 h-4"})}),w===U.user_id&&a.jsx("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white dark:bg-[#1A1A2E] rounded-xl shadow-2xl border border-gray-200 dark:border-white/10 z-50 animate-in fade-in slide-in-from-bottom-2 overflow-hidden",children:a.jsxs("div",{className:"p-2 space-y-1",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 px-2 py-1 uppercase tracking-[0.1em]",children:"Governana"}),a.jsxs("button",{onClick:()=>ue(U.user_id,"active"),className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-green-600 hover:bg-green-50 dark:hover:bg-green-500/10 rounded-lg transition-all",children:[a.jsx(ut,{className:"w-3.5 h-3.5"})," Tornar Parceiro"]}),a.jsxs("button",{onClick:()=>{confirm("Bloquear acesso deste usurio?")},className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-all",children:[a.jsx(mu,{className:"w-3.5 h-3.5"})," Bloquear Acesso"]})]})})]})]})})]},U.user_id)})})]})}),!l&&L>M&&a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 px-6 py-3 border-t border-gray-200 dark:border-white/5 flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["Mostrando ",O*M+1," a ",Math.min((O+1)*M,L)," de ",L," leads"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>R(U=>Math.max(0,U-1)),disabled:O===0,className:"px-3 py-1 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded text-xs disabled:opacity-50",children:"Anterior"}),a.jsx("button",{onClick:()=>R(U=>U+1),disabled:(O+1)*M>=L,className:"px-3 py-1 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded text-xs disabled:opacity-50",children:"Prximo"})]})]})]})]})})};class Zie{async promoteToVitalicia(e){try{const n=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"promote_to_vitalicia",user_id:e})})).json();if(!n.success)throw new Error(n.error||"Erro ao promover usurio");return{success:!0}}catch(r){throw console.error("[SubscriptionService] Error promoting user:",r),r}}}const eoe=new Zie,toe=({isOpen:t,onClose:e,userId:r,userName:n})=>{const[s,i]=b.useState([]),[l,d]=b.useState(!0);b.useEffect(()=>{t&&r&&u()},[t,r]);const u=async()=>{try{d(!0);const{data:f}=await tn.from("licenses").select("key").eq("owner_id",r).maybeSingle();if(!f){i([]);return}const{data:m,error:p}=await tn.from("access_logs").select("*").eq("license_key",f.key).order("created_at",{ascending:!1}).limit(50);if(p)throw p;i(m||[])}catch(f){console.error("Error fetching access logs:",f)}finally{d(!1)}};return a.jsx(Er,{isOpen:t,onClose:e,title:`Logs de Acesso: ${n}`,className:"max-w-2xl",children:a.jsxs("div",{className:"space-y-4",children:[l?a.jsx("div",{className:"py-12 text-center text-gray-500",children:"Carregando histrico..."}):s.length===0?a.jsxs("div",{className:"py-12 text-center text-gray-500 flex flex-col items-center gap-3",children:[a.jsx(Ir,{className:"w-8 h-8 opacity-20"}),a.jsx("p",{children:"Nenhum log de acesso encontrado para este usurio."})]}):a.jsx("div",{className:"overflow-hidden border border-white/5 rounded-xl bg-black/20",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-white/5 text-gray-400 text-xs uppercase font-medium",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 font-semibold",children:"Data / Hora"}),a.jsx("th",{className:"px-4 py-3 font-semibold",children:"Domnio"}),a.jsx("th",{className:"px-4 py-3 font-semibold",children:"Status"}),a.jsx("th",{className:"px-4 py-3 font-semibold",children:"IP"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:s.map(f=>a.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-300",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:new Date(f.created_at).toLocaleDateString()}),a.jsx("span",{className:"text-[10px] opacity-50",children:new Date(f.created_at).toLocaleTimeString()})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-3.5 h-3.5 text-gray-500"}),a.jsx("span",{className:"text-gray-200",children:f.domain||"-"})]})}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsxs("div",{className:`flex items-center gap-1.5 font-medium ${f.granted?"text-green-400":"text-red-400"}`,children:[f.granted?a.jsx(Yn,{className:"w-3.5 h-3.5"}):a.jsx(CD,{className:"w-3.5 h-3.5"}),f.granted?"Permitido":"Negado"]}),f.message&&a.jsx("p",{className:"text-[10px] opacity-60 mt-0.5 truncate max-w-[150px]",title:f.message,children:f.message})]}),a.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs font-mono",children:f.ip_address})]},f.id))})]})}),a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 flex gap-3",children:[a.jsx(qn,{className:"w-5 h-5 text-blue-400 shrink-0"}),a.jsx("p",{className:"text-xs text-blue-200/80 leading-relaxed",children:"Exibindo os ltimos 50 registros de atividade. Os logs mostram tentativas de ativao e validao do Super Checkout nos domnios do cliente."})]})]})})},BA=[{id:"welcome",label:"Bem-vindo / Onboarding",icon:j1,subject:"Bem-vindo ao Super Checkout! ",color:"text-purple-400",body:t=>`Ol, ${t}!

Seja muito bem-vindo ao Super Checkout. Estamos felizes em ter voc conosco!

Vimos que voc acabou de criar sua conta gratuita. O prximo passo  configurar seu primeiro domnio e gateway de pagamento.

Precisa de ajuda para comear? Basta responder a este email.

Atenciosamente,
Equipe Super Checkout`},{id:"help",label:"Ajuda com Configurao",icon:Mu,subject:"Precisa de uma mozinha com a configurao? ",color:"text-blue-400",body:t=>`Ol, ${t}!

Notei que voc ainda no finalizou a configurao do seu domnio ou gateway no Super Checkout.

Essa etapa  fundamental para que voc possa comear a vender. Caso esteja encontrando alguma dificuldade tcnica, nossa equipe est  disposio para ajudar.

Podemos marcar uma rpida conversa?

Abs!`}],roe=({isOpen:t,onClose:e,userEmail:r,userName:n})=>{const[s,i]=b.useState(""),[l,d]=b.useState(""),[u,f]=b.useState(!1),m=x=>{const v=BA.find(y=>y.id===x);v&&(i(v.subject),d(v.body(n)))},p=async()=>{if(!s||!l){or.error("Assunto e mensagem so obrigatrios");return}try{if(f(!0),!(await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:r,subject:s,html:l.replace(/\n/g,"<br>")})})).ok)throw new Error("Falha ao enviar e-mail");or.success("E-mail enviado com sucesso!"),e(),i(""),d("")}catch(x){or.error(x.message||"Erro ao enviar e-mail")}finally{f(!1)}};return a.jsx(Er,{isOpen:t,onClose:e,title:"Enviar Email ao Lead",className:"max-w-xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl border border-white/5",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:a.jsx(At,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:n}),a.jsx("p",{className:"text-xs text-gray-500",children:r})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Templates Rpidos"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:BA.map(x=>a.jsxs("button",{onClick:()=>m(x.id),className:"flex items-center gap-3 p-3 bg-black/20 hover:bg-white/5 border border-white/5 rounded-xl text-left transition-all group",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg bg-black/40 flex items-center justify-center ${x.color}`,children:a.jsx(x.icon,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xs font-medium text-gray-300 group-hover:text-white",children:x.label})]},x.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1.5",children:"Assunto"}),a.jsx("input",{type:"text",value:s,onChange:x=>i(x.target.value),placeholder:"Assunto do e-mail",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1.5",children:"Mensagem"}),a.jsx("textarea",{rows:6,value:l,onChange:x=>d(x.target.value),placeholder:"Escreva sua mensagem aqui...",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white text-sm focus:ring-2 focus:ring-primary/50 outline-none transition-all resize-none"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(je,{variant:"ghost",onClick:e,disabled:u,children:"Cancelar"}),a.jsxs(je,{onClick:p,disabled:u||!s||!l,className:"min-w-[140px]",children:[u?a.jsx(lt,{className:"w-4 h-4 animate-spin text-white"}):a.jsx(Dee,{className:"w-4 h-4 text-white"}),"Enviar Agora"]})]})]})})},aoe=()=>{var S,A,C,O,R,L;const{id:t}=Ia(),e=gt(),{isWhiteLabel:r,profile:n}=tr(),[s,i]=b.useState(null),[l,d]=b.useState(!0),[u,f]=b.useState(!1),[m,p]=b.useState(!1),[x,v]=b.useState(!1);b.useEffect(()=>{t&&y()},[t]);const y=async()=>{try{d(!0);const M=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"get_crm_user_details",user_id:t})})).json();if(!M.success)throw new Error(M.error||"Erro ao carregar detalhes");const{profile:H,onboarding:q,subscription:F}=M;if(!H)throw new Error("Usurio no encontrado");let X=null;if(F){const ue=Array.isArray(F.plan)?F.plan[0]:F.plan;X={...F,plan:ue||{name:"Lead / Gratuito",slug:"free"}}}i({...H,onboarding:q,subscription:X})}catch($){console.error("Error details:",$),or.error("Erro ao carregar detalhes do usurio"),e("/admin/free-users")}finally{d(!1)}},N=async()=>{if(s)try{f(!0);const $=!s.is_blocked,M={is_blocked:$,blocked_at:$?new Date().toISOString():null,status:$?"suspended":"active"},q=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"update_profile",user_id:s.id,updates:M})})).json();if(!q.success)throw new Error(q.error||"Erro ao atualizar");i(F=>F?{...F,...M}:null),or.success($?"Usurio bloqueado com sucesso":"Usurio desbloqueado")}catch($){console.error("Error blocking user:",$),or.error(`Falha ao atualizar status: ${$.message}`)}finally{f(!1)}},w=async()=>{if(window.confirm("TEM CERTEZA? Essa ao remover o usurio e todos os dados associados. No pode ser desfeita."))try{f(!0);const M=await(await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":We.SHARED_SECRET},body:JSON.stringify({action:"soft_delete_user",user_id:s.id})})).json();if(!M.success)throw new Error(M.error||"Erro ao remover");or.success("Usurio desativado/removido do sistema"),e("/admin/free-users")}catch($){console.error("Delete error:",$),or.error(`Erro ao excluir: ${$.message}`)}finally{f(!1)}},E=async()=>{var $;if(s){if((($=s.subscription)==null?void 0:$.plan.slug)==="whitelabel"){or.error("O usurio j possui o plano Vitalcia.");return}if(window.confirm("Deseja forar o upgrade deste usurio para o plano VITALCIA (Domnios Ilimitados)?"))try{f(!0),await eoe.promoteToVitalicia(s.id),or.success("Usurio promovido para o plano VITALCIA com sucesso!"),y()}catch(M){or.error(M.message||"Erro ao realizar upgrade")}finally{f(!1)}}},k=(()=>{var M;switch(((M=s==null?void 0:s.subscription)==null?void 0:M.plan.slug)||"free"){case"free":return{bg:"bg-gradient-to-br from-green-500 to-emerald-600 text-white shadow-green-900/20",label:"FREE",subtext:"text-green-100",btn:"bg-white text-green-900 hover:bg-green-50"};case"partner":return{bg:"bg-gradient-to-br from-orange-500 to-amber-500 text-white shadow-orange-900/20",label:"PARCEIRO",subtext:"text-orange-100",btn:"bg-white text-orange-900 hover:bg-orange-50"};case"upgrade_domains":return{bg:"bg-gradient-to-br from-indigo-700 to-purple-800 text-white shadow-indigo-900/20",label:"UNLIMITED",subtext:"text-indigo-100",btn:"bg-white text-indigo-900 hover:bg-indigo-50"};case"whitelabel":return{bg:"bg-gradient-to-br from-indigo-900 to-purple-900 text-white shadow-indigo-900/20",label:"VITALCIA",subtext:"text-purple-100",btn:"bg-white text-purple-900 hover:bg-purple-50"};default:return{bg:"bg-gradient-to-br from-slate-700 to-slate-800 text-white shadow-slate-900/20",label:"PRO",subtext:"text-slate-100",btn:"bg-white text-slate-900 hover:bg-slate-50"}}})();return r?null:(n==null?void 0:n.role)!=="owner"&&(n==null?void 0:n.role)!=="master_admin"?a.jsx("div",{children:"Acesso negado"}):l?a.jsx(Qm,{}):s?a.jsxs(Nt,{children:[a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 animate-in fade-in pb-20",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Bt,{to:"/admin/free-users",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:a.jsx(Lc,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.full_name||"Usurio Sem Nome",s.is_blocked&&a.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full border border-red-200",children:"Bloqueado"})]}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs text-gray-400",children:s.id}),a.jsx("span",{children:""}),a.jsx("span",{className:"text-primary",children:s.email})]})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsxs("button",{onClick:N,disabled:u,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${s.is_blocked?"bg-green-600 hover:bg-green-700 text-white shadow-lg shadow-green-900/20":"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30"}`,children:[u?a.jsx(Gi,{className:"w-4 h-4 animate-spin"}):s.is_blocked?a.jsx(nee,{className:"w-4 h-4"}):a.jsx(mu,{className:"w-4 h-4"}),s.is_blocked?"Desbloquear":"Bloquear Acesso"]}),a.jsx("button",{onClick:w,disabled:u,className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Excluir Usurio",children:a.jsx(Pr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-[#1A1A2E] rounded-xl border border-gray-200 dark:border-white/5 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Ra,{className:"w-5 h-5 text-primary"}),"Dados Pessoais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Nome Completo"}),a.jsx("p",{className:"font-medium",children:s.full_name||"-"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Email"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"w-3 h-3 text-gray-400"}),a.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-500 hover:underline",children:s.email})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Origem (Source)"}),a.jsx("p",{className:"font-mono text-sm bg-gray-100 dark:bg-white/5 inline-block px-2 py-1 rounded",children:s.signup_source||"Desconhecida"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Data de Cadastro"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{children:new Date(s.created_at).toLocaleString()})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"ltimo Acesso"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gi,{className:"w-3 h-3 text-primary"}),a.jsx("span",{children:s.last_login_at?new Date(s.last_login_at).toLocaleString():"Nunca acessou"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Status da Conta"}),a.jsx("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-bold ${s.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:s.status.toUpperCase()})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-[#1A1A2E] rounded-xl border border-gray-200 dark:border-white/5 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Gi,{className:"w-5 h-5 text-green-500"}),"Progresso de Onboarding"]}),s.onboarding?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yt,{className:`w-5 h-5 ${s.onboarding.domain_configured?"text-green-500":"text-gray-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Configurao de Domnio"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Adicionar domnio personalizado"})]})]}),s.onboarding.domain_configured?a.jsx(ut,{className:"w-5 h-5 text-green-500"}):a.jsx(pu,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ao,{className:`w-5 h-5 ${s.onboarding.gateway_configured?"text-green-500":"text-gray-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Configurao de Gateway"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Conectar Mercado Pago / Stripe"})]})]}),s.onboarding.gateway_configured?a.jsx(ut,{className:"w-5 h-5 text-green-500"}):a.jsx(pu,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/5",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Setup Completo?"}),a.jsx("span",{className:`font-bold ${s.onboarding.setup_completed?"text-green-500":"text-orange-500"}`,children:s.onboarding.setup_completed?"SIM (Pronto para vender)":"NO (Pendente)"})]})})]}):a.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/10 text-orange-600 rounded-lg flex items-center gap-2 text-sm",children:[a.jsx(la,{className:"w-4 h-4"}),"Dados de onboarding no encontrados (Usurio antigo ou erro de criao)."]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`rounded-xl p-6 shadow-lg relative overflow-hidden transition-all duration-500 ${k.bg}`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"}),a.jsx("h3",{className:"font-bold text-lg mb-4 relative z-10 text-white",children:"Plano Atual"}),a.jsxs("div",{className:"text-center py-4 relative z-10",children:[a.jsx("p",{className:"text-4xl font-extrabold tracking-tight",children:k.label}),a.jsx("p",{className:`${k.subtext} text-sm mt-1 uppercase font-semibold`,children:((S=s.subscription)==null?void 0:S.plan.name)||"PLATAFORMA BASE"})]}),a.jsxs("div",{className:"space-y-2 mt-4 relative z-10",children:[a.jsxs("div",{className:"flex justify-between text-sm opacity-90",children:[a.jsx("span",{children:"Status"}),a.jsx("span",{className:"font-bold bg-white/20 px-2 rounded uppercase",children:((A=s.subscription)==null?void 0:A.status)||"Active"})]}),a.jsxs("div",{className:"flex justify-between text-sm opacity-90",children:[a.jsx("span",{children:"Incio"}),a.jsx("span",{children:(C=s.subscription)!=null&&C.started_at?new Date(s.subscription.started_at).toLocaleDateString():"-"})]})]}),a.jsxs("button",{onClick:E,disabled:u||((O=s.subscription)==null?void 0:O.plan.slug)==="whitelabel",className:`w-full mt-6 font-bold py-3 rounded-lg transition-colors shadow-sm flex items-center justify-center gap-2 ${((R=s.subscription)==null?void 0:R.plan.slug)==="whitelabel"?"bg-white/20 text-white cursor-not-allowed":k.btn}`,children:[a.jsx(Yn,{className:"w-4 h-4"}),((L=s.subscription)==null?void 0:L.plan.slug)==="whitelabel"?"Vitalcia Ativa":"Forar Upgrade (VITALCIA)"]})]}),a.jsxs("div",{className:"bg-white dark:bg-[#1A1A2E] rounded-xl border border-gray-200 dark:border-white/5 p-4 shadow-sm space-y-2",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2 pl-2",children:"Aes Rpidas"}),a.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center gap-2 p-3 bg-white/5 border border-white/5 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors",children:[a.jsx(At,{className:"w-4 h-4"}),"Enviar Email"]}),a.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 p-3 bg-white/5 border border-white/5 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors",children:[a.jsx(Gi,{className:"w-4 h-4"}),"Ver Logs de Acesso"]})]})]})]})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx(toe,{isOpen:m,onClose:()=>p(!1),userId:s.id,userName:s.full_name}),a.jsx(roe,{isOpen:x,onClose:()=>v(!1),userEmail:s.email,userName:s.full_name})]})]}):a.jsx("div",{className:"p-8 text-center",children:"Usurio no encontrado"})},noe=()=>{const{profile:t,user:e}=tr(),[r,n]=b.useState({clients:0,installations:0}),[s,i]=b.useState([]),[l,d]=b.useState([]),[u,f]=b.useState(!0),m=`${window.location.origin}/register?partner=${e==null?void 0:e.id}`;b.useEffect(()=>{(async()=>{if(e!=null&&e.id){f(!0);try{const{data:v,count:y}=await tn.from("profiles").select("id, full_name, email, whatsapp, created_at, partner_consent",{count:"exact"}).eq("referred_by_partner_id",e.id).order("created_at",{ascending:!1}),{data:N,count:w}=await tn.from("installations").select(`
                        id,
                        hostname,
                        status,
                        created_at,
                        profiles!inner(id, full_name, email)
                    `).eq("installed_by_partner_id",e.id);n({clients:y||0,installations:w||0}),N&&i(N),v&&(console.log("Admin Partner Debug: Leads Fetched",v),d(v))}catch(v){console.error("Error fetching partner data:",v),or.error("Erro ao carregar dados do parceiro")}finally{f(!1)}}})()},[e==null?void 0:e.id]);const p=x=>{navigator.clipboard.writeText(x),or.success("Link copiado para a rea de transferncia!")};return a.jsx(Nt,{children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ji,{className:"w-6 h-6 text-orange-400"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Painel do Parceiro"})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gesto tcnica de instalaes e acompanhamento de indicaes."})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-orange-400/10 border border-orange-400/20 px-4 py-2 rounded-full",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-bold text-orange-400 uppercase tracking-wider",children:"Licena de Parceiro Ativa"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-[#0F0F13] border border-gray-200 dark:border-white/10 rounded-2xl p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-500",children:a.jsx(jr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"Clientes Indicados"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:r.clients})]})]})}),a.jsx("div",{className:"bg-white dark:bg-[#0F0F13] border border-gray-200 dark:border-white/10 rounded-2xl p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-xl flex items-center justify-center text-purple-500",children:a.jsx(Yt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"Instalaes Realizadas"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:r.installations})]})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#1A1A2E] to-[#0A0A12] border border-white/10 rounded-2xl p-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-[80px] -mr-32 -mt-32"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(Oa,{className:"w-5 h-5 text-primary"}),"Link de Indicao Tcnica"]}),a.jsx("p",{className:"text-gray-400 text-sm mb-6 max-w-2xl",children:"Utilize este link para que os clientes que voc instalar o sistema fiquem vinculados ao seu painel. Isso facilita a gesto e o suporte para seus projetos."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 font-mono text-sm text-gray-300 truncate flex items-center",children:m}),a.jsxs("button",{onClick:()=>p(m),className:"bg-primary hover:bg-primary-hover text-white font-bold px-6 py-3 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95",children:[a.jsx(Pt,{className:"w-4 h-4"}),"Copiar Link"]})]}),a.jsxs("div",{className:"mt-8 flex items-start gap-3 p-4 bg-orange-500/5 border border-orange-500/20 rounded-xl",children:[a.jsx(Wi,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-xs text-orange-400/80 leading-relaxed font-medium",children:[a.jsx("strong",{children:"Nota Importante:"})," Este link serve apenas para facilitar o cadastro e atribuio tcnica de instalaes. Ele no gera comisses automticas por venda, no garante exclusividade e no caracteriza afiliao comercial direta com a plataforma."]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-[#0F0F13] border border-gray-200 dark:border-white/10 rounded-2xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-white/10 flex items-center justify-between",children:[a.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[a.jsx(jr,{className:"w-5 h-5 text-blue-500"}),"Meus Leads (Indicaes)"]}),a.jsxs("span",{className:"text-xs font-mono text-gray-500 bg-white/5 border border-white/5 px-2 py-1 rounded",children:[l.length," leads encontrados"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20",children:[a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Lead"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Contato"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Data Cadastro"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500 italic",children:"Nenhuma indicao registrada ainda. Compartilhe seu link!"})}):l.map(x=>{const v=s.some(y=>{var N;return((N=y.profiles)==null?void 0:N.id)===x.id});return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4 text-sm",children:[a.jsx("div",{className:"font-medium text-white",children:x.full_name||"Sem nome"}),a.jsx("div",{className:"text-[10px] text-gray-500 font-mono",children:x.email})]}),a.jsx("td",{className:"px-6 py-4 text-sm",children:x.whatsapp?a.jsxs("a",{href:`https://wa.me/${x.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-green-400 hover:text-green-300 hover:underline font-medium",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),x.whatsapp]}):a.jsx("span",{className:"text-gray-600 text-xs italic",children:"No informado"})}),a.jsx("td",{className:"px-6 py-4 text-xs text-gray-400",children:new Date(x.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${v?"bg-blue-500/10 text-blue-500":"bg-gray-700/30 text-gray-300"}`,children:v?a.jsxs(a.Fragment,{children:[a.jsx(W5,{className:"w-3 h-3"}),"Instalado"]}):a.jsxs(a.Fragment,{children:[a.jsx(qn,{className:"w-3 h-3"}),"Novo Lead"]})})})]},x.id)})})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-[#0F0F13] border border-gray-200 dark:border-white/10 rounded-2xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-white/10 flex items-center justify-between",children:a.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[a.jsx(Yt,{className:"w-5 h-5 text-gray-400"}),"Instalaes Realizadas"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20",children:[a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Domnio"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-white/5",children:s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500 italic",children:"Nenhum cliente instalado ainda."})}):s.map(x=>{var v,y;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4 text-sm",children:[a.jsx("div",{className:"font-medium text-white",children:(v=x.profiles)==null?void 0:v.full_name}),a.jsx("div",{className:"text-[10px] text-gray-500 font-mono",children:(y=x.profiles)==null?void 0:y.email})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-300 font-mono",children:x.hostname}),a.jsx("td",{className:"px-6 py-4 text-xs text-gray-400",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(ui,{className:"w-3.5 h-3.5"}),new Date(x.created_at).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${x.status==="active"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500"}`,children:x.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(W5,{className:"w-3 h-3"}),"Instalado"]}):a.jsxs(a.Fragment,{children:[a.jsx(qn,{className:"w-3 h-3"}),"Pendente"]})})})]},x.id)})})]})})]}),a.jsx("div",{className:"p-6 rounded-2xl bg-red-500/5 border border-red-500/20 flex flex-col sm:flex-row items-center justify-between gap-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center text-red-500 shrink-0",children:a.jsx(en,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-white text-sm",children:"Proteo da Marca e Suporte"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 max-w-xl",children:"Em caso de abandono de suporte ou m conduta tcnica com clientes indicados, a licena de parceiro pode ser suspensa ou revogada pela plataforma aps anlise."})]})]})})]})})},soe=()=>a.jsx(Nt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Marketing & E-mail"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gerencie suas campanhas e automaes."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(De,{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mb-4",children:a.jsx(At,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Campanhas de E-mail"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Crie e envie e-mails para sua base de clientes."})]}),a.jsxs(De,{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center mb-4",children:a.jsx(cee,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Automaes"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Configure fluxos automticos de recuperao e boas-vindas."})]}),a.jsxs(De,{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center mb-4",children:a.jsx(jy,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Relatrios"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Acompanhe o desempenho das suas campanhas."})]})]}),a.jsxs(De,{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mb-6",children:a.jsx(At,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Em Breve"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md",children:"Estamos construindo uma sute completa de marketing para voc vender mais."})]})]})}),ioe=({isOpen:t,onClose:e})=>{const[r,n]=b.useState(""),[s,i]=b.useState(""),[l,d]=b.useState(!1),[u,f]=b.useState(!1),[m,p]=b.useState(!1),[x,v]=b.useState(!1);b.useEffect(()=>{t&&y()},[t]);const y=async()=>{var E,k;d(!0);try{const S=await ce.getIntegration("resend");S&&(n(((E=S.config)==null?void 0:E.apiKey)||""),i(((k=S.config)==null?void 0:k.senderEmail)||""),v(S.active))}catch(S){console.error("Error loading Resend config:",S)}finally{d(!1)}},N=async()=>{f(!0);try{await ce.saveIntegration({name:"resend",config:{apiKey:r,senderEmail:s},active:x}),e()}catch(E){console.error("Error saving Resend config:",E)}finally{f(!1)}},w=async()=>{p(!0);try{await ce.saveIntegration({name:"resend",config:{apiKey:r,senderEmail:s},active:x});const{data:{user:E}}=await V.auth.getUser(),k=E==null?void 0:E.email;if(!k)throw new Error("No foi possvel identificar seu e-mail para envio dos testes.");const S={id:"teste-123",checkout_id:"chk_test",offer_id:"offer_test",amount:197.9,customer_email:k,customer_name:"Cliente Teste",status:wt.PAID,payment_method:"pix",items:[{name:"Produto Exemplo",price:197.9,quantity:1,type:"main"}],created_at:new Date().toISOString()},[A,C]=await Promise.all([Un.sendPaymentApproved(S),Un.sendBoletoGenerated(S,"https://exemplo.com/boleto","12345.67890 12345.67890 12345.67890 123456")]);if(!A||!C)throw new Error("Falha ao enviar e-mails. Verifique se a API Key est ativa e se o domnio de remetente  vlido.");alert(`Sucesso! Enviamos 2 e-mails de teste para: ${k}.`)}catch(E){console.error("Test error:",E),alert(`Erro ao testar: ${E.message||"Erro desconhecido"}`)}finally{p(!1)}};return a.jsx(Er,{isOpen:t,onClose:e,title:"Configurar Resend",className:"max-w-md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-black dark:bg-white/10 rounded-lg flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"R"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Resend Email API"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Envie emails transacionais com alta entregabilidade."})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"password",value:r,onChange:E=>n(E.target.value),placeholder:"re_123456789...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-[#0f0f1a] border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-gray-900 dark:text-white"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Voc pode gerar uma chave em ",a.jsx("a",{href:"https://resend.com/api-keys",target:"_blank",rel:"noreferrer",className:"text-primary hover:underline",children:"resend.com/api-keys"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail de Envio (Remetente)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 flex items-center justify-center",children:"@"}),a.jsx("input",{type:"email",value:s,onChange:E=>i(E.target.value),placeholder:"ex: contato@suaempresa.com.br",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-[#0f0f1a] border border-gray-200 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all text-gray-900 dark:text-white"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Use um domnio verificado no Resend. Se deixar em branco, usaremos ",a.jsx("strong",{children:"onboarding@resend.dev"})," (apenas para testes)."]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"active",checked:x,onChange:E=>v(E.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700 dark:text-gray-300 select-none",children:"Ativar integrao"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-white/5",children:[a.jsx("button",{onClick:w,disabled:m||!r,className:"text-sm text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Enviando...":"Testar Conexo"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:N,disabled:u||!r,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"w-4 h-4"}),"Salvar Configurao"]})})]})]})]})})},ooe=()=>{const t=gt(),[e,r]=b.useState(!1),[n,s]=b.useState(!1);b.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await ce.getIntegration("resend");s((d==null?void 0:d.active)||!1)}catch(d){console.error("Error loading integration status:",d)}},l=()=>{r(!1),i()};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Integraes"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Conecte suas ferramentas favoritas."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(De,{className:`p-6 hover:border-primary/50 transition-all cursor-pointer group relative overflow-hidden ${n?"border-green-500 dark:border-green-400":""}`,onClick:()=>r(!0),children:[n&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-transparent to-green-500/5 pointer-events-none"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-black dark:bg-white/10 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),n?a.jsxs("span",{className:"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full font-medium flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3"}),"Ativo"]}):a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/5 text-gray-500 text-xs rounded-full",children:"E-mail"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary transition-colors",children:"Resend"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"API de e-mail para desenvolvedores."}),!n&&a.jsx("button",{className:"w-full py-2 px-4 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Conectar"})]})]}),a.jsxs(De,{className:"p-6 hover:border-primary/50 transition-colors cursor-pointer group",onClick:()=>t("/admin/webhooks"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:a.jsx(ute,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/5 text-gray-500 text-xs rounded-full",children:"Sistema"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary transition-colors",children:"Webhooks"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Receba notificaes de eventos em tempo real."}),a.jsx("button",{className:"w-full py-2 px-4 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Configurar"})]}),a.jsxs(De,{className:"p-6 hover:border-primary/50 transition-colors cursor-pointer group",onClick:()=>t("/admin/checkouts"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center",children:a.jsx(_D,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/5 text-gray-500 text-xs rounded-full",children:"Analytics"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-primary transition-colors",children:"Pixels e Analytics"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Gerencie pixels do Facebook, TikTok e Google por checkout."}),a.jsx("button",{className:"w-full py-2 px-4 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Ir para Checkouts"})]})]})]}),a.jsx(ioe,{isOpen:e,onClose:l})]})};var Nr=function(){return Nr=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Nr.apply(this,arguments)};function Fp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function zA(t){if(t){var e=t.textContent,r=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;t.style.direction=e&&r.test(e[0])?"rtl":"ltr"}}function xI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(Boolean).join(" ")}function loe(){if(document.selection)return document.selection.createRange().parentElement();var t=window.getSelection();if(t&&t.rangeCount>0)return t.getRangeAt(0).startContainer.parentNode||void 0}function FA(t){return typeof t=="string"?t.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(t)}function coe(t){var e=document.createTextNode("");t.appendChild(e);var r=document.activeElement===t;if(e!==null&&e.nodeValue!==null&&r){var n=window.getSelection();if(n!==null){var s=document.createRange();s.setStart(e,e.nodeValue.length),s.collapse(!0),n.removeAllRanges(),n.addRange(s)}t instanceof HTMLElement&&t.focus()}}function bI(t,e){typeof e=="function"?e(t):typeof e=="object"&&e&&(e.current=t)}var doe=se.memo(se.forwardRef(function(e,r){var n=e.className,s=e.disabled,i=e.tagName,l=e.value,d=l===void 0?"":l,u=e.placeholder,f=Fp(e,["className","disabled","tagName","value","placeholder"]),m=se.useRef(null),p=se.useRef(d),x=se.useRef(f);return se.useEffect(function(){x.current=f;var v=m.current;v&&FA(p.current)!==FA(d)&&(p.current=d,v.innerHTML=d,coe(v))}),se.useMemo(function(){function v(w){m.current=w,zA(w),bI(w,r)}function y(w){var E,k,S=m.current;if(S){var A=S.innerHTML;A!==p.current&&((k=(E=x.current).onChange)===null||k===void 0||k.call(E,Nr(Nr({},w),{target:{value:A,name:f.name}}))),zA(S),p.current=A}}var N=xI("rsw-ce",n);return se.createElement(i||"div",Nr(Nr({},f),{className:N,contentEditable:!s,dangerouslySetInnerHTML:{__html:d},onBlur:function(w){return(x.current.onBlur||y)(w)},onInput:y,onKeyDown:function(w){return(x.current.onKeyDown||y)(w)},onKeyUp:function(w){return(x.current.onKeyUp||y)(w)},placeholder:u,ref:v}))},[n,s,u,i])})),vI=se.createContext(void 0);function uoe(t){var e=t.children,r=se.useState({htmlMode:!1,update:i}),n=r[0],s=r[1];function i(l){s(function(d){return Nr(Nr({},d),l)})}return se.createElement(vI.Provider,{value:n},e)}function Bu(){var t=se.useContext(vI);if(!t)throw new Error("You should wrap your component by EditorProvider");return t}var qA=[],Bd=[];function hoe(t,e){if(t&&typeof document<"u"){var r,n=e.prepend===!0?"prepend":"append",s=e.singleTag===!0,i=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(s){var l=qA.indexOf(i);l===-1&&(l=qA.push(i)-1,Bd[l]={}),r=Bd[l]&&Bd[l][n]?Bd[l][n]:Bd[l][n]=d()}else r=d();t.charCodeAt(0)===65279&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function d(){var u=document.createElement("style");if(u.setAttribute("type","text/css"),e.attributes)for(var f=Object.keys(e.attributes),m=0;m<f.length;m++)u.setAttribute(f[m],e.attributes[f[m]]);var p=n==="prepend"?"afterbegin":"beforeend";return i.insertAdjacentElement(p,u),u}}var foe=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";hoe(foe,{});var moe=se.forwardRef(function(e,r){var n=e.autoFocus,s=e.children,i=e.containerProps,l=e.onSelect,d=Fp(e,["autoFocus","children","containerProps","onSelect"]),u=Bu();se.useEffect(function(){return document.addEventListener("click",f),function(){return document.removeEventListener("click",f)}});function f(v){var y;v.target!==u.$el&&(!((y=u.$el)===null||y===void 0)&&y.contains(v.target)||u.update({$selection:void 0}))}function m(v){l==null||l(v),u.update({$selection:loe()})}function p(v){u.update({$el:v}),bI(v,r),n&&v&&u.$el===void 0&&v.focus()}var x=xI("rsw-editor",i==null?void 0:i.className);return u.htmlMode?se.createElement("div",Nr({},i,{className:x}),s,se.createElement("textarea",Nr({},d,{className:"rsw-ce rsw-html"}))):se.createElement("div",Nr({},i,{className:x}),s,se.createElement(doe,Nr({},d,{ref:p,onSelect:m})))});function poe(){return se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},se.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function goe(){return se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},se.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var xoe=bs("Bold","","bold"),boe=bs("Bullet list",se.createElement(goe,null),"insertUnorderedList"),voe=bs("Clear formatting","T","removeFormat"),yoe=bs("Italic","","italic"),woe=bs("Strike through",se.createElement("s",null,"ab"),"strikeThrough"),joe=bs("Link","",function(t){var e=t.$selection;(e==null?void 0:e.nodeName)==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),Noe=bs("Numbered list",se.createElement(poe,null),"insertOrderedList"),_oe=bs("Redo","","redo"),Eoe=bs("Underline",se.createElement("span",{style:{textDecoration:"underline"}},""),"underline"),Soe=bs("Undo","","undo");function bs(t,e,r){return n.displayName=t.replace(/\s/g,""),n;function n(s){var i=Bu(),l=i.$el,d=function(){return!!(l!=null&&l.contains(document.activeElement))},u=!1;typeof r=="string"&&(u=d()&&document.queryCommandState(r));function f(m){m.preventDefault(),d()||l==null||l.focus(),typeof r=="function"?r(i):document.execCommand(r)}return i.htmlMode?null:se.createElement("button",Nr({className:"rsw-btn","data-active":u,onMouseDown:f,tabIndex:-1,title:t,type:"button"},s),e)}}var koe=Aoe("Styles",[["Normal","formatBlock","DIV"],[" ","formatBlock","H1"],["Header 2","formatBlock","H2"],["","formatBlock","PRE"]]);function Aoe(t,e){return r.displayName=t,r;function r(n){var s=Bu(),i=s.$el,l=s.$selection,d=s.htmlMode;if(d)return null;var u=e.findIndex(function(m){return m[1]==="formatBlock"&&(l==null?void 0:l.nodeName)===m[2]});return se.createElement(Coe,Nr({},n,{items:e,onChange:f,selected:u,tabIndex:-1,title:t}));function f(m){var p=m.target,x=p.value,v=parseInt(x,10),y=e[v]||[],N=y[1],w=y[2];m.preventDefault(),document.activeElement!==i&&(i==null||i.focus()),typeof N=="function"?N(s):N&&document.execCommand(N,!1,w),setTimeout(function(){return p.value=x},10)}}}function Coe(t){var e=t.items,r=t.selected,n=Fp(t,["items","selected"]);return se.createElement("select",Nr({className:"rsw-dd"},n,{value:r}),se.createElement("option",{hidden:!0},n.title),e.map(function(s,i){return se.createElement("option",{key:s[2],value:i},s[0])}))}function Toe(t){var e=Fp(t,[]),r=Bu();function n(){r.update({htmlMode:!r.htmlMode})}return se.createElement("button",Nr({className:"rsw-btn","data-active":r.htmlMode,onClick:n,tabIndex:-1,title:"HTML mode",type:"button"},e),"</>")}function Tf(t){var e=Bu();return e.htmlMode?null:se.createElement("div",Nr({className:"rsw-separator"},t))}function Ooe(t){return se.createElement("div",Nr({className:"rsw-toolbar"},t))}var Roe=se.forwardRef(function(e,r){return se.createElement(uoe,null,se.createElement(moe,Nr({},e,{ref:r}),e.children||se.createElement(Ooe,null,se.createElement(Soe,null),se.createElement(_oe,null),se.createElement(Tf,null),se.createElement(xoe,null),se.createElement(yoe,null),se.createElement(Eoe,null),se.createElement(woe,null),se.createElement(Tf,null),se.createElement(Noe,null),se.createElement(boe,null),se.createElement(Tf,null),se.createElement(joe,null),se.createElement(voe,null),se.createElement(Toe,null),se.createElement(Tf,null),se.createElement(koe,null))))});const nv={ORDER_COMPLETED:["{{order_id}}","{{customer_name}}","{{product_names}}","{{members_area_url}}"],ACCESS_GRANTED:["{{name}}","{{email}}","{{members_area_url}}"],SYSTEM_ORDER_COMPLETED:["{{portal_url}}","{{license_key}}","{{plan_name}}","{{customer_name}}","{{order_id}}"],SYSTEM_ACCESS_GRANTED:["{{portal_url}}","{{customer_name}}"],WELCOME_FREE:["{{name}}","{{portal_url}}"],UPGRADE_UNLIMITED:["{{name}}","{{support_url}}"],UPGRADE_PARTNER:["{{name}}","{{partner_portal_url}}"]},Doe=({isOpen:t,onClose:e,template:r,onSave:n,isSystem:s=!1})=>{const[i,l]=b.useState(""),[d,u]=b.useState(""),[f,m]=b.useState(!1),[p,x]=b.useState("visual"),v=b.useRef(null);if(b.useEffect(()=>{r&&(l(r.subject),u(r.html_body))},[r]),!t||!r)return null;const y=nv[r.event_type]||(s?nv.SYSTEM_ORDER_COMPLETED:nv.ORDER_COMPLETED),N=k=>{if(p==="code"){if(!v.current)return;const S=v.current.selectionStart,A=v.current.selectionEnd,C=d,O=C.substring(0,S),R=C.substring(A);u(O+k+R),setTimeout(()=>{v.current&&(v.current.focus(),v.current.selectionStart=v.current.selectionEnd=S+k.length)},0)}else p==="visual"&&u(d+" "+k)},w=async()=>{m(!0);try{const k=s?"system_email_templates":"email_templates";if(r.isVirtual){const{error:S}=await V.from(k).insert({event_type:r.event_type,name:r.name,subject:i,html_body:d,active:!0});if(S)throw S}else{const{error:S}=await V.from(k).update({subject:i,html_body:d,updated_at:new Date().toISOString()}).eq("id",r.id);if(S)throw S}n()}catch(k){console.error("Error updating/creating template:",k),alert("Erro ao salvar template")}finally{m(!1)}},E=()=>{let k=d;const S={"{{order_id}}":"12345","{{customer_name}}":"Joo Silva","{{product_names}}":"Curso Super Checkout","{{members_area_url}}":"https://demo.supercheckout.app","{{portal_url}}":"https://portal.supercheckout.app","{{license_key}}":"XXXX-XXXX-XXXX","{{plan_name}}":"Plano Pro","{{name}}":"Joo Silva","{{email}}":"joao@exemplo.com","{{support_url}}":"https://suporte.com"};return Object.keys(S).forEach(A=>{k=k.split(A).join(S[A])}),k};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"w-full max-w-4xl bg-[#0A0A0A] border border-white/10 rounded-2xl shadow-2xl flex flex-col h-[95vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/5",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Template"}),a.jsx("p",{className:"text-sm text-gray-400",children:r.name})]}),a.jsxs("div",{className:"flex items-center gap-2 mr-4 bg-white/5 p-1 rounded-xl border border-white/10",children:[a.jsxs("button",{onClick:()=>x("visual"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${p==="visual"?"bg-primary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"}`,children:[a.jsx(ete,{className:"w-4 h-4"})," Visual"]}),a.jsxs("button",{onClick:()=>x("code"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${p==="code"?"bg-primary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"}`,children:[a.jsx(_y,{className:"w-4 h-4"})," Cdigo"]}),a.jsxs("button",{onClick:()=>x("preview"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${p==="preview"?"bg-primary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"}`,children:[a.jsx(yc,{className:"w-4 h-4"})," Preview"]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white/5 rounded-lg text-gray-400 hover:text-white transition-colors",children:a.jsx(Mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1 custom-scrollbar",children:[a.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Wi,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Injetor de Variveis"}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Clique para inserir no editor:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(k=>a.jsx("button",{onClick:()=>N(k),className:"px-2.5 py-1.5 bg-primary/10 hover:bg-primary/20 rounded text-xs text-primary font-bold border border-primary/20 transition-colors",title:`Clique para inserir ${k}`,children:k},k))})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:p==="preview"?"hidden":"",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Assunto do E-mail"}),a.jsx("input",{type:"text",value:i,onChange:k=>l(k.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none transition-all",placeholder:"Ex: Seu pedido foi aprovado"})]}),p==="visual"&&a.jsxs("div",{className:"animate-in fade-in duration-300 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Mensagem (Visual)"}),a.jsx("div",{className:"bg-white rounded-xl overflow-hidden min-h-[400px] text-gray-900",children:a.jsx(Roe,{value:d,onChange:k=>u(k.target.value),containerProps:{style:{height:"350px",border:"none"}}})})]}),p==="code"&&a.jsxs("div",{className:"animate-in fade-in duration-300 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"HTML do E-mail"}),a.jsxs("div",{className:"relative group/editor",children:[a.jsx("textarea",{ref:v,value:d,onChange:k=>u(k.target.value),className:"w-full h-96 bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-gray-900 font-mono text-sm leading-relaxed focus:ring-2 focus:ring-primary/50 outline-none transition-all resize-none shadow-inner",spellCheck:!1,placeholder:"<h1>Ol...</h1>"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/editor:opacity-100 transition-opacity",children:a.jsx("span",{className:"text-[10px] bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded font-bold uppercase",children:"Editor HTML"})})]})]}),p==="preview"&&a.jsxs("div",{className:"animate-in slide-in-from-right-2 fade-in duration-300 flex flex-col h-full min-h-[450px] bg-[#050505] rounded-xl border border-white/5 overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-white/5 bg-white/5 flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[a.jsx(yc,{className:"w-4 h-4"})," Visualizao do E-mail"]}),a.jsx("span",{className:"text-[10px] bg-primary/20 text-primary px-2 py-0.5 rounded font-bold uppercase tracking-wider",children:"Preview Mode"})]}),a.jsx("div",{className:"p-8 overflow-auto flex-1 custom-scrollbar",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:E()},className:"email-preview-content prose prose-invert max-w-none text-white",style:{color:"inherit"}})}),a.jsx("div",{className:"p-4 bg-yellow-500/5 border-t border-white/5",children:a.jsxs("p",{className:"text-[11px] text-yellow-500/80 flex items-center gap-2",children:[a.jsx(Wi,{className:"w-3.5 h-3.5"})," Esta  uma prvia visual. As variveis foram substitudas por dados fictcios."]})})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-white/5 flex justify-end gap-3 bg-black/40 rounded-b-2xl",children:[a.jsx(je,{variant:"ghost",onClick:e,disabled:f,className:"text-gray-400 hover:text-white",children:"Cancelar"}),a.jsxs(je,{onClick:w,disabled:f,children:[f?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(Gn,{className:"w-4 h-4"}),"Salvar Alteraes"]})]})]})})},sv={id:"virtual-default",event_type:"ORDER_COMPLETED",name:"Pedido Aprovado",subject:"Seu pedido #{{order_id}} foi aprovado!",html_body:`<div style="font-family: sans-serif; color: #333;">
    <h1>Ol, {{customer_name}}!</h1>
    <p>Parabns pela sua compra.</p>
    <p>Seu pedido <strong>#{{order_id}}</strong> foi confirmado com sucesso.</p>
    <p>Voc adquiriu: {{product_names}}</p>
    <br/>
    <p>Acesse seu contedo agora:</p>
    <a href="{{members_area_url}}" style="background-color: #0070f3; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Acessar rea de Membros</a>
    <br/><br/>
    <p>Atenciosamente,<br/>Sua Equipe Aqui</p>
  </div>`,active:!1,updated_at:new Date().toISOString(),isVirtual:!0},Ioe=()=>{const{profile:t}=tr(),[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,l]=b.useState(null),[d,u]=b.useState(!1),[f,m]=b.useState(null),p="contato.jeandamin@gmail.com",x=(t==null?void 0:t.email)===p||(t==null?void 0:t.user_email)===p,v=(t==null?void 0:t.role)==="owner"||(t==null?void 0:t.role)==="super_admin"||x,[y,N]=b.useState("business"),[w,E]=b.useState([]);b.useEffect(()=>{k()},[v]);const k=async()=>{s(!0);try{if(v){const{data:L,error:$}=await V.from("system_email_templates").select("*").order("name");$&&$.code!=="PGRST116"&&console.error("Error fetching system templates:",$),E(L||[]);const{data:M,error:H}=await V.from("email_templates").select("*").order("name");if(H)throw H;r(M||[])}else{const{data:L,error:$}=await V.from("email_templates").select("*").eq("event_type","ORDER_COMPLETED").maybeSingle();if($&&$.code!=="PGRST116")throw $;m(L||sv)}}catch(L){console.error("Error loading templates:",L),v||m(sv)}finally{s(!1)}},S=L=>{l(L),u(!0)},A=async()=>{await k(),u(!1)},C=async(L,$)=>{if(L.isVirtual){S(L);return}const M=$?"system_email_templates":"email_templates";try{const{error:H}=await V.from(M).update({active:!L.active}).eq("id",L.id);if(H)throw H;k()}catch(H){console.error("Error toggling status:",H)}},O=(L,$)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[L.map(M=>a.jsxs(De,{className:"group relative overflow-hidden p-6 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/10 border-white/5 hover:border-primary/30 bg-[#0A0A0A]",children:[a.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-primary/10 rounded-full blur-[80px] group-hover:bg-primary/20 transition-all duration-500"}),a.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-blue-500/5 rounded-full blur-[80px] group-hover:bg-blue-500/10 transition-all duration-500"}),a.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3 shadow-lg ${M.active?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-rose-500/10 text-rose-400 border border-rose-500/20"}`,children:a.jsx(At,{className:"w-6 h-6 shrink-0"})}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-widest uppercase border ${M.active?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-rose-500/10 text-rose-400 border-rose-500/20"}`,children:M.active?"Ativo":"Inativo"}),a.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-tighter",children:"E-mail Template"})]})]}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-primary transition-colors cursor-default",children:M.name}),a.jsx("p",{className:"text-sm text-gray-400 mb-6 line-clamp-2 leading-relaxed min-h-[40px]",title:M.subject,children:M.subject})]}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3 mt-auto",children:[a.jsxs("button",{onClick:()=>S(M),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-white/5 hover:bg-white/10 text-white rounded-xl text-sm font-semibold transition-all border border-white/5 hover:border-white/10",children:[a.jsx(Ko,{className:"w-4 h-4"}),"Editar"]}),a.jsx("button",{onClick:()=>C(M,$),className:`flex items-center justify-center w-11 h-11 rounded-xl transition-all border ${M.active?"bg-rose-500/10 text-rose-400 border-rose-500/20 hover:bg-rose-500/20":"bg-emerald-500/10 text-emerald-400 border-emerald-500/20 hover:bg-emerald-500/20"}`,title:M.active?"Desativar":"Ativar",children:M.active?a.jsx(pu,{className:"w-5 h-5"}):a.jsx(ut,{className:"w-5 h-5"})})]})]},M.id)),L.length===0&&a.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-white/5 rounded-3xl bg-white/[0.02]",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Wi,{className:"w-8 h-8 text-gray-600"})}),a.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhum template encontrado neste contexto."})]})]}),R=()=>{const L=f||sv;return a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(De,{className:"group relative overflow-hidden transition-all duration-500 border-white/5 hover:border-primary/30 bg-[#0A0A0A]",children:[a.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-primary/10 rounded-full blur-[100px]"}),a.jsx("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 bg-blue-500/5 rounded-full blur-[100px]"}),a.jsxs("div",{className:"relative z-10 p-8 flex justify-between items-start border-b border-white/5 bg-white/[0.02]",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-transform duration-500 group-hover:scale-105 group-hover:rotate-3 shadow-2xl ${L.active?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 shadow-emerald-500/10":"bg-rose-500/10 text-rose-400 border border-rose-500/20 shadow-rose-500/10"}`,children:a.jsx(At,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:"E-mail de Ps-Venda"}),a.jsx("span",{className:"text-[9px] bg-white/5 text-gray-500 px-1.5 py-0.5 rounded font-bold uppercase tracking-widest",children:"Client Edition"})]}),a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Enviado automaticamente quando a compra  aprovada"})]})]}),a.jsx("div",{className:`px-3 py-1 rounded-lg text-[10px] font-black tracking-widest border transition-all ${L.active?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-rose-500/10 text-rose-400 border-rose-500/20"}`,children:L.active?"ATIVO":"INATIVO"})]}),a.jsxs("div",{className:"p-8 space-y-8 relative z-10",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:"Assunto do E-mail"}),a.jsx("span",{className:"text-[10px] text-primary/40 font-mono",children:"Dynamic Content"})]}),a.jsx("div",{className:"text-white font-semibold bg-white/[0.03] p-4 rounded-xl border border-white/5 group-hover:border-primary/20 transition-colors",children:L.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest mb-3 block",children:"Variveis de Injeo"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["{{customer_name}}","{{product_names}}","{{members_area_url}}","{{order_id}}"].map($=>a.jsx("code",{className:"text-[11px] text-primary font-bold bg-primary/5 px-3 py-1.5 rounded-lg border border-primary/10 font-mono hover:bg-primary/10 transition-colors cursor-default",children:$},$))})]})]}),a.jsxs("div",{className:"bg-white/[0.03] p-8 flex gap-4 border-t border-white/5 relative z-10",children:[a.jsxs("button",{onClick:()=>S(L),className:"flex-1 bg-primary hover:bg-primary-hover text-white font-black py-4 rounded-2xl transition-all shadow-xl shadow-primary/20 hover:shadow-primary/30 flex items-center justify-center gap-3 transform hover:-translate-y-0.5 active:translate-y-0",children:[a.jsx(Ko,{className:"w-5 h-5"}),"Personalizar Mensagem"]}),a.jsx("button",{onClick:()=>C(L,!1),className:`flex items-center justify-center w-16 rounded-2xl border font-bold transition-all ${L.active?"border-rose-500/20 text-rose-400 hover:bg-rose-500/10":"border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/10"}`,title:L.active?"Desativar envio":"Ativar envio",children:L.active?a.jsx(pu,{className:"w-6 h-6"}):a.jsx(ut,{className:"w-6 h-6"})})]})]})})};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a.jsx(yy,{className:"w-6 h-6 text-primary"}),"Central de Notificaes"]}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:v?"Gerencie os templates de e-mail do Sistema e dos Clientes.":"Configure a mensagem automtica enviada aos seus clientes aps a compra."})]}),n?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("p",{className:"text-gray-400 animate-pulse",children:"Carregando configuraes..."})}):v?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>N("system"),className:`pb-3 px-1 text-sm font-bold transition-all border-b-2 ${y==="system"?"border-primary text-white":"border-transparent text-gray-400 hover:text-white"}`,children:"Notificaes do Sistema (Owner)"}),a.jsx("button",{onClick:()=>N("business"),className:`pb-3 px-1 text-sm font-bold transition-all border-b-2 ${y==="business"?"border-primary text-white":"border-transparent text-gray-400 hover:text-white"}`,children:"Notificaes de Negcio (Clientes)"})]}),y==="system"?a.jsxs("div",{children:[a.jsx("div",{className:"mb-4 bg-purple-500/5 border border-purple-500/10 rounded-lg p-3",children:a.jsxs("p",{className:"text-xs text-purple-300",children:[a.jsx(Wi,{className:"w-3 h-3 inline mr-1"}),"Estes e-mails so enviados por VOC para seus clientes de licena."]})}),O(w,!0)]}):a.jsxs("div",{children:[a.jsx("div",{className:"mb-4 bg-blue-500/5 border border-blue-500/10 rounded-lg p-3",children:a.jsxs("p",{className:"text-xs text-blue-300",children:[a.jsx(Wi,{className:"w-3 h-3 inline mr-1"}),"Estes so modelos padro que seus clientes usaro para os clientes DELES."]})}),O(e,!1)]})]}):R(),a.jsx(Doe,{isOpen:d,onClose:()=>u(!1),template:i,onSave:A,isSystem:y==="system"&&v})]})},Poe=()=>{const t=gt(),{user:e}=tr(),[r,n]=b.useState(!0),[s,i]=b.useState([]),[l,d]=b.useState({isOpen:!1,areaId:null}),[u,f]=b.useState(!1);b.useEffect(()=>{e&&m()},[e]);const m=async()=>{console.log("MemberAreas: loadAreas started"),n(!0);const x=setTimeout(()=>{console.warn("MemberAreas: loadAreas timed out"),n(!1)},5e3);try{console.log("MemberAreas: calling storage.getMemberAreas() with user",e==null?void 0:e.id);const v=await ce.getMemberAreas(e==null?void 0:e.id);console.log("MemberAreas: data received",v),i(v)}catch(v){console.error("Error loading member areas:",v)}finally{clearTimeout(x),n(!1)}},p=async()=>{if(l.areaId){f(!0);try{await ce.deleteMemberArea(l.areaId),i(s.filter(x=>x.id!==l.areaId)),d({isOpen:!1,areaId:null})}catch(x){console.error("Error deleting member area:",x)}finally{f(!1)}}};return a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"reas de Membros"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Gerencie seus portais de alunos"})]}),a.jsxs(je,{onClick:()=>t("/admin/members/new"),children:[a.jsx(pr,{className:"w-4 h-4"})," Nova rea"]})]}),r?a.jsx("div",{className:"text-center py-10 text-gray-500",children:"Carregando..."}):s.length===0?a.jsxs("div",{className:"text-center py-20 bg-white dark:bg-[#0A0A0A] rounded-2xl border border-gray-200 dark:border-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(jr,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nenhuma rea criada"}),a.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Crie seu primeiro portal para hospedar seus cursos e contedos."}),a.jsx(je,{onClick:()=>t("/admin/members/new"),className:"mx-auto",children:"Criar Primeira rea"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>a.jsxs("div",{className:"group relative bg-white dark:bg-[#0A0A0A] border border-gray-200 dark:border-white/10 rounded-2xl overflow-hidden hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/5",children:[a.jsxs("div",{className:"h-32 bg-gradient-to-br from-gray-800 to-black relative",children:[x.logo_url?a.jsx("img",{src:x.logo_url,className:"w-full h-full object-cover opacity-50"}):a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(jr,{className:"w-12 h-12 text-white/20"})}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:a.jsx("button",{onClick:()=>d({isOpen:!0,areaId:x.id}),className:"p-2 bg-black/50 text-white rounded-lg hover:bg-red-500/80 transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:x.name}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["/",x.slug]}),a.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[a.jsx(je,{className:"flex-1",onClick:()=>t(`/admin/members/${x.id}`),children:"Gerenciar Portal"}),a.jsx("a",{href:`/app/${x.slug}`,target:"_blank",className:"p-2.5 border border-gray-200 dark:border-white/10 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 text-gray-500 transition-colors",children:a.jsx(Oa,{className:"w-5 h-5"})})]})]})]},x.id))}),a.jsx(Kn,{isOpen:l.isOpen,onClose:()=>d({isOpen:!1,areaId:null}),onConfirm:p,title:"Excluir rea de Membros",message:"Tem certeza que deseja excluir esta rea de membros? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",variant:"danger",loading:u})]})},Moe=({memberAreaId:t})=>{const e=gt(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[l,d]=b.useState(""),[u,f]=b.useState(null),[m,p]=b.useState(!1),[x,v]=b.useState({isOpen:!1,title:"",message:"",variant:"info"});b.useEffect(()=>{t&&y()},[t]);const y=async()=>{i(!0);try{const A=await ce.getContents(t);n(A)}catch(A){console.error("Error loading contents:",A),N("Erro","Erro ao carregar contedos.","error")}finally{i(!1)}},N=(A,C,O="info")=>{v({isOpen:!0,title:A,message:C,variant:O})},w=A=>{f(A)},E=async()=>{if(u)try{p(!0),await ce.deleteContent(u),await y(),f(null),N("Sucesso","Contedo excludo com sucesso.","success")}catch(A){console.error("Error deleting content:",A),N("Erro","Erro ao excluir contedo.","error")}finally{p(!1)}},k=A=>{switch(A){case"course":return a.jsx(bc,{className:"w-4 h-4"});case"pack":return a.jsx(ga,{className:"w-4 h-4"});case"software":return a.jsx(fee,{className:"w-4 h-4"});case"ebook":return a.jsx(oa,{className:"w-4 h-4"});default:return a.jsx(Ca,{className:"w-4 h-4"})}},S=r.filter(A=>A.title.toLowerCase().includes(l.toLowerCase())||A.description.toLowerCase().includes(l.toLowerCase()));return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Contedos do Portal"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie os cursos e materiais desta rea."})]}),a.jsxs(je,{onClick:()=>e(`/admin/contents/new?areaId=${t}`),className:"shadow-xl shadow-primary/20",children:[a.jsx(pr,{className:"w-4 h-4"})," Criar Novo Contedo"]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),a.jsx("input",{type:"text",placeholder:"Buscar por ttulo ou descrio...",value:l,onChange:A=>d(A.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-500"})]})}),s?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(A=>a.jsx(De,{className:"h-[350px] animate-pulse",children:a.jsx("div",{})},A))}):r.length===0?a.jsxs(De,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ca,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum contedo criado"}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx(je,{onClick:()=>e(`/admin/contents/new?areaId=${t}`),children:"Criar Contedo"})})]}):S.length===0?a.jsxs(De,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vn,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhum contedo encontrado"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:S.map(A=>a.jsx(De,{className:"group relative flex flex-col hover:-translate-y-1 transition-all",noPadding:!0,children:a.jsxs("div",{className:"p-5 flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-1",children:A.title}),a.jsxs("span",{className:"text-[10px] font-bold px-2 py-1 rounded-full border bg-white/5 text-gray-400 flex items-center gap-1",children:[k(A.type),a.jsx("span",{className:"capitalize",children:A.type})]})]}),a.jsx("div",{className:"w-full h-40 rounded-xl overflow-hidden bg-white/5 relative mb-4 border border-white/5",children:A.thumbnail_url?a.jsx("img",{src:A.thumbnail_url,className:"w-full h-full object-cover",alt:A.title}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Lu,{className:"w-8 h-8 text-gray-600"})})}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-6 flex-1",children:A.description||"Sem descrio."}),a.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-gray-500",children:[a.jsxs("span",{children:[A.modules_count||0," mdulos"]}),a.jsxs("span",{children:["Atualizado em ",new Date(A.updated_at||A.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-3 mt-auto",children:[a.jsxs("button",{onClick:()=>e(`/admin/contents/${A.id}`),className:"flex-1 bg-white/5 hover:bg-white/10 text-gray-300 py-2.5 rounded-xl text-sm font-medium border border-white/5 transition-colors",children:[a.jsx(Ko,{className:"w-4 h-4 inline mr-2"})," Editar"]}),a.jsx("button",{onClick:()=>w(A.id),className:"w-12 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl flex items-center justify-center border border-red-500/10 transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})})]})]})},A.id))}),a.jsx(Kn,{isOpen:!!u,onClose:()=>f(null),onConfirm:E,title:"Excluir Contedo",message:"Tem certeza que deseja excluir este contedo? Todos os mdulos e aulas sero perdidos.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger",loading:m}),a.jsx($r,{isOpen:x.isOpen,onClose:()=>v({...x,isOpen:!1}),title:x.title,message:x.message,variant:x.variant})]})},Loe=["instagram","facebook","youtube","tiktok","whatsapp","globe","link"],Uoe=({links:t,onChange:e})=>{const[r,n]=b.useState(null),[s,i]=b.useState({title:"",url:"",icon:"link",active:!0}),l=()=>{if(!s.title||!s.url)return;const f={id:crypto.randomUUID(),title:s.title,url:s.url,icon:s.icon||"link",active:!0};e([...t,f]),i({title:"",url:"",icon:"link",active:!0})},d=(f,m)=>{e(t.map(p=>p.id===f?{...p,...m}:p))},u=f=>{e(t.filter(m=>m.id!==f))};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-lg border border-gray-200 dark:border-white/10",children:[a.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Novo Link"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Nome (ex: Instagram)",className:"bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm",value:s.title,onChange:f=>i({...s,title:f.target.value})}),a.jsx("input",{type:"text",placeholder:"URL (https://...)",className:"bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm md:col-span-2",value:s.url,onChange:f=>i({...s,url:f.target.value})}),a.jsxs("div",{className:"flex gap-2 min-w-0",children:[a.jsx("select",{className:"bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm flex-1 min-w-0",value:s.icon,onChange:f=>i({...s,icon:f.target.value}),children:Loe.map(f=>a.jsx("option",{value:f,children:f},f))}),a.jsx(je,{onClick:l,size:"sm",disabled:!s.title||!s.url,className:"shrink-0",children:a.jsx(pr,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[t.map(f=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-gray-100 dark:bg-white/10 rounded text-gray-500",children:a.jsx(ti,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:f.title}),a.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline flex items-center gap-1",children:[f.url," ",a.jsx(Oa,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-500 cursor-pointer mr-2",children:[a.jsx("input",{type:"checkbox",checked:f.active,onChange:m=>d(f.id,{active:m.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),"Ativo"]}),a.jsx("button",{onClick:()=>u(f.id),className:"p-1.5 hover:bg-red-500/10 text-red-500 rounded transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})})]})]},f.id)),t.length===0&&a.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"Nenhum link cadastrado."})]})]})},$oe=({faqs:t,onChange:e})=>{const[r,n]=b.useState({question:"",answer:"",active:!0}),[s,i]=b.useState(null),l=()=>{if(!r.question||!r.answer)return;const f={id:crypto.randomUUID(),question:r.question,answer:r.answer,active:!0};e([...t,f]),n({question:"",answer:"",active:!0})},d=(f,m)=>{e(t.map(p=>p.id===f?{...p,...m}:p))},u=f=>{e(t.filter(m=>m.id!==f))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-4 rounded-lg border border-gray-200 dark:border-white/10 space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Adicionar Nova Pergunta"}),a.jsx("input",{type:"text",placeholder:"Pergunta",className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm",value:r.question,onChange:f=>n({...r,question:f.target.value})}),a.jsx("textarea",{placeholder:"Resposta",className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded px-3 py-2 text-sm h-24 resize-none",value:r.answer,onChange:f=>n({...r,answer:f.target.value})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(je,{onClick:l,size:"sm",disabled:!r.question||!r.answer,children:[a.jsx(pr,{className:"w-4 h-4 mr-2"})," Adicionar FAQ"]})})]}),a.jsxs("div",{className:"space-y-2",children:[t.map(f=>a.jsxs("div",{className:"bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",onClick:()=>i(s===f.id?null:f.id),children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx(Mu,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"font-medium text-sm text-gray-900 dark:text-white",children:f.question})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{onClick:m=>m.stopPropagation(),children:a.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-500 cursor-pointer mr-2",children:[a.jsx("input",{type:"checkbox",checked:f.active,onChange:m=>d(f.id,{active:m.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),"Ativo"]})}),a.jsx("button",{onClick:m=>{m.stopPropagation(),u(f.id)},className:"p-1.5 hover:bg-red-500/10 text-red-500 rounded transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})}),s===f.id?a.jsx(vc,{className:"w-4 h-4 text-gray-500"}):a.jsx(Xo,{className:"w-4 h-4 text-gray-500"})]})]}),s===f.id&&a.jsx("div",{className:"p-4 pt-0 text-sm text-gray-600 dark:text-gray-300 border-t border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-black/20",children:a.jsx("div",{className:"mt-3 whitespace-pre-wrap",children:f.answer})})]},f.id)),t.length===0&&a.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"Nenhuma pergunta cadastrada."})]})]})},Boe=({area:t,onSave:e,isNew:r})=>{const[n,s]=b.useState(t),[i,l]=b.useState(!1);b.useRef(null),b.useRef(null);const[d,u]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),f=async()=>{l(!0);try{await e(n),u({isOpen:!0,title:"Sucesso",message:"Configuraes salvas!",variant:"success"})}catch{u({isOpen:!0,title:"Erro",message:"Erro ao salvar.",variant:"error"})}finally{l(!1)}},m=async x=>{if(x.target.files&&x.target.files[0]){const v=x.target.files[0];try{const y=n.id||"temp",N=await ce.uploadMemberAreaLogo(v,y);s({...n,logo_url:N})}catch(y){console.error("Upload error:",y),u({isOpen:!0,title:"Erro no Upload",message:`No foi possvel fazer o upload da logo. Detalhes: ${y.message||"Erro desconhecido"}`,variant:"error"})}}},p=async x=>{if(x.target.files&&x.target.files[0]){const v=x.target.files[0];try{const y=n.id||"temp",N=await ce.uploadMemberAreaFavicon(v,y);s({...n,favicon_url:N})}catch(y){console.error("Upload error:",y),u({isOpen:!0,title:"Erro no Upload",message:`No foi possvel fazer o upload do favicon. Detalhes: ${y.message||"Erro desconhecido"}`,variant:"error"})}}};return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Aparncia e Configuraes"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Personalize a identidade visual do seu portal."})]}),a.jsxs(je,{onClick:f,isLoading:i,children:[a.jsx(Gn,{className:"w-4 h-4"})," Salvar Alteraes"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(oc,{className:"w-5 h-5 text-primary"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Identidade Visual"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Portal"}),a.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:n.name,onChange:x=>s({...n,name:x.target.value}),placeholder:"Ex: Academia do Jean"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug (URL)"}),a.jsxs("div",{className:"flex",children:[a.jsx("span",{className:"inline-flex items-center px-4 rounded-l-xl border border-r-0 border-gray-200 dark:border-white/10 bg-gray-100 dark:bg-white/5 text-gray-500 text-sm",children:"/app/"}),a.jsx("input",{type:"text",className:"flex-1 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-r-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:n.slug,onChange:x=>s({...n,slug:x.target.value.toLowerCase().replace(/\s+/g,"-")}),placeholder:"academia-jean"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Endereo de acesso ao portal."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Logo do Portal"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden",children:n.logo_url?a.jsx("img",{src:n.logo_url,alt:"Logo",className:"w-full h-full object-contain"}):a.jsx(ia,{className:"w-6 h-6 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"logo-upload",onChange:m}),a.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium text-white transition-colors inline-block",children:"Escolher Logo"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recomendado: 200x200px (PNG)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Favicon"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden",children:n.favicon_url?a.jsx("img",{src:n.favicon_url,alt:"Favicon",className:"w-8 h-8 object-contain"}):a.jsx(Yt,{className:"w-6 h-6 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"favicon-upload",onChange:p}),a.jsx("label",{htmlFor:"favicon-upload",className:"cursor-pointer px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium text-white transition-colors inline-block",children:"Escolher Favicon"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recomendado: 32x32px (ICO/PNG)"})]})]})]})]})]})]}),a.jsxs(De,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(oc,{className:"w-5 h-5 text-primary"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Banner do Topo (Vitrine)"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Imagem do Banner"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-full h-32 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden relative group",children:[n.banner_url?a.jsx("img",{src:n.banner_url,alt:"Banner",className:"w-full h-full object-cover"}):a.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[a.jsx(ia,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-xs",children:"Nenhuma imagem"})]}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsx("label",{htmlFor:"banner-upload",className:"cursor-pointer px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium text-white transition-colors backdrop-blur-sm",children:"Alterar Imagem"})})]}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"banner-upload",onChange:async x=>{if(x.target.files&&x.target.files[0]){const v=x.target.files[0];try{const y=n.id||"temp",N=await ce.uploadMemberAreaBanner(v,y);s({...n,banner_url:N})}catch(y){console.error("Upload error:",y),u({isOpen:!0,title:"Erro no Upload",message:`No foi possvel fazer o upload do banner. Detalhes: ${y.message||"Erro desconhecido"}`,variant:"error"})}}}})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recomendado: 1920x600px (PNG/JPG). Esta imagem aparecer no topo da rea de membros."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ttulo do Banner"}),a.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:n.banner_title||"",onChange:x=>s({...n,banner_title:x.target.value}),placeholder:"Ex: Bem-vindo  Comunidade"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrio do Banner"}),a.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50 min-h-[100px]",value:n.banner_description||"",onChange:x=>s({...n,banner_description:x.target.value}),placeholder:"Ex: Aprenda tudo sobre marketing digital com nossos cursos exclusivos."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Texto do Boto"}),a.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:n.banner_button_text||"",onChange:x=>s({...n,banner_button_text:x.target.value}),placeholder:"Ex: Comear Agora"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link do Boto"}),a.jsx("input",{type:"text",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50",value:n.banner_button_link||"",onChange:x=>s({...n,banner_button_link:x.target.value}),placeholder:"Ex: /curso/123 ou https://..."})]})]})]})]}),a.jsxs(De,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(ti,{className:"w-5 h-5 text-primary"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Links do Menu"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:'Adicione links externos que aparecero no menu dropdown "Links".'}),a.jsx(Uoe,{links:n.custom_links||[],onChange:x=>s({...n,custom_links:x})})]}),a.jsxs(De,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(Mu,{className:"w-5 h-5 text-primary"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"FAQ (Perguntas Frequentes)"})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Gerencie as perguntas e respostas que aparecero na pgina de FAQ."}),a.jsx($oe,{faqs:n.faqs||[],onChange:x=>s({...n,faqs:x})})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs(De,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(gee,{className:"w-5 h-5 text-primary"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Cores"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cor Primria"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-14 h-14 rounded-xl overflow-hidden border border-white/20 shadow-sm shrink-0",children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundColor:n.primary_color}}),a.jsx("input",{type:"color",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",value:n.primary_color,onChange:x=>s({...n,primary_color:x.target.value})})]}),a.jsx("input",{type:"text",className:"flex-1 min-w-0 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-3 py-3 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50 uppercase",value:n.primary_color,onChange:x=>s({...n,primary_color:x.target.value})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Usada em botes, links e destaques."})]})]}),a.jsxs(De,{children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4",children:"Preview"}),a.jsxs("div",{className:"aspect-[9/16] bg-[#05050A] rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden relative shadow-2xl",children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 h-14 border-b border-white/5 flex items-center justify-between px-4",style:{backgroundColor:"#0A0A12"},children:[a.jsx("div",{className:"w-8 h-8 rounded bg-white/10 overflow-hidden",children:n.logo_url&&a.jsx("img",{src:n.logo_url,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10"})]}),a.jsxs("div",{className:"p-4 mt-14 space-y-4",children:[a.jsxs("div",{className:"h-32 rounded-xl bg-gradient-to-br from-gray-800 to-black border border-white/5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundColor:n.primary_color}}),a.jsx("div",{className:"absolute bottom-3 left-3 font-bold text-white",children:"Curso Exemplo"})]}),a.jsx("div",{className:"h-32 rounded-xl bg-gradient-to-br from-gray-800 to-black border border-white/5"})]})]}),a.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Visualizao simplificada"})]})]})]}),a.jsx($r,{isOpen:d.isOpen,onClose:()=>u({...d,isOpen:!1}),title:d.title,message:d.message,variant:d.variant})]})},zoe=({area:t,onDomainChange:e})=>{const[r,n]=b.useState([]),[s,i]=b.useState(!0),[l,d]=b.useState(t.domain_id||"");b.useEffect(()=>{u()},[]),b.useEffect(()=>{d(t.domain_id||"")},[t.domain_id]);const u=async()=>{i(!0);try{const m=await ce.getDomains();n(m.filter(p=>p.status==="active"&&p.usage===kt.MEMBER_AREA))}catch(m){console.error("Error loading domains:",m)}finally{i(!1)}},f=m=>{d(m),e(m)};return s?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando domnios..."}):a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx(De,{className:"p-6 bg-[#1a1a1a] border-white/10",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:a.jsx(Yt,{className:"w-6 h-6 text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Domnio Personalizado"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:'Conecte um domnio personalizado para sua rea de membros. O domnio deve estar verificado e conectado na aba "Domnios".'}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Selecione um domnio"}),a.jsxs("select",{value:l,onChange:m=>f(m.target.value),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[a.jsx("option",{value:"",children:"Usar domnio do sistema"}),r.map(m=>a.jsx("option",{value:m.id,children:m.domain},m.id))]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[a.jsx(eee,{className:"w-3.5 h-3.5 text-yellow-500"}),a.jsx("span",{children:'Aps selecionar, clique em "Salvar Alteraes" no topo da pgina'})]})]}),l&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg text-green-400 text-sm",children:[a.jsx(pt,{className:"w-4 h-4"}),a.jsx("span",{children:"Domnio verificado e pronto para uso."})]}),r.length===0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-yellow-500 text-sm",children:[a.jsx(Ir,{className:"w-4 h-4"}),a.jsx("span",{children:'Nenhum domnio conectado encontrado. Adicione um domnio na aba "Domnios" primeiro.'})]})]})]})]})})})},Foe=({memberAreaId:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,l]=b.useState(null),[d,u]=b.useState(!1),[f,m]=b.useState(""),[p,x]=b.useState("contents"),[v,y]=b.useState("horizontal"),[N,w]=b.useState(!1),[E,k]=b.useState([]),[S,A]=b.useState(null),[C,O]=b.useState({isOpen:!1,trackId:null}),[R,L]=b.useState(!1);b.useEffect(()=>{$()},[t]);const $=async()=>{s(!0);try{const z=await ce.getTracks(t),oe=await Promise.all(z.map(K=>ce.getTrackWithItems(K.id)));r(oe.filter(K=>K!==null))}catch(z){console.error("Error loading tracks:",z)}finally{s(!1)}},M=async()=>{if(f)try{await ce.createTrack({member_area_id:t,title:f,type:p,position:e.length,is_visible:!0,card_style:v}),m(""),y("horizontal"),u(!1),$()}catch(z){console.error("Error creating track:",z)}},H=async()=>{if(C.trackId){L(!0);try{await ce.deleteTrack(C.trackId),r(e.filter(z=>z.id!==C.trackId)),O({isOpen:!1,trackId:null})}catch(z){console.error("Error deleting track:",z)}finally{L(!1)}}},q=async(z,oe)=>{try{await ce.updateTrack({id:z,card_style:oe}),r(e.map(K=>K.id===z?{...K,card_style:oe}:K))}catch(K){console.error("Error updating track style:",K)}},F=async z=>{try{await ce.updateTrack({id:z.id,is_visible:!z.is_visible}),r(e.map(oe=>oe.id===z.id?{...oe,is_visible:!oe.is_visible}:oe))}catch(oe){console.error("Error updating visibility:",oe)}},X=async z=>{var oe;if(S)try{const K=e.find(D=>D.id===S);if(!K)return;await ce.addTrackItem(S,z.id,((oe=K.items)==null?void 0:oe.length)||0),w(!1),$()}catch(K){console.error("Error adding item:",K)}},ue=async z=>{try{await ce.removeTrackItem(z),$()}catch(oe){console.error("Error removing item:",oe)}},B=async(z,oe)=>{A(z),k([]),w(!0);try{let K=[];if(oe==="products")K=await ce.getProducts();else if(oe==="contents")K=await ce.getContents(t);else if(oe==="modules")K=await ce.getModulesByAreaId(t);else if(oe==="lessons"){const D=await ce.getModulesByAreaId(t);K=D.flatMap(U=>U.lessons||[]).map(U=>{var W;return{...U,title:`${U.title} (Mdulo: ${(W=D.find(re=>re.id===U.module_id))==null?void 0:W.title})`}})}k(K)}catch(K){console.error("Error fetching items:",K)}},I=async(z,oe)=>{if(oe==="up"&&z===0||oe==="down"&&z===e.length-1)return;const K=[...e],D=oe==="up"?z-1:z+1;[K[z],K[D]]=[K[D],K[z]],K.forEach((U,W)=>U.position=W),r(K);try{await ce.updateTrackPositions(K.map(U=>({id:U.id,position:U.position})))}catch(U){console.error("Error updating positions:",U)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Trilhas da Vitrine"}),a.jsxs(je,{onClick:()=>u(!0),children:[a.jsx(pr,{className:"w-4 h-4 mr-2"})," Nova Trilha"]})]}),d&&a.jsxs(De,{className:"p-4 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10",children:[a.jsx("h3",{className:"text-sm font-medium mb-4",children:"Criar Nova Trilha"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ttulo da Trilha"}),a.jsx("input",{type:"text",value:f,onChange:z=>m(z.target.value),className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm",placeholder:"Ex: Cursos em Destaque"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Tipo de Item"}),a.jsxs("select",{value:p,onChange:z=>x(z.target.value),className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"contents",className:"bg-white dark:bg-[#0A0A0A]",children:"Contedos"}),a.jsx("option",{value:"products",className:"bg-white dark:bg-[#0A0A0A]",children:"Produtos"}),a.jsx("option",{value:"modules",className:"bg-white dark:bg-[#0A0A0A]",children:"Mdulos"}),a.jsx("option",{value:"lessons",className:"bg-white dark:bg-[#0A0A0A]",children:"Aulas"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Estilo dos Cards"}),a.jsxs("select",{value:v,onChange:z=>y(z.target.value),className:"w-full bg-white dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"horizontal",className:"bg-white dark:bg-[#0A0A0A]",children:"Horizontal (Padro)"}),a.jsx("option",{value:"vertical",className:"bg-white dark:bg-[#0A0A0A]",children:"Vertical (Poster)"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(je,{variant:"ghost",onClick:()=>u(!1),children:"Cancelar"}),a.jsx(je,{onClick:M,children:"Criar Trilha"})]})]}),a.jsx("div",{className:"space-y-4",children:e.map((z,oe)=>{var K;return a.jsxs("div",{className:"bg-white dark:bg-[#0A0A0A] border border-gray-200 dark:border-white/10 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("button",{onClick:()=>I(oe,"up"),disabled:oe===0,className:"text-gray-400 hover:text-white disabled:opacity-30",children:""}),a.jsx("button",{onClick:()=>I(oe,"down"),disabled:oe===e.length-1,className:"text-gray-400 hover:text-white disabled:opacity-30",children:""})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:z.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500 uppercase",children:z.type}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),a.jsxs("select",{value:z.card_style||"horizontal",onChange:D=>q(z.id,D.target.value),className:"text-xs bg-transparent border-none text-gray-500 uppercase cursor-pointer focus:ring-0 p-0",children:[a.jsx("option",{value:"horizontal",className:"bg-white dark:bg-[#0A0A0A]",children:"Horizontal"}),a.jsx("option",{value:"vertical",className:"bg-white dark:bg-[#0A0A0A]",children:"Vertical"})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>F(z),className:`p-2 rounded-lg transition-colors ${z.is_visible?"text-green-500 bg-green-500/10":"text-gray-500 bg-gray-500/10"}`,children:z.is_visible?a.jsx(yc,{size:18}):a.jsx(ED,{size:18})}),a.jsx("button",{onClick:()=>O({isOpen:!0,trackId:z.id}),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(Pr,{size:18})})]})]}),a.jsx("div",{className:"pl-8",children:a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(K=z.items)==null?void 0:K.map(D=>{var U,W,re,he,J,ve,Te,ae;return a.jsxs("div",{className:"relative group bg-gray-100 dark:bg-white/5 rounded-lg p-2 pr-8 flex items-center gap-2 border border-gray-200 dark:border-white/5",children:[(((U=D.product)==null?void 0:U.imageUrl)||((W=D.content)==null?void 0:W.thumbnail_url))&&a.jsx("img",{src:((re=D.product)==null?void 0:re.imageUrl)||((he=D.content)==null?void 0:he.thumbnail_url),className:"w-8 h-8 rounded object-cover"}),a.jsx("span",{className:"text-sm truncate max-w-[150px]",children:((J=D.product)==null?void 0:J.name)||((ve=D.content)==null?void 0:ve.title)||((Te=D.module)==null?void 0:Te.title)||((ae=D.lesson)==null?void 0:ae.title)||"Item desconhecido"}),a.jsx("button",{onClick:()=>ue(D.id),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Mr,{size:14})})]},D.id)}),a.jsxs("button",{onClick:()=>B(z.id,z.type),className:"px-3 py-2 rounded-lg border border-dashed border-gray-300 dark:border-white/20 text-gray-500 hover:text-white hover:border-white/40 text-sm transition-colors flex items-center gap-2",children:[a.jsx(pr,{size:14})," Adicionar Item"]})]})})]},z.id)})}),N&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-white dark:bg-[#111] w-full max-w-lg rounded-2xl border border-gray-200 dark:border-white/10 shadow-2xl flex flex-col max-h-[80vh]",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/10 flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold",children:"Selecionar Item"}),a.jsx("button",{onClick:()=>w(!1),children:a.jsx(Mr,{size:20})})]}),a.jsxs("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:[E.map(z=>a.jsxs("div",{onClick:()=>X(z),className:"p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 cursor-pointer flex items-center gap-3 transition-colors",children:[(z.imageUrl||z.thumbnail_url||z.image_url||z.image_horizontal_url||z.image_vertical_url)&&a.jsx("img",{src:z.imageUrl||z.thumbnail_url||z.image_url||z.image_horizontal_url||z.image_vertical_url,className:"w-10 h-10 rounded object-cover"}),a.jsx("div",{children:a.jsx("div",{className:"font-medium",children:z.name||z.title})})]},z.id)),E.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Nenhum item encontrado."})]})]})}),a.jsx(Kn,{isOpen:C.isOpen,onClose:()=>O({isOpen:!1,trackId:null}),onConfirm:H,title:"Excluir Trilha",message:"Tem certeza que deseja excluir esta trilha? Esta ao no pode ser desfeita.",confirmText:"Sim, excluir",variant:"danger",loading:R})]})};function qoe(t){const e=t+"CollectionProvider",[r,n]=Ip(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=N=>{const{scope:w,children:E}=N,k=se.useRef(null),S=se.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:S,collectionRef:k,children:E})};l.displayName=e;const d=t+"CollectionSlot",u=zm(d),f=se.forwardRef((N,w)=>{const{scope:E,children:k}=N,S=i(d,E),A=xs(w,S.collectionRef);return a.jsx(u,{ref:A,children:k})});f.displayName=d;const m=t+"CollectionItemSlot",p="data-radix-collection-item",x=zm(m),v=se.forwardRef((N,w)=>{const{scope:E,children:k,...S}=N,A=se.useRef(null),C=xs(w,A),O=i(m,E);return se.useEffect(()=>(O.itemMap.set(A,{ref:A,...S}),()=>void O.itemMap.delete(A))),a.jsx(x,{[p]:"",ref:C,children:k})});v.displayName=m;function y(N){const w=i(t+"CollectionConsumer",N);return se.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const S=Array.from(k.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((O,R)=>S.indexOf(O.ref.current)-S.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},y,n]}var Hoe=b.createContext(void 0);function yI(t){const e=b.useContext(Hoe);return t||e||"ltr"}var iv="rovingFocusGroup.onEntryFocus",Goe={bubbles:!1,cancelable:!0},zu="RovingFocusGroup",[Oy,wI,Voe]=qoe(zu),[Yoe,jI]=Ip(zu,[Voe]),[Woe,Xoe]=Yoe(zu),NI=b.forwardRef((t,e)=>a.jsx(Oy.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Oy.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Koe,{...t,ref:e})})}));NI.displayName=zu;var Koe=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=t,x=b.useRef(null),v=xs(e,x),y=yI(i),[N,w]=k1({prop:l,defaultProp:d??null,onChange:u,caller:zu}),[E,k]=b.useState(!1),S=wc(f),A=wI(r),C=b.useRef(!1),[O,R]=b.useState(0);return b.useEffect(()=>{const L=x.current;if(L)return L.addEventListener(iv,S),()=>L.removeEventListener(iv,S)},[S]),a.jsx(Woe,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:N,onItemFocus:b.useCallback(L=>w(L),[w]),onItemShiftTab:b.useCallback(()=>k(!0),[]),onFocusableItemAdd:b.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:b.useCallback(()=>R(L=>L-1),[]),children:a.jsx(ba.div,{tabIndex:E||O===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:Qr(t.onMouseDown,()=>{C.current=!0}),onFocus:Qr(t.onFocus,L=>{const $=!C.current;if(L.target===L.currentTarget&&$&&!E){const M=new CustomEvent(iv,Goe);if(L.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=A().filter(B=>B.focusable),q=H.find(B=>B.active),F=H.find(B=>B.id===N),ue=[q,F,...H].filter(Boolean).map(B=>B.ref.current);SI(ue,m)}}C.current=!1}),onBlur:Qr(t.onBlur,()=>k(!1))})})}),_I="RovingFocusGroupItem",EI=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:l,...d}=t,u=Qd(),f=i||u,m=Xoe(_I,r),p=m.currentTabStopId===f,x=wI(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:N}=m;return b.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),a.jsx(Oy.ItemSlot,{scope:r,id:f,focusable:n,active:s,children:a.jsx(ba.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...d,ref:e,onMouseDown:Qr(t.onMouseDown,w=>{n?m.onItemFocus(f):w.preventDefault()}),onFocus:Qr(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:Qr(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=Zoe(w,m.orientation,m.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=x().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")S.reverse();else if(E==="prev"||E==="next"){E==="prev"&&S.reverse();const A=S.indexOf(w.currentTarget);S=m.loop?ele(S,A+1):S.slice(A+1)}setTimeout(()=>SI(S))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:N!=null}):l})})});EI.displayName=_I;var Joe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qoe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Zoe(t,e,r){const n=Qoe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Joe[n]}function SI(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function ele(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var tle=NI,rle=EI,qp="Tabs",[ale]=Ip(qp,[jI]),kI=jI(),[nle,O1]=ale(qp),AI=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:d,activationMode:u="automatic",...f}=t,m=yI(d),[p,x]=k1({prop:n,onChange:s,defaultProp:i??"",caller:qp});return a.jsx(nle,{scope:r,baseId:Qd(),value:p,onValueChange:x,orientation:l,dir:m,activationMode:u,children:a.jsx(ba.div,{dir:m,"data-orientation":l,...f,ref:e})})});AI.displayName=qp;var CI="TabsList",TI=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=O1(CI,r),l=kI(r);return a.jsx(tle,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(ba.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});TI.displayName=CI;var OI="TabsTrigger",RI=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,l=O1(OI,r),d=kI(r),u=PI(l.baseId,n),f=MI(l.baseId,n),m=n===l.value;return a.jsx(rle,{asChild:!0,...d,focusable:!s,active:m,children:a.jsx(ba.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:Qr(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?l.onValueChange(n):p.preventDefault()}),onKeyDown:Qr(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(n)}),onFocus:Qr(t.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!s&&p&&l.onValueChange(n)})})})});RI.displayName=OI;var DI="TabsContent",II=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...l}=t,d=O1(DI,r),u=PI(d.baseId,n),f=MI(d.baseId,n),m=n===d.value,p=b.useRef(m);return b.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),a.jsx($u,{present:s||m,children:({present:x})=>a.jsx(ba.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!x,id:f,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:x&&i})})});II.displayName=DI;function PI(t,e){return`${t}-trigger-${e}`}function MI(t,e){return`${t}-content-${e}`}var sle=AI,ile=TI,ole=RI,Of=II;const HA=t=>{switch(t){case"login":return"Acesso ao Sistema";case"status_changed_to_suspended":return"Conta Suspensa";case"status_changed_to_active":return"Conta Ativada";case"status_changed_to_disabled":return"Conta Desativada";case"access_granted":return"Acesso Concedido";case"access_revoked":return"Acesso Revogado";case"create":return"Membro Criado";case"update":return"Dados Atualizados";case"delete":return"Membro Excludo";default:return t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}},GA=t=>{const e=t.metadata||{},r=[];return e.p==="admin"&&r.push("por Admin"),e.method&&r.push(`via ${e.method==="password"?"Senha":e.method}`),e.productIds&&r.push(`Produtos: ${Array.isArray(e.productIds)?e.productIds.length:1}`),e.productId&&r.push(`Produto ID: ${e.productId.slice(0,8)}...`),e.action&&r.push(`Ao: ${e.action}`),e.mode==="direct_db"&&r.push("(Modo Recuperao)"),r.length===0?JSON.stringify(e).slice(0,50):r.join("  ")},lle=({member:t,isOpen:e,onClose:r,onUpdate:n})=>{var X,ue,B,I,z,oe;const[s,i]=b.useState("overview"),[l,d]=b.useState(null),[u,f]=b.useState(!0),[m,p]=b.useState(t.status||"active"),[x,v]=b.useState([]),[y,N]=b.useState(null),[w,E]=b.useState({isOpen:!1,action:""}),[k,S]=b.useState({isOpen:!1,title:"",message:"",variant:"success"}),[A,C]=b.useState(!1);b.useEffect(()=>{e&&t&&(N(null),H(),O())},[e,t]);const O=async()=>{try{const K=await Xa.getProducts();v(K)}catch(K){console.error("Error loading products:",K)}},R=async K=>{E({isOpen:!0,action:"grant",productId:K})},L=async K=>{E({isOpen:!0,action:"revoke",productId:K})},$=async()=>{if(w.productId){C(!0);try{await Xa.grantAccess(t.user_id,[w.productId]),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Acesso liberado com sucesso!",variant:"success"}),H()}catch(K){console.error("Error granting access:",K);const D=K.message||JSON.stringify(K);E({isOpen:!1,action:""}),S({isOpen:!0,title:"Erro",message:`Erro ao liberar acesso: ${D}`,variant:"error"})}finally{C(!1)}}},M=async()=>{if(w.productId){C(!0);try{await Xa.revokeAccess(t.user_id,w.productId),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Acesso revogado com sucesso!",variant:"success"}),H()}catch(K){console.error("Error revoking access:",K),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Erro",message:"Erro ao revogar acesso.",variant:"error"})}finally{C(!1)}}},H=async()=>{var K;f(!0),N(null);try{console.log("Loading details for:",t.user_id);const D=await Xa.getMemberDetails(t.user_id);console.log("Loaded details:",D),d(D),(K=D==null?void 0:D.profile)!=null&&K.status&&p(D.profile.status)}catch(D){console.error("Error loading member details:",D),N(`Erro ao carregar dados: ${D.message||"Erro desconhecido"}`)}finally{f(!1)}},q=async K=>{K==="suspend"||K==="activate"?E({isOpen:!0,action:K}):F(K)},F=async K=>{C(!0);try{if(K==="suspend")p("suspended"),await Xa.updateMemberStatus(t.user_id,"suspended"),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Membro suspenso com sucesso.",variant:"success"}),n&&n();else if(K==="activate")p("active"),await Xa.updateMemberStatus(t.user_id,"active"),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Sucesso",message:"Membro reativado com sucesso.",variant:"success"}),n&&n();else if(K==="email_reset"){const D=await fetch("/api/admin/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"resend_email",userId:t.user_id,type:"reset_password"})});if(!D.ok)throw new Error(await D.text());S({isOpen:!0,title:"Sucesso",message:"Email de redefinio de senha enviado.",variant:"success"})}else if(K==="email_welcome"){const{emailService:D}=await Dr(async()=>{const{emailService:U}=await Promise.resolve().then(()=>uI);return{emailService:U}},void 0);await D.sendAccessEmail({email:t.email,name:t.name}),S({isOpen:!0,title:"Sucesso",message:"E-mail de acesso reenviado com sucesso!",variant:"success"})}}catch(D){console.error("Action failed:",D),E({isOpen:!1,action:""}),S({isOpen:!0,title:"Erro",message:`Erro ao executar ao: ${D.message||"Erro desconhecido"}`,variant:"error"}),H()}finally{C(!1)}};return e?a.jsx(Lp,{open:e,onOpenChange:r,children:a.jsxs(Up,{children:[a.jsx($p,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),a.jsxs(Bp,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-5xl h-[90vh] bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 z-50 flex flex-col overflow-hidden outline-none animate-in zoom-in-95 duration-200",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsxs("div",{className:"relative flex-none p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-primary/20",children:t.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[t.name,m==="suspended"&&a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-700 text-xs font-medium border border-red-200",children:"Suspenso"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(At,{className:"w-4 h-4"}),t.email]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(ui,{className:"w-4 h-4"}),"Desde ",t.joined_at?Us(new Date(t.joined_at),"d MMM, yyyy",{locale:Hm}):"-"]})]})]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Mr,{className:"w-6 h-6 text-gray-500"})})]}),a.jsxs(sle,{value:s,onValueChange:i,className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"relative px-6 border-b border-white/10 bg-[#12121A]",children:a.jsx(ile,{className:"flex gap-6",children:[{id:"overview",label:"Viso Geral",icon:Gi},{id:"products",label:"Produtos e Acesso",icon:gr},{id:"orders",label:"Histrico de Compras",icon:oa},{id:"history",label:"Log de Atividades",icon:qn}].map(K=>a.jsxs(ole,{value:K.id,className:`group flex items-center gap-2 py-4 text-sm font-medium border-b-2 transition-colors outline-none ${s===K.id?"border-purple-500 text-purple-400":"border-transparent text-gray-500 hover:text-gray-300"}`,children:[a.jsx(K.icon,{className:`w-4 h-4 ${s===K.id?"text-purple-400":"text-gray-400 group-hover:text-gray-500"}`}),K.label]},K.id))})}),a.jsx("div",{className:"relative flex-1 overflow-y-auto p-6 bg-black/20",children:u?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin"})}):y?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8 space-y-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(mu,{className:"w-6 h-6 text-red-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Erro ao carregar dados"}),a.jsx("p",{className:"text-gray-500 max-w-sm",children:y}),a.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-100 dark:bg-white/5 rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Fechar"})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Of,{value:"overview",className:"space-y-6 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Gasto"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l!=null&&l.orders?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.orders.reduce((K,D)=>K+(D.amount||0),0)):"R$ 0,00"})]}),a.jsxs("div",{className:"p-4 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"ltimo Acesso"}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(X=l==null?void 0:l.profile)!=null&&X.last_seen_at?Us(new Date(l.profile.last_seen_at),"dd/MM/yyyy HH:mm"):"Nunca"})]}),a.jsxs("div",{className:"p-4 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Produtos Ativos"}),a.jsx("div",{className:"text-2xl font-bold text-green-500",children:((ue=l==null?void 0:l.accessGrants)==null?void 0:ue.filter(K=>K.status==="active").length)||0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 p-5 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4",children:"Aes Rpidas"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>q("email_reset"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10 transition-colors",children:[a.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),"Enviar Redefinio de Senha"]}),a.jsxs("button",{onClick:()=>q("email_welcome"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10 transition-colors",children:[a.jsx(At,{className:"w-4 h-4 text-gray-400"}),"Reenviar Email de Boas-vindas"]}),a.jsx("hr",{className:"border-gray-100 dark:border-white/5 my-2"}),m==="suspended"?a.jsxs("button",{onClick:()=>q("activate"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 transition-colors",children:[a.jsx(Yn,{className:"w-4 h-4"}),"Reativar Acesso"]}):a.jsxs("button",{onClick:()=>q("suspend"),className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800 transition-colors",children:[a.jsx(mu,{className:"w-4 h-4"}),"Suspender Acesso"]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 p-5 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4",children:"Atividade Recente"}),a.jsxs("div",{className:"space-y-4",children:[(B=l==null?void 0:l.logs)==null?void 0:B.slice(0,5).map(K=>a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full flex-shrink-0 ${K.event.includes("suspend")||K.event.includes("revoke")?"bg-red-500":K.event.includes("active")||K.event.includes("grant")?"bg-green-500":"bg-blue-500"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:HA(K.event)}),a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:Us(new Date(K.created_at),"d 'de' MMMM 's' HH:mm",{locale:Hm})}),K.metadata&&Object.keys(K.metadata).length>0&&a.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 dark:bg-white/5 p-1.5 rounded border border-gray-100 dark:border-white/5 inline-block",children:GA(K)})]})]},K.id)),(!(l!=null&&l.logs)||l.logs.length===0)&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma atividade registrada."})]})]})]})]}),a.jsxs(Of,{value:"products",className:"space-y-4 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Acessos Concedidos"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{id:"product-select",className:"bg-white dark:bg-[#1A1A24] border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary",onChange:K=>{const D=K.target.value;D&&R(D),K.target.value=""},children:[a.jsx("option",{value:"",children:"+ Liberar Acesso..."}),x.map(K=>a.jsx("option",{value:K.id,children:K.name},K.id))]})})]}),a.jsxs("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden",children:[a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Produto"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Data Liberao"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Expira em"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:(I=l==null?void 0:l.accessGrants)==null?void 0:I.map(K=>{var D,U;return a.jsxs("tr",{children:[a.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:((D=K.product)==null?void 0:D.name)||((U=K.content)==null?void 0:U.title)||"Produto Desconhecido"}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:K.status==="active"?"Ativo":"Inativo"})}),a.jsx("td",{className:"p-4 text-sm text-gray-500",children:Us(new Date(K.granted_at),"dd/MM/yyyy")}),a.jsx("td",{className:"p-4 text-sm text-gray-500",children:K.expires_at?Us(new Date(K.expires_at),"dd/MM/yyyy"):"Vitalcio"}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("button",{onClick:()=>L(K.product_id),className:"text-red-500 hover:text-red-700 text-sm font-medium hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"Revogar"})})]},K.id)})})]}),(!(l!=null&&l.accessGrants)||l.accessGrants.length===0)&&a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhum produto liberado para este usurio."})]})]}),a.jsx(Of,{value:"orders",className:"space-y-4 outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsxs("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden",children:[a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-white/5 border-b border-gray-200 dark:border-white/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"ID"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Valor"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Data"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase",children:"Gateway"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:(z=l==null?void 0:l.orders)==null?void 0:z.map(K=>a.jsxs("tr",{children:[a.jsxs("td",{className:"p-4 font-mono text-xs text-gray-500",children:[K.id.slice(0,8),"..."]}),a.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(K.amount)}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.status==="paid"?"bg-green-100 text-green-700":K.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:K.status})}),a.jsx("td",{className:"p-4 text-sm text-gray-500",children:Us(new Date(K.created_at),"dd/MM/yyyy HH:mm")}),a.jsx("td",{className:"p-4 text-sm text-gray-500",children:K.payment_method||"-"})]},K.id))})]}),(!(l!=null&&l.orders)||l.orders.length===0)&&a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhuma compra encontrada para este usurio."})]})}),a.jsx(Of,{value:"history",className:"outline-none animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsx("div",{className:"bg-white dark:bg-[#1A1A24] rounded-xl border border-gray-200 dark:border-white/5 p-6 shadow-sm",children:a.jsxs("div",{className:"relative border-l border-gray-200 dark:border-white/10 ml-3 space-y-8",children:[(oe=l==null?void 0:l.logs)==null?void 0:oe.map(K=>a.jsxs("div",{className:"relative pl-8",children:[a.jsx("span",{className:`absolute -left-[5px] top-1.5 w-2.5 h-2.5 rounded-full ring-4 ring-white dark:ring-[#1A1A24] ${K.event.includes("suspend")||K.event.includes("revoke")?"bg-red-500":K.event.includes("active")||K.event.includes("grant")?"bg-green-500":"bg-blue-500"}`}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:HA(K.event)}),K.metadata&&Object.keys(K.metadata).length>0&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:GA(K)})]}),a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:Us(new Date(K.created_at),"dd/MM/yyyy HH:mm")})]})]},K.id)),(!(l!=null&&l.logs)||l.logs.length===0)&&a.jsx("div",{className:"pl-6 text-gray-500",children:"Sem histrico disponvel."})]})})})]})})]}),a.jsx(Kn,{isOpen:w.isOpen,onClose:()=>E({isOpen:!1,action:""}),onConfirm:()=>{w.action==="suspend"?F("suspend"):w.action==="activate"?F("activate"):w.action==="grant"?$():w.action==="revoke"&&M()},title:w.action==="suspend"?"Suspender Membro":w.action==="activate"?"Reativar Membro":w.action==="grant"?"Liberar Acesso":"Revogar Acesso",message:w.action==="suspend"?"Tem certeza que deseja suspender este membro? Ele perder acesso imediato.":w.action==="activate"?"Deseja reativar o acesso deste membro?":w.action==="grant"?"Deseja liberar o acesso a este produto para o usurio?":"Deseja revogar o acesso a este produto?",confirmText:"Confirmar",variant:w.action==="suspend"||w.action==="revoke"?"danger":"primary",loading:A}),a.jsx($r,{isOpen:k.isOpen,onClose:()=>S({isOpen:!1,title:"",message:"",variant:"success"}),title:k.title,message:k.message,variant:k.variant})]})]})}):null},cle=({isOpen:t,onClose:e,onSuccess:r})=>{const[n,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState([]),[f,m]=b.useState([]),[p,x]=b.useState(!1),[v,y]=b.useState(""),[N,w]=b.useState(!1);b.useEffect(()=>{t&&(E(),k())},[t]);const E=async()=>{try{const C=await ce.getProducts();m(C)}catch(C){console.error("Error loading products:",C)}},k=()=>{s(""),l(""),u([]),y(""),w(!1)},S=async C=>{C.preventDefault(),x(!0),y("");try{await Xa.createMember(n,i,d),w(!0),setTimeout(()=>{r(),e()},1500)}catch(O){console.error("Error creating member:",O),y(O.message||"Erro ao criar membro.")}finally{x(!1)}},A=C=>{u(O=>O.includes(C)?O.filter(R=>R!==C):[...O,C])};return t?a.jsx(Lp,{open:t,onOpenChange:e,children:a.jsxs(Up,{children:[a.jsx($p,{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 animate-in fade-in duration-200"}),a.jsxs(Bp,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-md bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 z-50 p-0 flex flex-col max-h-[90vh] outline-none animate-in zoom-in-95 duration-200 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsxs("div",{className:"relative p-6 border-b border-white/10 bg-white/[0.02] flex justify-between items-center shrink-0",children:[a.jsx("h2",{className:"text-lg font-bold text-white",children:"Adicionar Novo Membro"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Mr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:S,className:"relative p-6 space-y-6 overflow-y-auto",children:[v&&a.jsx("div",{className:"p-3 bg-red-100 text-red-700 text-sm rounded-lg border border-red-200",children:v}),N&&a.jsxs("div",{className:"p-3 bg-green-100 text-green-700 text-sm rounded-lg border border-green-200 flex items-center gap-2",children:[a.jsx(pt,{className:"w-4 h-4"}),"Membro adicionado com sucesso!"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Nome Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",required:!0,value:i,onChange:C=>l(C.target.value),className:"w-full bg-black/30 border border-purple-500/20 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 placeholder:text-gray-600",placeholder:"Ex: Joo Silva"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"email",required:!0,value:n,onChange:C=>s(C.target.value),className:"w-full bg-black/30 border border-purple-500/20 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 placeholder:text-gray-600",placeholder:"Ex: joao@email.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Liberar Acesso aos Produtos"}),a.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:[f.map(C=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-purple-500/20 hover:bg-white/5 cursor-pointer transition-colors",children:[a.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${d.includes(C.id)?"bg-purple-600 border-purple-600 text-white":"border-gray-600"}`,children:d.includes(C.id)&&a.jsx(pt,{className:"w-3.5 h-3.5"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:d.includes(C.id),onChange:()=>A(C.id)}),a.jsx("span",{className:"text-sm font-medium text-gray-300",children:C.name})]},C.id)),f.length===0&&a.jsx("div",{className:"text-sm text-gray-500 italic",children:"Nenhum produto cadastrado."})]})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("button",{type:"submit",disabled:p||N,className:"w-full flex items-center justify-center gap-2 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-all shadow-lg shadow-purple-500/25 disabled:opacity-70 disabled:cursor-not-allowed",children:p?a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"w-4 h-4"}),"Salvar Membro"]})}),a.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Um email de boas-vindas ser enviado automaticamente."})]})]})]})]})}):null},dle=({memberAreaId:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,l]=b.useState(""),[d,u]=b.useState(""),[f,m]=b.useState("all"),[p,x]=b.useState(null),[v,y]=b.useState(!1),[N,w]=b.useState(!1),[E,k]=b.useState({isOpen:!1,memberId:null,memberName:null}),[S,A]=b.useState(!1),[C,O]=b.useState(null),[R,L]=b.useState({isOpen:!1,title:"",message:"",variant:"info"});b.useEffect(()=>{$()},[t,i,d,f]);const $=async()=>{s(!0);try{const{data:F}=await Xa.getMembersByArea(t,1,100,i,d,f),X=Array.from(new Map(F.map(ue=>[ue.user_id,ue])).values());r(X)}catch(F){console.error("Error loading members:",F)}finally{s(!1)}},M=async()=>{try{const F=await Xa.exportMembersCSV(t),X=new Blob([F],{type:"text/csv"}),ue=window.URL.createObjectURL(X),B=document.createElement("a");B.href=ue,B.download=`members-${new Date().toISOString().split("T")[0]}.csv`,B.click()}catch(F){console.error("Error exporting CSV:",F),alert("Erro ao exportar CSV")}},H=async()=>{if(E.memberId){A(!0);try{await Xa.deleteMember(E.memberId),k({isOpen:!1,memberId:null,memberName:null}),$()}catch(F){console.error("Error deleting member:",F),alert("Erro ao excluir membro")}finally{A(!1)}}},q=async F=>{O(F.user_id);try{await Un.sendAccessEmail({email:F.email,name:F.name}),L({isOpen:!0,title:"Sucesso",message:`E-mail de acesso reenviado para ${F.email}`,variant:"success"})}catch(X){console.error("Error resending access:",X),L({isOpen:!0,title:"Erro",message:"No foi possvel reenviar o acesso. Tente novamente mais tarde.",variant:"error"})}finally{O(null)}};return a.jsxs("div",{className:"animate-in fade-in duration-500 space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Membros"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Acompanhe seus alunos, assinaturas e acessos."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/10 transition-colors",children:[a.jsx(ei,{className:"w-4 h-4"}),"Exportar CSV"]}),a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-primary/25",children:[a.jsx(pr,{className:"w-4 h-4"}),"Adicionar Membro"]})]})]}),a.jsxs(De,{className:"p-1",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-white/5 flex flex-col sm:flex-row gap-4 justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-black/40 rounded-lg",children:[a.jsx("button",{onClick:()=>m("all"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${f==="all"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Todos"}),a.jsx("button",{onClick:()=>m("free"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${f==="free"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Gratuito"}),a.jsx("button",{onClick:()=>m("paid"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${f==="paid"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Pago"})]})}),a.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:i,onChange:F=>l(F.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-primary/50"})]}),a.jsxs("div",{className:"relative min-w-[180px]",children:[a.jsxs("select",{value:d,onChange:F=>u(F.target.value),className:"w-full appearance-none bg-white dark:bg-[#1A1A1A] border border-gray-200 dark:border-white/10 rounded-lg pl-4 pr-10 py-2 text-sm text-gray-900 dark:text-gray-200 outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer shadow-sm",children:[a.jsx("option",{value:"",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Todos os Status"}),a.jsx("option",{value:"active",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Ativo"}),a.jsx("option",{value:"suspended",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Suspenso"}),a.jsx("option",{value:"expired",className:"text-gray-900 dark:text-gray-200 bg-white dark:bg-[#1A1A1A]",children:"Expirado"})]}),a.jsx(y1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50/50 dark:bg-white/5 border-b border-gray-100 dark:border-white/5",children:[a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Aluno"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Entrou em"}),a.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Aes"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[e.map(F=>a.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center text-primary font-bold text-sm border border-white/10",children:F.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.name}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1.5",children:[a.jsx(At,{className:"w-3 h-3"}),F.email]}),a.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5",title:"User ID",children:F.user_id})]})]})}),a.jsxs("td",{className:"p-4",children:[F.status==="active"&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100/50 text-green-700 dark:bg-green-500/10 dark:text-green-400 border border-green-200 dark:border-green-500/20",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Ativo"]}),F.status==="suspended"&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100/50 text-yellow-700 dark:bg-yellow-500/10 dark:text-yellow-400 border border-yellow-200 dark:border-yellow-500/20",children:[a.jsx(_r,{className:"w-3 h-3"}),"Suspenso"]}),(F.status==="expired"||F.status==="revoked")&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100/50 text-red-700 dark:bg-red-500/10 dark:text-red-400 border border-red-200 dark:border-red-500/20",children:[a.jsx(Fee,{className:"w-3 h-3"}),"Sem acesso"]})]}),a.jsxs("td",{className:"p-4 text-sm text-gray-500",children:[F.joined_at?Us(new Date(F.joined_at),"d 'de' MMMM, yyyy",{locale:Hm}):"-",a.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:["H ",Math.floor((new Date().getTime()-new Date(F.joined_at).getTime())/(1e3*60*60*24))," dias"]})]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{title:"Reenviar Acesso",onClick:()=>q(F),disabled:C===F.user_id,className:"p-2 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors disabled:opacity-50",children:C===F.user_id?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(Bn,{className:"w-4 h-4"})}),a.jsx("button",{title:"Ver Detalhes",onClick:()=>{x(F),y(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(yc,{className:"w-4 h-4"})}),a.jsx("button",{title:"Excluir Membro",onClick:()=>k({isOpen:!0,memberId:F.user_id,memberName:F.name}),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(Pr,{className:"w-4 h-4"})})]})})]},F.user_id)),e.length===0&&!n&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Ra,{className:"w-12 h-12 text-gray-300 mb-3"}),a.jsx("p",{className:"font-medium",children:"Nenhum membro encontrado"}),a.jsx("p",{className:"text-sm mt-1",children:"Tente ajustar os filtros ou adicione um novo membro."})]})})})]})]})}),a.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-white/5 flex items-center justify-between text-sm text-gray-500",children:a.jsxs("div",{children:["Mostrando ",e.length," resultados"]})})]}),p&&a.jsx(lle,{isOpen:v,onClose:()=>{y(!1),x(null)},member:p,onUpdate:$}),a.jsx(cle,{isOpen:N,onClose:()=>w(!1),onSuccess:()=>{$(),w(!1)}}),a.jsx(Kn,{isOpen:E.isOpen,onClose:()=>k({isOpen:!1,memberId:null,memberName:null}),onConfirm:H,title:"Excluir Membro",message:`Tem certeza que deseja excluir o membro "${E.memberName}"? Esta ao no pode ser desfeita e remover todos os dados associados.`,confirmText:"Sim, excluir",variant:"danger",loading:S}),a.jsx($r,{isOpen:R.isOpen,onClose:()=>L({...R,isOpen:!1}),title:R.title,message:R.message,variant:R.variant})]})},ule=({memberAreaId:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState([]),[i,l]=b.useState({}),[d,u]=b.useState(!0),[f,m]=b.useState(null),[p,x]=b.useState({isOpen:!1,title:"",message:"",variant:"info"});b.useEffect(()=>{v()},[t]);const v=async()=>{u(!0);try{const w=await ce.getProducts();r(w);const E=await ce.getContents(t);s(E);const k={};await Promise.all(w.map(async S=>{const C=(await ce.getProductContents(S.id)).filter(O=>E.some(R=>R.id===O));k[S.id]=C})),l(k)}catch(w){console.error("Error loading data:",w)}finally{u(!1)}},y=async w=>{m(w.id);try{const E=n.map(k=>k.id);await ce.setProductContents(w.id,E),l(k=>({...k,[w.id]:E})),x({isOpen:!0,title:"Sucesso",message:`Produto "${w.name}" agora d acesso a TODOS os contedos desta rea.`,variant:"success"})}catch(E){console.error("Error linking product:",E),x({isOpen:!0,title:"Erro",message:"Erro ao vincular produto.",variant:"error"})}finally{m(null)}},N=async w=>{m(w.id);try{const k=(await ce.getProductContents(w.id)).filter(S=>!n.some(A=>A.id===S));await ce.setProductContents(w.id,k),l(S=>({...S,[w.id]:[]})),x({isOpen:!0,title:"Sucesso",message:`Acesso removido. O produto "${w.name}" no d mais acesso a esta rea.`,variant:"success"})}catch(E){console.error("Error unlinking product:",E),x({isOpen:!0,title:"Erro",message:"Erro ao desvincular produto.",variant:"error"})}finally{m(null)}};return d?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando produtos..."}):a.jsxs("div",{className:"animate-in fade-in duration-500 space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Produtos Vinculados"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Defina quais produtos do acesso aos contedos desta rea de membros."})]})}),e.length===0?a.jsxs(De,{className:"text-center py-20 border-dashed border-white/10 bg-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ga,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Crie produtos na aba "Produtos" para vincul-los aqui.'})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(w=>{var C;const E=((C=i[w.id])==null?void 0:C.length)||0,k=n.length,S=E===k&&k>0,A=E>0;return a.jsxs(De,{className:"flex flex-col sm:flex-row items-center justify-between p-4 gap-4 hover:bg-white/5 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center overflow-hidden flex-shrink-0",children:w.imageUrl?a.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"}):a.jsx(ga,{className:"w-6 h-6 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:w.name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${A?"bg-green-100 text-green-800 dark:bg-green-500/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-500/20 dark:text-gray-400"}`,children:A?"Vinculado":"No Vinculado"}),a.jsxs("span",{className:"text-gray-500",children:[" ",E," de ",k," contedos"]})]})]})]}),a.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:A?a.jsxs(a.Fragment,{children:[!S&&a.jsxs(je,{variant:"secondary",size:"sm",onClick:()=>y(w),isLoading:f===w.id,className:"flex-1 sm:flex-none",children:[a.jsx(pr,{className:"w-4 h-4 mr-2"}),"Vincular Todos"]}),a.jsxs(je,{variant:"danger",size:"sm",onClick:()=>N(w),isLoading:f===w.id,className:"flex-1 sm:flex-none",children:[a.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Desvincular"]})]}):a.jsxs(je,{size:"sm",onClick:()=>y(w),isLoading:f===w.id,className:"flex-1 sm:flex-none",children:[a.jsx(ti,{className:"w-4 h-4 mr-2"}),"Vincular Tudo"]})})]},w.id)})}),a.jsx($r,{isOpen:p.isOpen,onClose:()=>x({...p,isOpen:!1}),title:p.title,message:p.message,variant:p.variant})]})},VA=()=>{const t=gt(),{id:e}=Ia(),r=!e||e==="new",[n,s]=b.useState("contents"),[i,l]=b.useState(!0),[d,u]=b.useState({id:"",owner_id:"",name:"",slug:"",primary_color:"#E50914",created_at:""});b.useEffect(()=>{!r&&e?f(e):(u({...d,id:crypto.randomUUID()}),l(!1),s("settings"))},[e]);const f=async p=>{l(!0);try{const x=await ce.getMemberAreaById(p);x?u(x):t("/admin/members")}catch(x){console.error("Error loading area:",x)}finally{l(!1)}},m=async p=>{try{if(r){const{created_at:x,...v}=p,y=await ce.createMemberArea(v);t(`/admin/members/${y.id}`,{replace:!0})}else await ce.updateMemberArea(p);u(p)}catch(x){console.error("Error saving area:",x),alert(`Erro ao salvar rea de membros: ${x.message}`)}};return i?a.jsx(Nt,{children:a.jsx("div",{children:"Carregando..."})}):a.jsxs(Nt,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>t("/admin/members"),className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:a.jsx(Lc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Nova rea de Membros":d.name}),a.jsx("p",{className:"text-gray-500 text-sm",children:r?"Configure seu novo portal":`Gerenciando portal /${d.slug}`})]})]}),!r&&a.jsxs("a",{href:`/app/${d.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors",children:[a.jsx(Oa,{className:"w-4 h-4"}),"Visualizar Portal"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-8 border-b border-gray-200 dark:border-white/10 overflow-x-auto",children:[!r&&a.jsxs("button",{onClick:()=>s("contents"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${n==="contents"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[a.jsx(bc,{className:"w-4 h-4"})," Contedos"]}),!r&&a.jsxs("button",{onClick:()=>s("tracks"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${n==="tracks"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[a.jsx(Ca,{className:"w-4 h-4"})," Trilhas (Vitrine)"]}),!r&&a.jsxs("button",{onClick:()=>s("members"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${n==="members"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[a.jsx(jr,{className:"w-4 h-4"})," Membros"]}),a.jsxs("button",{onClick:()=>s("settings"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${n==="settings"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[a.jsx(Uu,{className:"w-4 h-4"})," Configuraes & Aparncia"]}),!r&&a.jsxs("button",{onClick:()=>s("products"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${n==="products"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[a.jsx(ga,{className:"w-4 h-4"})," Produtos Vinculados"]})]}),a.jsxs("div",{className:"animate-in fade-in duration-300",children:[n==="contents"&&!r&&a.jsx(Moe,{memberAreaId:d.id}),n==="tracks"&&!r&&a.jsx(Foe,{memberAreaId:d.id}),n==="members"&&!r&&a.jsx(dle,{memberAreaId:d.id}),n==="settings"&&a.jsxs("div",{className:"space-y-12",children:[a.jsx(Boe,{area:d,onSave:m,isNew:r}),!r&&a.jsxs("div",{className:"border-t border-white/10 pt-10",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-5 h-5 text-primary"}),"Domnio Personalizado"]}),a.jsx(zoe,{area:d,onSave:m,onDomainChange:p=>u({...d,domain_id:p||void 0})})]})]}),n==="products"&&a.jsx(ule,{memberAreaId:d.id})]})]})},hle=({isOpen:t,onClose:e,onSave:r,lesson:n,moduleId:s})=>{const[i,l]=b.useState(n),[d,u]=b.useState(!1),f=b.useRef(null);if(se.useEffect(()=>{l(n)},[n]),!t)return null;const m=async N=>{if(N.target.files&&N.target.files[0]){const w=N.target.files[0];try{u(!0);const E=await ce.uploadLessonImage(w,i.id);l({...i,image_url:E})}catch(E){console.error("Error uploading image:",E),alert("Erro ao fazer upload da imagem.")}finally{u(!1)}}},p=async(N,w)=>{if(N.target.files&&N.target.files[0]){const E=N.target.files[0];try{u(!0);const k=await ce.uploadLessonImage(E,w),S=(i.gallery||[]).map(A=>A.id===w?{...A,image_url:k}:A);l({...i,gallery:S})}catch(k){console.error("Error uploading gallery image:",k),alert("Erro ao fazer upload da imagem.")}finally{u(!1)}}},x=()=>{const N={id:crypto.randomUUID(),title:"Novo Recurso",image_url:"",link_url:"",button_text:"Acessar"};l({...i,gallery:[...i.gallery||[],N]})},v=N=>{l({...i,gallery:(i.gallery||[]).filter(w=>w.id!==N)})},y=(N,w,E)=>{l({...i,gallery:(i.gallery||[]).map(k=>k.id===N?{...k,[w]:E}:k)})};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-2xl w-full max-w-4xl p-0 shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Editar Aula"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(Mr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Informaes Gerais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ttulo da Aula"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:i.title,onChange:N=>l({...i,title:N.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"cone Principal (Lista)"}),a.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:i.content_type,onChange:N=>l({...i,content_type:N.target.value}),children:[a.jsx("option",{value:"video",children:"Vdeo"}),a.jsx("option",{value:"text",children:"Texto"}),a.jsx("option",{value:"file",children:"Arquivo"}),a.jsx("option",{value:"link",children:"Link"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Capa do Card (Horizontal)"}),a.jsx("div",{className:"relative w-full max-w-sm aspect-video rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:i.image_url?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:i.image_url,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs(je,{variant:"secondary",size:"xs",onClick:()=>{var N;return(N=f.current)==null?void 0:N.click()},children:[a.jsx(ia,{className:"w-3 h-3 mr-1"})," Trocar"]})})]}):a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var N;return(N=f.current)==null?void 0:N.click()},children:[a.jsx(ia,{className:"w-6 h-6 text-gray-400 mb-1"}),a.jsx("span",{className:"text-[10px] text-gray-400",children:"Upload"})]})}),a.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:m})]}),a.jsx("div",{className:"flex items-center pt-2",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary bg-black/20",checked:i.is_free,onChange:N=>l({...i,is_free:N.target.checked})}),a.jsx("span",{className:"text-sm text-white",children:"Aula Gratuita (Preview)"})]})})]}),a.jsx("div",{className:"h-px bg-white/10"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Organizao do Contedo"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Use as setas para reordenar os blocos"})]}),(i.content_order||["video","text","file","gallery"]).map((N,w,E)=>{const k=()=>{if(w===0)return;const C=[...E];[C[w-1],C[w]]=[C[w],C[w-1]],l({...i,content_order:C})},S=()=>{if(w===E.length-1)return;const C=[...E];[C[w+1],C[w]]=[C[w],C[w+1]],l({...i,content_order:C})},A=()=>a.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[a.jsx("button",{onClick:k,disabled:w===0,className:"p-1 hover:bg-white/10 rounded disabled:opacity-30 text-gray-400",children:a.jsx(vc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:S,disabled:w===E.length-1,className:"p-1 hover:bg-white/10 rounded disabled:opacity-30 text-gray-400",children:a.jsx(Xo,{className:"w-4 h-4"})})]});return N==="video"?a.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dp,{className:"w-5 h-5 text-blue-400"}),a.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Contedo de Vdeo"})]}),A()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"URL do Vdeo (YouTube, Vimeo, Panda...)"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"https://...",value:i.video_url||"",onChange:C=>l({...i,video_url:C.target.value})})]})]},"video"):N==="text"?a.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oa,{className:"w-5 h-5 text-green-400"}),a.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Contedo de Texto"})]}),A()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Texto / Artigo (Markdown)"}),a.jsx("textarea",{className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none font-mono text-sm",rows:8,placeholder:"# Ttulo da aula...",value:i.content_text||"",onChange:C=>l({...i,content_text:C.target.value})})]})]},"text"):N==="file"?a.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SD,{className:"w-5 h-5 text-orange-400"}),a.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Arquivo / Link Externo"})]}),A()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"URL do Arquivo ou Link"}),a.jsx("input",{type:"text",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",placeholder:"https://...",value:i.file_url||"",onChange:C=>l({...i,file_url:C.target.value})})]})]},"file"):N==="gallery"?a.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ti,{className:"w-5 h-5 text-purple-400"}),a.jsx("h4",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Galeria de Recursos"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{size:"xs",variant:"secondary",onClick:x,children:[a.jsx(pr,{className:"w-3 h-3 mr-1"})," Adicionar"]}),A()]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:(i.gallery||[]).map((C,O)=>a.jsxs("div",{className:"p-4 bg-black/20 border border-white/10 rounded-xl space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Recurso #",O+1]}),a.jsx("button",{onClick:()=>v(C.id),className:"text-gray-500 hover:text-red-400",children:a.jsx(Pr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsx("div",{className:"relative w-full aspect-video rounded-lg bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:C.image_url?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:C.image_url,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 text-white text-xs px-2 py-1 rounded flex items-center",children:[a.jsx(ia,{className:"w-3 h-3 mr-1"})," Trocar",a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:R=>p(R,C.id)})]})})]}):a.jsxs("label",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",children:[a.jsx(ia,{className:"w-5 h-5 text-gray-400 mb-1"}),a.jsx("span",{className:"text-[10px] text-gray-400",children:"Img"}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:R=>p(R,C.id)})]})})}),a.jsxs("div",{className:"md:col-span-3 space-y-3",children:[a.jsx("input",{type:"text",placeholder:"Ttulo do Recurso",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:C.title,onChange:R=>y(C.id,"title",R.target.value)}),a.jsx("input",{type:"text",placeholder:"Link de Destino (URL)",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:C.link_url,onChange:R=>y(C.id,"link_url",R.target.value)}),a.jsx("input",{type:"text",placeholder:"Texto do Boto (ex: Baixar PDF)",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",value:C.button_text,onChange:R=>y(C.id,"button_text",R.target.value)})]})]})]},C.id))})]},"gallery"):null})]})]}),a.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-[#0A0A0A] rounded-b-2xl",children:[a.jsx(je,{variant:"secondary",onClick:e,children:"Cancelar"}),a.jsx(je,{onClick:()=>r(i),children:"Salvar Alteraes"})]})]})})},fle=()=>{console.log("ContentEditor rendering");const t=gt(),{id:e}=Ia(),[r]=wu(),n=r.get("areaId"),s=!e||e==="new",[i,l]=b.useState(!0),[d,u]=b.useState(!1),[f,m]=b.useState({id:"",title:"",description:"",thumbnail_url:"",type:"course",member_area_id:n||"",created_at:"",updated_at:""}),[p,x]=b.useState([]),[v,y]=b.useState([]),[N,w]=b.useState(""),[E,k]=b.useState(!1);b.useRef(null);const S=b.useRef(null),A=b.useRef(null),C=b.useRef(null),[O,R]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),[L,$]=b.useState(null),[M,H]=b.useState(null),[q,F]=b.useState(!1),[X,ue]=b.useState(!1),[B,I]=b.useState("info"),[z,oe]=b.useState({});b.useEffect(()=>{!s&&e?K(e):(m(Y=>({...Y,id:crypto.randomUUID(),member_area_id:n||""})),l(!1),ce.getProducts().then(y))},[e,n]);const K=async Y=>{var me;l(!0);try{const Z=(await ce.getContents()).find(Oe=>Oe.id===Y);if(Z){m(Z),w(((me=Z.associated_product)==null?void 0:me.id)||"");const Oe=await ce.getModules(Y);x(Oe);const He={};Oe.forEach(Re=>He[Re.id]=!0),oe(He)}else t("/admin/members");const te=await ce.getProducts();y(te)}catch(ke){console.error("Error loading content:",ke),D("Erro","Erro ao carregar contedo.","error")}finally{l(!1)}},D=(Y,me,ke="info")=>{R({isOpen:!0,title:Y,message:me,variant:ke})},U=async()=>{u(!0);try{if(s){if(!f.member_area_id){D("Erro","Erro interno: ID da rea de membros no encontrado.","error");return}await ce.createContent(f,N||void 0),t(`/admin/contents/${f.id}`,{replace:!0})}else await ce.updateContent(f,N||void 0);D("Sucesso","Contedo salvo com sucesso!","success")}catch(Y){console.error("Error saving content:",Y),D("Erro",`Erro ao salvar contedo: ${Y.message||Y}`,"error")}finally{u(!1)}},W=()=>{f.member_area_id?t(`/admin/members/${f.member_area_id}`):t("/admin/members")},re=async(Y,me)=>{if(Y.target.files&&Y.target.files[0]){const ke=Y.target.files[0];try{k(!0);const Z=await ce.uploadContentImage(ke,f.id,me);me==="vertical"||m({...f,image_horizontal_url:Z,thumbnail_url:Z})}catch(Z){console.error("Error uploading image:",Z),D("Erro","Erro ao fazer upload da imagem.","error")}finally{k(!1)}}},he=async(Y,me,ke)=>{if(Y.target.files&&Y.target.files[0]&&L){const Z=Y.target.files[0];try{k(!0);const te=await ce.uploadModuleImage(Z,me,ke);$({...L,[ke==="vertical"?"image_vertical_url":"image_horizontal_url"]:te})}catch(te){console.error("Error uploading module image:",te),D("Erro","Erro ao fazer upload da imagem.","error")}finally{k(!1)}}},J=async()=>{const Y={id:crypto.randomUUID(),content_id:f.id,title:"Novo Mdulo",description:"",order_index:p.length,created_at:new Date().toISOString(),lessons:[]};x([...p,Y]),oe({...z,[Y.id]:!0});try{await ce.createModule(Y),$(Y),F(!0)}catch(me){console.error("Error creating module:",me),D("Erro","Erro ao criar mdulo.","error"),K(f.id)}},ve=async Y=>{try{await ce.updateModule(Y),x(p.map(me=>me.id===Y.id?Y:me)),F(!1)}catch(me){console.error("Error updating module:",me),D("Erro","Erro ao atualizar mdulo.","error")}},Te=async Y=>{if(confirm("Tem certeza que deseja excluir este mdulo e todas as suas aulas?"))try{await ce.deleteModule(Y),x(p.filter(me=>me.id!==Y))}catch(me){console.error("Error deleting module:",me),D("Erro","Erro ao excluir mdulo.","error")}},ae=async Y=>{var te;const me=p.find(Oe=>Oe.id===Y);if(!me)return;const ke={id:crypto.randomUUID(),module_id:Y,title:"Nova Aula",content_type:"video",order_index:((te=me.lessons)==null?void 0:te.length)||0,is_free:!1,created_at:new Date().toISOString()},Z=p.map(Oe=>Oe.id===Y?{...Oe,lessons:[...Oe.lessons||[],ke]}:Oe);x(Z);try{await ce.createLesson(ke),H({lesson:ke,moduleId:Y}),ue(!0)}catch(Oe){console.error("Error creating lesson:",Oe),D("Erro","Erro ao criar aula.","error"),K(f.id)}},Ae=async Y=>{try{await ce.updateLesson(Y);const me=p.map(ke=>{var Z;return ke.id===Y.module_id?{...ke,lessons:(Z=ke.lessons)==null?void 0:Z.map(te=>te.id===Y.id?Y:te)}:ke});x(me),ue(!1)}catch(me){console.error("Error updating lesson:",me),D("Erro","Erro ao atualizar aula.","error")}},Ce=async(Y,me)=>{if(confirm("Tem certeza que deseja excluir esta aula?"))try{await ce.deleteLesson(Y);const ke=p.map(Z=>{var te;return Z.id===me?{...Z,lessons:(te=Z.lessons)==null?void 0:te.filter(Oe=>Oe.id!==Y)}:Z});x(ke)}catch(ke){console.error("Error deleting lesson:",ke),D("Erro","Erro ao excluir aula.","error")}},ge=Y=>{oe(me=>({...me,[Y]:!me[Y]}))};return a.jsx(Nt,{children:a.jsxs("div",{className:"animate-in slide-in-from-right duration-300 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:W,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:a.jsx(Lc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Novo Contedo":"Editar Contedo"}),a.jsx("p",{className:"text-gray-400 text-sm",children:f.title||"Sem ttulo"})]})]}),a.jsxs(je,{onClick:U,isLoading:d,children:[a.jsx(Gn,{className:"w-4 h-4"})," Salvar Alteraes"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-8 border-b border-gray-200 dark:border-white/10 overflow-x-auto",children:[a.jsxs("button",{onClick:()=>I("info"),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${B==="info"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"}`,children:[a.jsx(oa,{className:"w-4 h-4"})," Informaes Bsicas"]}),a.jsxs("button",{onClick:()=>I("structure"),disabled:s,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${B==="structure"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-white"} ${s?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Ca,{className:"w-4 h-4"})," Estrutura (Mdulos & Aulas)"]})]}),a.jsxs("div",{className:"animate-in fade-in duration-300",children:[B==="info"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1 space-y-6",children:a.jsxs(De,{children:[a.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:"Imagem de Capa"}),a.jsx("div",{className:"relative w-full aspect-video rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden mb-4 group",children:f.image_horizontal_url?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:f.image_horizontal_url,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs(je,{variant:"secondary",size:"sm",onClick:()=>{var Y;return(Y=S.current)==null?void 0:Y.click()},children:[a.jsx(ia,{className:"w-4 h-4 mr-2"})," Trocar"]})})]}):a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var Y;return(Y=S.current)==null?void 0:Y.click()},children:[a.jsx(ia,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsx("span",{className:"text-xs text-gray-400",children:"Clique para upload (16:9)"})]})}),a.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:Y=>re(Y,"horizontal")}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Ou cole uma URL externa:"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white placeholder:text-gray-500",placeholder:"https://...",value:f.image_horizontal_url||"",onChange:Y=>m({...f,image_horizontal_url:Y.target.value,thumbnail_url:Y.target.value})})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(De,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Ttulo"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",placeholder:"Ttulo do contedo",value:f.title,onChange:Y=>m({...f,title:Y.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Descrio"}),a.jsx("textarea",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-gray-500",rows:4,placeholder:"Descreva seu contedo...",value:f.description,onChange:Y=>m({...f,description:Y.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Tipo de Layout dos Cards"}),a.jsxs("select",{className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50",value:f.modules_layout||"horizontal",onChange:Y=>m({...f,modules_layout:Y.target.value}),children:[a.jsx("option",{value:"horizontal",children:"Horizontal (Padro)"}),a.jsx("option",{value:"vertical",children:"Vertical (Poster)"})]})]})]})}),a.jsxs(De,{children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(Ca,{className:"w-5 h-5 text-primary"}),"Configuraes de Acesso"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:"Contedo Gratuito"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Permitir acesso para contas gratuitas/visitantes."})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:f.is_free||!1,onChange:Y=>{const me=Y.target.checked;m({...f,is_free:me}),me&&w("")}}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]})]}),!f.is_free&&a.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:[a.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center gap-2",children:[a.jsx(_r,{className:"w-4 h-4 text-gray-400"}),"Produto Vinculado"]}),a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Selecione o produto que o aluno precisa comprar para acessar este contedo."}),a.jsxs("select",{value:N,onChange:Y=>w(Y.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white outline-none focus:ring-2 focus:ring-primary/50",children:[a.jsx("option",{value:"",className:"bg-gray-900 text-gray-400",children:"Selecione um produto..."}),v.map(Y=>a.jsx("option",{value:Y.id,className:"bg-gray-900 text-white",children:Y.name},Y.id))]}),v.length===0&&a.jsx("p",{className:"text-xs text-yellow-500 mt-2",children:"Nenhum produto encontrado. Crie um produto primeiro."})]})]})]})]})]}),B==="structure"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Estrutura do Contedo"}),a.jsxs(je,{size:"sm",variant:"secondary",onClick:J,disabled:s,children:[a.jsx(pr,{className:"w-4 h-4"})," Novo Mdulo"]})]}),s&&a.jsx("div",{className:"p-8 border border-dashed border-white/10 rounded-xl text-center bg-white/5",children:a.jsx("p",{className:"text-gray-400",children:"Salve o contedo primeiro para adicionar mdulos."})}),!s&&p.length===0&&a.jsxs("div",{className:"p-12 border border-dashed border-white/10 rounded-xl text-center bg-white/5 flex flex-col items-center justify-center min-h-[300px]",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-6",children:a.jsx(pr,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Comece criando um mdulo"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6 max-w-sm",children:"Organize seu contedo em mdulos e aulas para facilitar o aprendizado dos seus alunos."}),a.jsx(je,{onClick:J,size:"lg",className:"font-medium",children:"Criar Primeiro Mdulo"})]}),a.jsx("div",{className:"space-y-4",children:p.map((Y,me)=>{var ke;return a.jsxs("div",{className:"border border-white/10 rounded-xl bg-[#0A0A0A] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border-b border-white/5 group",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>ge(Y.id),children:[a.jsx("div",{className:"p-1 rounded hover:bg-white/10 text-gray-400",children:z[Y.id]?a.jsx(Xo,{className:"w-4 h-4"}):a.jsx(ha,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-white text-sm",children:[Y.title,Y.is_free&&a.jsx("span",{className:"ml-2 text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded",children:"Grtis"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[((ke=Y.lessons)==null?void 0:ke.length)||0," aulas"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{$(Y),F(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Editar mdulo",children:a.jsx(Ko,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Te(Y.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Excluir mdulo",children:a.jsx(Pr,{className:"w-4 h-4"})}),a.jsxs(je,{size:"xs",onClick:()=>ae(Y.id),className:"bg-primary hover:bg-primary/90 text-white border-0 px-3",children:[a.jsx(pr,{className:"w-3 h-3 mr-1"})," Criar Aula"]})]})]}),z[Y.id]&&a.jsx("div",{className:"bg-black/20",children:Y.lessons&&Y.lessons.length>0?a.jsx("div",{className:"divide-y divide-white/5",children:Y.lessons.map(Z=>a.jsxs("div",{className:"flex items-center justify-between p-3 pl-10 hover:bg-white/5 group transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[Z.content_type==="video"&&a.jsx(Dp,{className:"w-4 h-4 text-blue-400"}),Z.content_type==="text"&&a.jsx(oa,{className:"w-4 h-4 text-green-400"}),Z.content_type==="file"&&a.jsx(SD,{className:"w-4 h-4 text-orange-400"}),Z.content_type==="link"&&a.jsx(ti,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:Z.title}),Z.is_free&&a.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded",children:"Grtis"})]}),a.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{H({lesson:Z,moduleId:Y.id}),ue(!0)},className:"p-1.5 text-gray-400 hover:text-white hover:bg-white/10 rounded",children:a.jsx(Ko,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>Ce(Z.id,Y.id),className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded",children:a.jsx(Pr,{className:"w-3.5 h-3.5"})})]})]},Z.id))}):a.jsx("div",{className:"p-6 text-center text-xs text-gray-500 italic",children:"Nenhuma aula neste mdulo."})})]},Y.id)})})]})]}),q&&L&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-2xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Editar Mdulo"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ttulo do Mdulo"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-primary/50 outline-none",value:L.title,onChange:Y=>$({...L,title:Y.target.value}),autoFocus:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Capa Vertical (3:4)"}),a.jsx("div",{className:"relative w-full aspect-[3/4] rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:L.image_vertical_url?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:L.image_vertical_url,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs(je,{variant:"secondary",size:"xs",onClick:()=>{var Y;return(Y=A.current)==null?void 0:Y.click()},children:[a.jsx(ia,{className:"w-3 h-3 mr-1"})," Trocar"]})})]}):a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var Y;return(Y=A.current)==null?void 0:Y.click()},children:[a.jsx(ia,{className:"w-6 h-6 text-gray-400 mb-1"}),a.jsx("span",{className:"text-[10px] text-gray-400",children:"Upload"})]})}),a.jsx("input",{type:"file",ref:A,className:"hidden",accept:"image/*",onChange:Y=>he(Y,L.id,"vertical")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Capa Horizontal (16:9)"}),a.jsx("div",{className:"relative w-full aspect-video rounded-xl bg-black/20 border-2 border-dashed border-white/10 overflow-hidden group",children:L.image_horizontal_url?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:L.image_horizontal_url,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs(je,{variant:"secondary",size:"xs",onClick:()=>{var Y;return(Y=C.current)==null?void 0:Y.click()},children:[a.jsx(ia,{className:"w-3 h-3 mr-1"})," Trocar"]})})]}):a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{var Y;return(Y=C.current)==null?void 0:Y.click()},children:[a.jsx(ia,{className:"w-6 h-6 text-gray-400 mb-1"}),a.jsx("span",{className:"text-[10px] text-gray-400",children:"Upload"})]})}),a.jsx("input",{type:"file",ref:C,className:"hidden",accept:"image/*",onChange:Y=>he(Y,L.id,"horizontal")})]})]}),a.jsxs("div",{className:"flex items-center pt-4",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary bg-black/20",checked:L.is_free||!1,onChange:Y=>$({...L,is_free:Y.target.checked})}),a.jsx("span",{className:"text-sm text-white",children:"Mdulo Gratuito (Acesso liberado)"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-600 text-primary bg-black/20",checked:L.is_published!==!1,onChange:Y=>$({...L,is_published:Y.target.checked})}),a.jsx("span",{className:"text-sm text-white",children:"Publicado (Visvel na vitrine/rea de membros)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(je,{variant:"secondary",onClick:()=>F(!1),children:"Cancelar"}),a.jsx(je,{onClick:()=>ve(L),children:"Salvar"})]})]})]})}),M&&a.jsx(hle,{isOpen:X,onClose:()=>ue(!1),onSave:Ae,lesson:M.lesson,moduleId:M.moduleId}),a.jsx($r,{isOpen:O.isOpen,onClose:()=>R({...O,isOpen:!1}),title:O.title,message:O.message,variant:O.variant})]})})},Hp=({isOpen:t,onClose:e,product:r})=>{if(!t||!r)return null;const n=async()=>{const{paymentService:s}=await Dr(async()=>{const{paymentService:u}=await Promise.resolve().then(()=>qI);return{paymentService:u}},void 0),{storage:i}=await Dr(async()=>{const{storage:u}=await Promise.resolve().then(()=>MT);return{storage:u}},void 0),l=await i.getUser(),d=u=>{if(!l)return u;const f=u.includes("?")?"&":"?";return`${u}${f}u=${l.id}`};if(r.redirect_link)window.open(d(r.redirect_link),"_blank");else if(r.checkout_url)window.open(d(r.checkout_url),"_blank");else if(r.checkout_slug){const u=`/checkout/${r.checkout_slug}`;window.open(d(u),"_blank")}};return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity",onClick:e}),a.jsxs("div",{className:"relative w-[95%] md:w-full max-w-2xl bg-[#12121A]/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-purple-500/20 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16"}),a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-black/20 hover:bg-white/10 text-white transition-colors z-10",children:a.jsx(Mr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[a.jsxs("div",{className:"relative h-48 md:h-auto bg-black/40",children:[r.imageUrl?a.jsx("img",{src:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:a.jsx(gr,{className:"w-16 h-16 opacity-20"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1A1D21] via-transparent to-transparent md:bg-gradient-to-r"})]}),a.jsxs("div",{className:"p-6 md:p-8 flex flex-col",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-red-500/10 text-red-500 text-xs font-bold mb-3 border border-red-500/20",children:"OFERTA ESPECIAL"}),a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight line-clamp-1 md:line-clamp-none",children:r.name}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-1 md:line-clamp-4",children:r.description||"Aproveite esta oportunidade exclusiva para adquirir este produto e desbloquear todo o seu potencial."})]}),a.jsxs("div",{className:"mt-auto space-y-6",children:[a.jsxs("div",{children:[r.price_fake&&r.price_fake>0&&a.jsxs("div",{className:"text-gray-500 text-sm line-through mb-1",children:["de ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.price_fake)]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"por apenas"}),a.jsx("span",{className:"text-3xl font-bold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.price_real||0)})]})]}),a.jsxs("button",{onClick:n,className:"w-full py-4 bg-[#D4143C] hover:bg-[#b00e30] text-white font-bold rounded-xl shadow-lg shadow-red-900/20 transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[a.jsx(gr,{className:"w-5 h-5"}),"COMPRAR AGORA"]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3 text-green-500"})," Pagamento Seguro"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3 text-green-500"})," Acesso Imediato"]})]})]})]})]})]})]})},Uc=(t=[])=>{const{user:e,profile:r}=tr(),n=gt(),{memberArea:s}=Qo()||{},i=(d,u)=>{var v,y,N,w,E,k,S,A,C,O,R,L;if((r==null?void 0:r.status)==="suspended")return"SUSPENDED";let f=!1,m,p,x;if("product"in d&&d.product)d.product,m=d.product.id;else if("content"in d&&d.content)f=d.content.is_free||!1,p=d.content.id,x=(v=d.content.associated_product)==null?void 0:v.id;else if("module"in d&&d.module)f=d.module.is_free||!1,p=d.module.content_id,x=(y=d.module.associated_product)==null?void 0:y.id;else if("lesson"in d&&d.lesson){const $=d.lesson.module,M=$==null?void 0:$.content;f=d.lesson.is_free||($==null?void 0:$.is_free)||(M==null?void 0:M.is_free)||!1,x=((N=d.lesson.associated_product)==null?void 0:N.id)||((w=$==null?void 0:$.associated_product)==null?void 0:w.id)||((E=M==null?void 0:M.associated_product)==null?void 0:E.id),u!=null&&u.content?(p=u.content.id,x||(x=(k=u.content.associated_product)==null?void 0:k.id)):$!=null&&$.content_id&&(p=$.content_id)}else if("is_free"in d){const $=d.is_free||!1,M=((S=u==null?void 0:u.content)==null?void 0:S.is_free)||!1,H=((A=u==null?void 0:u.module)==null?void 0:A.is_free)||!1;f=$||M||H,"content_id"in d&&(p=d.content_id),"id"in d&&!("content_id"in d)&&!("video_url"in d)&&(p=d.id),x=(C=d.associated_product)==null?void 0:C.id,("video_url"in d||"content_text"in d)&&(u!=null&&u.content?(p=u.content.id,x||(x=(O=u.content.associated_product)==null?void 0:O.id)):(R=d.module)!=null&&R.content_id&&(p=(L=d.module)==null?void 0:L.content_id))}else"price_real"in d&&(m=d.id);return f?e?"ACCESS":"LOGIN":m?t.some(M=>M.product_id===m&&M.status==="active")?"ACCESS":"SALES_MODAL":(p||x)&&(p&&t.some(M=>M.content_id===p&&M.status==="active")||x&&t.some(M=>M.product_id===x&&M.status==="active"))?"ACCESS":"SALES_MODAL"};return{checkAccess:i,handleAccess:(d,u,f)=>{var p,x,v,y;const m=i(d,f);if(m==="LOGIN"){const w=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&!window.location.pathname.startsWith("/app/")?"":s?`/app/${s.slug}`:"/app";n(`${w}/signup`)}else if(m==="SUSPENDED")u.onSuspended?u.onSuspended():alert("Sua conta est suspensa. Entre em contato com o suporte.");else if(m==="SALES_MODAL"){let N;"product"in d&&d.product?N=d.product:"price_real"in d?N=d:"content"in d&&((p=d.content)!=null&&p.associated_product)?N=d.content.associated_product:"module"in d&&((x=d.module)!=null&&x.associated_product)?N=d.module.associated_product:"lesson"in d&&((v=d.lesson)!=null&&v.associated_product)?N=d.lesson.associated_product:"associated_product"in d&&(N=d.associated_product),!N&&((y=f==null?void 0:f.content)!=null&&y.associated_product)&&(N=f.content.associated_product),u.onSalesModal(N)}else u.onAccess()}}},mle=({track:t,onItemClick:e,accessGrants:r=[],primaryColor:n})=>{var k;const{handleAccess:s}=Uc(r),[i,l]=se.useState(null),[d,u]=se.useState(!1),f=b.useRef(null),[m,p]=se.useState(!1),[x,v]=se.useState(!1),[y,N]=se.useState(!1),w=()=>{if(f.current){const{scrollLeft:S,scrollWidth:A,clientWidth:C}=f.current;p(S>0),v(S<A-C-1),N(A>C)}};se.useEffect(()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[t.items]);const E=S=>{f.current&&f.current.scrollBy({left:S==="left"?-300:300,behavior:"smooth"})};return a.jsxs("div",{className:"mb-8",children:[a.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    height: 8px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 4px;
                    margin: 0 16px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: ${n||"#D4143C"};
                    border-radius: 4px;
                    transition: background 0.2s;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: ${n?`color-mix(in srgb, ${n} 80%, white)`:"#E91E63"};
                }
            `}),a.jsxs("div",{className:"flex items-center justify-between mb-4 px-4 md:px-0",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:t.title}),y&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>E("left"),disabled:!m,className:`p-1 transition-opacity ${m?"opacity-100":"opacity-30 cursor-not-allowed"}`,style:{color:n||"#D4143C"},children:a.jsx(Ki,{size:24,strokeWidth:2.5})}),a.jsx("button",{onClick:()=>E("right"),disabled:!x,className:`p-1 transition-opacity ${x?"opacity-100":"opacity-30 cursor-not-allowed"}`,style:{color:n||"#D4143C"},children:a.jsx(ha,{size:24,strokeWidth:2.5})})]})]}),a.jsxs("div",{className:"relative",children:[x&&a.jsx("div",{className:"absolute right-0 top-0 bottom-4 w-40 md:w-64 pointer-events-none z-10",style:{background:"linear-gradient(to right, transparent, #0E1012 100%)"}}),a.jsx("div",{ref:f,onScroll:w,className:"flex overflow-x-auto gap-4 pb-4 px-4 md:px-0 snap-x custom-scrollbar",children:(k=t.items)==null?void 0:k.map(S=>a.jsx(ple,{item:S,onClick:()=>{s(S,{onAccess:()=>e(S),onSalesModal:A=>{const C=A||S.product;C?(l(C),u(!0)):alert("Contedo exclusivo para assinantes.")}})},accessGrants:r,cardStyle:t.card_style||"vertical",primaryColor:n},S.id))})]}),a.jsx(Hp,{isOpen:d,onClose:()=>u(!1),product:i})]})},ple=({item:t,onClick:e,accessGrants:r,cardStyle:n,primaryColor:s})=>{const{checkAccess:i}=Uc(r);let l="",d="",u=ga,f=!1,m=!1;const p=n==="vertical";t.product?(l=t.product.name,d=t.product.imageUrl||"",u=ga,m=r.some(v=>v.product_id===t.product.id&&v.status==="active")):t.content?(l=t.content.title,f=t.content.is_free||!1,p?d=t.content.image_vertical_url||t.content.image_horizontal_url||t.content.thumbnail_url||"":d=t.content.image_horizontal_url||t.content.image_vertical_url||t.content.thumbnail_url||"",u=bc):t.module?(l=t.module.title,f=t.module.is_free||!1,p?d=t.module.image_vertical_url||t.module.image_horizontal_url||"":d=t.module.image_horizontal_url||t.module.image_vertical_url||"",u=oa):t.lesson&&(l=t.lesson.title,f=t.lesson.is_free||!1,d=t.lesson.image_url||(t.lesson.video_url?`https://img.youtube.com/vi/${gle(t.lesson.video_url)}/mqdefault.jpg`:""),u=Ny);const x=se.useMemo(()=>t?i(t)==="SALES_MODAL":!1,[t,r,i]);return a.jsxs("div",{onClick:e,className:`flex-none ${p?"w-52 md:w-60":"w-72 md:w-80"} snap-start cursor-pointer group/card relative transition-transform hover:scale-105 duration-300`,children:[a.jsxs("div",{className:`${p?"aspect-[2/3]":"aspect-video"} rounded-xl overflow-hidden bg-gray-800 relative ${x?"grayscale":""} shadow-lg ring-1 ring-white/5`,children:[d?a.jsx(a.Fragment,{children:t.product?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:d,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-50 blur-2xl scale-125"}),a.jsx("div",{className:"absolute inset-0 bg-black/20"})," ",a.jsx("img",{src:d,alt:l,className:"relative w-full h-full object-contain p-4 z-10 drop-shadow-xl"})]}):a.jsxs(a.Fragment,{children:[a.jsx("img",{src:d,alt:l,className:"w-full h-full object-cover transition-transform duration-500 group-hover/card:scale-110"}),!x&&a.jsx("div",{className:"absolute inset-0 z-30 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 flex items-center justify-center backdrop-blur-[1px]",style:{background:`linear-gradient(to top right, ${s||"#D4143C"}4D 0%, transparent 100%)`},children:a.jsx("div",{className:"bg-white/20 p-5 rounded-full backdrop-blur-md border border-white/30 transform scale-75 group-hover/card:scale-100 transition-transform duration-300 shadow-2xl flex items-center justify-center group/btn",children:a.jsx(ps,{size:32,className:"text-white fill-white ml-1 transition-transform duration-300 group-hover/btn:scale-110",strokeWidth:0})})})]})}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 bg-gray-900",children:a.jsx(u,{size:48,strokeWidth:1.5})}),x&&a.jsx("div",{className:"absolute top-3 right-3 bg-black/60 p-2 rounded-full text-white z-20 backdrop-blur-md",children:a.jsx(_r,{size:16})}),f&&a.jsxs("div",{className:"absolute top-3 left-3 bg-green-500 text-black text-[10px] font-extrabold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg flex items-center gap-1 z-20",children:[a.jsx(ut,{size:10,strokeWidth:3}),"Gratuito"]}),m&&a.jsxs("div",{className:"absolute top-3 left-3 bg-white text-black text-[10px] font-extrabold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg flex items-center gap-1 z-20",children:[a.jsx(ga,{size:10,strokeWidth:3}),"Seu"]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover/card:opacity-40 transition-opacity z-20"})]}),a.jsxs("div",{className:"mt-4 px-1",children:[a.jsx("h4",{className:"text-base font-semibold text-gray-100 group-hover/card:text-white truncate transition-colors",children:l}),t.content&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.content.modules_count||0," Mdulos"]})]})]})};function gle(t){const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=t.match(e);return r&&r[2].length===11?r[2]:null}const zd=()=>{const t=gt(),{memberArea:e}=Qo(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[l,d]=b.useState(null),[u,f]=b.useState([]),{handleAccess:m}=Uc(u),[p,x]=b.useState(null),[v,y]=b.useState(!1);e&&`${e.slug}`,b.useEffect(()=>{N()},[e]);const N=async()=>{if(e){i(!0);try{const E=await ce.getTracks(e.id),S=(await Promise.all(E.map(C=>ce.getTrackWithItems(C.id)))).filter(C=>C!==null);n(S);const A=await ce.getAccessGrants();if(f(A),S.length>0&&S[0].items&&S[0].items.length>0){const C=S[0].items[0];C.content&&d(C.content)}}catch(E){console.error("Error loading dashboard data:",E)}finally{i(!1)}}},w=async E=>{if(console.log("Item clicked:",E),E.product){console.log("Product clicked:",E.product);try{const k=await ce.getProductContents(E.product.id);if(k&&k.length>0){const S=k[0],C=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&window.location.pathname.startsWith("/app/")===!1?"":e?`/app/${e.slug}`:"/app";t(`${C}/course/${S}`)}else alert("Este produto ainda no tem contedo disponvel.")}catch(k){console.error("Error loading product contents:",k),alert("Erro ao carregar contedo do produto.")}return}m(E,{onAccess:()=>{console.log("Access granted");const S=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&window.location.pathname.startsWith("/app/")===!1?"":e?`/app/${e.slug}`:"/app";if(console.log("Navigating to:",S),E.content)t(`${S}/content/${E.content.id}`);else if(E.module)t(`${S}/course/${E.module.content_id}`);else if(E.lesson){const A=Array.isArray(E.lesson.module)?E.lesson.module[0]:E.lesson.module,C=A==null?void 0:A.content_id;console.log("Lesson Navigation:",{lesson:E.lesson,module:A,contentId:C}),C?t(`${S}/course/${C}?lesson_id=${E.lesson.id}`):(console.error("Content ID not found for lesson",E.lesson),alert("Erro ao navegar: Contedo da aula no encontrado."))}},onSalesModal:k=>{console.log("Sales modal triggered",k),k?(x(k),y(!0)):alert("Contedo exclusivo para assinantes.")}})};return s&&r.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:a.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin",style:{borderColor:e!=null&&e.primary_color?`${e.primary_color} transparent transparent transparent`:void 0}})}):a.jsxs(a.Fragment,{children:[((e==null?void 0:e.banner_url)||(l==null?void 0:l.thumbnail_url))&&a.jsxs("div",{className:"relative h-[50vh] md:h-[70vh] w-full -mt-20 mb-12",children:[a.jsxs("div",{className:"absolute inset-0",children:[e!=null&&e.banner_url?a.jsx("img",{src:e.banner_url,className:"w-full h-full object-cover",alt:e.name}):l!=null&&l.thumbnail_url?a.jsx("img",{src:l.thumbnail_url,className:"w-full h-full object-cover",alt:l.title}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-900 to-[#0E1012]"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0E1012] via-[#0E1012]/50 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0E1012] via-transparent to-transparent"})]}),a.jsxs("div",{className:"absolute bottom-0 left-0 p-8 md:p-16 w-full md:w-2/3 lg:w-1/2 space-y-2 md:space-y-4",children:[!(e!=null&&e.banner_title)&&l&&a.jsx("span",{className:"text-red-600 font-bold tracking-widest text-sm uppercase bg-black/50 px-3 py-1 rounded backdrop-blur-sm border border-red-600/30 inline-block mb-2",style:{color:e==null?void 0:e.primary_color,borderColor:e!=null&&e.primary_color?`${e.primary_color}4D`:void 0},children:"Destaque"}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white leading-tight drop-shadow-lg",children:(e==null?void 0:e.banner_title)||(l==null?void 0:l.title)}),a.jsx("p",{className:"text-lg text-gray-200 line-clamp-3 drop-shadow-md pb-2",children:(e==null?void 0:e.banner_description)||(l==null?void 0:l.description)}),a.jsx("div",{className:"flex items-center gap-4",children:e!=null&&e.banner_button_text&&(e!=null&&e.banner_button_link)?a.jsx("a",{href:e.banner_button_link,className:"flex items-center gap-2 bg-white text-black px-8 py-3 rounded font-bold hover:bg-gray-200 transition-colors",style:{backgroundColor:e.primary_color,color:"#fff"},children:e.banner_button_text}):l?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>w({content:l}),className:"flex items-center gap-2 bg-white text-black px-8 py-3 rounded font-bold hover:bg-gray-200 transition-colors",style:{backgroundColor:e==null?void 0:e.primary_color,color:"#fff"},children:[a.jsx(ps,{className:"w-5 h-5 fill-current"})," Assistir"]}),a.jsxs("button",{className:"flex items-center gap-2 bg-gray-500/70 text-white px-8 py-3 rounded font-bold hover:bg-gray-500/90 transition-colors backdrop-blur-sm",children:[a.jsx(Wi,{className:"w-5 h-5"})," Mais Info"]})]}):null})]})]}),a.jsx("div",{className:"px-4 md:px-24 lg:px-32 space-y-12 relative z-10 -mt-10 pb-20",children:r.length===0?a.jsx("div",{className:"text-gray-500 py-10 text-center border border-white/10 rounded-xl bg-white/5",children:e?"Nenhuma trilha configurada.":"Selecione uma rea de membros."}):r.map(E=>a.jsx(mle,{track:E,onItemClick:w,accessGrants:u,primaryColor:e==null?void 0:e.primary_color},E.id))}),a.jsx(Hp,{isOpen:v,onClose:()=>y(!1),product:p})]})},Fd=({icon:t,label:e,to:r,onClick:n,isActive:s,disabled:i,color:l})=>{const d=a.jsxs("div",{className:"relative group",children:[a.jsx("button",{onClick:n,disabled:i,className:`
                    w-12 h-12 rounded-xl flex items-center justify-center
                    transition-all duration-200
                    ${s?"bg-white/10 text-white shadow-lg":i?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-white/10"}
                `,style:s&&l?{backgroundColor:`${l}20`,color:l,borderColor:l,border:"1px solid"}:{color:l},children:a.jsx(t,{className:"w-5 h-5"})}),a.jsxs("div",{className:`absolute left-full ml-4 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg
                          opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap
                          shadow-xl border border-white/10 z-50`,children:[e,a.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-gray-800"})]})]});return r&&!i?a.jsx(Bt,{to:r,children:d}):d},xle=({onToggleMenu:t,isMenuOpen:e,memberAreaSlug:r,primaryColor:n})=>{const s=Da(),i=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&!window.location.pathname.startsWith("/app/"),l=i?"":r?`/app/${r}`:"/app",d=u=>i?s.pathname===u:s.pathname.startsWith(`${l}${u}`);return a.jsxs("div",{className:`fixed left-0 top-0 z-[100] bg-[#0E1012] border-white/10 
            /* Mobile: Horizontal Top Bar */
            w-full h-16 flex flex-row items-center justify-between px-4 border-b
            /* Desktop: Vertical Left Sidebar */
            md:w-16 md:h-screen md:flex-col md:justify-start md:py-6 md:gap-3 md:border-r md:border-b-0
        `,children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Fd,{icon:e?Ki:bc,label:e?"Fechar Menu":"Abrir Menu",onClick:t,isActive:e,color:n})}),a.jsx("div",{className:"hidden md:block w-8 h-px bg-white/10 my-2"}),a.jsxs("div",{className:"flex flex-row md:flex-col gap-2 md:gap-3 overflow-x-auto md:overflow-visible no-scrollbar",children:[a.jsx(Fd,{icon:kD,label:"Incio",to:`${l}/`,isActive:d("/")}),a.jsx(Fd,{icon:gr,label:"Vitrine",to:`${l}/products`,isActive:d("/products")}),a.jsx(Fd,{icon:ga,label:"Meus Produtos",to:`${l}/my-products`,isActive:d("/my-products")}),a.jsx("div",{className:"hidden md:block flex-1"}),a.jsx(Fd,{icon:Ra,label:"Perfil",to:`${l}/profile`,isActive:d("/profile")})]})]})},YA=({forcedSlug:t}={})=>{const{slug:e,id:r}=Ia(),n=gt(),[s]=wu(),i=t||e,[l,d]=b.useState(!0),[u,f]=b.useState(null),[m,p]=b.useState([]),[x,v]=b.useState(null),[y,N]=b.useState([]),[w,E]=b.useState(null),[k,S]=b.useState({}),[A,C]=b.useState([]),{handleAccess:O}=Uc(A),[R,L]=b.useState(null),[$,M]=b.useState(!1),[H,q]=b.useState(!0),[F,X]=b.useState(null),[ue,B]=b.useState(""),[I,z]=b.useState(!0),[oe,K]=b.useState(null);b.useEffect(()=>{r&&D(r)},[r,i]);const D=async Y=>{var me;d(!0),K(null);try{const ke=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&!window.location.pathname.startsWith("/app/");let Z=x,te=x==null?void 0:x.id;if(i&&!Z)Z=await ce.getMemberAreaBySlug(i),Z&&(v(Z),te=Z.id);else if(ke&&!i&&!Z){const xe=window.location.hostname;Z=await ce.getMemberAreaByDomain(xe),Z&&(v(Z),te=Z.id)}if(!Z&&ke)throw new Error("rea de membros no encontrada para este domnio.");let Oe=[];te?Oe=await ce.getContents(te):Oe=await ce.getContents();const He=Oe.find(xe=>xe.id===Y);if(!He)throw console.error(`Content not found: ${Y}`),new Error("Contedo no encontrado.");!te&&He.member_area_id&&(te=He.member_area_id,Oe=Oe.filter(xe=>xe.member_area_id===te)),p(Oe),f(He);const Re=await ce.getModules(Y);N(Re);const Se=await ce.getAccessGrants();C(Se);let Ne=null;const Ie=s.get("lesson_id"),Ee=s.get("module_id");if(Ie)for(const xe of Re){const Pe=(me=xe.lessons)==null?void 0:me.find(tt=>tt.id===Ie);if(Pe){Ne=Pe;break}}else if(Ee){const xe=Re.find(Pe=>Pe.id===Ee);xe&&xe.lessons&&xe.lessons.length>0&&(Ne=xe.lessons[0])}!Ne&&Re.length>0&&Re[0].lessons&&Re[0].lessons.length>0&&(Ne=Re[0].lessons[0]),Ne?(E(Ne),X(Ne.module_id),U(Ne.id)):Re.length>0&&X(Re[0].id)}catch(ke){console.error("Error loading course:",ke),K(ke instanceof Error?ke.message:"Erro ao carregar curso.")}finally{d(!1)}},U=async Y=>{const me=await ce.getLessonProgress(Y);me!=null&&me.completed&&S(ke=>({...ke,[Y]:!0}))};b.useEffect(()=>{if(!l&&w){const Y=y.find(me=>{var ke;return(ke=me.lessons)==null?void 0:ke.some(Z=>Z.id===w.id)});O(w,{onAccess:()=>{},onSalesModal:me=>{L(me),M(!0)}},{content:u||void 0,module:Y})}},[w,l,A,u,y]);const W=Y=>{const me=y.find(ke=>{var Z;return(Z=ke.lessons)==null?void 0:Z.some(te=>te.id===Y.id)});O(Y,{onAccess:()=>{E(Y),U(Y.id),window.innerWidth<768&&q(!1)},onSalesModal:ke=>{L(ke),M(!0)}},{content:u||void 0,module:me})},re=Y=>{if(Y.id===(u==null?void 0:u.id)){z(!I);return}O(Y,{onAccess:()=>{z(!0),d(!0);const me=e?`/app/${e}/course/${Y.id}`:`/course/${Y.id}`;n(me)},onSalesModal:me=>{const ke=me||Y.associated_product;ke?(L(ke),M(!0)):console.warn("No product associated with this content to sell")}})},he=Y=>{X(me=>me===Y?null:Y)},J=async()=>{if(!w)return;const Y=!k[w.id];S(me=>({...me,[w.id]:Y})),await ce.updateLessonProgress({lesson_id:w.id,completed:Y})},ve=()=>{if(!w)return;const Y=y.flatMap(ke=>ke.lessons||[]),me=Y.findIndex(ke=>ke.id===w.id);me>0&&W(Y[me-1])},Te=()=>{if(!w)return;const Y=y.flatMap(ke=>ke.lessons||[]),me=Y.findIndex(ke=>ke.id===w.id);me<Y.length-1&&W(Y[me+1])},ae=()=>{var He;if(!w)return a.jsx("div",{className:"text-white",children:"Selecione uma aula"});const Y=y.flatMap(Re=>Re.lessons||[]),me=Y.findIndex(Re=>Re.id===w.id),ke=me>0,Z=me<Y.length-1,te=Re=>{switch(Re){case"video":return w.video_url?a.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden shadow-2xl border border-white/10 w-full",children:a.jsx("iframe",{src:w.video_url.replace("watch?v=","embed/"),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},"video"):null;case"text":return w.content_text?a.jsx("div",{className:"bg-white/5 rounded-xl p-8 border border-white/5",children:a.jsx("div",{className:"prose prose-invert max-w-none whitespace-pre-wrap",children:w.content_text})},"text"):null;case"file":return w.file_url?a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:a.jsx(oa,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white text-sm",children:"Material Complementar"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Clique para acessar o arquivo ou link externo"})]})]}),a.jsxs("a",{href:w.file_url,target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[a.jsx(ei,{className:"w-4 h-4"})," Acessar Recurso"]})]},"file"):null;case"gallery":return w.gallery&&w.gallery.length>0?a.jsxs("div",{className:"pt-8 border-t border-white/5",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Galeria de Recursos"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3",children:w.gallery.map(Se=>a.jsxs("div",{className:"bg-[#1a1e26] rounded-xl overflow-hidden border border-white/5 hover:border-white/10 transition-all group",children:[a.jsx("div",{className:"aspect-video w-full bg-black/20 relative overflow-hidden",children:Se.image_url?a.jsx("img",{src:Se.image_url,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5",children:a.jsx(oa,{className:"w-10 h-10 text-gray-600"})})}),a.jsxs("div",{className:"p-3",children:[a.jsx("h4",{className:"font-bold text-white mb-2 text-sm line-clamp-2 leading-snug",children:Se.title}),a.jsx("a",{href:Se.link_url,target:"_blank",rel:"noreferrer",className:"block w-full text-center py-2 rounded-lg font-bold text-xs transition-colors bg-white/5 hover:bg-white/10 border border-white/10 text-gray-300 hover:text-white",children:"Acessar"})]})]},Se.id))})]},"gallery"):null;default:return null}},Oe=w.content_order||["video","text","file","gallery"];return a.jsxs("div",{className:"LESSON-CONTAINER w-full max-w-[1100px] mx-auto px-6 space-y-8 pb-20",children:[a.jsx("div",{className:"space-y-8",children:Oe.map(Re=>te(Re))}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 pt-8 border-t border-white/10 pb-8",children:[a.jsxs("div",{className:"w-full md:w-auto",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:w.title}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["Mdulo: ",(He=y.find(Re=>Re.id===w.module_id))==null?void 0:He.title]})]}),a.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-between md:justify-end",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ve,disabled:!ke,className:`p-3 rounded-full border transition-colors ${ke?"border-white/10 text-white hover:bg-white/10 hover:border-white/20":"border-white/5 text-gray-600 cursor-not-allowed"}`,children:a.jsx(Ki,{className:"w-5 h-5"})}),a.jsx("button",{onClick:Te,disabled:!Z,className:`p-3 rounded-full border transition-colors ${Z?"border-white/10 text-white hover:bg-white/10 hover:border-white/20":"border-white/5 text-gray-600 cursor-not-allowed"}`,children:a.jsx(ha,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:J,className:`flex items-center gap-2 px-6 py-3 rounded-full font-bold transition-all ${k[w.id]?"bg-green-500 text-white hover:bg-green-600":"bg-white/10 text-white hover:bg-white/20"}`,style:k[w.id]&&(x!=null&&x.primary_color)?{backgroundColor:x.primary_color}:{},children:k[w.id]?a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"w-5 h-5"})," Concluda"]}):a.jsxs(a.Fragment,{children:[a.jsx(wZ,{className:"w-5 h-5"})," Marcar como Concluda"]})})]})]})]})},Ae=(x==null?void 0:x.primary_color)||"#dc2626",Ce=se.useMemo(()=>{if(!ue)return y;const Y=ue.toLowerCase();return y.map(me=>{var te;const ke=me.title.toLowerCase().includes(Y),Z=(te=me.lessons)==null?void 0:te.filter(Oe=>Oe.title.toLowerCase().includes(Y));return ke?me:Z&&Z.length>0?{...me,lessons:Z}:null}).filter(Boolean)},[y,ue]),ge=se.useMemo(()=>{let Y=m;if(x!=null&&x.id?Y=m.filter(ke=>ke.member_area_id===x.id):m.length>0&&(u!=null&&u.member_area_id)&&(Y=m.filter(ke=>ke.member_area_id===u.member_area_id)),!ue)return Y;const me=ue.toLowerCase();return Y.filter(ke=>ke.title.toLowerCase().includes(me)||ke.id===(u==null?void 0:u.id))},[m,ue,u,x]);return b.useEffect(()=>{ue&&Ce.length>0&&Ce.length>0&&X(Ce[0].id)},[ue,Ce]),a.jsxs("div",{className:"flex h-screen bg-[#0D1118] text-white overflow-hidden",children:[a.jsx(xle,{onToggleMenu:()=>q(!H),isMenuOpen:H,memberAreaSlug:e,primaryColor:Ae}),a.jsx("aside",{className:`
              fixed md:static inset-x-0 bottom-0 z-40 md:z-50 bg-gradient-to-b from-[#0f131a] to-[#0b0f16] border-r border-white/5 flex flex-col transition-all duration-300 md:ml-16
              /* Mobile: Top-16 (header), Bottom-0 */
              top-16 w-full md:w-auto
              /* Desktop: Top-0, Bottom-0 */
              md:inset-y-0 md:top-0
              ${H?"translate-x-0":"-translate-x-full md:translate-x-0"}
              ${H?"md:w-80":"md:w-0"}
            `,children:H&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 flex items-center justify-between gap-2 sticky top-0 bg-[#0f131a]/95 backdrop-blur-sm z-20 border-b border-white/5",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 w-4 h-4"}),a.jsx("input",{id:"search-input",type:"text",placeholder:"Buscar contedo",value:ue,onChange:Y=>B(Y.target.value),className:"w-full bg-[#1a1e26] border-none rounded-lg py-2 pl-9 pr-4 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-white/20 transition-all"})]}),a.jsx("button",{onClick:()=>q(!1),className:"p-2 text-white hover:bg-white/10 rounded-lg transition-colors flex-shrink-0",style:{color:Ae},children:a.jsx(bee,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:ge.map(Y=>{var te,Oe,He;const me=Y.id===(u==null?void 0:u.id),ke=Y.image_url||((te=Y.associated_product)==null?void 0:te.imageUrl)||((Oe=Y.associated_product)==null?void 0:Oe.image_url),Z=((He=Y.associated_product)==null?void 0:He.name)||Y.title;return a.jsxs("div",{className:"border-b border-white/5 last:mb-0",children:[a.jsxs("div",{className:`p-4 cursor-pointer hover:bg-white/5 flex items-center justify-between ${me?"bg-[#1a1e26]/50":""}`,onClick:()=>re(Y),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[ke?a.jsx("img",{src:ke,className:"w-10 h-10 rounded-lg object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:a.jsx(oa,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:`text-sm font-bold truncate leading-tight ${me?"text-white":"text-gray-400"}`,style:me?{color:Ae}:{},children:Z}),!me&&a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Clique para acessar"})]})]}),me?I?a.jsx(vc,{size:16,style:{color:Ae}}):a.jsx(Xo,{size:16,style:{color:Ae}}):a.jsx(ha,{size:16,className:"text-gray-600"})]}),me&&I&&a.jsx("div",{className:"relative ml-4 pl-4 pt-4 pb-2 space-y-4 border-l border-white/10",children:Ce.map((Re,Se)=>{var Ne;return a.jsxs("div",{className:"relative pr-2",children:[a.jsx("div",{className:"absolute top-[2.5rem] -left-4 w-4 h-[1px] bg-white/10"}),a.jsxs("div",{onClick:()=>he(Re.id),className:"relative overflow-hidden group cursor-pointer transition-all pr-4 py-6 md:py-8 rounded-lg border border-white/5 shadow-lg hover:shadow-xl hover:border-white/10 transform hover:translate-x-1 duration-300",style:{backgroundImage:Re.image_url?`url(${Re.image_url})`:void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#1a1e26"},children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-black/95 via-black/80 to-transparent transition-opacity ${F===Re.id?"opacity-95":"opacity-90 group-hover:opacity-95"}`}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[a.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider mb-1 inline-block px-1.5 py-0.5 rounded bg-black/40 backdrop-blur-sm border border-white/10",style:{color:Ae,borderColor:`${Ae}40`},children:["Mdulo ",y.findIndex(Ie=>Ie.id===Re.id)+1]}),a.jsx("h3",{className:"text-base md:text-lg font-bold text-white leading-tight drop-shadow-md",children:Re.title})]}),a.jsx("div",{className:"bg-black/40 backdrop-blur-sm p-1.5 rounded-full border border-white/10 flex-shrink-0 transition-transform duration-300",children:F===Re.id?a.jsx(vc,{size:16,style:{color:Ae}}):a.jsx(Xo,{size:16,className:"text-gray-300"})})]})]}),F===Re.id&&a.jsxs("div",{className:"bg-transparent pl-4 mt-2 space-y-1 ml-2 border-l border-white/5",children:[(Ne=Re.lessons)==null?void 0:Ne.map((Ie,Ee)=>{var Ve;const xe=(w==null?void 0:w.id)===Ie.id,Pe=k[Ie.id];let tt=Ie.image_url;if(!tt&&Ie.video_url){const rt=(Ve=Ie.video_url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/))==null?void 0:Ve[1];rt&&(tt=`https://img.youtube.com/vi/${rt}/mqdefault.jpg`)}return a.jsxs("button",{onClick:()=>W(Ie),className:`group w-full text-left p-2 flex items-center gap-3 rounded-xl transition-all border ${xe?"shadow-lg relative z-10":"bg-transparent hover:bg-[#1a1e26] border-transparent"}`,style:xe?{backgroundColor:`${Ae}15`,borderColor:Ae}:{},children:[a.jsxs("div",{className:"relative w-16 aspect-video flex-shrink-0 bg-gray-800 rounded-lg overflow-hidden shadow-sm",children:[tt?a.jsx("img",{src:tt,className:`w-full h-full object-cover transition-opacity ${xe?"opacity-40":"opacity-80 group-hover:opacity-100"}`,alt:""}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:a.jsx(oa,{size:14})}),xe&&a.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-[1px]",children:a.jsx(ps,{size:10,className:"text-white fill-white"})})]}),a.jsx("div",{className:"flex-1 min-w-0 py-0.5",children:a.jsx("p",{className:`text-xs font-medium line-clamp-2 leading-snug ${xe?"text-white":"text-gray-400 group-hover:text-white"}`,children:Ie.title})}),a.jsx("div",{className:"flex-shrink-0 pr-1",children:Pe?a.jsx("div",{className:"bg-green-500/20 rounded-full p-0.5",children:a.jsx(ut,{className:"w-3 h-3 text-green-500 fill-green-500/20"})}):a.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${xe?"border-white/20":"border-gray-700/50"}`})})]},Ie.id)}),(!Re.lessons||Re.lessons.length===0)&&a.jsx("div",{className:"p-4 text-xs text-gray-500 text-center",children:"Nenhuma aula neste mdulo."})]})]},Re.id)})})]},Y.id)})})]})}),a.jsx("main",{className:"flex-1 flex flex-col h-full relative",children:a.jsx("div",{className:"LESSON-WRAP flex-1 overflow-y-auto bg-[#0D1118] p-4 md:p-8 pt-20 md:pt-16 flex justify-center",children:l?a.jsx("div",{className:"flex items-center justify-center h-64 w-full",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-t-transparent rounded-full",style:{borderColor:`${Ae} transparent transparent transparent`}})}):oe?a.jsx("div",{className:"flex items-center justify-center h-64 w-full text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-red-500 font-bold mb-2",children:"Erro"}),a.jsx("p",{className:"text-gray-400",children:oe}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 text-sm font-medium",children:"Tentar Novamente"})]})}):ae()})}),a.jsx(Hp,{isOpen:$,onClose:()=>M(!1),product:R})]})},WA=()=>{const t=gt(),{slug:e,id:r}=Ia(),{memberArea:n}=Qo(),[s,i]=b.useState(null),[l,d]=b.useState([]),[u,f]=b.useState(!0),[m,p]=b.useState([]),{handleAccess:x}=Uc(m),[v,y]=b.useState(null),[N,w]=b.useState(!1);b.useEffect(()=>{E()},[e,r]);const E=async()=>{f(!0);try{if(r){const{data:A}=await V.from("contents").select("*").eq("id",r).single();i(A);const C=await ce.getModules(r);d(C);const O=await ce.getAccessGrants();p(O)}}catch(A){console.error("Error loading content modules:",A)}finally{f(!1)}},k=n?`/app/${n.slug}`:"/app",S=(s==null?void 0:s.modules_layout)==="vertical";return u?a.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:a.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})}):s?a.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8",children:[a.jsxs("button",{onClick:()=>t(k),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-6 transition-colors",children:[a.jsx(Lc,{className:"w-4 h-4"})," Voltar"]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-12",children:[a.jsx("div",{className:"w-full md:w-1/3 lg:w-1/4",children:a.jsx("div",{className:`aspect-[2/3] rounded-xl overflow-hidden shadow-2xl ${S?"":"aspect-video"}`,children:a.jsx("img",{src:S?s.image_vertical_url:s.image_horizontal_url,alt:s.title,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:s.title}),a.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-6",children:s.description}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(oa,{className:"w-4 h-4"}),l.length," Mdulos"]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Mdulos"}),a.jsx("div",{className:"grid gap-4",children:l.map((A,C)=>a.jsxs("div",{onClick:()=>{x(A,{onAccess:()=>t(`${k}/course/${s.id}?module_id=${A.id}`),onSalesModal:O=>{y(O),w(!0)}})},className:"bg-[#1A1D21] p-4 rounded-xl border border-white/5 hover:border-white/20 transition-all cursor-pointer group flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-lg flex items-center justify-center text-gray-400 group-hover:text-white group-hover:bg-red-600 transition-colors",children:a.jsx("span",{className:"font-bold text-lg",children:C+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-red-500 transition-colors",children:A.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:A.description})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ps,{className:"w-4 h-4 text-white fill-white"})})]},A.id))})]})]}):null},ble=t=>{if(!t)return!1;const e=t.trim();return e.length<6||e.split(" ").length<2?!1:/^[a-zA-Z\u00C0-\u00FF\s]+$/.test(e)},vle=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),yle=t=>{const e=t.replace(/\D/g,"");if(e.length<10||e.length>11)return!1;const r=parseInt(e.substring(0,2));return!(r<11||r>99)},wle=t=>{const e=t.replace(/\D/g,"");if(e.length!==11||/^(\d)\1+$/.test(e))return!1;let r=0,n;for(let s=1;s<=9;s++)r=r+parseInt(e.substring(s-1,s))*(11-s);if(n=r*10%11,(n===10||n===11)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;r=0;for(let s=1;s<=10;s++)r=r+parseInt(e.substring(s-1,s))*(12-s);return n=r*10%11,(n===10||n===11)&&(n=0),n===parseInt(e.substring(10,11))},jle=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),XA=[{code:"BR",name:"Brasil",ddi:"+55",mask:"(99) 9 9999-9999"},{code:"US",name:"Estados Unidos",ddi:"+1",mask:"(999) 999-9999"},{code:"PT",name:"Portugal",ddi:"+351",mask:"999 999 999"},{code:"AR",name:"Argentina",ddi:"+54",mask:"(999) 999-9999"},{code:"UY",name:"Uruguai",ddi:"+598",mask:"99 999 999"},{code:"PY",name:"Paraguai",ddi:"+595",mask:"(999) 999-999"},{code:"CL",name:"Chile",ddi:"+56",mask:"9 9999 9999"},{code:"BO",name:"Bolvia",ddi:"+591",mask:"9999 9999"},{code:"PE",name:"Peru",ddi:"+51",mask:"999 999 999"},{code:"CO",name:"Colmbia",ddi:"+57",mask:"399 999 9999"},{code:"EC",name:"Equador",ddi:"+593",mask:"99 999 9999"},{code:"VE",name:"Venezuela",ddi:"+58",mask:"(999) 999-9999"},{code:"MX",name:"Mxico",ddi:"+52",mask:"(999) 999-9999"},{code:"ES",name:"Espanha",ddi:"+34",mask:"999 99 99 99"},{code:"FR",name:"Frana",ddi:"+33",mask:"9 99 99 99 99"},{code:"DE",name:"Alemanha",ddi:"+49",mask:"9999 999999"},{code:"IT",name:"Itlia",ddi:"+39",mask:"399 999 9999"},{code:"GB",name:"Reino Unido",ddi:"+44",mask:"7999 999999"},{code:"CA",name:"Canad",ddi:"+1",mask:"(999) 999-9999"},{code:"AU",name:"Austrlia",ddi:"+61",mask:"499 999 999"},{code:"JP",name:"Japo",ddi:"+81",mask:"90-9999-9999"},{code:"CN",name:"China",ddi:"+86",mask:"199 9999 9999"},{code:"IN",name:"ndia",ddi:"+91",mask:"99999 99999"},{code:"RU",name:"Rssia",ddi:"+7",mask:"(999) 999-99-99"},{code:"ZA",name:"frica do Sul",ddi:"+27",mask:"99 999 9999"},{code:"AO",name:"Angola",ddi:"+244",mask:"999 999 999"},{code:"MZ",name:"Moambique",ddi:"+258",mask:"89 999 9999"},{code:"CV",name:"Cabo Verde",ddi:"+238",mask:"999 99 99"}],LI=({value:t,onChange:e,error:r,isValid:n,className:s,...i})=>{const[l,d]=b.useState(XA[0]),[u,f]=b.useState(!1),[m,p]=b.useState(""),x=b.useRef(null);b.useEffect(()=>{const E=k=>{x.current&&!x.current.contains(k.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const v=E=>{d(E),f(!1),p("")},y=(E,k)=>{if(!k)return E;const S=E.replace(/\D/g,"");let A="",C=0;for(let O=0;O<k.length&&!(C>=S.length);O++)k[O]==="9"?(A+=S[C],C++):A+=k[O];return A},N=E=>{let k=E.target.value;if(l.mask){const A=k.replace(/\D/g,"");k=y(A,l.mask)}const S={...E,target:{...E.target,name:i.name||"phone",value:k}};e(S)},w=XA.filter(E=>E.name.toLowerCase().includes(m.toLowerCase())||E.ddi.includes(m)||E.code.toLowerCase().includes(m.toLowerCase()));return a.jsxs("div",{className:"relative",ref:x,children:[a.jsx("div",{className:"absolute left-[1px] top-[1px] bottom-[1px] flex items-center z-20",children:a.jsxs("button",{type:"button",onClick:()=>f(!u),className:"h-full flex items-center gap-1.5 bg-gray-50 hover:bg-gray-100 border-r border-gray-200 rounded-l-lg px-2 transition-colors focus:outline-none",children:[a.jsx("img",{src:`https://flagcdn.com/w40/${l.code.toLowerCase()}.png`,alt:l.name,className:"w-5 h-3.5 object-cover rounded-sm shadow-sm opacity-90"}),a.jsx("span",{className:"text-xs font-semibold text-gray-600",children:l.ddi}),a.jsx(Xo,{className:`w-3 h-3 text-gray-400 transition-transform ${u?"rotate-180":""}`})]})}),u&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[280px] bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[a.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar pas...",className:"w-full pl-8 pr-3 py-1.5 text-xs bg-white border border-gray-200 rounded-md focus:outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/10",value:m,onChange:E=>p(E.target.value),autoFocus:!0})]})}),a.jsx("div",{className:"max-h-[200px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent",children:w.length>0?w.map(E=>a.jsxs("button",{type:"button",onClick:()=>v(E),className:`w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 transition-colors text-left ${l.code===E.code?"bg-green-50/50":""}`,children:[a.jsx("img",{src:`https://flagcdn.com/w40/${E.code.toLowerCase()}.png`,alt:E.name,className:"w-5 h-3.5 object-cover rounded-sm shadow-sm flex-shrink-0"}),a.jsx("span",{className:"flex-1 text-xs text-gray-700 font-medium truncate",children:E.name}),a.jsx("span",{className:"text-xs text-gray-400 font-mono",children:E.ddi}),l.code===E.code&&a.jsx(pt,{className:"w-3.5 h-3.5 text-[#10B981]"})]},E.code)):a.jsx("div",{className:"p-3 text-center text-xs text-gray-500",children:"Nenhum pas encontrado"})})]}),a.jsx("input",{type:"tel",value:t,onChange:N,placeholder:l.mask||"(00) 00000-0000",className:`w-full pl-[95px] pr-10 py-3 rounded-lg border bg-white focus:ring-2 focus:ring-opacity-50 transition-all outline-none ${r?"border-red-400 focus:border-red-500 focus:ring-red-200":n?"border-green-400 focus:border-green-500 focus:ring-green-200":"border-gray-200 focus:border-[#10B981] focus:ring-[#10B981]/20"} ${s||""}`,...i})]})},UI=b.createContext(void 0),$I=({config:t,children:e})=>{const[r,n]=b.useState(!1),s=b.useRef(!1),i=t==null?void 0:t.pixels,l=i==null?void 0:i.active,d=()=>window;b.useEffect(()=>{!l||s.current||(i!=null&&i.gtm_id?(console.log(" [Tracking] Initializing GTM:",i.gtm_id),Nle(i.gtm_id)):(i!=null&&i.facebook_pixel_id&&(console.log(" [Tracking] Initializing Facebook Pixel:",i.facebook_pixel_id),_le(i.facebook_pixel_id)),i!=null&&i.tiktok_pixel_id&&(console.log(" [Tracking] Initializing TikTok Pixel:",i.tiktok_pixel_id),Ele(i.tiktok_pixel_id)),i!=null&&i.google_analytics_id&&(console.log(" [Tracking] Initializing GA4:",i.google_analytics_id),Sle(i.google_analytics_id)),i!=null&&i.google_ads_id&&(console.log(" [Tracking] Initializing Google Ads:",i.google_ads_id),kle(i.google_ads_id))),s.current=!0,n(!0))},[t]);const u=()=>{var p,x,v,y,N,w;if(l){if(console.log(" [Tracking] PageView"),i!=null&&i.gtm_id){(p=d().dataLayer)==null||p.push({event:"page_view"});return}i!=null&&i.facebook_pixel_id&&((v=(x=d()).fbq)==null||v.call(x,"track","PageView")),i!=null&&i.tiktok_pixel_id&&((y=d().ttq)==null||y.page()),i!=null&&i.google_analytics_id&&((w=(N=d()).gtag)==null||w.call(N,"event","page_view"))}},f=()=>{var p,x,v,y,N,w;if(l){if(console.log(" [Tracking] InitiateCheckout"),i!=null&&i.gtm_id){(p=d().dataLayer)==null||p.push({event:"begin_checkout"});return}i!=null&&i.facebook_pixel_id&&((v=(x=d()).fbq)==null||v.call(x,"track","InitiateCheckout")),i!=null&&i.tiktok_pixel_id&&((y=d().ttq)==null||y.track("InitiateCheckout")),i!=null&&i.google_analytics_id&&((w=(N=d()).gtag)==null||w.call(N,"event","begin_checkout"))}},m=p=>{var y,N,w,E,k,S,A,C;if(!l)return;const x=p.currency||"BRL",v=`tracked_order_${p.id}`;if(localStorage.getItem(v)){console.warn(" [Tracking] Purchase event blocked (Duplicate):",p.id);return}if(console.log(" [Tracking] Purchase:",p),localStorage.setItem(v,"true"),i!=null&&i.gtm_id){(y=d().dataLayer)==null||y.push({event:"purchase",ecommerce:{transaction_id:p.id,value:p.amount,currency:x,coupon:p.coupon}});return}i!=null&&i.facebook_pixel_id&&((w=(N=d()).fbq)==null||w.call(N,"track","Purchase",{value:p.amount,currency:x,order_id:p.id})),i!=null&&i.tiktok_pixel_id&&((E=d().ttq)==null||E.track("CompletePayment",{content_type:"product",quantity:1,price:p.amount,value:p.amount,currency:x})),i!=null&&i.google_analytics_id&&((S=(k=d()).gtag)==null||S.call(k,"event","purchase",{transaction_id:p.id,value:p.amount,currency:x})),i!=null&&i.google_ads_id&&((C=(A=d()).gtag)==null||C.call(A,"event","conversion",{send_to:i.google_ads_id,value:p.amount,currency:x,transaction_id:p.id}))};return a.jsx(UI.Provider,{value:{trackPageView:u,trackInitiateCheckout:f,trackPurchase:m,isInitialized:r},children:e})},BI=()=>{const t=b.useContext(UI);return t||{trackPageView:()=>{},trackInitiateCheckout:()=>{},trackPurchase:()=>{}}};function Nle(t){const e=document.createElement("script");e.innerHTML=`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','${t}');`,document.head.appendChild(e);const r=document.createElement("noscript");r.innerHTML=`<iframe src="https://www.googletagmanager.com/ns.html?id=${t}"
    height="0" width="0" style="display:none;visibility:hidden"></iframe>`,document.body.appendChild(r)}function _le(t){const e=document.createElement("script");e.innerHTML=`!function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '${t}');`,document.head.appendChild(e)}function Ele(t){const e=document.createElement("script");e.innerHTML=`!function (w, d, t) {
      w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];
      ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],
      ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};
      for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);
      ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e};
      ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";
      ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};
      var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;
      var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
      ttq.load('${t}');
    }(window, document, 'ttq');`,document.head.appendChild(e)}function Sle(t){const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e);const r=document.createElement("script");r.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${t}');
    `,document.head.appendChild(r)}function kle(t){if(document.querySelector('script[src*="googletagmanager.com/gtag/js"]')){const e=document.createElement("script");e.innerHTML=`gtag('config', '${t}');`,document.head.appendChild(e)}else{const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e);const r=document.createElement("script");r.innerHTML=`
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', '${t}');
        `,document.head.appendChild(r)}}const Ale=()=>{const{trackPageView:t,trackInitiateCheckout:e,isInitialized:r}=BI();return b.useEffect(()=>{r&&(t(),e())},[r]),null},ov=({checkoutId:t})=>{var me,ke,Z,te,Oe,He,Re;const{id:e}=Ia(),r=t||e,n=gt(),[s,i]=b.useState(!0),[l,d]=b.useState(null),[u,f]=b.useState(null),[m,p]=b.useState(null),[x,v]=b.useState([]),[y,N]=b.useState({minutes:15,seconds:0}),[w,E]=b.useState(!1),[k,S]=b.useState(!1),[A,C]=b.useState({}),[O,R]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),L=(Se,Ne,Ie="info")=>{R({isOpen:!0,title:Se,message:Ne,variant:Ie})},$=()=>{R(Se=>({...Se,isOpen:!1}))},[M,H]=b.useState({name:"",email:"",cpf:"",phone:"",cardNumber:"",expiry:"",installments:"1",cvc:""}),[q,F]=b.useState({}),[X,ue]=b.useState({}),[B,I]=b.useState("default"),z=Se=>{const Ne=Se.replace(/\D/g,"");return/^(636368|438935|504175|451416|636297|5067|4576|4011)/.test(Ne)?"elo":/^(606282|3841)/.test(Ne)?"hipercard":/^3[47]/.test(Ne)?"amex":/^(36|38|30[0-5])/.test(Ne)?"diners":/^5[1-5]/.test(Ne)||/^2(22[1-9]|2[3-9][0-9]|[3-6][0-9]{2}|7[0-1][0-9]|720)/.test(Ne)?"mastercard":/^(6011|65|64[4-9])/.test(Ne)?"discover":/^4/.test(Ne)?"visa":"default"},K={visa:{gradient:"from-[#1A1F71] to-[#0D47A1]",logo:"VISA",textColor:"text-white"},mastercard:{gradient:"from-[#EB001B] to-[#F79E1B]",logo:"MASTERCARD",textColor:"text-white"},elo:{gradient:"from-[#FFCB05] to-[#000000]",logo:"ELO",textColor:"text-white"},amex:{gradient:"from-[#006FCF] to-[#003366]",logo:"AMEX",textColor:"text-white"},hipercard:{gradient:"from-[#D32F2F] to-[#B71C1C]",logo:"HIPERCARD",textColor:"text-white"},diners:{gradient:"from-[#0079BE] to-[#00457C]",logo:"DINERS",textColor:"text-white"},discover:{gradient:"from-[#FF6000] to-[#CC4D00]",logo:"DISCOVER",textColor:"text-white"},default:{gradient:"from-gray-900 to-gray-800",logo:"CARD",textColor:"text-white"}}[B],[D,U]=b.useState(void 0),[W,re]=b.useState("Super Checkout Inc.");b.useEffect(()=>{r?(async()=>{var Ne,Ie;try{const Ee=await ce.getUser();if(Ee)U(Ee.id);else{const Ze=new URLSearchParams(window.location.search).get("u");Ze&&U(Ze)}const xe=await ce.getPublicCheckout(r);if(!xe){f("Checkout no encontrado."),i(!1);return}if(!xe.active){f("Este checkout est inativo no momento."),i(!1);return}try{const{data:rt}=await V.from("checkouts").select("user_id").eq("id",r).single();if(rt!=null&&rt.user_id){const{data:Ze}=await V.from("accounts").select("id").eq("owner_user_id",rt.user_id).single();if(Ze!=null&&Ze.id){const{data:rr}=await V.from("business_settings").select("business_name").eq("account_id",Ze.id).single();rr!=null&&rr.business_name&&re(rr.business_name)}}}catch(rt){console.warn("Could not load business settings",rt)}const Pe=await ce.getPublicProduct(xe.product_id),tt=await ce.getPublicGateway(xe.gateway_id);if(!Pe||!tt){f("Configurao invlida de produto ou gateway."),i(!1);return}const Ve=[];if(xe.order_bump_ids&&xe.order_bump_ids.length>0)for(const rt of xe.order_bump_ids){const Ze=await ce.getPublicProduct(rt);Ze&&Ve.push(Ze)}d({checkout:xe,product:Pe,gateway:tt,bumps:Ve}),(Ie=(Ne=xe.config)==null?void 0:Ne.timer)!=null&&Ie.active&&N({minutes:xe.config.timer.minutes,seconds:0}),i(!1)}catch(Ee){console.error("Error loading checkout:",Ee),f("Erro ao carregar checkout. Tente novamente."),i(!1)}})():(f("Checkout no especificado."),i(!1))},[r]),b.useEffect(()=>{var Ne,Ie,Ee;if(!((Ee=(Ie=(Ne=l==null?void 0:l.checkout)==null?void 0:Ne.config)==null?void 0:Ie.timer)!=null&&Ee.active))return;const Se=setInterval(()=>{N(xe=>xe.seconds===0?xe.minutes===0?xe:{minutes:xe.minutes-1,seconds:59}:{...xe,seconds:xe.seconds-1})},1e3);return()=>clearInterval(Se)},[l]);const he=(Se,Ne)=>{let Ie="";switch(Se){case"name":ble(Ne)||(Ie="Digite seu nome completo (mnimo 2 palavras)");break;case"email":vle(Ne)||(Ie="Digite um e-mail vlido");break;case"phone":yle(Ne)||(Ie="Nmero de WhatsApp invlido");break;case"cpf":wle(Ne)||(Ie="CPF invlido");break}return Ie},J=Se=>{const{name:Ne,value:Ie}=Se.target;F(xe=>({...xe,[Ne]:!0}));const Ee=he(Ne,Ie);ue(xe=>({...xe,[Ne]:Ee}))},ve=Se=>{const{name:Ne,value:Ie}=Se.target;let Ee=Ie;if(Ne==="cpf"&&(Ee=jle(Ie)),H(xe=>({...xe,[Ne]:Ee})),q[Ne]){const xe=he(Ne,Ee);ue(Pe=>({...Pe,[Ne]:xe}))}else{const xe=he(Ne,Ee);ue(Pe=>({...Pe,[Ne]:xe}))}},Te=Se=>{v(Ne=>Ne.includes(Se)?Ne.filter(Ie=>Ie!==Se):[...Ne,Se])},ae=()=>{if(!l)return 0;let Se=l.product.price_real||0;return x.forEach(Ne=>{const Ie=l.bumps.find(Ee=>Ee.id===Ne);Ie&&(Se+=Ie.price_real||0)}),Se},Ae=async()=>{var Ie,Ee;if(!m||!l)return;const Se={},Ne={};if(Y.fields.name){Ne.name=!0;const xe=he("name",M.name);xe&&(Se.name=xe)}if(Y.fields.email){Ne.email=!0;const xe=he("email",M.email);xe&&(Se.email=xe)}if(Y.fields.phone){Ne.phone=!0;const xe=he("phone",M.phone);xe&&(Se.phone=xe)}if(Y.fields.cpf){Ne.cpf=!0;const xe=he("cpf",M.cpf);xe&&(Se.cpf=xe)}if(F(xe=>({...xe,...Ne})),ue(Se),Object.keys(Se).length>0){const xe=Object.keys(Se)[0],Pe=document.getElementById(`input-${xe}`);Pe==null||Pe.scrollIntoView({behavior:"smooth",block:"center"}),Pe==null||Pe.focus();return}if(m==="credit_card"){const xe=M.cardNumber.replace(/\D/g,"");if(!xe||xe.length<13){L("Erro","Por favor, verifique o nmero do carto.","error");return}if(!M.expiry||!M.expiry.includes("/")){L("Erro","Por favor, preencha a validade do carto (MM/AA).","error");return}const[Pe,tt]=M.expiry.split("/");if(!Pe||!tt||parseInt(Pe)<1||parseInt(Pe)>12||tt.length!==2){L("Erro","Data de validade invlida.","error");return}if(!M.cvc||M.cvc.length<3){L("Erro","Por favor, verifique o cdigo de segurana (CVC).","error");return}}S(!0);try{const xe=ae(),Pe=[{name:l.product.name,price:l.product.price_real||0,quantity:1,type:"main",product_id:l.product.id}];x.forEach(rt=>{const Ze=l.bumps.find(rr=>rr.id===rt);Ze&&Pe.push({name:Ze.name,price:Ze.price_real||0,quantity:1,type:"bump",product_id:Ze.id})}),console.log("[PublicCheckout] Importing paymentService...");const{paymentService:tt}=await Dr(async()=>{const{paymentService:rt}=await Promise.resolve().then(()=>qI);return{paymentService:rt}},void 0);console.log("[PublicCheckout] paymentService imported. Calling processPayment...");const Ve=await tt.processPayment({checkoutId:l.checkout.id,offerId:l.checkout.offer_id||"direct",amount:xe,customerName:M.name||"Cliente",customerEmail:M.email||"cliente@email.com",customerPhone:M.phone,customerCpf:M.cpf,gatewayId:l.gateway.id,paymentMethod:m,items:Pe,customerUserId:D,cardData:m==="credit_card"?{number:M.cardNumber,holderName:M.name,expiryMonth:M.expiry.split("/")[0],expiryYear:M.expiry.split("/")[1],cvc:M.cvc}:void 0});console.log("[PublicCheckout] processPayment returned:",Ve),Ve.success?(console.log("[PublicCheckout] Payment success. Method:",m),m==="pix"&&Ve.pixData?(console.log("[PublicCheckout] Navigating to Pix page..."),n(`/pagamento/pix/${Ve.orderId}`,{state:{pixData:{qr_code:Ve.pixData.qr_code,transaction_amount:xe},orderData:{items:Pe,totalAmount:xe,customer:{name:M.name,email:M.email}}}})):m==="boleto"&&Ve.boletoData?window.location.href=Ve.boletoData.url:(Ee=(Ie=l.checkout.config)==null?void 0:Ie.upsell)!=null&&Ee.active?n(`/upsell/${Ve.orderId}`):n(`/thank-you/${Ve.orderId}`)):(L("Erro no pagamento",Ve.message||"Transao recusada","error"),S(!1))}catch(xe){console.error("Payment error:",xe),console.error("Payment Error Details:",{message:xe.message,stack:xe.stack,name:xe.name}),L("Erro",`Erro ao processar pagamento: ${xe.message||"Verifique os dados e tente novamente."}`,"error"),S(!1)}},Ce=(Se,Ne,Ie="text")=>{const Ee=q[Se]&&X[Se],xe=q[Se]&&!X[Se]&&M[Se];return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"relative",children:[Se==="phone"?a.jsx(LI,{name:Se,value:M[Se],onChange:ve,onBlur:J,error:!!Ee,isValid:!!xe,placeholder:Ne}):a.jsx("input",{id:`input-${Se}`,type:Ie,name:Se,placeholder:Ne,value:M[Se],onChange:ve,onBlur:J,className:`w-full pl-4 pr-10 py-3 rounded-lg border bg-white focus:ring-2 focus:ring-opacity-50 transition-all outline-none ${Ee?"border-red-400 focus:border-red-500 focus:ring-red-200":xe?"border-green-400 focus:border-green-500 focus:ring-green-200":"border-gray-200 focus:border-[#10B981] focus:ring-[#10B981]/20"}`}),Ee&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500 animate-pulse pointer-events-none",children:a.jsx(Ir,{className:"w-5 h-5"})}),xe&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500 animate-in zoom-in pointer-events-none",children:a.jsx(pt,{className:"w-5 h-5"})})]}),Ee&&a.jsx("p",{className:"text-xs text-red-500 flex items-center gap-1 animate-in slide-in-from-top-1",children:X[Se]})]})};if(s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f9fafb]",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#10B981]"})});if(u||!l)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f9fafb] text-gray-500",children:u});const ge=ae(),Y=l.checkout.config||{fields:{name:!0,email:!0,phone:!0,cpf:!0},payment_methods:{pix:!0,credit_card:!0,boleto:!0},timer:{active:!1,minutes:0,bg_color:"",text_color:""}};return a.jsxs($I,{config:Y,children:[a.jsx(Ale,{}),a.jsxs("div",{className:"checkout-padrao-container min-h-screen bg-[#f9fafb] font-sans text-gray-800 pb-12",children:[((me=Y.timer)==null?void 0:me.active)&&a.jsx("div",{className:"py-3 shadow-lg transition-colors",style:{backgroundColor:Y.timer.bg_color,color:Y.timer.text_color},children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium opacity-90",children:[a.jsx(qn,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"A oferta expira em:"}),a.jsx("span",{className:"sm:hidden",children:"Expira em:"})]}),a.jsxs("div",{className:"flex gap-2 text-gray-900",children:[a.jsxs("div",{className:"time-box flex flex-col items-center bg-white rounded px-2 py-0.5 min-w-[36px]",children:[a.jsx("span",{className:"time-number font-bold text-sm",children:"00"}),a.jsx("span",{className:"time-label text-[8px] uppercase text-gray-500",children:"Hrs"})]}),a.jsxs("div",{className:"time-box flex flex-col items-center bg-white rounded px-2 py-0.5 min-w-[36px]",children:[a.jsx("span",{className:"time-number font-bold text-sm",children:y.minutes.toString().padStart(2,"0")}),a.jsx("span",{className:"time-label text-[8px] uppercase text-gray-500",children:"Min"})]}),a.jsxs("div",{className:"time-box flex flex-col items-center bg-white rounded px-2 py-0.5 min-w-[36px]",children:[a.jsx("span",{className:"time-number font-bold text-sm",children:y.seconds.toString().padStart(2,"0")}),a.jsx("span",{className:"time-label text-[8px] uppercase text-gray-500",children:"Seg"})]})]})]})}),a.jsxs("div",{className:"max-w-2xl mx-auto px-4 mt-6 space-y-6",children:[Y.header_image&&a.jsx("div",{className:`w-full h-[150px] sm:h-[200px] rounded-2xl overflow-hidden shadow-sm ${(ke=Y.timer)!=null&&ke.active?"":"mt-4"}`,children:a.jsx("img",{src:Y.header_image,alt:"Header",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:l.product.imageUrl?a.jsx("img",{src:l.product.imageUrl,className:"w-full h-full object-cover"}):a.jsx(gr,{className:"w-full h-full p-4 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-gray-900 leading-tight",children:l.product.name}),l.product.price_fake&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["De ",a.jsxs("span",{className:"line-through",children:["R$ ",l.product.price_fake.toFixed(2)]})," por apenas"]}),a.jsxs("p",{className:"text-lg font-bold text-[#10B981]",children:["R$ ",(Z=l.product.price_real)==null?void 0:Z.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-[#10B981] text-white flex items-center justify-center text-xs",children:"1"}),"Dados Pessoais"]}),Y.fields.name&&Ce("name","Nome Completo"),Y.fields.email&&Ce("email","Seu melhor E-mail","email"),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[Y.fields.cpf&&Ce("cpf","CPF/CNPJ"),Y.fields.phone&&Ce("phone","DDD + Celular","tel")]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[a.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"bg-gray-900 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs",children:"2"}),"Pagamento"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6",children:[((te=Y.payment_methods)==null?void 0:te.credit_card)&&a.jsxs("button",{onClick:()=>p("credit_card"),className:`relative flex items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${m==="credit_card"?"bg-[#F0FDF4] border-[#10B981] text-[#10B981]":"bg-gray-100 border-transparent text-gray-600 hover:bg-gray-200"}`,children:[m==="credit_card"&&a.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-[#10B981] text-white rounded-bl-lg rounded-tr-lg p-0.5 shadow-sm animate-in zoom-in",children:a.jsx(pt,{size:12,strokeWidth:3})}),a.jsx(ao,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-bold",children:"Carto de Crdito"})]}),((Oe=Y.payment_methods)==null?void 0:Oe.pix)&&a.jsxs("button",{onClick:()=>p("pix"),className:`relative flex items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${m==="pix"?"bg-[#F0FDF4] border-[#10B981] text-[#10B981]":"bg-gray-100 border-transparent text-gray-600 hover:bg-gray-200"}`,children:[m==="pix"&&a.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-[#10B981] text-white rounded-bl-lg rounded-tr-lg p-0.5 shadow-sm animate-in zoom-in",children:a.jsx(pt,{size:12,strokeWidth:3})}),a.jsx(Lm,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-bold",children:"Pix"})]}),((He=Y.payment_methods)==null?void 0:He.boleto)&&a.jsxs("button",{onClick:()=>p("boleto"),className:`relative flex items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${m==="boleto"?"bg-[#F0FDF4] border-[#10B981] text-[#10B981]":"bg-gray-100 border-transparent text-gray-600 hover:bg-gray-200"}`,children:[m==="boleto"&&a.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-[#10B981] text-white rounded-bl-lg rounded-tr-lg p-0.5 shadow-sm animate-in zoom-in",children:a.jsx(pt,{size:12,strokeWidth:3})}),a.jsx(vy,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-bold",children:"Boleto"})]})]}),m==="credit_card"&&a.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[a.jsx("div",{className:"w-full max-w-[280px] mx-auto",children:a.jsx("div",{className:"perspective-1000 w-full h-[176px] relative cursor-pointer group",onClick:()=>E(!w),children:a.jsxs("div",{className:`w-full h-full relative preserve-3d transition-transform duration-700 ${w?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d",transform:w?"rotateY(180deg)":"rotateY(0deg)"},children:[a.jsxs("div",{className:`absolute w-full h-full backface-hidden bg-gradient-to-br ${K.gradient} rounded-xl shadow-xl p-4 text-white flex flex-col justify-between z-10 transition-all duration-500`,style:{backfaceVisibility:"hidden"},children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"w-10 h-7 bg-yellow-500/80 rounded-md border-2 border-white"}),a.jsx("span",{className:`font-mono text-base italic font-bold ${K.textColor}`,children:K.logo})]}),a.jsx("div",{children:a.jsx("p",{className:"font-mono text-base tracking-widest shadow-black drop-shadow-md",children:M.cardNumber||"0000 0000 0000 0000"})}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[7px] uppercase text-gray-400",children:"Titular"}),a.jsx("p",{className:"font-medium uppercase text-xs tracking-wide",children:M.name||"NOME DO TITULAR"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[7px] uppercase text-gray-400",children:"Validade"}),a.jsx("p",{className:"font-medium text-xs",children:M.expiry||"MM/AA"})]})]})]}),a.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-gray-800 rounded-xl shadow-xl overflow-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[a.jsx("div",{className:"w-full h-8 bg-black mt-4"}),a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"bg-white h-6 w-full flex items-center justify-end px-2",children:a.jsx("span",{className:"font-mono text-sm text-gray-900",children:M.cvc||"123"})})})]})]})})}),a.jsxs("div",{className:"w-full max-w-[280px] mx-auto space-y-3 pt-2",children:[a.jsx("div",{children:a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all",placeholder:"Nmero do Carto",value:M.cardNumber,onChange:Se=>{const Ne=Se.target.value;H({...M,cardNumber:Ne}),I(z(Ne))},onFocus:()=>E(!1)})}),a.jsxs("div",{className:"grid grid-cols-[1fr_80px] gap-3",children:[a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all",placeholder:"MM/AA",maxLength:5,value:M.expiry,onChange:Se=>{let Ne=Se.target.value.replace(/\D/g,"");Ne.length>=2&&(Ne=Ne.slice(0,2)+"/"+Ne.slice(2,4)),H({...M,expiry:Ne})},onFocus:()=>E(!1)}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all",placeholder:"CVV",maxLength:4,value:M.cvc,onChange:Se=>H({...M,cvc:Se.target.value}),onFocus:()=>E(!0)})]}),a.jsx("div",{children:a.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 outline-none focus:border-[#10B981] focus:ring-2 focus:ring-[#10B981]/20 transition-all bg-white",value:M.installments,onChange:Se=>H({...M,installments:Se.target.value}),children:[a.jsx("option",{value:"1",children:"1x sem juros"}),a.jsx("option",{value:"2",children:"2x sem juros"}),a.jsx("option",{value:"3",children:"3x sem juros"}),a.jsx("option",{value:"4",children:"4x sem juros"}),a.jsx("option",{value:"5",children:"5x sem juros"}),a.jsx("option",{value:"6",children:"6x sem juros"}),a.jsx("option",{value:"7",children:"7x sem juros"}),a.jsx("option",{value:"8",children:"8x sem juros"}),a.jsx("option",{value:"9",children:"9x sem juros"}),a.jsx("option",{value:"10",children:"10x sem juros"}),a.jsx("option",{value:"11",children:"11x sem juros"}),a.jsx("option",{value:"12",children:"12x sem juros"})]})})]})]}),m==="pix"&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-800 font-bold mb-3",children:[a.jsx(Lm,{className:"w-5 h-5"})," Pague com Pix"]}),a.jsx("p",{className:"text-sm text-green-900",children:"Liberao imediata do acesso aps o pagamento."})]}),m==="boleto"&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-bold mb-2",children:[a.jsx(vy,{className:"w-5 h-5"})," Informaes do Boleto"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Vencimento em 2 dias teis."})]}),!m&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 flex items-center gap-3 text-yellow-800 text-sm animate-pulse",children:[a.jsx(Ir,{className:"w-5 h-5"}),"Escolha uma forma de pagamento."]})]}),m&&l.bumps.length>0&&a.jsxs("div",{className:"space-y-4 animate-in zoom-in-95 duration-300",children:[a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 px-4 py-2 rounded-xl shadow-sm",children:a.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wide text-center flex items-center justify-center gap-2",children:" Oportunidade especial agora"})}),a.jsx("div",{className:"space-y-4",children:l.bumps.map(Se=>{const Ne=m==="credit_card",Ie=parseInt(M.installments)||1,Ee=Se.price_real||0;let xe="",Pe="";if(Ne){const tt=Ie>1?1.2:1;xe=(Ee*tt/Ie).toFixed(2),Pe=" na parcela"}else xe=Ee.toFixed(2);return a.jsx("div",{className:`p-4 rounded-xl border-2 border-dashed transition-all cursor-pointer relative overflow-hidden ${x.includes(Se.id)?"border-[#10B981] bg-green-50/50":"border-[#D71A21] bg-white hover:border-[#B71520]"}`,onClick:()=>Te(Se.id),children:a.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden",children:Se.imageUrl&&a.jsx("img",{src:Se.imageUrl,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:Se.name})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-snug line-clamp-2",children:Se.description}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded border-2 flex-shrink-0 flex items-center justify-center transition-colors ${x.includes(Se.id)?"bg-[#10B981] border-[#10B981]":"border-gray-400 bg-transparent"}`,children:x.includes(Se.id)&&a.jsx(pt,{className:"w-3.5 h-3.5 text-white"})}),a.jsxs("p",{className:"text-sm font-bold text-gray-900 leading-tight",children:["Sim, quero aproveitar por apenas ",a.jsxs("span",{className:"text-[#10B981]",children:["R$ ",xe]}),Pe]})]})]})]})},Se.id)})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resumo"}),a.jsxs("div",{className:"space-y-3 mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-3 text-gray-600",children:[a.jsx("span",{className:"flex-1 break-words",children:l.product.name}),l.product.price_fake?a.jsxs("span",{className:"line-through text-gray-400 whitespace-nowrap",children:["R$ ",l.product.price_fake.toFixed(2)]}):a.jsxs("span",{className:"text-[#10B981] whitespace-nowrap",children:["R$ ",(Re=l.product.price_real)==null?void 0:Re.toFixed(2)]})]}),x.map(Se=>{var Ie;const Ne=l.bumps.find(Ee=>Ee.id===Se);return Ne?a.jsxs("div",{className:"flex justify-between gap-3 text-[#10B981]",children:[a.jsxs("span",{className:"flex items-center gap-1 flex-1 break-words",children:[a.jsx(pt,{className:"w-3 h-3 flex-shrink-0"})," ",Ne.name]}),a.jsxs("span",{className:"whitespace-nowrap",children:["+ R$ ",(Ie=Ne.price_real)==null?void 0:Ie.toFixed(2)]})]},Ne.id):null}),a.jsxs("div",{className:"border-t border-gray-100 pt-3 flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold text-[#10B981]",children:["R$ ",ge.toFixed(2)]}),m==="credit_card"&&a.jsxs("p",{className:"text-xs text-gray-500",children:["ou 12x de R$ ",(ge/12*1.2).toFixed(2)]})]})]})]}),a.jsx("button",{onClick:Ae,disabled:k||!m,className:"w-full bg-[#10B981] hover:bg-[#059669] disabled:bg-gray-400 text-white font-bold py-4 rounded-xl shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:k?"Processando...":a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-5 h-5"}),m==="pix"?"Gerar Pix Copia e Cola":"Finalizar Compra Agora"]})})]}),a.jsxs("div",{className:"text-center py-4 border-t border-gray-200",children:[a.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1 mb-2",children:[a.jsx(en,{className:"w-3 h-3"})," Compra 100% segura"]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-70",children:[a.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center text-[9px] font-bold text-gray-500",children:W.substring(0,2).toUpperCase()}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:W})]})]})]}),a.jsx($r,{isOpen:O.isOpen,onClose:$,title:O.title,message:O.message,variant:O.variant})]})]})},zI=t=>t.startsWith("/")?t:`/${t}`,Cle={items:[{name:"Master Pack Completo",price:197,quantity:1}],totalAmount:197,customer:{name:"Cliente Visitante",email:"cliente@exemplo.com"}},lv={qr_code_base64:"00020126330014BR.GOV.BCB.PIX0114+5511999999999520400005303986540510.005802BR5913SuperCheckout6008SaoPaulo62070503***63041D3D",transaction_amount:197},KA=()=>{var C,O,R;const{orderId:t}=Ia(),e=gt(),r=Da(),[n,s]=b.useState({minutes:14,seconds:59}),[i,l]=b.useState(!1),[d,u]=b.useState(!0),[f,m]=b.useState(null),[p,x]=b.useState(""),[v,y]=b.useState("Super Checkout Inc."),[N,w]=b.useState({isOpen:!1,title:"",message:"",variant:"info"}),E=()=>{w(L=>({...L,isOpen:!1}))};b.useEffect(()=>{(async()=>{var $,M,H,q,F,X,ue,B,I;if(($=r.state)!=null&&$.orderData&&((M=r.state)!=null&&M.pixData)&&(m(r.state.orderData),x(r.state.pixData.qr_code_base64||r.state.pixData.qr_code||lv.qr_code_base64)),t)try{const{data:z,error:oe}=await V.from("orders").select("*, checkout_id, checkouts(user_id)").eq("id",t).single();if(z&&!oe){if(!((H=r.state)!=null&&H.orderData)){const{data:D}=await V.from("payments").select("raw_response").eq("order_id",t).order("created_at",{ascending:!1}).limit(1);let U=lv.qr_code_base64;if(D&&D.length>0&&D[0].raw_response)try{const re=typeof D[0].raw_response=="string"?JSON.parse(D[0].raw_response):D[0].raw_response,he=((F=(q=re.point_of_interaction)==null?void 0:q.transaction_data)==null?void 0:F.qr_code_base64)||((ue=(X=re.point_of_interaction)==null?void 0:X.transaction_data)==null?void 0:ue.qr_code);he&&(U=he)}catch(re){console.warn("Erro PIX parse",re)}const W={items:z.items||[{name:"Oferta Selecionada",price:z.amount,quantity:1}],totalAmount:z.amount,customer:{name:z.customer_name,email:z.customer_email}};m(W),x(U)}const K=((B=z.checkouts)==null?void 0:B.user_id)||z.user_id;if(K){const{data:D}=await V.from("accounts").select("id").eq("owner_user_id",K).single();if(D!=null&&D.id){const{data:U}=await V.from("business_settings").select("business_name").eq("account_id",D.id).single();U!=null&&U.business_name&&y(U.business_name)}}}}catch(z){console.error("[PixPayment] Error loading order/settings:",z)}else(I=r.state)!=null&&I.orderData||(m(Cle),x(lv.qr_code_base64));u(!1)})()},[t,r.state]);const[k,S]=b.useState(null);b.useEffect(()=>{let L=0;const $=5,M=async()=>{var H,q,F,X,ue;try{if((H=r.state)!=null&&H.checkoutId){const z=await ce.getPublicCheckout(r.state.checkoutId);if((F=(q=z==null?void 0:z.config)==null?void 0:q.upsell)!=null&&F.active){S(!0);return}}if(!t){S(!1);return}const{data:B,error:I}=await V.from("orders").select("checkout_id").eq("id",t).single();if(B!=null&&B.checkout_id){const z=await ce.getPublicCheckout(B.checkout_id);if((ue=(X=z==null?void 0:z.config)==null?void 0:X.upsell)!=null&&ue.active){S(!0);return}}else if(L<$){L++,setTimeout(M,1e3);return}S(!1)}catch(B){console.error("Error checking upsell:",B),S(!1)}};setTimeout(M,500)},[t,r.state]),b.useEffect(()=>{if(!t)return;const $=setInterval(async()=>{try{const M=await fetch(zI(`/api/check-status?orderId=${t}&t=${Date.now()}`));let H=!1;const q=M.headers.get("content-type");if(M.ok&&q&&q.includes("application/json"))(await M.json()).status===wt.PAID&&(H=!0);else{const{data:F}=await V.from("orders").select("status").eq("id",t).single();F&&F.status===wt.PAID&&(H=!0)}H&&k!==null&&(console.log("[PixPayment] Payment confirmed. Upsell Active:",k),k?window.location.href=`/upsell/${t}`:e(`/thank-you/${t}`))}catch(M){console.error("Erro ao verificar status:",M)}},3e3);return()=>clearInterval($)},[t,e,k]),b.useEffect(()=>{const L=setInterval(()=>{s($=>$.seconds===0?$.minutes===0?$:{minutes:$.minutes-1,seconds:59}:{...$,seconds:$.seconds-1})},1e3);return()=>clearInterval(L)},[]);const A=()=>{navigator.clipboard.writeText(p),l(!0),setTimeout(()=>l(!1),2e3)};return d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"min-h-screen bg-[#F3F4F6] font-sans text-gray-800 pb-12",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 py-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xl",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-white",children:a.jsx(en,{className:"w-5 h-5"})}),a.jsx("span",{children:"Pagamento Seguro"})]}),a.jsxs("div",{className:"text-xs text-gray-500 hidden sm:block",children:["ID do Pedido: ",a.jsx("span",{className:"font-mono font-medium text-gray-900",children:t})]})]})}),a.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-green-100 overflow-hidden",children:[a.jsxs("div",{className:"bg-green-50 p-4 border-b border-green-100 flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center animate-pulse",children:a.jsx(Lm,{className:"w-5 h-5 text-[#10B981]"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Pix gerado com sucesso!"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Realize o pagamento para liberar seu acesso imediatamente."})]})]}),a.jsxs("div",{className:"p-6 flex flex-col items-center justify-center text-center",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Escaneie o QR Code abaixo no app do seu banco:"}),a.jsx("div",{className:"bg-white p-2 border-2 border-gray-100 rounded-xl mb-6 shadow-sm",children:a.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${p}`,alt:"QR Code Pix",className:"w-52 h-52 object-contain"})}),a.jsxs("div",{className:"w-full max-w-md space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 px-1",children:[a.jsx("span",{children:"Pix Copia e Cola"}),a.jsxs("span",{className:"flex items-center gap-1 text-orange-500 font-medium",children:[a.jsx(qn,{className:"w-3 h-3"}),"Expira em ",n.minutes,":",n.seconds.toString().padStart(2,"0")]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",readOnly:!0,value:p,className:"w-full bg-gray-50 border border-gray-200 text-gray-500 text-xs rounded-lg pl-4 pr-24 py-3 focus:outline-none focus:ring-2 focus:ring-primary/20 font-mono truncate"}),a.jsxs("button",{onClick:A,className:`absolute right-1 top-1 bottom-1 px-4 rounded-md text-xs font-bold transition-all flex items-center gap-2 ${i?"bg-green-500 text-white":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 shadow-sm"}`,children:[i?a.jsx(pt,{className:"w-3 h-3"}):a.jsx(Pt,{className:"w-3 h-3"}),i?"Copiado!":"Copiar"]})]}),a.jsxs("p",{className:"text-[10px] text-gray-400 mt-4",children:["Aps o pagamento, a aprovao ocorre em instantes e voc receber os dados de acesso no e-mail ",a.jsx("span",{className:"text-gray-600 font-medium",children:(C=f==null?void 0:f.customer)==null?void 0:C.email}),"."]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 border-t border-gray-100 flex items-center justify-center gap-3",children:[a.jsx(lt,{className:"w-4 h-4 animate-spin text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Aguardando confirmao do banco..."})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ir,{className:"w-5 h-5 text-blue-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Como pagar?"}),a.jsxs("ol",{className:"text-xs text-gray-500 list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Abra o aplicativo do seu banco."}),a.jsxs("li",{children:["Escolha a opo ",a.jsx("strong",{children:"Pix"}),"."]}),a.jsxs("li",{children:["Selecione ",a.jsx("strong",{children:"Ler QR Code"})," ou ",a.jsx("strong",{children:"Pix Copia e Cola"}),"."]}),a.jsx("li",{children:"Confira os dados e confirme o pagamento."})]})]})]})})]})," ",a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4 pb-4 border-b border-gray-100",children:"Resumo da Compra"}),a.jsx("div",{className:"space-y-3",children:(O=f==null?void 0:f.items)==null?void 0:O.map((L,$)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 w-2/3",children:L.name}),a.jsxs("span",{className:"font-medium text-gray-900",children:["R$ ",L.price.toFixed(2)]})]},$))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Total a pagar"}),a.jsxs("span",{className:"text-2xl font-bold text-[#10B981]",children:["R$ ",(R=f==null?void 0:f.totalAmount)==null?void 0:R.toFixed(2)]})]})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Vendido e entregue por"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-70",children:[a.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-[10px] font-bold text-gray-500",children:v.substring(0,2).toUpperCase()}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:v})]})]})]})]})}),a.jsx($r,{isOpen:N.isOpen,onClose:E,title:N.title,message:N.message,variant:N.variant})]})};var JA={};class QA{constructor(e,r){this.accessToken=e,typeof r=="boolean"||r!=null&&r.isProduction;const n=typeof r=="object"?r.baseUrl:void 0;this.baseUrl=n||"/mp-api"}async createCardToken(e,r){try{const n=r||JA.MERCADO_PAGO_PUBLIC_KEY;if(!n)throw new Error("Public Key not provided for tokenization");const s=await fetch(`${this.baseUrl}/v1/card_tokens?public_key=${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const l=await s.json();throw new Error(`Card Token Error: ${JSON.stringify(l)}`)}return(await s.json()).id}catch(n){throw console.error("[MercadoPagoAdapter] Tokenization error:",n),new Error(`Failed to tokenize card: ${n.message}`)}}async createPayment(e){try{const n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{const d=Math.random()*16|0;return(l==="x"?d:d&3|8).toString(16)});console.log("[MercadoPagoAdapter] Starting fetch to",`${this.baseUrl}/v1/payments`);const s=new AbortController,i=setTimeout(()=>s.abort(),15e3);try{const l=await fetch(`${this.baseUrl}/v1/payments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.accessToken}`,"X-Idempotency-Key":n},body:JSON.stringify(e),signal:s.signal});clearTimeout(i),console.log("[MercadoPagoAdapter] Response Status:",l.status);const d=await l.text();if(console.log("[MercadoPagoAdapter] Response Body:",d),!l.ok)throw new Error(`Mercado Pago API Error: ${l.status} - ${d}`);return JSON.parse(d)}catch(l){throw clearTimeout(i),l.name==="AbortError"?new Error("Payment request timed out"):l}}catch(r){throw console.error("[MercadoPagoAdapter] Create payment error:",r),new Error(`Failed to process payment: ${r.message}`)}}async validateWebhookSignature(e,r,n,s){var i;if(!r||!n)return!1;try{const l=r.split(","),d=l.find(C=>C.startsWith("ts=")),u=l.find(C=>C.startsWith("v1="));if(!d||!u)return!1;const f=d.split("=")[1],m=u.split("=")[1],p=`id:${((i=e.data)==null?void 0:i.id)||e.id};request-id:${n};ts:${f};`,x=s||JA.MERCADO_PAGO_WEBHOOK_SECRET||"";if(!x)return console.warn("[MercadoPagoAdapter] Webhook secret not found"),!1;const v=new TextEncoder,y=v.encode(x),N=v.encode(p),E=await(async()=>{if(typeof crypto<"u"&&crypto.subtle)return crypto;if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto;try{return(await Dr(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).webcrypto}catch(C){console.error("Web Crypto API not available:",C);return}})();if(!E||!E.subtle)return console.warn("[MercadoPagoAdapter] Crypto.subtle not available for signature validation"),!0;const k=await E.subtle.importKey("raw",y,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),S=await E.subtle.sign("HMAC",k,N),A=Array.from(new Uint8Array(S)).map(C=>C.toString(16).padStart(2,"0")).join("");return m===A}catch(l){return console.error("[MercadoPagoAdapter] Signature validation error:",l),!1}}translateStatus(e){return{approved:wt.PAID,pending:wt.PENDING,in_process:wt.PENDING,rejected:wt.FAILED,cancelled:wt.CANCELED,refunded:wt.REFUNDED,charged_back:wt.REFUNDED}[e]||wt.PENDING}async getPaymentInfo(e){const r=await fetch(`${this.baseUrl}/v1/payments/${e}`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!r.ok)throw new Error("Failed to fetch payment info");return await r.json()}}const ZA=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)});class Tle{async processPayment(e){try{console.log("[PaymentService] processPayment started");const r=await ce.getPublicGateway(e.gatewayId);if(console.log("[PaymentService] Gateway fetched:",r?"Found":"Not Found"),!r||!r.active)return{success:!1,message:"Payment Gateway unavailable"};console.log("[PaymentService] Creating local order...");const n={id:ZA(),checkout_id:e.checkoutId,offer_id:e.offerId==="direct"||e.offerId==="upsell"?void 0:e.offerId,amount:e.amount,customer_email:e.customerEmail,customer_name:e.customerName,customer_phone:e.customerPhone,customer_cpf:e.customerCpf,status:wt.PENDING,payment_method:e.paymentMethod,items:e.items,created_at:new Date().toISOString(),customer_user_id:e.customerUserId};await ce.createOrder(n);let s;switch(r.name){case Pn.MERCADO_PAGO:s=await this.processMercadoPago(r,n,e);break;case Pn.STRIPE:s={success:!1,message:"Stripe not implemented yet"};break;default:s={success:!1,message:"Unknown gateway provider"}}if(s.success)return!s.pixData&&!s.boletoData&&(Un.sendPaymentApproved(n).catch(console.error),this.grantAccess(n).catch(console.error)),{success:!0,orderId:n.id,...s};try{await this.updateOrderStatus(n.id,wt.FAILED)}catch(i){console.warn("[PaymentService] Failed to update order status (likely RLS for anon user):",i)}return{success:!1,message:s.message}}catch(r){return console.error("[PaymentService] Error processing payment:",r),{success:!1,message:r.message||"Payment processing failed"}}}async processMercadoPago(e,r,n){var l,d,u;if(!e.private_key||!e.public_key)return{success:!1,message:"Mercado Pago credentials missing in settings"};const s="/api/proxy?endpoint=";console.log("[PaymentService] Initializing Adapter with Base URL:",s);const i=new QA(e.private_key,{isProduction:!1,baseUrl:s});try{const f=zI("");let m="",p;if(n.paymentMethod==="credit_card"){if(!n.cardData)throw new Error("Card data is required for credit card payment");p=await i.createCardToken({card_number:n.cardData.number.replace(/\s/g,""),expiration_month:n.cardData.expiryMonth,expiration_year:"20"+n.cardData.expiryYear,security_code:n.cardData.cvc,cardholder:{name:n.cardData.holderName}},e.public_key),m=this.detectCardBrand(n.cardData.number)||"master"}else n.paymentMethod==="pix"?m="pix":n.paymentMethod==="boleto"&&(m="bolbradesco");if(!r.amount||r.amount<=0)throw new Error("Invalid payment amount. Amount must be greater than zero.");const x=await i.createPayment({transaction_amount:Number(r.amount),token:p,description:`Pedido #${r.id}`,installments:1,payment_method_id:m,external_reference:r.customer_user_id,payer:{email:r.customer_email,first_name:r.customer_name.split(" ")[0],last_name:r.customer_name.split(" ").slice(1).join(" "),identification:{type:"CPF",number:((l=r.customer_cpf)==null?void 0:l.replace(/\D/g,""))||""}},notification_url:window.location.hostname.includes("localhost")||window.location.hostname.includes("127.0.0.1")?void 0:`${window.location.origin}/api/webhooks/mercadopago`}),v={id:ZA(),order_id:r.id,gateway_id:e.id,status:i.translateStatus(x.status),transaction_id:x.id.toString(),raw_response:JSON.stringify(x),created_at:new Date().toISOString()};console.log("[PaymentService] Saving payment to DB...");try{await this.savePayment(v),console.log("[PaymentService] Payment saved successfully")}catch(y){console.error("[PaymentService] Payment save failed:",y)}if(console.log("[PaymentService] Proceeding to handle response immediately..."),x.status==="approved"||x.status==="in_process"||x.status==="pending"){if(n.paymentMethod==="pix"&&((d=x.point_of_interaction)!=null&&d.transaction_data))return{success:!0,pixData:{qr_code:x.point_of_interaction.transaction_data.qr_code||"",qr_code_base64:x.point_of_interaction.transaction_data.qr_code_base64||""}};if(n.paymentMethod==="boleto"&&((u=x.point_of_interaction)!=null&&u.transaction_data)){const y={barcode:x.point_of_interaction.transaction_data.qr_code||"",url:x.point_of_interaction.transaction_data.ticket_url||""};return Un.sendBoletoGenerated(r,y.url,y.barcode).catch(console.error),{success:!0,boletoData:y}}return{success:!0}}else return{success:!1,message:x.status_detail||"Payment rejected"}}catch(f){return console.error("[PaymentService] Mercado Pago error:",f),{success:!1,message:f.message||"Failed to process with Mercado Pago"}}}detectCardBrand(e){const r=e.replace(/\D/g,"");return/^4/.test(r)?"visa":/^5[1-5]/.test(r)?"master":/^3[47]/.test(r)?"amex":/^6/.test(r)?"elo":"master"}async handleMercadoPagoWebhook(e,r,n){var s;try{const l=(await ce.getGateways()).find(y=>y.name===Pn.MERCADO_PAGO&&y.active);if(!l||!l.webhook_secret||!l.private_key)return console.warn("[PaymentService] No active Mercado Pago gateway found for webhook or missing credentials"),{received:!0,processed:!1,message:"Gateway configuration missing"};const d=new QA(l.private_key,!1);if(!await d.validateWebhookSignature(e,r,n,l.webhook_secret))return console.warn("[PaymentService] Invalid webhook signature"),{received:!0,processed:!1,message:"Invalid signature"};const f=((s=e.data)==null?void 0:s.id)||e.id,m=e.action||e.type;if(!f)return{received:!0,processed:!1,message:"Missing payment ID"};const p=await d.getPaymentInfo(f),x=await ce.getPaymentByTransactionId(f.toString());if(!x)return console.warn("[PaymentService] Payment not found for webhook"),{received:!0,processed:!1,message:"Payment not found"};const v=d.translateStatus(p.status);if(await this.updateOrderStatus(x.order_id,v),await this.updatePaymentStatus(x.id,v,f),v===wt.PAID){const N=(await ce.getOrders()).find(w=>w.id===x.order_id);N&&(Un.sendPaymentApproved(N).catch(console.error),this.grantAccess(N).catch(console.error))}return await this.logWebhook({gateway_id:x.gateway_id,event:m||"payment.updated",payload:JSON.stringify(e),processed:!0}),console.log(`[PaymentService] Webhook processed: ${x.order_id} -> ${v}`),{received:!0,processed:!0}}catch(i){return console.error("[PaymentService] Webhook processing error:",i),await this.logWebhook({event:"webhook.error",payload:JSON.stringify({error:i.message,originalPayload:e}),processed:!1}),{received:!0,processed:!1,message:i.message}}}async grantAccess(e){if(!e.customer_user_id){console.warn("[PaymentService] No customer user ID found for order. Cannot grant access automatically.");return}console.log("[PaymentService] Granting access for order:",e.id);const r=[];if(e.items&&e.items.length>0)for(const s of e.items)s.product_id?r.push(s.product_id):console.warn("[PaymentService] Item missing product_id:",s.name);else{const s=await ce.getPublicCheckout(e.checkout_id);s&&r.push(s.product_id)}const n=Array.from(new Set(r));console.log("[PaymentService] Products to grant:",n);for(const s of n){console.log(`[PaymentService] Processing grants for Product ID: ${s}`),ce.getPublicProduct(s).then(l=>{(l==null?void 0:l.saas_plan_slug)==="unlimited"?Un.sendUpgradeUnlimited(e.customer_email,e.customer_name).catch(console.error):(l==null?void 0:l.saas_plan_slug)==="partner"&&Un.sendUpgradePartner(e.customer_email,e.customer_name).catch(console.error)}).catch(l=>console.error("[PaymentService] Error checking product for system email:",l));try{await ce.createAccessGrant({user_id:e.customer_user_id,content_id:null,product_id:s,status:"active"})}catch(l){console.error(`[PaymentService] Failed to create product-level grant for ${s}`,l)}const i=await ce.getContentsByProduct(s);if(i.length===0)console.warn(`[PaymentService] Product ${s} has no linked contents. Only product-level access granted.`);else{console.log(`[PaymentService] Granting access to ${i.length} contents for product ${s}`);for(const l of i)try{await ce.createAccessGrant({user_id:e.customer_user_id,content_id:l.id,product_id:s,status:"active"})}catch(d){console.error(`[PaymentService] Failed to grant content access ${l.id}`,d)}}}}async savePayment(e){await ce.createPayment(e)}async updateOrderStatus(e,r){const s=(await ce.getOrders()).find(i=>i.id===e);s&&await ce.saveOrders([{...s,status:r}])}async updatePaymentStatus(e,r,n){const i=(await ce.getPayments()).map(l=>l.id===e?{...l,status:r,...n&&{transaction_id:n}}:l);await ce.savePayments(i)}async logWebhook(e){const r={id:`wh_${Date.now()}`,gateway_id:e.gateway_id,direction:"incoming",event:e.event,payload:e.payload,raw_data:e.payload,processed:e.processed,created_at:new Date().toISOString()},n=await ce.getWebhookLogs();await ce.saveWebhookLogs([r,...n])}}const FI=new Tle,qI=Object.freeze(Object.defineProperty({__proto__:null,paymentService:FI},Symbol.toStringTag,{value:"Module"})),eC=()=>{var L;const{orderId:t}=Ia(),e=gt(),[r,n]=b.useState(!0),[s,i]=b.useState(!1),[l,d]=b.useState(null),[u,f]=b.useState(null),[m,p]=b.useState(null),[x,v]=b.useState(""),[y,N]=b.useState(""),[w,E]=b.useState(!1),[k,S]=b.useState({number:"",holderName:"",expiryMonth:"",expiryYear:"",cvc:""});b.useEffect(()=>{(async()=>{var M;try{if(!t)return;const{data:H,error:q}=await V.from("orders").select("*").eq("id",t).single();if(q||!H){console.error("Order fetch error:",q),v("Pedido original no encontrado."),n(!1);return}const F={...H,amount:H.total||H.amount};d(F);const X=await ce.getPublicCheckout(H.checkout_id);if(!X||!((M=X.config.upsell)!=null&&M.active)){e(`/thank-you/${t}`);return}f(X);const ue=await ce.getPublicProduct(X.config.upsell.product_id);if(!ue){e(`/thank-you/${t}`);return}p(ue)}catch(H){console.error(H),v("Erro ao carregar oferta.")}finally{n(!1)}})()},[t,e]);const A=async()=>{if(!(!l||!m||!u)){i(!0);try{l.payment_method==="pix"?await C("pix"):(E(!0),i(!1))}catch($){console.error($),alert("Erro ao processar. Tente novamente."),i(!1)}}},C=async($,M)=>{if(!(!l||!m||!u)){i(!0);try{const H=await FI.processPayment({checkoutId:u.id,offerId:"upsell",amount:m.price_real||0,customerName:l.customer_name,customerEmail:l.customer_email,customerPhone:l.customer_phone,customerCpf:l.customer_cpf,gatewayId:u.gateway_id,paymentMethod:$,items:[{name:m.name,price:m.price_real||0,quantity:1,type:"upsell",product_id:m.id}],customerUserId:l.customer_user_id,cardData:M});H.success?H.pixData?(N(H.pixData.qr_code),i(!1)):e(`/thank-you/${H.orderId}?upsell=true`):(alert("Pagamento recusado: "+H.message),i(!1))}catch(H){console.error(H),alert("Erro ao processar pagamento."),i(!1)}}},O=()=>{e(`/thank-you/${t}`)};if(r)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:"Carregando oferta..."});if(x)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:x});const R=u==null?void 0:u.config.upsell;return y?a.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[#111] p-8 rounded-2xl border border-white/10 max-w-md w-full text-center space-y-6",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto",children:a.jsx(ut,{className:"w-8 h-8 text-green-500"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Oferta Reservada!"}),a.jsx("p",{className:"text-gray-400",children:"Escaneie o QR Code abaixo para concluir o pagamento do item adicional."})]}),a.jsx("div",{className:"bg-white p-4 rounded-xl mx-auto w-64 h-64 flex items-center justify-center",children:a.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(y)}`,className:"w-full h-full"})}),a.jsx("textarea",{readOnly:!0,value:y,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-xs text-gray-500 h-24 resize-none"}),a.jsx(je,{onClick:()=>e(`/thank-you/${t}`),className:"w-full",children:"J realizei o pagamento"})]})}):a.jsx("div",{className:"min-h-screen bg-[#05050A] text-white",children:a.jsxs("div",{className:"max-w-[800px] mx-auto px-4 py-8 md:py-12 flex flex-col items-center gap-8",children:[a.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-green-500 h-full w-[80%]"})}),R.show_title&&a.jsx("h1",{className:"text-2xl md:text-4xl font-extrabold text-center leading-tight",children:a.jsx("span",{className:"text-primary",children:R.title||"Oferta Especial"})}),R.show_subtitle&&a.jsx("p",{className:"text-lg md:text-xl text-gray-300 text-center max-w-2xl",children:R.subtitle||"No feche essa pgina! Tenho algo exclusivo para voc."}),R.show_media&&R.media_url&&a.jsx("div",{className:"w-full aspect-video bg-black rounded-2xl border border-white/10 overflow-hidden shadow-2xl relative group",children:R.media_type==="video"?a.jsx("iframe",{src:R.media_url.replace("watch?v=","embed/"),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):a.jsx("img",{src:R.media_url,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"w-full bg-[#111] border-2 border-primary/30 p-6 md:p-8 rounded-2xl flex flex-col items-center gap-6 shadow-[0_0_40px_rgba(138,43,226,0.1)]",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-400 uppercase tracking-widest mb-2 font-bold",children:"Resumo do Pedido"}),a.jsx("h3",{className:"text-xl font-bold",children:m==null?void 0:m.name}),a.jsxs("p",{className:"text-2xl font-black text-green-400 mt-2",children:["R$ ",(L=m==null?void 0:m.price_real)==null?void 0:L.toFixed(2)]})]}),w?a.jsxs("div",{className:"w-full max-w-sm space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[a.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[a.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[a.jsx(ao,{className:"w-4 h-4 text-primary"})," Dados do Carto"]}),a.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded mb-3 p-3 text-sm",placeholder:"Nmero do Carto",value:k.number,onChange:$=>S({...k,number:$.target.value})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"MM",value:k.expiryMonth,onChange:$=>S({...k,expiryMonth:$.target.value})}),a.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"AA",value:k.expiryYear,onChange:$=>S({...k,expiryYear:$.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"CVC",value:k.cvc,onChange:$=>S({...k,cvc:$.target.value})}),a.jsx("input",{className:"w-full bg-black/30 border border-white/10 rounded p-3 text-sm",placeholder:"Nome no Carto",value:k.holderName,onChange:$=>S({...k,holderName:$.target.value})})]})]}),a.jsx(je,{onClick:()=>C("credit_card",k),className:"w-full bg-green-500 hover:bg-green-400 text-black font-bold h-12",disabled:s,children:s?"Finalizando...":"Confirmar Pagamento"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:A,disabled:s,className:"w-full md:w-auto px-8 py-4 bg-green-500 hover:bg-green-400 text-black font-black text-lg md:text-xl rounded-full shadow-lg hover:scale-105 transition-all flex items-center justify-center gap-2 animate-pulse",children:s?"Processando...":R.button_text||"SIM, QUERO ADICIONAR AO MEU PEDIDO"}),a.jsx("button",{onClick:O,className:"text-sm text-gray-500 hover:text-white underline decoration-gray-700 underline-offset-4 transition-colors",children:"No, obrigado. Vou perder essa oportunidade."})]})]}),R.show_description&&R.description&&a.jsx("div",{className:"max-w-2xl text-center text-gray-400 text-sm md:text-base leading-relaxed",children:R.description}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mt-8",children:[a.jsx(_r,{className:"w-3 h-3"})," Ambiente Seguro e Criptografado"]})]})})},Ole=({order:t})=>{const{trackPurchase:e,isInitialized:r}=BI();return b.useEffect(()=>{r&&t&&t.status==="paid"&&e({id:t.id,amount:t.total||t.amount||0,currency:"BRL"})},[t,r]),null},tC=()=>{var f,m,p;const{orderId:t}=Ia(),e=gt(),[r,n]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState(!0);if(b.useEffect(()=>{(async()=>{if(t)try{const{data:v,error:y}=await V.from("orders").select("*").eq("id",t).single();if(y)throw y;if(n(v),v!=null&&v.checkout_id){const{data:N,error:w}=await V.from("checkouts").select("thank_you_button_url, thank_you_button_text, config").eq("id",v.checkout_id).single();!w&&N&&i(N)}}catch(v){console.error("Error fetching order:",v)}finally{d(!1)}})()},[t]),l)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),a.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})]})});const u=(s==null?void 0:s.config)||{};return a.jsx("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:a.jsxs($I,{config:u,children:[r&&a.jsx(Ole,{order:r}),a.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-12 sm:py-20",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden text-center p-8 sm:p-12",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-in zoom-in duration-300",children:a.jsx(ut,{className:"w-10 h-10 text-green-600"})}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Pagamento Confirmado!"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-lg mx-auto",children:"Sua compra foi realizada com sucesso. Voc receber os detalhes do acesso no seu e-mail em instantes."}),a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-6 mb-8 text-left max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:a.jsx(ga,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:["Pedido #",t==null?void 0:t.slice(0,8)]}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[(f=r==null?void 0:r.items)==null?void 0:f.map((x,v)=>{var y;return a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:x.name}),a.jsxs("span",{className:"font-medium",children:["R$ ",(y=x.price)==null?void 0:y.toFixed(2)]})]},v)}),a.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-200 flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-gray-900",children:"Total Pago"}),a.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["R$ ",((m=r==null?void 0:r.total)==null?void 0:m.toFixed(2))||((p=r==null?void 0:r.amount)==null?void 0:p.toFixed(2))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 bg-blue-50/50 flex items-start gap-3 text-left",children:[a.jsx(At,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"Verifique seu E-mail"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enviamos o link de acesso e a nota fiscal para ",r==null?void 0:r.customer_email,"."]})]})]}),a.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 bg-purple-50/50 flex items-start gap-3 text-left",children:[a.jsx(gr,{className:"w-5 h-5 text-purple-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"Acompanhe o Pedido"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Voc pode ver o status da sua compra a qualquer momento."})]})]})]}),a.jsx("div",{className:"mt-10 flex justify-center",children:s!=null&&s.thank_you_button_url?a.jsxs(je,{onClick:()=>{const x=s.thank_you_button_url;x.startsWith("http")?window.open(x,"_blank"):e(x)},className:"w-full sm:w-auto min-w-[200px]",children:[(s==null?void 0:s.thank_you_button_text)||"Acessar",a.jsx(Vt,{className:"w-4 h-4 ml-2"})]}):a.jsx("p",{className:"text-gray-400 text-sm",children:"Obrigado pela sua compra."})})]}),a.jsxs("p",{className:"text-center text-gray-400 text-sm mt-8",children:["Super Checkout  ",new Date().getFullYear()]})]})]})})},Rle=()=>{const t=gt(),[e,r]=b.useState(!1),[n,s]=b.useState("login"),[i,l]=b.useState(null),[d,u]=b.useState(null),[f,m]=b.useState(!1),[p,x]=b.useState("connection"),[v,y]=b.useState(""),[N,w]=b.useState(""),{installationId:E,loading:k,setInstallationId:S}=Ky(),A=F=>{if(F.preventDefault(),!v||!N)return;localStorage.setItem("installer_supabase_url",v),localStorage.setItem("installer_supabase_anon_key",N);const X=v.replace(/\/$/,"");localStorage.setItem("installer_supabase_url",X),window.location.reload()};b.useEffect(()=>{if(k)return;(async()=>{if(console.log("[Login] Verifying setup status...",{installationId:E}),!E){console.warn("[Login] No installation ID available yet. Waiting for Guard or Setup.");return}const{data:X,error:ue}=await V.rpc("is_setup_required",{target_installation_id:E});if(console.log("[Login] Setup check result:",{data:X,error:ue}),ue){if(console.error("[Login] Error checking setup:",ue),localStorage.getItem("installer_supabase_url"))ue.message&&(ue.message.includes("function")||ue.message.includes("fail")||ue.message.includes("exist"))?(console.warn(" Keys present but SQL function missing."),x("sql_missing")):(console.warn(" Connection failed (Network/Auth)."),x("connection"));else{console.warn(" No keys found. Redirecting to Installer."),t("/installer");return}m(!0);return}X===!0?(console.log("[Login] Setup required. Redirecting..."),t("/setup")):console.log("[Login] Setup not required.")})()},[k,E]);const[C,O]=b.useState(""),[R,L]=b.useState(""),[$,M]=b.useState(""),H=async F=>{F.preventDefault(),r(!0),l(null),u(null);try{if(n==="login"){const{data:{user:X},error:ue}=await V.auth.signInWithPassword({email:R,password:$});if(ue)throw ue;if(X){Xa.updateLastSeen(X.id).catch(console.error),Xa.logActivity(X.id,"login",{method:"password"}).catch(console.error);const{data:B}=await V.from("profiles").select("*").eq("id",X.id).single();if(B){if((B.installation_id!==E||!E)&&console.log(" Mismatch Debug:",{profileId:B.installation_id,contextId:E,role:B.role,isAdmin:B.role==="admin",isOwner:B.role==="owner"}),B.installation_id&&(B.installation_id!==E||!E)){if(B.role==="admin"||B.role==="owner"){console.warn(" Admin Installation Mismatch/Missing Detected. Auto-healing..."),console.log(`Setting Installation ID to [${B.installation_id}]`),localStorage.setItem("installation_id",B.installation_id),window.location.reload();return}throw console.error(" Access Denied: User belongs to another installation.",{userInst:B.installation_id,currentInst:E}),await V.auth.signOut(),new Error("Este usurio no pertence a esta instalao.")}}else throw console.error(" Access Denied: Profile not found."),await V.auth.signOut(),new Error("Perfil de usurio no encontrado.");B==null||B.role,t("/admin")}}else if(n==="recovery"){if(!E){l("Instalao no identificada. Acesse pelo link correto.");return}const{error:X}=await V.functions.invoke("request-password-reset",{body:{email:R,installation_id:E,redirect_url:window.location.origin+"/update-password"}});if(X)throw X;u("Se o e-mail existir nesta instalao, voc receber um link de recuperao.")}}catch(X){console.error(X),l(q(X.message))}finally{r(!1)}},q=F=>{if(!F)return"Ocorreu um erro. Tente novamente.";const X=F.toLowerCase();return X.includes("invalid login credentials")?"E-mail ou senha invlidos.":X.includes("email not confirmed")?"E-mail no confirmado. Verifique sua caixa de entrada.":X.includes("user not found")?"Usurio no encontrado.":X.includes("too many requests")?"Muitas tentativas. Aguarde um pouco.":"Erro ao acessar: "+F};return a.jsxs("div",{className:"min-h-screen flex bg-[#05050A] text-white font-sans relative",children:[f&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in",children:a.jsxs("div",{className:"bg-[#0A0A12] border border-red-500/30 w-full max-w-md p-8 rounded-2xl shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 to-orange-500"}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-500 shrink-0",children:a.jsx(Ir,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:p==="sql_missing"?"Banco de Dados Incompleto":"Falha na Conexo"}),a.jsx("p",{className:"text-sm text-gray-400",children:p==="sql_missing"?"A instalao no criou as tabelas necessrias.":"No foi possvel conectar ao banco de dados."})]})]}),a.jsxs("p",{className:"text-gray-300 text-sm mb-6 leading-relaxed",children:[p==="keys_missing"&&"O aplicativo no encontrou as chaves de conexo. Isso pode acontecer se o deploy na Vercel no recebeu as variveis de ambiente.",p==="connection"&&"Verifique se suas chaves do Supabase esto corretas e se o projeto est ativo.",p==="sql_missing"&&a.jsxs(a.Fragment,{children:["Parece que voc ",a.jsx("b",{children:"pulou a etapa de Migrao"})," no instalador, ou ela falhou.",a.jsx("br",{}),a.jsx("br",{}),"O sistema conectou, mas no encontrou as funes do banco. Execute o SQL de instalao ou reinstale o sistema."]})]}),p!=="sql_missing"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-4 uppercase font-bold",children:"Soluo Manual (Reconectar)"}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Project URL (https://...)",value:v,onChange:F=>y(F.target.value),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:border-red-500/50 outline-none"})}),a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Anon Public Key",value:N,onChange:F=>w(F.target.value),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:border-red-500/50 outline-none"})}),a.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 mt-2",children:"Salvar e Reconectar"})]})]}),p==="sql_missing"&&a.jsx("button",{onClick:()=>t("/installer"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 mt-2",children:"Voltar para o Instalador"})]})}),a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-[#0A0A12] items-center justify-center p-12",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[70%] h-[70%] bg-primary/20 rounded-full blur-[120px] animate-pulse-slow"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] bg-purple-900/20 rounded-full blur-[100px] animate-pulse-slow delay-1000"})]}),a.jsx("div",{className:"relative z-10 max-w-2xl px-8 text-center lg:text-left",children:a.jsxs("h1",{className:"text-[6rem] leading-[0.85] font-black italic tracking-tighter uppercase relative select-none",children:[a.jsx("span",{className:"block text-white transform -skew-x-6 drop-shadow-2xl",children:"Super"}),a.jsx("span",{className:"block text-white transform -skew-x-6 drop-shadow-2xl pl-2",children:"Checkout"}),a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-[#8257E5] to-purple-400 transform -skew-x-6 drop-shadow-2xl pl-1",children:".App"})]})})]}),a.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-full h-full overflow-hidden z-0 lg:hidden pointer-events-none",children:a.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[80%] h-[50%] bg-primary/10 rounded-full blur-[80px]"})}),a.jsxs("div",{className:"w-full max-w-md relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"/logo.png",alt:"Super Checkout",className:"h-12 mx-auto mb-6"}),a.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Acesse sua Infra"}),a.jsxs("p",{className:"text-gray-400",children:[n==="login"&&"Gerencie sua operao com liberdade total.",n==="recovery"&&"Digite seu e-mail para receber o link de redefinio."]})]}),i&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-xl mb-6 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[a.jsx(Ir,{className:"w-5 h-5 shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:i})]}),d&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 p-4 rounded-xl mb-6 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[a.jsx(ut,{className:"w-5 h-5 shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:d})]}),a.jsxs("form",{onSubmit:H,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"E-mail"}),a.jsxs("div",{className:"relative group",children:[a.jsx(At,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"email",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"seu@email.com",value:R,onChange:F=>L(F.target.value)})]})]}),n!=="recovery"&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center ml-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Senha"}),n==="login"&&a.jsx("button",{type:"button",onClick:()=>{s("recovery"),l(null),u(null)},className:"text-xs text-primary hover:text-primary-light transition-colors",children:"Esqueceu a senha?"})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"",value:$,onChange:F=>M(F.target.value)})]})]}),a.jsx("button",{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary-hover hover:to-purple-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-primary/25 hover:shadow-primary/40 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-4 group",children:e?a.jsx(lt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[n==="login"&&"Entrar na Conta",n==="recovery"&&"Enviar Link de Recuperao",a.jsx(Vt,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),a.jsxs("div",{className:"mt-8 text-center py-2",children:[n==="recovery"&&a.jsx("button",{onClick:()=>{s("login"),l(null),u(null)},className:"text-gray-400 hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto mb-4",children:"Voltar para Login"}),a.jsx("p",{className:"text-[10px] text-gray-700 font-mono",children:"v0.0.11"})]})]})]})]})},Dle=()=>{const t=gt(),[e,r]=b.useState(!1),[n,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(null),[f,m]=b.useState(null);b.useEffect(()=>{V.auth.getSession().then(({data:{session:x}})=>{x||t("/login")})},[t]);const p=async x=>{if(x.preventDefault(),n!==i){u("As senhas no coincidem");return}r(!0),u(null),m(null);try{const{error:v}=await V.auth.updateUser({password:n});if(v)throw v;m("Senha atualizada com sucesso! Redirecionando..."),setTimeout(()=>{t("/admin")},2e3)}catch(v){console.error(v),u(v.message||"Erro ao atualizar senha.")}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#05050A] text-white p-4 font-sans",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(_r,{className:"w-6 h-6 text-primary"})}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Definir Nova Senha"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Digite sua nova senha abaixo para recuperar o acesso  sua conta."})]}),d&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded-lg mb-6 text-sm flex items-center gap-2",children:[a.jsx(Ir,{className:"w-4 h-4"})," ",d]}),f&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 p-3 rounded-lg mb-6 text-sm flex items-center gap-2",children:[a.jsx(ut,{className:"w-4 h-4"})," ",f]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"Nova Senha"}),a.jsxs("div",{className:"relative group",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"",value:n,onChange:x=>s(x.target.value)})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 ml-1",children:"Confirmar Senha"}),a.jsxs("div",{className:"relative group",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3.5 text-white outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50 transition-all placeholder:text-gray-600",placeholder:"",value:i,onChange:x=>l(x.target.value)})]})]}),a.jsx("button",{type:"submit",disabled:e,className:"w-full bg-primary hover:bg-primary-hover text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:e?a.jsx(lt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["Atualizar Senha",a.jsx(Vt,{className:"w-4 h-4"})]})})]})]})})})},rC=({forcedSlug:t})=>{const{slug:e}=Ia(),r=t||e,n=gt(),[s,i]=b.useState(null),[l,d]=b.useState(!0),[u,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(!1),[y,N]=b.useState("");b.useEffect(()=>{r&&w(r)},[r]);const w=async S=>{try{const A=await ce.getMemberAreaBySlug(S);A?i(A):n("/app")}catch(A){console.error("Error loading member area:",A)}finally{d(!1)}},E=async S=>{S.preventDefault(),v(!0),N("");try{const{data:A,error:C}=await V.auth.signInWithPassword({email:u,password:m});if(C)throw C;A.user&&n(`/app/${r}`)}catch(A){console.error("Login error:",A),N("Email ou senha incorretos.")}finally{v(!1)}};if(l)return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white",children:"Carregando..."});if(!s)return null;const k=s.primary_color||"#E50914";return a.jsxs("div",{className:"min-h-screen flex bg-[#141414] text-white",children:[a.jsxs("div",{className:"hidden lg:block w-1/2 relative overflow-hidden",children:[s.login_image_url?a.jsx("img",{src:s.login_image_url,alt:"Login Background",className:"absolute inset-0 w-full h-full object-cover"}):a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 to-black"}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-12",children:[s.logo_url&&a.jsx("img",{src:s.logo_url,alt:s.name,className:"h-24 object-contain mb-8 drop-shadow-2xl"}),a.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:s.name}),a.jsx("p",{className:"text-xl text-gray-200 max-w-md drop-shadow-md",children:"Acesse sua conta para continuar aprendendo."})]})]}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:a.jsxs("div",{className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{className:"text-center lg:hidden mb-8",children:[s.logo_url&&a.jsx("img",{src:s.logo_url,alt:s.name,className:"h-16 object-contain mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold",children:s.name})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Bem-vindo de volta"}),a.jsx("p",{className:"text-gray-400",children:"Entre com suas credenciais para acessar."})]}),y&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-xl text-sm",children:y}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(At,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"email",required:!0,value:u,onChange:S=>f(S.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"seu@email.com",style:{"--tw-ring-color":k}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"password",required:!0,value:m,onChange:S=>p(S.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"",style:{"--tw-ring-color":k}})]})]}),a.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",style:{backgroundColor:k},children:x?a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:["Entrar ",a.jsx(Vt,{className:"w-5 h-5"})]})})]})]})})]})};function Ile(){const t=gt(),{fetchProfile:e}=tr(),{installationId:r,loading:n}=Ky(),[s,i]=b.useState(""),[l,d]=b.useState(""),[u,f]=b.useState(""),[m,p]=b.useState(!1),[x,v]=b.useState(""),[y,N]=b.useState(!1);b.useEffect(()=>{if(n)return;(async()=>{if(!r){console.warn(" No installation ID for Setup.");return}try{const{data:k,error:S}=await V.rpc("is_setup_required",{target_installation_id:r});if(S)throw S;k||t("/login")}catch(k){console.error("Error checking setup status:",k)}})()},[t,r,n]);const w=async E=>{if(E.preventDefault(),!r){v("Erro crtico: ID da instalao no encontrado.");return}p(!0),v("");try{const{data:k,error:S}=await V.rpc("is_setup_required",{target_installation_id:r});if(S)throw S;if(!k){alert("O sistema j possui um administrador para esta instalao. Redirecionando para login..."),t("/login");return}const{data:A,error:C}=await V.auth.signUp({email:l,password:u,options:{data:{full_name:s,role:"admin",installation_id:r}}});if(C)throw C;A.user&&N(!0)}catch(k){console.error(k),k.message&&k.message.includes("already registered")?v("Este e-mail j est cadastrado. Verifique se recebeu o link de confirmao ou execute o script de correo de perfis no banco de dados."):k.message&&k.message.includes("Error sending confirmation email")?v("Erro ao enviar e-mail de confirmao pelo Supabase. Verifique se o limite de emails foi atingido ou configure um SMTP customizado no painel do Supabase (Project Settings > Auth > SMTP)."):v(k.message||"Erro ao criar conta de administrador.")}finally{p(!1)}};return y?a.jsxs("div",{className:"min-h-screen bg-[#05050A] text-white selection:bg-primary/30 font-sans relative overflow-hidden flex items-center justify-center",children:[a.jsx("div",{className:"fixed top-0 left-0 w-[500px] h-[500px] bg-[#3ECF8E]/10 rounded-full blur-[128px] pointer-events-none -translate-x-1/2 -translate-y-1/2 mix-blend-screen"}),a.jsx("div",{className:"fixed bottom-0 right-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[128px] pointer-events-none translate-x-1/2 translate-y-1/2 mix-blend-screen"}),a.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-[#3ECF8E]/10 border border-[#3ECF8E]/20 shadow-2xl backdrop-blur-sm animate-in zoom-in duration-500",children:a.jsx(pt,{className:"w-8 h-8 text-[#3ECF8E]"})}),a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400",children:"Conta Criada com Sucesso!"}),a.jsx("p",{className:"text-gray-400",children:"Sua conta de administrador foi criada."})]}),a.jsx("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-[#3ECF8E]/10 border border-[#3ECF8E]/20 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(At,{className:"w-5 h-5 text-[#3ECF8E] shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Confirme seu e-mail"}),a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Enviamos um link de confirmao para:"}),a.jsx("p",{className:"text-sm font-mono bg-black/40 px-3 py-2 rounded-lg text-[#3ECF8E] break-all",children:l})]})]})}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-[#3ECF8E] font-bold mt-0.5",children:"1."}),a.jsxs("span",{children:["Verifique sua caixa de entrada e tambm a pasta de ",a.jsx("strong",{className:"text-white",children:"spam/lixo eletrnico"})]})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-[#3ECF8E] font-bold mt-0.5",children:"2."}),a.jsx("span",{children:"Clique no link de confirmao no e-mail"})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-[#3ECF8E] font-bold mt-0.5",children:"3."}),a.jsx("span",{children:"Aps confirmar, faa login com suas credenciais"})]})]}),a.jsxs("button",{onClick:()=>t("/login"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#3ECF8E]/20 hover:shadow-[#3ECF8E]/40 hover:-translate-y-1 mt-6",children:["Ir para Login ",a.jsx(ha,{className:"w-4 h-4"})]})]})}),a.jsx("p",{className:"text-center text-gray-600 text-xs mt-8",children:" Super Checkout System"})]})]}):a.jsxs("div",{className:"min-h-screen bg-[#05050A] text-white selection:bg-primary/30 font-sans relative overflow-hidden flex items-center justify-center",children:[a.jsx("div",{className:"fixed top-0 left-0 w-[500px] h-[500px] bg-[#3ECF8E]/10 rounded-full blur-[128px] pointer-events-none -translate-x-1/2 -translate-y-1/2 mix-blend-screen"}),a.jsx("div",{className:"fixed bottom-0 right-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[128px] pointer-events-none translate-x-1/2 translate-y-1/2 mix-blend-screen"}),a.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-white/5 border border-white/10 shadow-2xl backdrop-blur-sm animate-in zoom-in duration-500",children:a.jsx(en,{className:"w-8 h-8 text-[#3ECF8E]"})}),a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400",children:"Bem-vindo(a)"}),a.jsxs("p",{className:"text-gray-400",children:["Vamos criar sua conta de ",a.jsx("strong",{children:"Administrador"})," para acessar o sistema."]})]}),a.jsx("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5 uppercase tracking-wider",children:"Nome Completo"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ra,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),a.jsx("input",{type:"text",value:s,onChange:E=>i(E.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-[#3ECF8E]/50 focus:ring-1 focus:ring-[#3ECF8E]/50 outline-none transition-all",placeholder:"Seu Nome",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5 uppercase tracking-wider",children:"E-mail de Acesso"}),a.jsxs("div",{className:"relative group",children:[a.jsx(At,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),a.jsx("input",{type:"email",value:l,onChange:E=>d(E.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-[#3ECF8E]/50 focus:ring-1 focus:ring-[#3ECF8E]/50 outline-none transition-all",placeholder:"seu@email.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5 uppercase tracking-wider",children:"Senha Segura"}),a.jsxs("div",{className:"relative group",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),a.jsx("input",{type:"password",value:u,onChange:E=>f(E.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-[#3ECF8E]/50 focus:ring-1 focus:ring-[#3ECF8E]/50 outline-none transition-all",placeholder:"",required:!0,minLength:6})]})]}),x&&a.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm flex items-center gap-2 animate-in slide-in-from-top-2",children:[a.jsx(Ir,{className:"w-4 h-4 shrink-0"}),x]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#3ECF8E]/20 hover:shadow-[#3ECF8E]/40 hover:-translate-y-1 mt-4",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Criando Conta..."]}):a.jsxs(a.Fragment,{children:["Criar Conta e Acessar ",a.jsx(ha,{className:"w-4 h-4"})]})})]})}),a.jsx("p",{className:"text-center text-gray-600 text-xs mt-8",children:" Super Checkout System"})]})]})}const Ple=()=>{gt();const[t]=wu(),[e,r]=b.useState(!1),[n,s]=b.useState(null),[i,l]=b.useState(!1),[d,u]=b.useState(null);b.useEffect(()=>{const R=t.get("partner");R&&(console.log("[Register] Partner referral detected:",R),u(R))},[t]);const[f,m]=b.useState(""),[p,x]=b.useState(""),[v,y]=b.useState(""),[N,w]=b.useState(""),[E,k]=b.useState(!1),[S,A]=b.useState("idle");b.useEffect(()=>{if(!p||!p.includes("@")){A("idle");return}const R=setTimeout(async()=>{A("checking");try{const{data:L,error:$}=await tn.rpc("check_email_exists",{email_text:p});if($)throw $;A(L===!0?"exists":"available")}catch(L){console.error("[Register] Email check failed:",L),A("idle")}},800);return()=>clearTimeout(R)},[p]);const C=async R=>{if(R.preventDefault(),S==="exists"){s("Este e-mail j est cadastrado.");return}r(!0),s(null);try{const{data:L,error:$}=await tn.auth.signUp({email:p,password:v,options:{data:{full_name:f,role:"admin",source:"register_page",partner_id:d,whatsapp:N,partner_consent:d?E:!1},emailRedirectTo:window.location.origin+"/activate"}});if($)throw $;L.user&&(Dr(async()=>{const{emailService:M}=await Promise.resolve().then(()=>uI);return{emailService:M}},void 0).then(({emailService:M})=>{M.sendWelcomeFree(p,f).catch(H=>{console.error("[Register] Failed to send welcome email:",H)})}),l(!0))}catch(L){console.error("Registration Error:",L);let $=L.message||"Erro ao criar conta.";($.includes("already registered")||$.includes("already exists"))&&($="Este e-mail j est cadastrado. Faa login para continuar."),s($)}finally{r(!1)}};if(i)return a.jsxs("div",{className:"min-h-screen bg-[#05050A] flex items-center justify-center p-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-40",children:a.jsx(zs,{colorStops:["#3B82F6","#8B5CF6","#3B82F6"],amplitude:1.2,blend:.6,speed:.3})}),a.jsxs("div",{className:"relative z-10 bg-white/5 border border-white/10 rounded-[3rem] p-12 max-w-md w-full text-center backdrop-blur-3xl animate-in fade-in zoom-in duration-700 shadow-2xl",children:[a.jsx("div",{className:"w-24 h-24 bg-green-500/20 border border-green-500/20 rounded-[2rem] flex items-center justify-center mx-auto mb-8 text-green-400",children:a.jsx(ut,{className:"w-12 h-12"})}),a.jsxs("h2",{className:"text-4xl font-display font-black text-white mb-4 italic uppercase tracking-tighter",children:["QUASE ",a.jsx("span",{className:"text-green-400",children:"PRONTO!"})]}),a.jsxs("p",{className:"text-gray-400 mb-10 text-lg font-medium leading-relaxed",children:["Enviamos um link de confirmao para:",a.jsx("br",{}),a.jsx("span",{className:"text-white font-bold",children:p}),a.jsx("br",{}),"Acesse seu e-mail para ativar sua licena gratuita."]}),a.jsxs(Bt,{to:"/activate",className:"flex items-center justify-center gap-3 w-full bg-white text-black font-black uppercase text-sm py-5 rounded-2xl transition-all hover:scale-105 active:scale-95 shadow-xl shadow-white/5 tracking-tighter italic",children:[a.jsx("span",{children:"Ir para Login"}),a.jsx(Vt,{className:"w-4 h-4"})]})]})]});const O=[{icon:gs,text:"Checkout de Alta Converso"},{icon:Yt,text:"Instalao em 1 Domnio"},{icon:UZ,text:"rea de Membros High-level"},{icon:Yn,text:"Painel Administrativo Completo"}];return a.jsxs("div",{className:"min-h-screen bg-[#05050A] flex items-center justify-center p-6 relative overflow-hidden font-sans",children:[a.jsx("div",{className:"absolute inset-0 opacity-40",children:a.jsx(zs,{colorStops:["#8A2BE2","#4B0082","#0000FF"],amplitude:1.5,blend:.5,speed:.2})}),a.jsx("div",{className:"absolute top-[10%] left-[5%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[120px] pointer-events-none animate-pulse"}),a.jsx("div",{className:"absolute bottom-[10%] right-[5%] w-[400px] h-[400px] bg-purple-600/10 rounded-full blur-[100px] pointer-events-none animate-pulse duration-5000"}),a.jsxs("div",{className:"relative z-10 w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"hidden lg:block animate-in fade-in slide-in-from-left-8 duration-1000",children:[a.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/5 border border-white/10 px-4 py-2 rounded-full mb-8 backdrop-blur-xl",children:[a.jsx(j1,{className:"w-4 h-4 text-primary animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black text-gray-300 uppercase tracking-[0.2em] italic",children:"Infraestrutura Profissional de Vendas"})]}),a.jsxs("h1",{className:"text-6xl xl:text-8xl font-display font-black text-white italic uppercase tracking-tighter leading-[0.9] mb-8",children:["COMECE SUA ",a.jsx("br",{}),a.jsx("span",{className:"text-primary",children:"JORNADA"})," ",a.jsx("br",{}),a.jsx("span",{className:"text-white/40",children:"GRATUITAMENTE."})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-md",children:O.map((R,L)=>a.jsxs("div",{className:"flex items-center gap-4 bg-white/5 border border-white/5 p-4 rounded-2xl backdrop-blur-md group hover:bg-white/10 transition-all border-l-2 border-l-primary/30",children:[a.jsx("div",{className:"p-3 rounded-xl bg-primary/10 text-primary group-hover:scale-110 transition-transform",children:a.jsx(R.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-white font-bold text-lg tracking-tight",children:R.text})]},L))}),a.jsxs("div",{className:"mt-12 flex items-center gap-4 animate-bounce",children:[a.jsx("div",{className:"flex -space-x-4",children:[1,2,3,4].map(R=>a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-[#05050A] bg-gray-800 overflow-hidden",children:a.jsx("img",{src:`https://i.pravatar.cc/100?img=${R+20}`,alt:"User"})},R))}),a.jsxs("p",{className:"text-gray-400 font-medium",children:[a.jsx("span",{className:"text-white font-bold",children:"+1.240"})," Empreendedores Online"]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[3.5rem] p-8 md:p-14 shadow-2xl backdrop-blur-3xl relative overflow-hidden animate-in fade-in slide-in-from-right-8 duration-1000",children:[a.jsxs("div",{className:"lg:hidden text-center mb-8",children:[a.jsxs("h1",{className:"text-4xl font-display font-black text-white italic uppercase tracking-tighter mb-2",children:["DOMINE O ",a.jsx("span",{className:"text-primary",children:"CHECKOUT"})]}),a.jsx("p",{className:"text-gray-400 font-medium",children:"Sua licena gratuita est a um passo."})]}),n&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-5 rounded-2xl mb-8 flex items-start gap-4 animate-in fade-in zoom-in duration-300",children:[a.jsx(Ir,{className:"w-5 h-5 shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm font-bold tracking-tight",children:n})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:"Identificao Profissional"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ra,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-all duration-300"}),a.jsx("input",{type:"text",required:!0,className:"w-full bg-white/5 border border-white/5 rounded-2xl pl-16 pr-6 py-5 text-white font-bold outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/40 focus:bg-white/[0.08] transition-all placeholder:text-gray-700 placeholder:font-medium",placeholder:"Como quer ser chamado?",value:f,onChange:R=>m(R.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:"Credencial de Acesso (E-mail)"}),a.jsxs("div",{className:"relative group",children:[a.jsx(At,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-all duration-300"}),a.jsx("input",{type:"email",required:!0,className:`w-full bg-white/5 border rounded-2xl pl-16 pr-12 py-5 text-white font-bold outline-none transition-all placeholder:text-gray-700 placeholder:font-medium
                                        ${S==="exists"?"border-red-500/50 focus:ring-red-500/20":"border-white/5 focus:ring-primary/40"}`,placeholder:"ex: seu@email.com",value:p,onChange:R=>x(R.target.value)}),a.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2",children:[S==="checking"&&a.jsx(lt,{className:"w-4 h-4 text-primary animate-spin"}),S==="available"&&a.jsx(ut,{className:"w-5 h-5 text-green-500 animate-in zoom-in"}),S==="exists"&&a.jsx(Ir,{className:"w-5 h-5 text-red-500 animate-in shake"})]})]}),S==="exists"&&a.jsx("p",{className:"text-[10px] text-red-400 font-bold uppercase ml-2 tracking-tighter italic",children:"E-mail j cadastrado. Use outro ou recupere sua senha."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:"Senha Segura"}),a.jsxs("div",{className:"relative group",children:[a.jsx(_r,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-all duration-300"}),a.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full bg-white/5 border border-white/5 rounded-2xl pl-16 pr-6 py-5 text-white font-bold outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/40 focus:bg-white/[0.08] transition-all placeholder:text-gray-700 placeholder:font-medium",placeholder:"",value:v,onChange:R=>y(R.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:"WhatsApp de Suporte"}),a.jsx(LI,{value:N,onChange:R=>w(R.target.value),placeholder:"Nmero com DDD",className:"!bg-white/5 !border-white/5 !rounded-2xl !py-5 !text-white !font-bold !pl-[105px] focus:!ring-primary/40 focus:!bg-white/[0.08]"})]}),d&&a.jsxs("div",{className:"bg-primary/5 border border-primary/10 rounded-3xl p-6 flex items-start gap-4 animate-in slide-in-from-bottom-4 duration-500 group hover:bg-primary/10 transition-colors",children:[a.jsx("div",{className:"pt-1",children:a.jsx("input",{type:"checkbox",id:"partner-consent",required:!0,checked:E,onChange:R=>k(R.target.checked),className:"w-6 h-6 rounded-lg border-white/20 bg-white/5 text-primary focus:ring-primary/50 cursor-pointer"})}),a.jsxs("label",{htmlFor:"partner-consent",className:"text-sm text-gray-400 leading-relaxed cursor-pointer select-none",children:[a.jsx("span",{className:"font-black text-white block mb-1 uppercase tracking-tighter italic",children:"Autorizao de Lead"}),"Concordo em compartilhar meus dados com o parceiro indicado para suporte tcnico e boas-vindas ao ecossistema."]})]}),a.jsx("button",{type:"submit",disabled:e||S==="exists",className:"w-full bg-primary text-white font-black uppercase text-lg py-6 rounded-[2rem] transition-all hover:scale-[1.03] active:scale-95 shadow-2xl shadow-primary/20 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed group italic tracking-tighter mt-4",children:e?a.jsx(lt,{className:"w-6 h-6 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Ativar Licena Grtis"}),a.jsx(Vt,{className:"w-5 h-5 group-hover:translate-x-2 transition-transform"})]})})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-gray-500 font-medium text-sm italic mb-2",children:"J possui uma conta?"}),a.jsx(Bt,{to:"/activate",className:"text-white hover:text-primary font-black uppercase tracking-widest text-[10px] transition-all italic border-b border-white/10 hover:border-primary pb-1",children:"Fazer Login na Central"})]})]})]})]})},Mle=({children:t,memberArea:e})=>{var w,E,k,S;console.log("[Layout] Rendering with memberArea:",e?e.name:"null");const{user:r,profile:n,signOut:s}=tr(),i=gt(),l=Da(),[d,u]=b.useState(!1),[f,m]=b.useState(!1),[p,x]=b.useState([]);if((n==null?void 0:n.status)==="suspended")return a.jsx("div",{className:"min-h-screen bg-[#0E1012] flex items-center justify-center text-white p-4 font-sans",children:a.jsxs("div",{className:"max-w-md w-full bg-[#1A1D21] p-8 rounded-2xl border border-red-500/20 text-center space-y-6 shadow-2xl",children:[a.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto ring-4 ring-red-500/5",children:a.jsx(mu,{className:"w-10 h-10 text-red-500"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"Acesso Suspenso"}),a.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Sua conta foi temporariamente suspensa por um administrador.",a.jsx("br",{}),"Entre em contato com o suporte para mais informaes."]})]}),a.jsxs("button",{onClick:()=>{s(),i("/login")},className:"w-full py-3 bg-white/5 hover:bg-white/10 active:bg-white/15 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 text-sm border border-white/5 hover:border-white/10",children:[a.jsx(Fo,{className:"w-4 h-4"}),"Sair da conta"]}),a.jsx("div",{className:"pt-4 border-t border-white/5",children:a.jsxs("p",{className:"text-xs text-gray-600",children:["ID: ",r==null?void 0:r.id]})})]})});const y=typeof window<"u"&&!window.location.hostname.includes("vercel.app")&&!window.location.hostname.includes("localhost")&&window.location.pathname.startsWith("/app/")===!1?"":e?`/app/${e.slug}`:"/app";b.useEffect(()=>{const A=()=>{m(window.scrollY>50)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]),b.useEffect(()=>{if(e!=null&&e.favicon_url){const A=document.querySelector("link[rel*='icon']")||document.createElement("link"),C=A.href;return A.type="image/x-icon",A.rel="shortcut icon",A.href=e.favicon_url,A.parentElement||document.head.appendChild(A),()=>{A.href=C}}},[e==null?void 0:e.favicon_url]);const N=A=>{x(C=>C.includes(A)?C.filter(O=>O!==A):[...C,A])};return a.jsxs("div",{className:"min-h-screen bg-[#0E1012] text-white font-sans selection:bg-red-600 selection:text-white",children:[a.jsxs("nav",{className:`fixed top-0 w-full z-50 px-4 md:px-8 py-4 flex items-center justify-between transition-all duration-300 ${f?"bg-[#0E1012]/80 backdrop-blur-md shadow-lg":"bg-gradient-to-b from-black/80 to-transparent"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>u(!0),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(w1,{className:"w-6 h-6 text-white"})}),a.jsx(Bt,{to:y,className:"flex items-center gap-2 hover:scale-105 transition-transform",children:e!=null&&e.logo_url?a.jsx("img",{src:e.logo_url,alt:e.name,className:"h-8 object-contain"}):a.jsxs("div",{className:"text-red-600 font-bold text-2xl tracking-tighter",children:[((w=e==null?void 0:e.name)==null?void 0:w.toUpperCase())||"MEMBER"," ",a.jsx("span",{className:"text-white text-xs font-normal tracking-normal opacity-70",children:"AREA"})]})})]}),a.jsx("div",{className:"flex items-center gap-6",children:r?a.jsxs("div",{className:"group relative",children:[a.jsx("div",{className:"flex items-center gap-2 cursor-pointer",children:a.jsx("div",{className:"w-8 h-8 rounded bg-blue-600 flex items-center justify-center text-xs font-bold",style:{backgroundColor:e==null?void 0:e.primary_color},children:((k=(E=r==null?void 0:r.user_metadata)==null?void 0:E.name)==null?void 0:k.substring(0,2).toUpperCase())||"US"})}),a.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#1A1D21] border border-white/10 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-white/10 mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:((S=r==null?void 0:r.user_metadata)==null?void 0:S.name)||"Usurio"}),a.jsx("p",{className:"text-xs text-gray-400 truncate",children:r==null?void 0:r.email})]}),a.jsxs(Bt,{to:`${y}/profile`,className:"block px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/10",children:[a.jsx(Ra,{className:"w-4 h-4 inline mr-2"})," Perfil"]}),a.jsxs("button",{onClick:()=>{s(),i(`${y}/login`)},className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/10",children:[a.jsx(Fo,{className:"w-4 h-4 inline mr-2"})," Sair"]})]})})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Bt,{to:`${y}/signup`,className:"hidden md:block px-4 py-2 text-sm font-medium text-white border border-white/30 rounded hover:bg-white/10 transition-colors",children:"Cadastre-se aqui"}),a.jsx(Bt,{to:`${y}/login`,className:"px-4 py-2 text-sm font-medium text-[#0E1012] bg-white rounded hover:bg-gray-100 transition-colors",children:"Entrar"})]})})]}),a.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] transition-opacity duration-300 ${d?"opacity-100 visible":"opacity-0 invisible"}`,onClick:()=>u(!1)}),a.jsxs("div",{className:`fixed top-0 left-0 h-full w-80 bg-[#0E1012]/80 backdrop-blur-md border-r border-white/5 z-[70] transform transition-transform duration-300 shadow-2xl flex flex-col ${d?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/5",children:[a.jsx("div",{className:"flex items-center gap-2",children:e!=null&&e.logo_url?a.jsx("img",{src:e.logo_url,alt:e.name,className:"h-8 object-contain"}):a.jsx("span",{className:"font-bold text-lg tracking-tight",children:(e==null?void 0:e.name)||"Menu"})}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:a.jsx(Mr,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-4",children:a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsxs(Bt,{to:y,onClick:()=>u(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${l.pathname===y?"bg-[#D4143C] text-white shadow-lg shadow-red-900/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,style:l.pathname===y&&(e!=null&&e.primary_color)?{backgroundColor:e.primary_color}:{},children:[a.jsx(kD,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Incio"})]})}),a.jsx("li",{children:a.jsxs(Bt,{to:`${y}/my-products`,onClick:()=>u(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${l.pathname.includes("/my-products")?"bg-[#D4143C] text-white shadow-lg shadow-red-900/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,style:l.pathname.includes("/my-products")&&(e!=null&&e.primary_color)?{backgroundColor:e.primary_color}:{},children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Meus Produtos"})]})}),a.jsx("li",{children:a.jsxs(Bt,{to:`${y}/products`,onClick:()=>u(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${l.pathname.includes("/products")?"bg-[#D4143C] text-white shadow-lg shadow-red-900/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,style:l.pathname.includes("/products")&&(e!=null&&e.primary_color)?{backgroundColor:e.primary_color}:{},children:[a.jsx(gr,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Produtos  venda"})]})}),a.jsxs("li",{children:[a.jsxs("button",{onClick:()=>N("links"),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all duration-200 group ${p.includes("links")?"text-white bg-white/5":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ti,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Links"})]}),a.jsx(vc,{className:`w-4 h-4 transition-transform duration-300 ${p.includes("links")?"rotate-0":"rotate-180"}`})]}),a.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${p.includes("links")?"max-h-96 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:a.jsxs("ul",{className:"space-y-1 pl-4",children:[((e==null?void 0:e.custom_links)||[]).filter(A=>A.active).map(A=>a.jsx("li",{children:a.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-4 py-2.5 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-colors group",onClick:()=>u(!1),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[A.title.toLowerCase().includes("instagram")?a.jsx(YZ,{className:"w-4 h-4"}):a.jsx(Oa,{className:"w-4 h-4"}),a.jsx("span",{children:A.title})]}),a.jsx(ND,{className:"w-3 h-3 opacity-0 group-hover:opacity-50 transition-opacity"})]})},A.id)),a.jsx("li",{children:a.jsx(Bt,{to:`${y}/faq`,onClick:()=>u(!1),className:`flex items-center justify-between px-4 py-2.5 rounded-lg text-sm transition-colors group ${l.pathname.includes("/faq")?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Mu,{className:"w-4 h-4"}),a.jsx("span",{children:"Dvidas frequentes"})]})})})]})})]})]})}),!(e!=null&&e.custom_branding)&&a.jsx("div",{className:"p-6 border-t border-white/5",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-600 font-medium",children:[a.jsx("span",{className:"text-[10px]",children:"Create by"}),a.jsxs("span",{className:"text-gray-500 font-bold tracking-wide",children:["Super Checkout .APP",a.jsx("sup",{className:"text-[8px] ml-0.5",children:""})]})]})})]}),a.jsx("main",{className:"pt-20 pb-20 min-h-screen",children:t}),a.jsxs("footer",{className:"py-12 px-4 md:px-12 text-center text-gray-500 text-sm bg-black/50 mt-auto flex flex-col items-center justify-center gap-2",children:[a.jsxs("p",{children:["Copyright  ",new Date().getFullYear()," ",(e==null?void 0:e.name)||"Member Area"]}),!(e!=null&&e.custom_branding)&&a.jsxs("div",{className:"flex items-center gap-2 opacity-50 text-xs mt-2",children:[a.jsx("span",{children:"Powered by"}),a.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-3 h-3 object-contain"}),a.jsx("span",{className:"font-bold",children:"Super Checkout"})]})]})]})},aC=({forcedSlug:t})=>{const{slug:e}=Ia(),r=t||e,n=gt(),[s,i]=b.useState(null),[l,d]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(console.log("[Wrapper] Loading Member Area for slug:",r),!!r)try{const f=await ce.getMemberAreaBySlug(r);console.log("[Wrapper] Found area:",f),f?i(f):(console.error("[Wrapper] Member Area not found for slug:",r),n("/app"))}catch(f){console.error("[Wrapper] Error loading member area:",f)}finally{d(!1)}})()},[r,n]),l?a.jsx("div",{className:"min-h-screen bg-[#0E1012] flex items-center justify-center",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-red-600"})}):a.jsx(Mle,{memberArea:s,children:a.jsx(s6,{context:{memberArea:s}})})},nC=()=>{const{memberArea:t}=Qo(),{slug:e}=Ia(),r=gt(),[n,s]=b.useState([]),[i,l]=b.useState([]),[d,u]=b.useState(!0),[f,m]=b.useState(null),[p,x]=b.useState(!1),{handleAccess:v}=Uc(i);b.useEffect(()=>{y()},[t]);const y=async()=>{try{if(t!=null&&t.id){const[w,E]=await Promise.all([ce.getMemberAreaProducts(t.id),ce.getAccessGrants()]);l(E);const k=E.filter(A=>A.product_id&&A.status==="active").map(A=>A.product_id),S=w.filter(A=>!k.includes(A.id));s(S)}}catch(w){console.error("Erro ao carregar produtos:",w)}finally{u(!1)}},N=async w=>{v(w,{onAccess:async()=>{try{const E=await ce.getProductContents(w.id);if(E.length>0){const k=E[0],S=e?`/app/${e}/course/${k.content_id}`:`/course/${k.content_id}`;r(S)}}catch(E){console.error("Erro ao navegar:",E)}},onSalesModal:E=>{const k=E||w;w.member_area_action==="sales_page"?(m(k),x(!0)):w.redirect_link?window.open(w.redirect_link,"_blank"):(m(k),x(!0))}})};return d?a.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-red-600"})}):a.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Produtos  Venda"}),a.jsx("p",{className:"text-gray-400",children:"Confira outros produtos disponveis para voc."})]}),n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-white/10",children:[a.jsx(gr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhum produto disponvel"}),a.jsx("p",{className:"text-gray-400",children:"Voc j possui acesso a todos os produtos ou no h produtos  venda no momento."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(w=>a.jsxs("div",{className:"bg-[#1A1D21] rounded-xl overflow-hidden border border-white/10 hover:border-white/20 transition-all hover:transform hover:scale-[1.02] group cursor-pointer",onClick:()=>N(w),children:[a.jsxs("div",{className:"aspect-video relative overflow-hidden bg-black/40",children:[w.imageUrl?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:w.imageUrl,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-50 blur-xl scale-110 group-hover:scale-125 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("img",{src:w.imageUrl,alt:w.name,className:"relative w-full h-full object-contain p-2 z-10 transition-transform duration-500 group-hover:scale-105"})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:a.jsx(gr,{className:"w-12 h-12 opacity-20"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20"}),a.jsx("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-sm rounded-full p-2 z-30",children:a.jsx(_r,{className:"w-4 h-4 text-white"})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-1",children:w.name}),a.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2 min-h-[2.5rem]",children:w.description||"Sem descrio."}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsx("div",{className:"text-white font-bold text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w.price_real||0)}),a.jsxs("button",{className:"px-4 py-2 bg-white text-black font-bold rounded-lg text-sm hover:bg-gray-200 transition-colors flex items-center gap-2",children:["Comprar ",a.jsx(Oa,{className:"w-3 h-3"})]})]})]})]},w.id))}),a.jsx(Hp,{isOpen:p,onClose:()=>x(!1),product:f})]})},sC=()=>{const{memberArea:t}=Qo(),{slug:e}=Ia(),r=gt(),[n,s]=b.useState([]),[i,l]=b.useState(!0);b.useEffect(()=>{d()},[t]);const d=async()=>{try{const m=(await ce.getAccessGrants()).filter(x=>x.product_id&&x.status==="active").map(x=>x.product_id);if(m.length===0){s([]),l(!1);return}const p=await ce.getProductsByIds(m);s(p)}catch(f){console.error("Erro ao carregar produtos:",f)}finally{l(!1)}},u=async f=>{try{const m=await ce.getProductContents(f.id);if(m.length>0){const p=m[0],x=e?`/app/${e}/course/${p}`:`/course/${p}`;r(x)}else console.warn("Nenhum contedo encontrado para o produto:",f.name)}catch(m){console.error("Erro ao navegar para contedo:",m)}};return i?a.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-red-600"})}):a.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Meus Produtos"}),a.jsx("p",{className:"text-gray-400",children:"Produtos que voc j adquiriu e tem acesso."})]}),n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-white/10",children:[a.jsx(ga,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhum produto adquirido"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Voc ainda no possui nenhum produto."}),a.jsx("button",{onClick:()=>r(e?`/app/${e}/products`:"/products"),className:"px-6 py-3 bg-white text-black font-bold rounded-lg hover:bg-gray-200 transition-colors",children:"Ver Produtos  Venda"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(f=>a.jsxs("div",{className:"bg-[#1A1D21] rounded-xl overflow-hidden border border-white/10 hover:border-white/20 transition-all hover:transform hover:scale-[1.02] group cursor-pointer relative",onClick:()=>u(f),children:[a.jsxs("div",{className:"absolute top-3 left-3 z-10 bg-orange-500/20 text-orange-500 border border-orange-500/20 text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wide shadow-sm flex items-center gap-1 backdrop-blur-sm",children:[a.jsx(ga,{className:"w-3 h-3",strokeWidth:3}),"Adquirido"]}),a.jsxs("div",{className:"aspect-video relative overflow-hidden bg-black/40",children:[f.imageUrl?a.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:a.jsx(ga,{className:"w-12 h-12 opacity-20"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:a.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-4",children:a.jsx(ps,{className:"w-8 h-8 text-white fill-white"})})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-1",children:f.name}),a.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2 min-h-[2.5rem]",children:f.description||"Sem descrio."}),a.jsxs("button",{className:"w-full px-4 py-2 bg-white text-black font-bold rounded-lg text-sm hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[a.jsx(ps,{className:"w-4 h-4"})," Acessar Contedo"]})]})]},f.id))})]})},iC=()=>{var i;const{memberArea:t}=Qo(),[e,r]=b.useState(null),n=((i=t==null?void 0:t.faqs)==null?void 0:i.filter(l=>l.active))||[],s=l=>{r(e===l?null:l)};return a.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-8 max-w-4xl",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/5 rounded-full mb-4",children:a.jsx(Mu,{className:"w-8 h-8 text-red-600",style:{color:t==null?void 0:t.primary_color}})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Perguntas Frequentes"}),a.jsx("p",{className:"text-gray-400",children:"Tire suas dvidas sobre o contedo e a plataforma."})]}),n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-xl border border-white/10",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhuma dvida encontrada"}),a.jsx("p",{className:"text-gray-400",children:"No momento no h perguntas frequentes cadastradas."})]}):a.jsx("div",{className:"space-y-4",children:n.map((l,d)=>a.jsxs("div",{className:"bg-[#1A1D21] rounded-xl border border-white/10 overflow-hidden transition-all duration-300",children:[a.jsxs("button",{onClick:()=>s(d),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[a.jsx("span",{className:"font-medium text-white text-lg pr-4",children:l.question}),e===d?a.jsx(vc,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):a.jsx(Xo,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),a.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${e===d?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:a.jsx("div",{className:"px-6 pb-6 text-gray-400 leading-relaxed border-t border-white/5 pt-4",children:l.answer})})]},l.id))})]})},oC=()=>{var m;const{user:t,signOut:e}=tr(),r=gt(),{memberArea:n}=Qo(),[s,i]=b.useState([]),[l,d]=b.useState(!0);b.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await ce.getAccessGrants();i(p)}catch(p){console.error("Error loading profile data:",p)}finally{d(!1)}},f=async()=>{await e(),r(n?`/app/${n.slug}/login`:"/login")};return l?a.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:a.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin",style:{borderColor:n!=null&&n.primary_color?`${n.primary_color} transparent transparent transparent`:void 0}})}):a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Meu Perfil"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"md:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-[#1A1D21] rounded-xl p-6 border border-white/5 flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-700 to-gray-900 rounded-full flex items-center justify-center mb-4 border-2 border-white/10",children:a.jsx(Ra,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:((m=t==null?void 0:t.user_metadata)==null?void 0:m.full_name)||"Usurio"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:t==null?void 0:t.email}),a.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 bg-red-500/10 text-red-500 hover:bg-red-500/20 py-2 px-4 rounded-lg transition-colors border border-red-500/20",children:[a.jsx(Fo,{className:"w-4 h-4"}),"Sair da conta"]})]}),a.jsxs("div",{className:"bg-[#1A1D21] rounded-xl p-6 border border-white/5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(Yn,{className:"w-5 h-5 text-gray-400"}),"Segurana"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 uppercase mb-1",children:"Email"}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-300 bg-black/20 p-3 rounded-lg border border-white/5 break-all",children:[a.jsx(At,{className:"w-4 h-4 text-gray-500"}),t==null?void 0:t.email]})]}),a.jsx("button",{className:"w-full text-left text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Alterar senha"})]})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"bg-[#1A1D21] rounded-xl p-6 border border-white/5 h-full",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(ao,{className:"w-6 h-6 text-gray-400"}),"Minhas Assinaturas e Compras"]}),s.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"Nenhuma assinatura ou compra ativa encontrada."})}):a.jsx("div",{className:"space-y-4",children:s.map(p=>a.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/5 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${p.status==="active"?"bg-green-500":"bg-red-500"}`}),a.jsx("h4",{className:"font-bold text-white text-lg",children:p.product_id?"Produto / Assinatura":"Contedo Avulso"})]}),a.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-1",children:[a.jsx(ui,{className:"w-3 h-3"}),"Acesso liberado em: ",new Date(p.granted_at).toLocaleDateString()]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${p.status==="active"?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-red-500/10 text-red-500 border border-red-500/20"}`,children:p.status==="active"?"Ativo":"Inativo"})})]},p.id))})]})})]})]})},Lle=()=>{const[t]=wu(),e=t.get("token"),r=gt(),[n,s]=b.useState("magic"),[i,l]=b.useState(""),[d,u]=b.useState(""),[f,m]=b.useState(!1),[p,x]=b.useState(!1),[v,y]=b.useState(""),[N,w]=b.useState(!!e);b.useEffect(()=>{(async()=>{const{data:{session:C}}=await tn.auth.getSession();C&&r("/activate/setup")})()},[r]),b.useEffect(()=>{(async()=>{const{CENTRAL_SUPABASE_ANON_KEY:C}=await Dr(async()=>{const{CENTRAL_SUPABASE_ANON_KEY:O}=await Promise.resolve().then(()=>Vi);return{CENTRAL_SUPABASE_ANON_KEY:O}},void 0);(!C||C.includes("MISSING"))&&y("CRTICO: Chave de API Central no encontrada. Verifique as variveis de ambiente na Vercel (VITE_CENTRAL_SUPABASE_ANON_KEY).")})(),e&&E(e)},[e]);const E=async A=>{w(!0);try{const{CENTRAL_SUPABASE_ANON_KEY:C}=await Dr(async()=>{const{CENTRAL_SUPABASE_ANON_KEY:L}=await Promise.resolve().then(()=>Vi);return{CENTRAL_SUPABASE_ANON_KEY:L}},void 0);if(!C||C.includes("MISSING"))throw new Error("Configurao de API incompleta (Chave Anon ausente).");const O=await fetch(`${We.API_URL}/validate-activation-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({token:A,origin:window.location.origin})});if(!O.ok){const L=await O.json().catch(()=>({}));throw new Error(L.error||`Erro do servidor: ${O.status}`)}const R=await O.json();if(R.redirectUrl)window.location.href=R.redirectUrl;else throw new Error("Falha na resposta do servidor.")}catch(C){console.error("Token Login Error:",C),y(C.message||"Erro ao validar token de acesso."),w(!1)}},k=async A=>{A.preventDefault(),m(!0),y("");try{await wn.requestActivationLink(i),x(!0)}catch(C){console.error("Magic Login Error:",C),y(`Erro ao conectar: ${C.message||"Tente novamente."}`)}finally{m(!1)}},S=async A=>{A.preventDefault(),m(!0),y("");try{const{error:C}=await tn.auth.signInWithPassword({email:i,password:d});if(C)throw C;r("/activate/setup")}catch(C){console.error(C),y(C.message==="Invalid login credentials"?"E-mail ou senha incorretos.":"Erro ao fazer login.")}finally{m(!1)}};return N?a.jsxs("div",{className:"min-h-screen bg-[#05050A] flex flex-col items-center justify-center p-4",children:[a.jsx(lt,{className:"w-10 h-10 text-primary animate-spin mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Validando seu acesso..."}),a.jsx("p",{className:"text-gray-400",children:"Aguarde um momento."})]}):p?a.jsx("div",{className:"min-h-screen bg-[#05050A] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[#0F0F13] border border-white/10 rounded-2xl p-8 max-w-md w-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-green-500",children:a.jsx(ut,{className:"w-8 h-8"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verifique seu E-mail"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Se o e-mail ",a.jsx("strong",{children:i})," estiver associado a uma licena ativa, enviamos um link de acesso para voc."]}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 text-sm text-blue-400 mb-6",children:a.jsx("p",{children:"O link expira em 10 minutos. Verifique tambm sua caixa de spam."})}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-white text-sm",children:"Tentar outro e-mail"})]})}):a.jsxs("div",{className:"min-h-screen bg-[#05050A] flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-[128px] pointer-events-none"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-[128px] pointer-events-none"}),a.jsxs("div",{className:"z-10 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/5 border border-white/10 px-3 py-1 rounded-full mb-6",children:[a.jsx(en,{className:"w-4 h-4 text-green-400"}),a.jsx("span",{className:"text-xs font-medium text-gray-300 uppercase tracking-wide",children:"Portal de Ativao"})]}),a.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Bem-vindo"}),a.jsx("p",{className:"text-gray-400",children:"Acesse para gerenciar sua licena e instalao."})]}),a.jsxs("div",{className:"bg-[#0F0F13] border border-white/10 rounded-2xl p-8 shadow-2xl backdrop-blur-sm",children:[a.jsxs("div",{className:"flex bg-black/20 p-1 rounded-xl mb-6",children:[a.jsxs("button",{onClick:()=>s("magic"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-all ${n==="magic"?"bg-white/10 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[a.jsx(At,{className:"w-4 h-4"}),"Link Mgico"]}),a.jsxs("button",{onClick:()=>s("password"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-all ${n==="password"?"bg-white/10 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[a.jsx(XZ,{className:"w-4 h-4"}),"Senha"]})]}),v&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-4 rounded-xl text-sm mb-6",children:v}),n==="magic"?a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"E-mail da Compra"}),a.jsxs("div",{className:"relative",children:[a.jsx(At,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"email",required:!0,value:i,onChange:A=>l(A.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"seu@email.com"})]})]}),a.jsx("button",{type:"submit",disabled:f,className:"w-full bg-white text-black py-4 rounded-xl font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2 group",children:f?a.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:["Receber Link de Acesso",a.jsx(Vt,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}):a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"E-mail"}),a.jsxs("div",{className:"relative",children:[a.jsx(At,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"email",required:!0,value:i,onChange:A=>l(A.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"seu@email.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-5 h-5"}),a.jsx("input",{type:"password",required:!0,value:d,onChange:A=>u(A.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"********"})]})]}),a.jsx("button",{type:"submit",disabled:f,className:"w-full bg-white text-black py-4 rounded-xl font-bold hover:bg-gray-200 transition-all flex items-center justify-center gap-2 group",children:f?a.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:["Entrar",a.jsx(Vt,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})]}),a.jsx("div",{className:"text-center mt-8",children:a.jsx("p",{className:"text-xs text-gray-600",children:"Token de instalao? Use o link que enviamos por e-mail."})})]})]})},Ule=({license:t,userName:e})=>a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2rem] p-8 backdrop-blur-xl",children:[a.jsx("h3",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em] mb-8",children:"Status do Ecossistema"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"flex items-center gap-5 p-4 rounded-2xl bg-white/5 border border-white/5 group hover:border-primary/20 transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center text-primary transition-transform group-hover:scale-110",children:a.jsx(ga,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Perfil da Conta"}),a.jsx("p",{className:"text-xl font-black text-white capitalize font-display italic tracking-tighter",children:t.plan==="upgrade_domains"?"Domnios Ilimitados":t.plan==="saas"?"Parceiro":t.plan})]})]}),a.jsxs("div",{className:"flex items-center gap-5 p-4 rounded-2xl bg-white/5 border border-white/5 group hover:border-green-500/20 transition-all duration-300",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110 ${t.status==="active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:a.jsx(OD,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Situao Atual"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full animate-pulse ${t.status==="active"?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]":"bg-red-500"}`}),a.jsx("p",{className:"text-xl font-black text-white capitalize font-display italic tracking-tighter",children:t.status==="active"?"Ativo":"Inativo"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-5 p-4 rounded-2xl bg-white/5 border border-white/5 group hover:border-blue-500/20 transition-all duration-300",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-500 transition-transform group-hover:scale-110",children:a.jsx(ui,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Membro Desde"}),a.jsx("p",{className:"text-xl font-black text-white font-display italic tracking-tighter",children:new Date(t.created_at).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]})]})]})]}),$le=({license:t})=>{const[e,r]=se.useState(!1),n=()=>{navigator.clipboard.writeText(t.key),r(!0),setTimeout(()=>r(!1),2e3)};return a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2rem] p-8 backdrop-blur-xl",children:[a.jsx("h3",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em] mb-8",children:"Credenciais de Acesso"}),a.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-[1.5rem] p-6 flex flex-col md:flex-row items-center justify-between gap-6 group hover:border-primary/20 transition-all duration-500",children:[a.jsxs("div",{className:"flex items-center gap-5 w-full",children:[a.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-[1.25rem] flex items-center justify-center text-primary shrink-0 transition-transform group-hover:scale-110",children:a.jsx(Hn,{className:"w-7 h-7"})}),a.jsxs("div",{className:"w-full",children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-2",children:"Chave de Ativao Master"}),a.jsx("code",{className:"block w-full text-xl md:text-2xl font-display font-black text-white break-all tracking-tighter select-all italic italic",children:t.key})]})]}),a.jsxs("button",{onClick:n,className:"shrink-0 w-full md:w-auto flex items-center justify-center gap-3 px-8 py-4 bg-white/5 hover:bg-primary hover:text-white text-white rounded-2xl transition-all duration-300 font-bold border border-white/10 hover:border-primary group/btn",children:[e?a.jsx(pt,{className:"w-5 h-5 text-green-400"}):a.jsx(Pt,{className:"w-5 h-5 group-hover/btn:scale-110 transition-transform"}),a.jsx("span",{children:e?"Copiado!":"Copiar Token"})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),a.jsxs("p",{className:"text-sm font-medium text-gray-400",children:["Instalaes: ",a.jsx("span",{className:"text-white font-bold",children:t.max_instances})]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),a.jsxs("p",{className:"text-sm font-medium text-gray-400",children:["Domnio: ",a.jsx("span",{className:"text-white font-bold",children:t.allowed_domain||"Qualquer domnio"})]})]})]})]})},Ble=({license:t,installations:e=[],onRefresh:r,onNavigate:n})=>{const[s,i]=b.useState(!1),[l,d]=b.useState(!1),[u,f]=b.useState(null),[m,p]=b.useState(""),[x,v]=b.useState(!1),y=e.find(S=>S.status==="active"),N=e[0],w=!!y;b.useEffect(()=>{const S=sessionStorage.getItem("activation_install_url");S&&f(S)},[e]);const E=async()=>{i(!0),p("");try{const S=await wn.generateInstallToken(t.key);if(S.token){const A=`${window.location.origin}/installer?token=${S.token}`;f(A),sessionStorage.setItem("activation_install_url",A)}else throw new Error("Token no retornado pela funo.")}catch{p("Erro ao gerar link de instalao.")}finally{i(!1)}},k=async()=>{d(!0);try{N&&await wn.revokeInstallation(N.id),await E(),v(!1),r&&r()}catch(S){p(S.message||"Erro ao revogar instalao.")}finally{d(!1)}};return a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2rem] p-8 backdrop-blur-xl relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-primary/5 rounded-full blur-[100px] -mr-40 -mt-40 pointer-events-none transition-opacity group-hover:opacity-100 opacity-50"}),a.jsx("h3",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em] mb-8",children:"Infraestrutura & Deploy"}),a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-10",children:[a.jsxs("div",{className:"flex-1",children:[w&&!u?a.jsxs("div",{className:"animate-in slide-in-from-left duration-500",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.6)]"}),a.jsx("h4",{className:"text-2xl font-black text-white font-display italic uppercase tracking-tighter",children:"Instalao Ativa"})]}),a.jsxs("p",{className:"text-gray-400 text-lg font-medium leading-relaxed mb-6",children:["Seu sistema est operando com sucesso em: ",a.jsx("strong",{className:"text-white bg-white/5 px-2 py-0.5 rounded border border-white/5",children:y.domain})]}),a.jsxs("div",{className:"bg-white/5 border border-white/5 p-4 rounded-2xl text-gray-400 text-sm flex gap-3",children:[a.jsx(la,{className:"w-5 h-5 text-primary shrink-0"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Novo Servidor?"})," Ao reinstalar, o sistema atual ser desconectado para liberar espao para o novo deploy."]})]})]}):a.jsxs("div",{className:"animate-in slide-in-from-left duration-500",children:[a.jsx("h4",{className:"text-2xl font-black text-white mb-3 font-display italic uppercase tracking-tighter",children:"Deploy do Sistema"}),a.jsx("p",{className:"text-gray-400 text-lg font-medium leading-relaxed mb-6",children:"Gere um token seguro e temporrio para iniciar o assistente de instalao automatizado."}),a.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-primary uppercase tracking-[0.1em]",children:[a.jsx(qn,{className:"w-4 h-4"}),"Expira em 60 minutos"]})]}),m&&a.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm mt-6 p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:[a.jsx(la,{className:"w-4 h-4"}),m]})]}),a.jsxs("div",{className:"w-full md:w-auto flex flex-col gap-4",children:[w&&!u&&!x&&a.jsxs("button",{onClick:()=>v(!0),className:"w-full md:w-64 flex items-center justify-center gap-3 px-8 py-4 bg-white/5 hover:bg-white/10 text-white rounded-2xl font-black transition-all border border-white/10 active:scale-95 group/btn",children:[a.jsx(Um,{className:"w-5 h-5 text-gray-500 group-hover/btn:text-primary transition-colors"}),a.jsx("span",{children:"REINSTALAR"})]}),x&&a.jsxs("div",{className:"flex flex-col gap-4 bg-red-500/10 border border-red-500/20 p-6 rounded-[1.5rem] w-full md:w-80 animate-in zoom-in-95 duration-300",children:[a.jsxs("p",{className:"text-red-200 text-sm font-bold leading-relaxed italic",children:["Esta ao desconectar o checkout em ",y==null?void 0:y.domain,". Continuar?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:k,disabled:l,className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-black py-3 rounded-xl text-sm flex items-center justify-center gap-2 shadow-lg shadow-red-500/20 transition-all active:scale-95",children:l?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):"SIM, AGORA"}),a.jsx("button",{onClick:()=>v(!1),disabled:l,className:"px-5 bg-white/5 text-white rounded-xl text-xs font-bold hover:bg-white/10 transition-all border border-white/5",children:"VOLTAR"})]})]}),(!w||u)&&!x&&(u?a.jsxs("div",{className:"w-full md:w-96 animate-in fade-in slide-in-from-right duration-500",children:[a.jsx("div",{className:"bg-white/5 border border-primary/30 rounded-2xl p-4 mb-4 backdrop-blur-md",children:a.jsx("code",{className:"text-primary text-xs break-all block font-bold leading-relaxed",children:u})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:u,target:"_blank",rel:"noreferrer",className:"flex-1 bg-white text-black hover:bg-gray-200 font-black py-4 rounded-xl text-sm flex items-center justify-center gap-2 transition-all active:scale-95",children:["ABRIR PAINEL ",a.jsx(Vt,{className:"w-4 h-4"})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),alert("Link copiado!")},className:"px-6 bg-white/5 hover:bg-white/10 text-white rounded-xl border border-white/10 transition-all active:scale-90",title:"Copiar Link",children:a.jsx(Pt,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:k,disabled:s||l,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-400/5 hover:bg-red-400/10 text-red-400/60 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] transition-colors border border-red-400/10",children:[l?a.jsx(lt,{className:"w-4 h-4 animate-spin"}):a.jsx(la,{className:"w-4 h-4"}),"Resetar Configuraes (Emergency)"]})]})]}):a.jsxs("button",{onClick:E,disabled:s||t.status!=="active",className:"w-full md:w-72 flex items-center justify-center gap-3 px-8 py-5 bg-primary hover:bg-primary-hover text-white rounded-[1.25rem] font-black transition-all shadow-2xl shadow-primary/30 active:scale-95 disabled:opacity-50",children:[s?a.jsx(lt,{className:"w-6 h-6 animate-spin"}):a.jsx(gs,{className:"w-6 h-6"}),a.jsx("span",{className:"text-lg",children:"GERAR TOKEN"})]}))]})]}),t.plan==="free"&&w&&!u&&a.jsx("div",{className:"mt-12 p-1 bg-gradient-to-r from-primary/20 to-transparent rounded-[1.5rem] overflow-hidden",children:a.jsxs("div",{className:"p-6 bg-[#05050A]/60 backdrop-blur-3xl rounded-[1.4rem] flex flex-col md:flex-row items-center justify-between gap-6 border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-5 text-center md:text-left flex-col md:flex-row",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/20 flex items-center justify-center text-primary shrink-0 shadow-inner",children:a.jsx(gs,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-black text-white font-display italic uppercase tracking-tighter leading-none mb-1",children:"Escalando o Negcio?"}),a.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Voc atingiu o limite de 1 domnio. Desbloqueie domnios ilimitados agora."})]})]}),a.jsx("button",{onClick:()=>n==null?void 0:n("opportunity"),className:"whitespace-nowrap px-8 py-4 bg-primary hover:bg-primary-hover text-white text-sm font-black rounded-xl transition-all active:scale-95 shadow-lg shadow-primary/20 border-none uppercase tracking-widest italic",children:"Fazer Upgrade "})]})})]})},zle=t=>{const{tutorial:e,onBack:r,onPrev:n,onNext:s}=t,i=w=>{var k;if(!w)return null;const E=(k=w.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/))==null?void 0:k[1];return E?`https://www.youtube.com/embed/${E}`:null},l=!!e.video_url,d=!!e.file_url,u=l?e.video_url:e.type==="video"?e.content:void 0,f=d?e.file_url:e.type==="file"?e.content:void 0,m=!d&&e.type==="link"?e.content:void 0,p=e.content===u||e.content===f||e.content===m,x=e.content&&!p,v=u?i(u):null,y=e.content_order||["video","text","file","image"],N=w=>{switch(w){case"video":return v?a.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden shadow-2xl border border-white/10 ring-1 ring-white/5 mb-8",children:a.jsx("iframe",{src:v,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},"video"):null;case"image":return e.image_url?a.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg border border-white/5 mb-8",children:a.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto"})},"image"):null;case"text":return x?a.jsx("div",{className:"prose prose-invert max-w-none p-6 bg-white/5 rounded-2xl border border-white/5 mb-8",children:a.jsx("div",{className:"whitespace-pre-wrap text-gray-300 font-sans leading-relaxed",children:e.content})},"text"):null;case"file":return f||m?a.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 mb-4",children:[f&&a.jsxs("a",{href:f,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-6 py-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-green-500/20 w-full sm:w-auto justify-center",children:[a.jsx(ei,{className:"w-5 h-5"}),a.jsx("span",{children:"Baixar Arquivo"})]}),m&&a.jsxs("a",{href:m,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-blue-500/20 w-full sm:w-auto justify-center",children:[a.jsx(Oa,{className:"w-5 h-5"}),a.jsx("span",{children:"Acessar Link Externo"})]})]},"file"):null;default:return null}};return a.jsxs("div",{className:"w-full animate-in fade-in slide-in-from-bottom-6 duration-700",children:[a.jsxs("button",{type:"button",onClick:r,className:"mb-8 flex items-center gap-3 text-gray-500 hover:text-white transition-all group px-4 py-2 rounded-xl bg-white/5 border border-white/5 hover:border-white/10",children:[a.jsx(Ki,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:"Voltar para tutoriais"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] overflow-hidden backdrop-blur-3xl shadow-2xl",children:[a.jsxs("div",{className:"p-10 md:p-14 border-b border-white/5 bg-white/5",children:[a.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 border border-primary/20 text-primary text-[10px] font-black uppercase tracking-widest mb-6",children:"Aula em Destaque"}),a.jsx("h1",{className:"text-3xl md:text-5xl font-display font-black text-white mb-6 uppercase tracking-tighter italic leading-none",children:e.title}),e.description&&a.jsx("p",{className:"text-gray-400 text-xl font-medium leading-relaxed max-w-3xl",children:e.description})]}),a.jsx("div",{className:"p-10 md:p-14",children:y.map(w=>N(w))}),(n||s)&&a.jsxs("div",{className:"p-10 md:p-14 border-t border-white/5 bg-white/5 flex flex-col sm:flex-row justify-between items-center gap-8",children:[n?a.jsxs("button",{onClick:n,className:"flex flex-col items-start gap-2 p-6 rounded-[2rem] bg-white/5 border border-white/5 hover:bg-white/10 hover:border-primary/50 transition-all group text-left w-full sm:w-auto min-w-[300px] active:scale-[0.98]",children:[a.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase flex items-center gap-2 group-hover:text-primary transition-colors tracking-widest",children:[a.jsx(Ki,{className:"w-3 h-3"})," Aula Anterior"]}),a.jsx("span",{className:"text-lg font-black text-white truncate w-full group-hover:text-primary transition-colors font-display italic uppercase tracking-tighter",children:t.prevTitle||"Anterior"})]}):a.jsx("div",{className:"hidden sm:block min-w-[300px]"}),s&&a.jsxs("button",{onClick:s,className:"flex flex-col items-end gap-2 p-6 rounded-[2rem] bg-white/5 border border-white/5 hover:bg-white/10 hover:border-primary/50 transition-all group text-right w-full sm:w-auto min-w-[300px] active:scale-[0.98]",children:[a.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase flex items-center gap-2 group-hover:text-primary transition-colors tracking-widest",children:["Prxima Aula ",a.jsx(ha,{className:"w-3 h-3"})]}),a.jsx("span",{className:"text-lg font-black text-white truncate w-full group-hover:text-primary transition-colors font-display italic uppercase tracking-tighter",children:t.nextTitle||"Prxima"})]})]})]})]})},Fle=({planType:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,l]=wu(),d=i.get("tutorial"),u=e.find(v=>v.id===d)||null;b.useEffect(()=>{f()},[t]);const f=async()=>{s(!0);try{const{data:v}=await V.from("activation_content").select("*").eq("active",!0).order("order",{ascending:!0});if(v){const y=v.filter(N=>{const w=N.plan_scope||"all";return!!(w==="all"||t&&w.includes(t.toLowerCase()))});r(y)}}catch(v){console.error("Error fetching tutorials:",v)}finally{s(!1)}},m=v=>{const y=new URLSearchParams(i);v?y.set("tutorial",v):y.delete("tutorial"),l(y)},p=v=>{switch(v){case"video":return a.jsx(ps,{className:"w-5 h-5 text-red-400"});case"link":return a.jsx(Oa,{className:"w-5 h-5 text-blue-400"});case"file":return a.jsx(ei,{className:"w-5 h-5 text-green-400"});default:return a.jsx(oa,{className:"w-5 h-5 text-gray-400"})}},x=v=>{var N;if(!v)return null;const y=(N=v.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/))==null?void 0:N[1];return y?`https://img.youtube.com/vi/${y}/mqdefault.jpg`:null};if(n)return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-pulse",children:[1,2,3].map(v=>a.jsx("div",{className:"h-48 bg-white/5 rounded-2xl"},v))});if(e.length===0)return a.jsx("div",{className:"text-center py-12 text-gray-500 bg-white/5 rounded-2xl border border-dashed border-white/10",children:"Nenhum tutorial encontrado para seu plano."});if(u){const v=e.findIndex(w=>w.id===u.id),y=v>0?e[v-1]:null,N=v<e.length-1?e[v+1]:null;return console.log("Nav Debug:",{currentIndex:v,prev:y==null?void 0:y.title,next:N==null?void 0:N.title}),a.jsx(zle,{tutorial:u,onBack:()=>m(null),onPrev:y?()=>m(y.id):void 0,onNext:N?()=>m(N.id):void 0,prevTitle:y==null?void 0:y.title,nextTitle:N==null?void 0:N.title})}return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((v,y)=>{const N=v.video_url||(v.type==="video"?v.content:""),w=x(N)||v.image_url;return a.jsxs("div",{onClick:()=>m(v.id),className:"group bg-white/5 border border-white/10 rounded-[2.5rem] overflow-hidden hover:border-primary/50 hover:shadow-[0_20px_40px_rgba(138,43,226,0.15)] transition-all duration-500 cursor-pointer relative flex flex-col h-full backdrop-blur-xl animate-in fade-in slide-in-from-bottom duration-500",style:{animationDelay:`${y*100}ms`},children:[a.jsxs("div",{className:"aspect-video bg-black/40 relative overflow-hidden flex-shrink-0",children:[w?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:w,alt:v.title,className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 group-hover:scale-110 transition-all duration-700"}),(v.type==="video"||v.video_url||N)&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-primary/20 backdrop-blur-md rounded-full flex items-center justify-center border border-white/20 group-hover:scale-125 transition-all duration-500 shadow-2xl",children:a.jsx(ps,{className:"w-6 h-6 text-white fill-white ml-1"})})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5 group-hover:bg-primary/5 transition-colors duration-500",children:a.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center border border-white/5 group-hover:border-primary/20",children:p(v.type)})}),a.jsx("div",{className:"absolute top-4 right-4 px-3 py-1.5 rounded-full bg-black/60 backdrop-blur-xl border border-white/10 text-[10px] font-black uppercase tracking-widest text-white/90",children:v.video_url||v.type==="video"||N?"Streaming":v.type})]}),a.jsxs("div",{className:"p-8 flex flex-col flex-1",children:[a.jsx("h4",{className:"font-display font-black italic uppercase italic text-lg text-white mb-3 leading-tight group-hover:text-primary transition-colors line-clamp-2 tracking-tighter",children:v.title}),a.jsx("p",{className:"text-sm font-medium text-gray-400 line-clamp-3 mb-6 flex-1 leading-relaxed",children:v.description||"Domine esta funcionalidade com nosso guia detalhado."}),a.jsx("div",{className:"w-full py-4 rounded-2xl bg-white/5 text-center text-xs font-black uppercase tracking-[0.2em] text-gray-300 group-hover:bg-primary group-hover:text-white group-hover:shadow-[0_10px_20px_rgba(138,43,226,0.3)] transition-all mt-auto border border-white/5 group-hover:border-primary",children:"Comear Agora"})]})]},v.id)})})},qle=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(!1),[s,i]=b.useState(!1),[l,d]=b.useState(""),u=async()=>{if(t.length<6){d("A senha deve ter pelo menos 6 caracteres.");return}n(!0),d("");try{const{error:f}=await V.auth.updateUser({password:t});if(f)throw f;i(!0)}catch(f){console.error(f),d(f.message||"Erro ao salvar senha.")}finally{n(!1)}};return s?a.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-6 flex items-center gap-4",children:[a.jsx(ut,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-bold text-lg",children:"Senha Definida!"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Agora voc pode acessar usando seu e-mail e senha."})]})]}):a.jsxs("div",{className:"bg-[#0F0F13] border border-white/10 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest mb-4",children:"Segurana da Conta"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Definir Senha de Acesso"}),a.jsxs("div",{className:"relative",children:[a.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 w-4 h-4"}),a.jsx("input",{type:"password",value:t,onChange:f=>e(f.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all",placeholder:"Nova senha"})]})]}),a.jsx("button",{onClick:u,disabled:r,className:"w-full md:w-auto bg-white text-black font-bold h-[48px] px-6 rounded-xl hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 min-w-[140px]",children:r?"Salvando...":a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"w-4 h-4"})," Salvar Senha"]})})]}),l&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:l}),a.jsx("p",{className:"text-gray-500 text-xs mt-3",children:"Recomendamos definir uma senha para facilitar seus prximos acessos sem depender de Magic Links."})]})},lC=({product:t,variant:e})=>{console.log(`[Banner] Rendering banner for "${t.name}" with URL: ${t.checkout_url}`);const r=e==="primary",n=r?"from-primary via-purple-600 to-indigo-600 shadow-primary/20":"from-orange-500 via-amber-500 to-yellow-500 shadow-orange-500/20",s=r?["#8A2BE2","#6A1BB2","#8A2BE2"]:["#F97316","#F59E0B","#F97316"],i=r?"from-primary to-indigo-600 shadow-primary/40":"from-orange-400 to-yellow-600 shadow-orange-500/40",l=r?"text-primary":"text-orange-400",d=r?"bg-primary hover:bg-primary-hover shadow-primary/20":"bg-orange-500 hover:bg-orange-600 shadow-orange-500/20",u=t.saas_plan_slug==="saas"?jr:Yt;return a.jsx("div",{className:`relative overflow-hidden rounded-3xl bg-gradient-to-r ${n} p-[1px] shadow-lg group`,children:a.jsxs("div",{className:"relative bg-[#0A0A0F] rounded-[23px] overflow-hidden p-6 md:p-8",children:[a.jsx("div",{className:"absolute inset-0 opacity-30 group-hover:opacity-40 transition-opacity",children:a.jsx(zs,{colorStops:s,amplitude:.8,blend:.6,speed:.5})}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${i} flex items-center justify-center shadow-lg shrink-0`,children:a.jsx(u,{className:"w-8 h-8 text-white animate-pulse"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl md:text-2xl font-black text-white leading-tight",children:t.name.split(" ").map((f,m)=>a.jsxs("span",{className:f.toLowerCase().includes("ilimitados")||f.toLowerCase().includes("parceiro")?l:"",children:[f," "]},m))}),a.jsx("p",{className:"text-gray-400 text-sm md:text-base mt-2 max-w-xl line-clamp-2",children:t.description})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:a.jsxs("a",{href:t.checkout_url,target:"_blank",rel:"noopener noreferrer",className:`w-full sm:w-auto px-8 py-4 ${d} text-white font-bold text-lg rounded-2xl border-none shadow-xl flex items-center justify-center gap-2 transform transition-all active:scale-95 cursor-pointer no-underline`,children:[r?a.jsx(gs,{className:"w-5 h-5 fill-current"}):a.jsx(jr,{className:"w-5 h-5"}),r?"Liberar Agora":"Quero Ser Parceiro"]})})]})]})})},Hle=({license:t,products:e})=>{if(t.plan==="whitelabel")return null;const r=t.plan!=="upgrade_domains"&&t.max_instances<=1&&e.some(l=>l.saas_plan_slug==="upgrade_domains"||l.saas_plan_slug==="whitelabel"),n=t.plan!=="saas"&&e.some(l=>l.saas_plan_slug==="saas"),s=e.find(l=>l.saas_plan_slug==="upgrade_domains"||l.saas_plan_slug==="whitelabel"),i=e.find(l=>l.saas_plan_slug==="saas");return a.jsxs("div",{className:"space-y-6",children:[r&&s&&a.jsx(lC,{product:s,variant:"primary",onNavigate:()=>{}}),n&&i&&a.jsx(lC,{product:i,variant:"orange",onNavigate:()=>{}})]})},Gle=()=>{const[t,e]=se.useState(null),[r,n]=se.useState(!0);se.useEffect(()=>{(async()=>{try{const{storage:l}=await Dr(async()=>{const{storage:f}=await Promise.resolve().then(()=>MT);return{storage:f}},void 0),u=(await l.getPublicSaaSProducts()).find(f=>f.saas_plan_slug==="saas");e(u)}catch(l){console.error("Error loading saas product for BlockOpportunity:",l)}finally{n(!1)}})()},[]);const s=(t==null?void 0:t.checkout_url)||"https://supercheckout.app/parceiros";return a.jsxs("div",{className:"space-y-24 animate-in fade-in slide-in-from-bottom-10 duration-1000 pb-32",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-[3rem] bg-[#05050A] border border-white/5 p-12 md:p-24 text-center group",children:[a.jsx("div",{className:"absolute inset-0 opacity-30 grayscale group-hover:grayscale-0 transition-all duration-1000",children:a.jsx(zs,{colorStops:["#8A2BE2","#4B0082","#9370DB"],amplitude:1.5,blend:.6,speed:.5})}),a.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-primary/20 rounded-full blur-[120px] pointer-events-none"}),a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-white/5 border border-white/10 text-primary text-xs font-black uppercase tracking-[0.3em] mb-10 backdrop-blur-md",children:[a.jsx(Ji,{className:"w-4 h-4"}),"Oportunidade de Negcio"]}),a.jsxs("h1",{className:"text-5xl md:text-8xl font-display font-black text-white leading-[0.9] mb-10 tracking-tighter italic uppercase",children:["TRANSFORME ",a.jsx("span",{className:"text-primary italic",children:"TECNOLOGIA"})," EM ",a.jsx("span",{className:"bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"LUCRO"})]}),a.jsxs("p",{className:"text-gray-400 text-xl md:text-2xl font-medium leading-relaxed max-w-2xl mx-auto mb-12",children:["Aprenda o processo de instalao do sistema e venda esse servio para clientes que voc indicar.",a.jsx("span",{className:"block mt-4 text-white font-bold",children:"Voc instala. Voc cobra. 100% do valor  seu."})]}),a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"group relative px-12 py-6 bg-primary text-white font-black text-xl rounded-2xl hover:scale-105 transition-all shadow-2xl shadow-primary/20 flex items-center gap-4 uppercase tracking-tighter italic",children:[a.jsx("span",{children:r?"CARREGANDO...":"ATIVAR PLANO PARCEIRO"}),a.jsx(Vt,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform"})]}),a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.3em]",children:"Acesso imediato ao treinamento + infraestrutura liberada"})]})]})]}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-display font-black text-white uppercase tracking-tighter italic",children:"COMO FUNCIONA NA PRTICA"}),a.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"O sistema  a ferramenta. A instalao  o servio que voc vende."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 p-10 rounded-[2.5rem] backdrop-blur-xl hover:border-primary/30 transition-all group",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:a.jsx(bc,{className:"w-7 h-7 text-primary"})}),a.jsx("h3",{className:"text-xl font-black text-white mb-4 uppercase tracking-tight italic",children:"1. Voc aprende o processo"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Acesso ao passo a passo completo para configurar o sistema em novos clientes de forma profissional."})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 p-10 rounded-[2.5rem] backdrop-blur-xl hover:border-primary/30 transition-all group",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:a.jsx(nte,{className:"w-7 h-7 text-primary"})}),a.jsx("h3",{className:"text-xl font-black text-white mb-4 uppercase tracking-tight italic",children:"2. Voc oferece o servio"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:"Pode vender para:"}),a.jsx("ul",{className:"space-y-2",children:["Clientes Prprios","Leads que voc gerar","Empresas parceiras"].map((i,l)=>a.jsxs("li",{className:"flex items-center gap-2 text-[10px] font-black text-gray-300 uppercase tracking-widest",children:[a.jsx(ut,{className:"w-3 h-3 text-primary"})," ",i]},l))})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 p-10 rounded-[2.5rem] backdrop-blur-xl hover:border-primary/30 transition-all group",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:a.jsx(Mm,{className:"w-7 h-7 text-green-500"})}),a.jsx("h3",{className:"text-xl font-black text-white mb-4 uppercase tracking-tight italic",children:"3. Voc cobra pela instalao"}),a.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Cobre entre ",a.jsx("strong",{className:"text-white font-bold",children:"R$500 a R$2.500"})," por setup. Sem comisso. Sem taxas ocultas. 100% seu."]})]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[3rem] p-12 md:p-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16 relative z-10",children:[a.jsxs("div",{className:"flex-1 space-y-8",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-display font-black text-white uppercase tracking-tighter italic leading-none",children:["QUANTO VOC ",a.jsx("br",{}),"PODE GANHAR"]}),a.jsx("p",{className:"text-gray-400 text-xl font-medium leading-relaxed",children:"O investimento se paga rapidamente. Depois disso, cada novo cliente  lucro direto na sua conta."}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{sales:3,price:"1.000",total:"3.000"},{sales:5,price:"1.500",total:"7.500"},{sales:10,price:"1.000",total:"10.000"}].map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5",children:[a.jsxs("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:[i.sales," instalaes de R$ ",i.price]}),a.jsxs("span",{className:"text-white font-black text-xl italic tracking-tighter",children:["R$ ",i.total]})]},l))})]}),a.jsx("div",{className:"w-full lg:w-96 shrink-0",children:a.jsxs("div",{className:"p-12 rounded-[2.5rem] bg-gradient-to-br from-primary to-purple-700 shadow-2xl shadow-primary/40 text-center",children:[a.jsx(X5,{className:"w-16 h-16 text-white mx-auto mb-6"}),a.jsx("div",{className:"text-[10px] text-white/60 uppercase font-black tracking-[0.3em] mb-2",children:"Margem de Lucro"}),a.jsx("div",{className:"text-7xl font-display font-black text-white mb-4 italic tracking-tighter leading-none",children:"100%"}),a.jsx("p",{className:"text-[10px] text-white/80 uppercase font-black tracking-widest",children:"NO COBRAMOS TAXAS SOBRE SEUS SERVIOS"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-4xl font-display font-black text-white uppercase tracking-tighter italic",children:"O QUE EST INCLUSO"}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:[{icon:bc,label:"Treinamento completo de instalao"},{icon:X5,label:"Processo validado passo a passo"},{icon:Ca,label:"Infraestrutura liberada para mltiplos clientes"},{icon:Ca,label:"rea para gesto dos seus projetos"},{icon:FZ,label:"Suporte prioritrio"}].map((i,l)=>a.jsxs("div",{className:"flex items-center gap-4 group",children:[a.jsx("div",{className:"p-3 bg-white/5 rounded-xl border border-white/5 group-hover:bg-primary/20 transition-colors",children:a.jsx(i.icon,{className:"w-5 h-5 text-primary"})}),a.jsx("span",{className:"text-gray-300 font-bold uppercase text-xs tracking-widest",children:i.label})]},l))})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 p-10 md:p-14 rounded-[3rem] space-y-8",children:[a.jsx("h2",{className:"text-3xl font-display font-black text-white uppercase tracking-tighter italic",children:"ESSE PLANO  PARA QUEM"}),a.jsx("div",{className:"space-y-6",children:["Quer gerar renda prestando servio digital","J trabalha com marketing, trfego ou tecnologia","Quer vender uma soluo pronta sem criar produto do zero","Quer escalar atendendo mltiplos clientes"].map((i,l)=>a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(gs,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-1"}),a.jsx("span",{className:"text-gray-400 font-medium leading-relaxed",children:i})]},l))})]})]}),a.jsxs("div",{className:"text-center space-y-12 py-24 bg-gradient-to-b from-white/5 to-transparent border border-white/10 rounded-[3rem] relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-primary/5 blur-[120px] pointer-events-none"}),a.jsxs("div",{className:"max-w-3xl mx-auto px-6 relative z-10",children:[a.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-black text-white uppercase italic tracking-tighter mb-8 leading-none",children:["PRONTO PARA VENDER ",a.jsx("br",{}),a.jsx("span",{className:"text-primary",children:"INSTALAES E LUCRAR?"})]}),a.jsx("p",{className:"text-gray-400 text-xl font-medium leading-relaxed mb-12",children:"Voc no precisa criar um sistema. Voc s precisa instalar e cobrar por isso."}),a.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex px-16 py-8 bg-white text-black font-black text-2xl rounded-[1.5rem] hover:scale-105 transition-all shadow-2xl shadow-white/10 items-center gap-4 uppercase tracking-tighter italic",children:[a.jsx("span",{children:r?"CARREGANDO...":"ATIVAR PLANO PARCEIRO AGORA"}),a.jsx(Vt,{className:"w-7 h-7 group-hover:translate-x-2 transition-transform"})]})]})]})]})},qd=10,Vle=({userId:t})=>{const[e,r]=b.useState({clients:0,installations:0,newToday:0}),[n,s]=b.useState([]),[i,l]=b.useState([]),[d,u]=b.useState(!0),[f,m]=b.useState(!1),[p,x]=b.useState(""),[v,y]=b.useState("all"),[N,w]=b.useState(1),[E,k]=b.useState(0),[S,A]=b.useState(new Set),C=`${window.location.origin}/register?partner=${t}`,O=async()=>{var M;if(t){u(!0);try{const[H,q]=await Promise.all([tn.from("profiles").select("id, created_at",{count:"exact"}).eq("referred_by_partner_id",t),tn.from("installations").select("id, hostname, status, created_at, profiles!inner(full_name, email, id)").eq("installed_by_partner_id",t)]),F=new Date,X=new Date(F.getFullYear(),F.getMonth(),F.getDate()),ue=(H.data||[]).filter(B=>new Date(B.created_at)>=X).length;r({clients:H.count||0,installations:((M=q.data)==null?void 0:M.length)||0,newToday:ue}),q.data&&s(q.data),await R(1,"","all")}catch(H){console.error("Error fetching partner data:",H),or.error("Erro ao carregar dados do parceiro")}finally{u(!1)}}},R=async(M,H,q)=>{m(!0);try{const F=(M-1)*qd,X=F+qd-1;let ue=tn.from("profiles").select("id, full_name, email, whatsapp, partner_consent, created_at",{count:"exact"}).eq("referred_by_partner_id",t).order("created_at",{ascending:!1});H&&(ue=ue.or(`full_name.ilike.%${H}%,email.ilike.%${H}%`));let{data:B,count:I,error:z}=await ue.range(F,X);if(z)throw z;l(B||[]),k(I||0)}catch(F){console.error("Error fetching leads:",F),or.error("Erro ao carregar rede de leads")}finally{m(!1)}};b.useEffect(()=>{O()},[t]),b.useEffect(()=>{const M=setTimeout(()=>{N!==1?w(1):R(1,p)},500);return()=>clearTimeout(M)},[p,v]),b.useEffect(()=>{R(N,p)},[N]);const L=M=>{var F;const H=(F=M.whatsapp)==null?void 0:F.replace(/\D/g,"");if(!H){or.error("Este lead no informou um nmero de WhatsApp vlido.");return}const q=encodeURIComponent(`Ol ${M.full_name}, vi que voc se cadastrou no Super Checkout e estou aqui para te ajudar com a configurao tcnica de 1 clique. Qual o melhor horrio para falarmos?`);window.open(`https://api.whatsapp.com/send?phone=${H}&text=${q}`,"_blank"),A(X=>new Set(X).add(M.id))},$=M=>{navigator.clipboard.writeText(M),or.success("Link copiado!")};return d?a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-4",children:[a.jsx("div",{className:"w-10 h-10 border-2 border-primary border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-[10px] animate-pulse",children:"Sincronizando Ecossistema..."})]}):(i.length,a.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-10 duration-700",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-[3rem] bg-gradient-to-br from-primary/20 via-primary/5 to-transparent border border-white/10 p-10 md:p-14",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-[120px] pointer-events-none"}),a.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/20 border border-primary/30 text-primary text-[10px] font-black uppercase tracking-widest",children:[a.jsx(Ji,{className:"w-3.5 h-3.5"}),"Painel de Prestador Oficial"]}),a.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-black text-white italic uppercase tracking-tighter leading-none",children:["CENTRAL DO ",a.jsx("span",{className:"text-primary",children:"PARCEIRO"})]}),a.jsx("p",{className:"text-gray-400 font-medium text-lg max-w-xl leading-relaxed",children:"Gerencie seus leads, preste suporte tcnico e acompanhe suas instalaes em tempo real."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 shrink-0",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 p-5 rounded-3xl backdrop-blur-xl",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest mb-1",children:"Leads Totais"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-3xl font-display font-black text-white italic",children:e.clients}),e.newToday>0&&a.jsxs("span",{className:"px-2 py-0.5 rounded-lg bg-green-500/20 text-green-400 text-[10px] font-black animate-pulse",children:["+",e.newToday," HOJE"]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 p-5 rounded-3xl backdrop-blur-xl",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest mb-1",children:"Instalaes"}),a.jsx("span",{className:"text-3xl font-display font-black text-primary italic",children:e.installations})]})]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-8 md:p-12 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-primary/5 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("h3",{className:"text-xl font-display font-black text-white italic uppercase tracking-tighter flex items-center gap-3",children:[a.jsx(gs,{className:"w-5 h-5 text-primary"}),"Link de Atribuio"]}),a.jsx("p",{className:"text-gray-400 font-medium text-sm leading-relaxed",children:"Use este link para viralizar contedos e captar novos leads tcnicos."})]}),a.jsxs("div",{className:"w-full md:w-auto flex items-center gap-2 bg-black/40 border border-white/5 px-6 py-4 rounded-2xl group-hover:border-primary/20 transition-all",children:[a.jsx("span",{className:"text-xs font-mono text-gray-500 truncate max-w-[200px]",children:C}),a.jsx("button",{onClick:()=>$(C),className:"p-2 hover:text-primary transition-colors",children:a.jsx(Pt,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-2xl font-display font-black text-white italic uppercase tracking-tighter",children:"Minha Rede de Leads"}),a.jsx("p",{className:"text-sm text-gray-500 font-medium italic",children:"Gerencie e entre em contato com potenciais clientes"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(Vn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 group-focus-within:text-primary transition-colors"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail...",className:"bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-sm text-white outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/40 transition-all w-full sm:w-64 font-medium",value:p,onChange:M=>x(M.target.value)})]}),a.jsx("div",{className:"flex bg-white/5 border border-white/10 rounded-2xl p-1",children:["all","pending","converted"].map(M=>a.jsx("button",{onClick:()=>y(M),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${v===M?"bg-primary text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:M==="all"?"Todos":M==="pending"?"Pendentes":"Ativos"},M))})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] overflow-hidden backdrop-blur-xl relative min-h-[400px]",children:[f&&a.jsx("div",{className:"absolute inset-0 bg-[#05050A]/40 backdrop-blur-sm z-20 flex items-center justify-center",children:a.jsx(Yle,{icon:j1,label:"Atualizando Lista..."})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Lead / Identificao"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Cadastro"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Consentimento"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic text-right",children:"Aes de Converso"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:i.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-8 py-32 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center text-gray-600",children:a.jsx(jr,{className:"w-8 h-8 opacity-20"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-white font-bold uppercase italic tracking-tighter",children:"Nenhum lead encontrado"}),a.jsx("p",{className:"text-gray-500 text-sm font-medium italic",children:"Divulgue seu link para comear a captar."})]})]})})}):i.map(M=>{var X;const H=new Date(M.created_at)>=new Date(new Date().setDate(new Date().getDate()-1)),q=S.has(M.id),F=n.some(ue=>{var B;return((B=ue.profiles)==null?void 0:B.id)===M.id});return a.jsxs("tr",{className:"group hover:bg-white/5 transition-all",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-[10px] font-black ${F?"bg-green-500/10 text-green-500":"bg-primary/10 text-primary"}`,children:(X=M.full_name)==null?void 0:X.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold text-white uppercase tracking-tighter italic font-display",children:M.full_name}),H&&a.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-primary/20 text-primary text-[8px] font-black animate-pulse",children:"SANGUE NOVO"})]}),a.jsx("div",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest",children:M.email})]})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"text-xs text-gray-400 font-medium italic flex items-center gap-2",children:[a.jsx(ui,{className:"w-3.5 h-3.5 text-gray-600"}),new Date(M.created_at).toLocaleDateString()]})}),a.jsx("td",{className:"px-8 py-6",children:M.partner_consent?a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-500/10 text-blue-400 text-[10px] font-black uppercase tracking-widest border border-blue-500/20",children:[a.jsx(OD,{className:"w-3.5 h-3.5"}),"Autorizado"]}):a.jsx("span",{className:"text-[10px] text-gray-600 font-bold uppercase tracking-widest italic",children:"No Informado"})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{onClick:()=>L(M),className:`p-2.5 rounded-xl border transition-all flex items-center gap-2 text-[10px] font-black uppercase tracking-widest
                                                                ${q?"bg-white/5 border-white/10 text-gray-500 grayscale":"bg-green-500/10 border-green-500/20 text-green-500 hover:scale-110 active:scale-95 shadow-lg shadow-green-500/5"}`,children:[a.jsx(gu,{className:"w-4 h-4"}),q?"J Abordado":"Chamar no Zap"]}),a.jsx("button",{onClick:()=>window.location.href=`mailto:${M.email}`,className:"p-2.5 rounded-xl bg-white/5 border border-white/5 text-gray-500 hover:text-white hover:border-white/20 transition-all",children:a.jsx(At,{className:"w-4 h-4"})})]})})]},M.id)})})]})}),E>qd&&a.jsxs("div",{className:"p-8 border-t border-white/5 flex items-center justify-between bg-white/[0.02]",children:[a.jsxs("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest italic",children:["Mostrando ",Math.min(N*qd,E)," de ",E," leads"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{disabled:N===1,onClick:()=>w(M=>M-1),className:"p-2 rounded-xl bg-white/5 border border-white/5 text-gray-500 hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all",children:a.jsx(Ki,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-sm font-black text-white italic",children:N}),a.jsx("button",{disabled:N*qd>=E,onClick:()=>w(M=>M+1),className:"p-2 rounded-xl bg-white/5 border border-white/5 text-gray-500 hover:text-white disabled:opacity-20 disabled:cursor-not-allowed transition-all",children:a.jsx(ha,{className:"w-5 h-5"})})]})]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] overflow-hidden backdrop-blur-xl",children:[a.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center justify-between bg-white/[0.02]",children:[a.jsxs("h3",{className:"text-lg font-display font-black text-white italic uppercase tracking-tighter flex items-center gap-3",children:[a.jsx(Yt,{className:"w-5 h-5 text-primary"}),"Ecossistema de Instalaes"]}),a.jsx("div",{className:"px-4 py-1.5 rounded-full bg-white/5 border border-white/5 text-[10px] font-black uppercase text-gray-500 tracking-widest italic",children:"Technical View"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Proprietrio"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Hostname"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Status"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-8 py-20 text-center text-gray-500 italic font-medium",children:"Nenhuma instalao tcnica vinculada."})}):n.map(M=>{var H,q;return a.jsxs("tr",{className:"group hover:bg-white/5 transition-all",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("div",{className:"font-bold text-white uppercase tracking-tighter italic font-display",children:(H=M.profiles)==null?void 0:H.full_name}),a.jsx("div",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest",children:(q=M.profiles)==null?void 0:q.email})]}),a.jsx("td",{className:"px-8 py-6 text-sm text-gray-400 font-mono italic",children:M.hostname}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${M.status==="active"?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20"}`,children:M.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})," Online"]}):a.jsxs(a.Fragment,{children:[a.jsx(qn,{className:"w-3 h-3"})," Pendente"]})})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{className:"p-2 rounded-xl bg-white/5 border border-white/5 text-gray-500 hover:text-primary hover:border-primary/30 transition-all",children:a.jsx(ND,{className:"w-4 h-4"})})})]},M.id)})})]})})]}),a.jsxs("div",{className:"p-8 rounded-[2rem] bg-red-500/5 border border-red-500/20 flex items-start gap-5 opacity-80 hover:opacity-100 transition-opacity",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 border border-red-500/20 shrink-0",children:a.jsx(en,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-display font-black text-white italic uppercase tracking-tighter text-sm",children:"Poltica de Excelncia Tcnica"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-3xl font-medium leading-relaxed",children:"Seu acesso como parceiro depende da manuteno da qualidade das instalaes. O uso indevido da infraestrutura master para projetos no autorizados resultar em revogao imediata."})]})]})]}))},Yle=({icon:t,label:e})=>a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(t,{className:"w-8 h-8 text-primary animate-spin"}),a.jsx("p",{className:"text-[10px] text-primary font-black uppercase tracking-[0.2em] italic",children:e})]}),Wle=({user:t,license:e,onNavigate:r})=>{var n,s;return a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-10 md:p-14 backdrop-blur-xl relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-[100px] -mr-32 -mt-32 pointer-events-none group-hover:bg-primary/20 transition-all duration-700"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center gap-10",children:[a.jsxs("div",{className:"w-24 h-24 rounded-[2rem] bg-white/5 border border-white/10 flex items-center justify-center relative group/avatar",children:[a.jsx(Ra,{className:"w-10 h-10 text-gray-500 group-hover/avatar:text-primary transition-colors duration-500"}),a.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg border-2 border-[#05050A]",children:a.jsx(Yn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("h3",{className:"text-4xl font-display font-black text-white italic uppercase tracking-tighter",children:((n=t==null?void 0:t.user_metadata)==null?void 0:n.full_name)||((s=t==null?void 0:t.user_metadata)==null?void 0:s.name)||"Cliente"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white/5 border border-white/5 px-4 py-1.5 rounded-full",children:[a.jsx(At,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{className:"text-sm font-bold text-gray-300",children:t==null?void 0:t.email})]}),a.jsx("div",{className:"flex items-center gap-2 bg-primary/10 border border-primary/20 px-4 py-1.5 rounded-full",children:a.jsxs("span",{className:"text-[10px] font-black text-primary uppercase tracking-[0.2em] italic",children:["Plano ",(e==null?void 0:e.plan)==="upgrade_domains"?"DOMNIOS ILIMITADOS":(e==null?void 0:e.plan)==="saas"?"PARCEIRO":e==null?void 0:e.plan]})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-12",children:[a.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8 hover:bg-white/[0.07] transition-all duration-300",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"ID do Usurio"}),a.jsx("p",{className:"text-sm font-mono text-gray-400 break-all",children:t==null?void 0:t.id})]}),a.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8 hover:bg-white/[0.07] transition-all duration-300",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Membro desde"}),a.jsx("p",{className:"text-sm font-bold text-white uppercase italic tracking-tighter",children:new Date(t==null?void 0:t.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})})]})]})]}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-10 md:p-14 backdrop-blur-xl relative overflow-hidden group/security",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-2xl font-display font-black text-white italic uppercase tracking-tighter",children:"Segurana da Conta"}),a.jsx("p",{className:"text-gray-400 font-medium",children:"Proteja seu acesso ou altere sua senha de entrada."})]}),a.jsxs("button",{onClick:()=>r("security"),className:"group/btn flex items-center gap-3 bg-white text-black font-black uppercase text-sm px-8 py-4 rounded-2xl transition-all hover:scale-105 active:scale-95 shadow-xl shadow-white/5 tracking-tighter italic",children:[a.jsx("span",{children:"Gerenciar Senha"}),a.jsx(Vt,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})]})})]})},ua=({icon:t,label:e,active:r,onClick:n})=>a.jsxs("button",{onClick:n,className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group ${r?"bg-primary/10 text-primary border border-primary/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5 border border-transparent"}`,children:[a.jsx(t,{className:`w-5 h-5 transition-colors ${r?"text-primary":"text-gray-500 group-hover:text-gray-400"}`}),a.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:e})]}),Xle=()=>{var A,C,O;const t=gt(),[e,r]=b.useState(null),[n,s]=b.useState(null),[i,l]=b.useState([]),[d,u]=b.useState([]),[f,m]=b.useState(!0),[p,x]=b.useState("home"),[v,y]=b.useState(!1),N=R=>{x(R),window.innerWidth<768&&y(!1),window.scrollTo({top:0,behavior:"smooth"})},w=async()=>{m(!0);try{const R=await wn.activateFree();R.success?await E():alert(R.message||"Falha ao ativar licena.")}catch(R){console.error("Activation error:",R),alert(R.message||"Erro ao ativar sua licena gratuita.")}finally{m(!1)}},E=async()=>{m(!0);try{const{centralSupabase:R}=await Dr(async()=>{const{centralSupabase:F}=await Promise.resolve().then(()=>Vi);return{centralSupabase:F}},void 0),{data:{user:L}}=await R.auth.getUser();if(!L){console.log("[ActivationPortal] No central session found, redirecting..."),t("/activate");return}r(L);const[$,M,H]=await Promise.all([wn.getLicenseByUserId(L.id,L.email),wn.getOfficialPlans(),ce.getPublicSaaSProducts()]),q=M.map(F=>{const X=H.find(ue=>ue.saas_plan_slug===F.saas_plan_slug||F.saas_plan_slug==="whitelabel"&&ue.saas_plan_slug==="upgrade_domains"||F.saas_plan_slug==="upgrade_domains"&&ue.saas_plan_slug==="whitelabel");return X?(console.log("[NUCLEAR DEBUG] Match found!",{centralSlug:F.saas_plan_slug,localSlug:X.saas_plan_slug,localUrl:X.checkout_url}),{...F,name:X.name||F.name,description:X.description||F.description,imageUrl:X.imageUrl||F.imageUrl,price_real:X.price_real||F.price_real,checkout_url:X.checkout_url||F.checkout_url}):F});if(console.log("[NUCLEAR DEBUG] Merged Plans Summary:",q.map(F=>({slug:F.saas_plan_slug,url:F.checkout_url}))),s($),u(q),$){const F=await wn.getMyInstallations();l(F)}}catch(R){console.error("Error loading activation data:",R)}finally{m(!1)}};b.useEffect(()=>{E()},[]);const k=async()=>{const{centralSupabase:R}=await Dr(async()=>{const{centralSupabase:L}=await Promise.resolve().then(()=>Vi);return{centralSupabase:L}},void 0);await R.auth.signOut(),t("/activate")};if(f)return a.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center text-white",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-primary"})});if(!n)return a.jsxs("div",{className:"min-h-screen bg-[#020205] flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[a.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[70%] h-[70%] bg-primary/20 rounded-full blur-[150px] animate-pulse pointer-events-none"}),a.jsx("div",{className:"absolute bottom-[-10%] left-[-20%] w-[60%] h-[60%] bg-indigo-500/10 rounded-full blur-[130px] pointer-events-none"}),a.jsxs("div",{className:"relative z-10 w-full max-w-xl",children:[a.jsxs("div",{className:"bg-white/[0.02] border border-white/10 backdrop-blur-2xl rounded-[3rem] p-8 md:p-16 shadow-[0_32px_64px_-16px_rgba(0,0,0,0.5)] text-center animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-10",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-ping"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400 italic",children:"Identidade Confirmada"})]}),a.jsxs("div",{className:"relative inline-block mb-12",children:[a.jsx("div",{className:"absolute inset-0 bg-primary blur-[40px] opacity-20 animate-pulse"}),a.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-primary to-indigo-600 rounded-[2.5rem] flex items-center justify-center shadow-2xl rotate-3 hover:rotate-0 transition-transform duration-500",children:a.jsx(gs,{className:"w-12 h-12 text-white fill-white"})})]}),a.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6 leading-[0.9] tracking-tighter uppercase italic",children:["O PRXIMO NVEL ",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary to-indigo-400 bg-clip-text text-transparent",children:"COMEA AGORA."})]}),a.jsxs("p",{className:"text-gray-400 mb-12 text-lg font-medium leading-relaxed max-w-md mx-auto",children:["Tudo pronto, ",a.jsx("span",{className:"text-white font-bold",children:((C=(A=e==null?void 0:e.user_metadata)==null?void 0:A.full_name)==null?void 0:C.split(" ")[0])||"Campeo"}),"! Sua conta est vinculada. Agora, ative sua licena tecnolgica para desbloquear o painel."]}),a.jsx("div",{className:"grid grid-cols-1 gap-3 mb-12 text-left",children:[{text:"Infraestrutura Starter Ativada",detail:"Hospedagem inclusa para seu checkout"},{text:"Licena Vitalcia Garantida",detail:"Sem mensalidades na verso base"},{text:"Proteo Anti-Fraude Ativa",detail:"Camada de segurana central ligada"}].map((R,L)=>a.jsxs("div",{className:"flex gap-4 bg-white/[0.03] p-5 rounded-3xl border border-white/5 hover:bg-white/[0.05] transition-colors group",children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-primary/10 flex items-center justify-center text-primary group-hover:scale-110 transition-transform",children:a.jsx(pt,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-black text-white uppercase italic tracking-tight leading-none mb-1",children:R.text}),a.jsx("div",{className:"text-[11px] text-gray-500 font-bold uppercase tracking-wider",children:R.detail})]})]},L))}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("button",{onClick:w,disabled:f,className:"w-full py-6 bg-white text-black hover:bg-primary hover:text-white rounded-[2.5rem] transition-all duration-500 font-black uppercase italic tracking-tighter text-xl shadow-[0_20px_40px_-10px_rgba(255,255,255,0.2)] hover:shadow-primary/40 flex items-center justify-center gap-3 overflow-hidden relative group",children:f?a.jsx(lt,{className:"w-8 h-8 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"relative z-10 transition-transform group-hover:-translate-x-1",children:"Desbloquear Meu Acesso"}),a.jsx(Vt,{className:"w-6 h-6 relative z-10 group-hover:translate-x-2 transition-transform"}),a.jsx("div",{className:"absolute inset-0 bg-primary translate-y-full group-hover:translate-y-0 transition-transform duration-500"})]})}),a.jsx("p",{className:"text-[10px] text-gray-600 font-bold uppercase tracking-[0.3em]",children:"Processamento seguro via Super Checkout Central"})]})]}),a.jsx("div",{className:"mt-8 flex justify-center gap-8",children:a.jsxs("button",{onClick:k,className:"text-gray-500 hover:text-white font-bold uppercase text-[10px] tracking-[0.2em] transition-all flex items-center gap-2 group",children:[a.jsx(Fo,{className:"w-3 h-3 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Trocar de Identidade"})]})})]})]});const S=()=>{var R;switch(p){case"home":return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-primary/10 via-transparent to-transparent border border-white/5 p-8 md:p-16",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-[120px] pointer-events-none"}),a.jsxs("h1",{className:"font-display italic font-black text-4xl md:text-7xl text-white uppercase tracking-tighter mb-6 leading-none",children:["BEM-VINDO AO ",a.jsx("span",{className:"bg-gradient-to-r from-primary to-indigo-400 bg-clip-text text-transparent",children:"PORTAL"})]}),a.jsxs("p",{className:"text-gray-400 text-lg md:text-xl max-w-2xl font-medium leading-relaxed",children:["Configure sua licena, gerencie instalaes e acesse o ecossistema ",a.jsx("strong",{children:"Super Checkout"})," em um ambiente premium de alta performance."]})]}),a.jsx(Ule,{license:n,userName:((R=e==null?void 0:e.user_metadata)==null?void 0:R.name)||(e==null?void 0:e.email)}),a.jsx(Hle,{license:n,products:d,onNavigate:L=>N(L)})]});case"license":return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-8 font-display uppercase tracking-tighter italic",children:"Minha Licena"}),a.jsx($le,{license:n})]});case"install":return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-8 font-display uppercase tracking-tighter italic",children:"Instalao"}),a.jsx(Ble,{license:n,installations:i,onRefresh:E,onNavigate:L=>N(L)})]});case"tutorials":return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-8 font-display uppercase tracking-tighter italic",children:"Tutoriais"}),a.jsx(Fle,{planType:n.plan})]});case"security":return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-8 font-display uppercase tracking-tighter italic",children:"Segurana"}),a.jsx(qle,{})]});case"opportunity":return a.jsx("div",{className:"animate-in fade-in duration-500",children:a.jsx(Gle,{})});case"partner":return a.jsx("div",{className:"animate-in fade-in duration-500",children:a.jsx(Vle,{userId:e.id})});case"profile":return a.jsxs("div",{className:"animate-in fade-in duration-500",children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-8 font-display uppercase tracking-tighter italic",children:"Minha Conta"}),a.jsx(Wle,{user:e,license:n,onNavigate:N})]});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-textMain flex overflow-hidden font-sans",children:[a.jsx("aside",{className:"hidden lg:flex w-72 flex-col fixed inset-y-0 border-r border-white/5 bg-[#05050A]/80 backdrop-blur-2xl z-50",children:a.jsxs("div",{className:"p-8 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-12 px-2",children:[a.jsx("div",{className:"w-11 h-11 bg-primary rounded-2xl flex items-center justify-center font-display font-black text-white shadow-2xl shadow-primary/40 text-xl italic",children:"S"}),a.jsxs("div",{children:[a.jsxs("h1",{className:"font-display font-black text-lg leading-tight uppercase tracking-tighter italic",children:["Super ",a.jsx("span",{className:"text-primary",children:"Checkout"})]}),a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em]",children:"Customer Portal"})]})]}),a.jsxs("nav",{className:"flex-1 space-y-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:[a.jsx(ua,{icon:Ey,label:"Dashboard",active:p==="home",onClick:()=>N("home")}),a.jsx(ua,{icon:Hn,label:"Dados de Acesso",active:p==="license",onClick:()=>N("license")}),a.jsx(ua,{icon:ei,label:"Instalao",active:p==="install",onClick:()=>N("install")}),a.jsx(ua,{icon:Ny,label:"Tutoriais",active:p==="tutorials",onClick:()=>N("tutorials")}),a.jsx(ua,{icon:Yn,label:"Segurana",active:p==="security",onClick:()=>N("security")}),n.plan!=="saas"?a.jsx("div",{className:"pt-6 mt-6 border-t border-white/5",children:a.jsx(ua,{icon:Ji,label:"Upgrade & Negcios",active:p==="opportunity",onClick:()=>N("opportunity")})}):a.jsx("div",{className:"pt-6 mt-6 border-t border-white/5",children:a.jsx(ua,{icon:jy,label:"Painel do Parceiro",active:p==="partner",onClick:()=>N("partner")})})]}),a.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5",children:[a.jsxs("button",{onClick:()=>N("profile"),className:`w-full flex items-center gap-3 px-2 mb-4 p-3 rounded-2xl transition-all duration-300 group/user ${p==="profile"?"bg-primary/10 border-primary/20":"hover:bg-white/5 border-transparent"} border`,children:[a.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center transition-colors ${p==="profile"?"bg-primary text-white":"bg-white/5 border border-white/5 text-gray-500 group-hover/user:text-gray-300"}`,children:a.jsx(Ra,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-bold truncate uppercase tracking-tight transition-colors ${p==="profile"?"text-white":"text-gray-400 group-hover/user:text-white"}`,children:((O=e==null?void 0:e.user_metadata)==null?void 0:O.name)||"Cliente"}),a.jsx("p",{className:"text-[10px] text-primary font-black uppercase tracking-[0.2em] italic transition-opacity group-hover/user:opacity-100 opacity-70",children:n.plan})]}),a.jsx(Uu,{className:`w-4 h-4 transition-all duration-500 ${p==="profile"?"text-primary rotate-90":"text-gray-600 group-hover/user:text-gray-400"}`})]}),a.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white/5 text-gray-400 hover:text-red-400 hover:bg-red-400/5 transition-all text-sm font-bold border border-transparent hover:border-red-400/10",children:[a.jsx(Fo,{className:"w-4 h-4"})," Sair da Conta"]})]})]})}),a.jsxs("header",{className:"lg:hidden fixed top-0 inset-x-0 h-16 bg-dark-bg/80 backdrop-blur-xl border-b border-white/5 flex items-center justify-between px-6 z-40",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-xl flex items-center justify-center font-display font-black text-white text-sm italic",children:"S"}),a.jsx("span",{className:"font-display font-black text-sm tracking-tighter uppercase italic",children:"Super Checkout"})]}),a.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-400",children:a.jsx(w1,{className:"w-6 h-6"})})]}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 md:hidden backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>y(!1),children:a.jsxs("div",{className:"absolute left-0 inset-y-0 w-72 bg-dark-bg border-r border-white/10 p-8 flex flex-col slide-in-from-left animate-in duration-300",onClick:R=>R.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-10",children:[a.jsx("span",{className:"font-display font-black text-lg tracking-tighter uppercase italic",children:"Menu"}),a.jsx("button",{onClick:()=>y(!1),className:"text-gray-400",children:a.jsx(Mr,{})})]}),a.jsxs("nav",{className:"space-y-2 flex-1",children:[a.jsx(ua,{icon:Ra,label:"Minha Conta",active:p==="profile",onClick:()=>N("profile")}),a.jsx(ua,{icon:Ey,label:"Dashboard",active:p==="home",onClick:()=>N("home")}),a.jsx(ua,{icon:Hn,label:"Licena",active:p==="license",onClick:()=>N("license")}),a.jsx(ua,{icon:ei,label:"Instalar",active:p==="install",onClick:()=>N("install")}),a.jsx(ua,{icon:Ny,label:"Treinar",active:p==="tutorials",onClick:()=>N("tutorials")}),a.jsx(ua,{icon:Yn,label:"Segurana",active:p==="security",onClick:()=>N("security")}),n.plan!=="saas"?a.jsx(ua,{icon:Ji,label:"Upgrade",active:p==="opportunity",onClick:()=>N("opportunity")}):a.jsx(ua,{icon:jy,label:"Parceiro",active:p==="partner",onClick:()=>N("partner")})]}),a.jsxs("button",{onClick:k,className:"mt-auto flex items-center gap-3 px-4 py-3 text-red-500 font-bold border border-red-500/20 rounded-xl bg-red-500/5",children:[a.jsx(Fo,{className:"w-4 h-4"})," Sair"]})]})}),a.jsx("main",{className:"flex-1 lg:ml-72 min-h-screen overflow-y-auto overflow-x-hidden",children:a.jsxs("div",{className:"p-6 lg:p-12 pt-24 lg:pt-16 max-w-6xl mx-auto pb-32 relative",children:[a.jsx("div",{className:"fixed top-[-10%] right-[-10%] w-[50%] h-[50%] bg-primary/5 rounded-full blur-[120px] pointer-events-none -z-10"}),S()]})})]})},Kle={video:"Vdeo (YouTube)",text:"Texto (Corpo)",image:"Imagem (Capa/Banner)",file:"Arquivo (Download)",link:"Link Externo"},Jle={video:Dp,text:oa,image:Lu,file:ti,link:ti},Qle=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null),[l,d]=b.useState({}),[u,f]=b.useState(!1);b.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:k}=await V.from("activation_content").select("*").order("order",{ascending:!0});k&&e(k),n(!1)},p=()=>{i("new"),d({title:"",type:"mixed",content:"",description:"",plan_scope:"all",active:!0,order:t.length,content_order:["video","text","file","image"]})},x=k=>{i(k.id);const S=["video","text","file","image"];d({...k,content_order:k.content_order&&k.content_order.length>0?k.content_order:S})},v=async()=>{try{const k={...l,content_order:l.content_order||["video","text","file","image"]};s==="new"?await V.from("activation_content").insert([k]):await V.from("activation_content").update(k).eq("id",s),i(null),m()}catch(k){console.error("Error saving:",k),alert("Erro ao salvar")}},y=async k=>{confirm("Tem certeza?")&&(await V.from("activation_content").delete().eq("id",k),m())},N=async k=>{if(!k.target.files||k.target.files.length===0)return;const S=k.target.files[0];f(!0);try{const A=S.name.split(".").pop(),O=`${`${Math.random()}.${A}`}`,{error:R}=await V.storage.from("activation-assets").upload(O,S);if(R)throw R;const{data:{publicUrl:L}}=V.storage.from("activation-assets").getPublicUrl(O);d({...l,image_url:L})}catch(A){console.error("Upload Error:",A),alert("Erro ao fazer upload da imagem.")}finally{f(!1)}},w=(k,S)=>{if(!l.content_order)return;const A=[...l.content_order];S==="up"&&k>0?[A[k],A[k-1]]=[A[k-1],A[k]]:S==="down"&&k<A.length-1&&([A[k],A[k+1]]=[A[k+1],A[k]]),d({...l,content_order:A})},E=k=>{switch(k){case"text":return a.jsx("textarea",{value:l.content||"",onChange:S=>d({...l,content:S.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none h-24 font-mono text-sm resize-y",placeholder:"Texto do corpo..."});case"video":return a.jsx("input",{type:"text",value:l.video_url||"",onChange:S=>d({...l,video_url:S.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none text-sm",placeholder:"URL do YouTube (ex: https://youtube.com/watch?v=...)"});case"file":return a.jsx("input",{type:"text",value:l.file_url||"",onChange:S=>d({...l,file_url:S.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none text-sm",placeholder:"URL do Arquivo para Download..."});case"image":return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l.image_url||"",onChange:S=>d({...l,image_url:S.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none text-sm",placeholder:"URL da Imagem..."}),a.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 p-2 rounded-lg transition-colors relative",children:[u?a.jsx(lt,{className:"w-5 h-5 animate-spin"}):a.jsx(ia,{className:"w-5 h-5"}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:N,disabled:u})]})]}),l.image_url&&a.jsxs("div",{className:"relative w-32 h-20 bg-black/40 rounded-lg overflow-hidden border border-white/10 group",children:[a.jsx("img",{src:l.image_url,className:"w-full h-full object-cover"}),a.jsx("button",{onClick:()=>d({...l,image_url:""}),className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Mr,{className:"w-4 h-4 text-white"})})]})]});default:return null}};return a.jsx(Nt,{children:a.jsxs("div",{className:"p-6 max-w-6xl mx-auto text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Contedo de Ativao"}),a.jsx("p",{className:"text-gray-400",children:"Gerencie os tutoriais, organize a ordem dos elementos e faa uploads."})]}),a.jsxs("button",{onClick:p,className:"bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[a.jsx(pr,{className:"w-5 h-5"})," Novo Bloco"]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx(lt,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-20",children:[a.jsx("div",{className:"space-y-3",children:t.map(k=>a.jsxs("div",{onClick:()=>x(k),className:`p-4 rounded-xl border cursor-pointer transition-all flex items-center justify-between ${s===k.id?"bg-white/10 border-primary shadow-lg shadow-primary/5":"bg-[#0F0F13] border-white/10 hover:border-white/20"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-gray-600 font-mono text-xs w-6",children:["#",k.order]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-sm",children:k.title}),a.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:k.description||"Sem descrio"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[k.image_url&&a.jsx(Lu,{className:"w-3 h-3 text-gray-500"}),k.video_url&&a.jsx(Dp,{className:"w-3 h-3 text-gray-500"}),a.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border ml-2 ${k.active?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:k.active?"Ativo":"Inativo"})]})]},k.id))}),s&&a.jsxs("div",{className:"bg-[#1A1A1A] border border-white/10 rounded-xl p-6 h-fit sticky top-6 animate-in slide-in-from-right-4 fade-in duration-300",children:[a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center justify-between",children:[a.jsx("span",{children:s==="new"?"Novo Contedo":"Editar Contedo"}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-500 hover:text-white",children:a.jsx(Mr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Ttulo"}),a.jsx("input",{type:"text",value:l.title||"",onChange:k=>d({...l,title:k.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Descrio Curta"}),a.jsx("input",{type:"text",value:l.description||"",onChange:k=>d({...l,description:k.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Escopo"}),a.jsxs("select",{value:l.plan_scope||"all",onChange:k=>d({...l,plan_scope:k.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none text-sm",children:[a.jsx("option",{value:"all",children:"Todos"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"agency",children:"Agency"}),a.jsx("option",{value:"master",children:"Master"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Ordem"}),a.jsx("input",{type:"number",value:l.order||0,onChange:k=>d({...l,order:parseInt(k.target.value)}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-2 text-white focus:border-primary outline-none text-sm"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-white/5",children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-3",children:"Contedo e Organizao"}),a.jsx("div",{className:"space-y-3",children:(l.content_order||["video","text","file","image"]).map((k,S)=>{var C;const A=Jle[k]||oa;return a.jsxs("div",{className:"bg-[#0F0F13] border border-white/5 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-white/5 px-3 py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(A,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-bold text-gray-300",children:Kle[k]||k})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>w(S,"up"),disabled:S===0,className:"p-1 hover:bg-white/10 rounded text-gray-400 disabled:opacity-30",children:a.jsx(eZ,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>w(S,"down"),disabled:S===(((C=l.content_order)==null?void 0:C.length)||4)-1,className:"p-1 hover:bg-white/10 rounded text-gray-400 disabled:opacity-30",children:a.jsx(XQ,{className:"w-3 h-3"})})]})]}),a.jsx("div",{className:"p-3",children:E(k)})]},k)})})]}),a.jsxs("div",{className:"flex gap-2 pt-6 border-t border-white/5",children:[a.jsxs("button",{onClick:v,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4"})," Salvar Alteraes"]}),s!=="new"&&a.jsx("button",{onClick:()=>y(s),className:"px-4 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded-lg",children:a.jsx(Pr,{className:"w-4 h-4"})})]})]})]})]})]})})},Zle=({children:t})=>{const{setInstallationId:e}=Ky(),[r,n]=b.useState(null),[s,i]=b.useState(""),[l,d]=b.useState(!0),f=(typeof window<"u"?localStorage.getItem("installer_license_key"):null)||void 0;return b.useEffect(()=>{(async()=>{var x;if(window.location.pathname.startsWith("/installer")){n(!0),d(!1);return}if(f==="03592c87-4b69-4381-9b3d-38b01d678c4c"){console.log(" MASTER KEY DETECTED - BYPASSING ALL CHECKS"),localStorage.setItem("license_role","owner"),localStorage.setItem("license_usage_type","commercial"),n(!0),d(!1);return}const p=window.location.hostname;console.log(`[LicenseGuard] Verifying access for: ${p}`);try{if((V.supabaseUrl||"").includes("placeholder")||!f){console.warn("[LicenseGuard] App not configured (Placeholder URL or Missing Key). Redirecting to installer..."),window.location.href="/installer";return}const y=[p,`https://${p}`,`http://${p}`,p.replace("www.",""),`www.${p}`],{data:N,error:w}=await V.from("domains").select("type, status, usage").in("domain",y).maybeSingle();if(w){if(console.error("[LicenseGuard] DB verification failed:",w),(w.message.includes("Failed to fetch")||w.message.includes("Mismatched"))&&!localStorage.getItem("installer_supabase_url")){console.warn("[LicenseGuard] Connection failed and no local config. potential fresh install. Redirecting..."),window.location.href="/installer";return}const O=JSON.stringify(w,null,2),R=(w==null?void 0:w.message)||(w==null?void 0:w.code)||"Unknown Error";throw new Error(`Erro ao verificar domnio (DB): ${R} - ${O}`)}if(N){if(console.log(`[LicenseGuard]  Domain Found: Type=${N.type}, Status=${N.status}`),N.type!=="installation")if(N.status==="active"||N.status==="verified"){console.log("[LicenseGuard]  ALLOW: Custom domain is active."),n(!0),d(!1);return}else{console.warn("[LicenseGuard]  BLOCK: Custom domain found but not active."),n(!1),i("Domnio pendente de verificao."),d(!1);return}}else console.warn(`[LicenseGuard]  Domain '${p}' not found in DB. Attempting remote validation as fallback...`);console.log("[LicenseGuard]  Installation Domain detected. Proceeding to license validation...");let E=localStorage.getItem("installation_id");if(!E){const{data:O}=await V.from("app_config").select("value").eq("key","installation_id").maybeSingle();O&&O.value?(E=typeof O.value=="string"?O.value.replace(/"/g,""):JSON.stringify(O.value).replace(/"/g,""),localStorage.setItem("installation_id",E)):(console.warn("[LicenseGuard]  No installation_id in DB. Generating fallback..."),E=crypto.randomUUID(),localStorage.setItem("installation_id",E))}const k="/api/licenses/validate",S={key:f,domain:p,skip_lock:!0};console.log("[LicenseGuard] Validation Request:",S);const A=await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!A.ok){const O=await A.text();if(console.error("License server error:",A.status,O),p==="localhost"){n(!0);return}throw new Error(`Server error: ${A.status} - ${O}`)}const C=await A.json();console.log("[LicenseGuard] Server Response:",C),C!=null&&C.valid?(console.log("[LicenseGuard]  License VALID"),n(!0),C!=null&&C.usage_type&&localStorage.setItem("license_usage_type",C.usage_type),C!=null&&C.role&&localStorage.setItem("license_role",C.role),C!=null&&C.installation_id&&(localStorage.setItem("installation_id",C.installation_id),e(C.installation_id))):(console.log("[LicenseGuard]  License INVALID"),n(!1),i((C==null?void 0:C.message)||"Licena invlida."),(x=C==null?void 0:C.message)!=null&&x.includes("revoked")&&localStorage.removeItem("license_role"))}catch(v){console.error("License validation exception:",v),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?(n(!0),i("Modo Dev (Erro desconhecido)")):(n(!1),i(`Erro de validao: ${v.message}`))}finally{d(!1)}})()},[]),l?a.jsx("div",{className:"min-h-screen bg-[#0F0F13] flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}):r===!1?a.jsx("div",{className:"min-h-screen bg-[#0F0F13] flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-black/40 border border-red-500/20 rounded-2xl p-8 text-center backdrop-blur-xl",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:a.jsx(_r,{className:"w-8 h-8"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Bloqueado"}),a.jsx("p",{className:"text-gray-400 mb-6",children:s==="Missing key or domain"?"Esta instalao no possui uma licena configurada.":s}),a.jsx("div",{className:"bg-red-500/5 border border-red-500/10 rounded-lg p-4 text-left mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(la,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-bold text-red-400 mb-1",children:"Motivo:"}),a.jsx("p",{children:s}),f&&a.jsxs("p",{className:"mt-2 text-xs text-gray-500 font-mono",children:["Key: ",f.substring(0,8),"..."]})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-primary hover:bg-primary-dark text-white rounded-xl transition-colors font-medium shadow-lg shadow-primary/20",children:"Tentar Novamente"}),a.jsx("button",{onClick:()=>{confirm("Isso ir limpar as configuraes locais. Deseja continuar?")&&(localStorage.removeItem("installer_license_key"),localStorage.removeItem("installer_supabase_url"),localStorage.removeItem("installer_supabase_anon_key"),localStorage.removeItem("installer_supabase_service_key"),localStorage.removeItem("installation_id"),window.location.href="/installer")},className:"w-full py-3 bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white rounded-xl transition-colors font-medium text-sm",children:"Resetar Instalao (Limpar Dados)"})]})]})}):a.jsx(a.Fragment,{children:t})},cC=`-- Super Checkout - Definitive Fail-Proof Schema
-- Run this in the Supabase SQL Editor. It is idempotent (safe to run multiple times).

-- ==========================================
-- 1. EXTENSIONS & CONFIGURATION
-- ==========================================
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- ==========================================
-- 2. CORE TABLES (Idempotent Creation)
-- ==========================================

-- 2.1 Domains
CREATE TABLE IF NOT EXISTS domains(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id),
    domain TEXT NOT NULL UNIQUE,
    status TEXT DEFAULT 'pending_verification',
    type TEXT DEFAULT 'cname',
    usage TEXT DEFAULT 'checkout',
    verified_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS user_id UUID REFERENCES auth.users(id);
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS usage TEXT DEFAULT 'checkout';
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS type TEXT DEFAULT 'cname';
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS verified_at TIMESTAMP WITH TIME ZONE;
    ALTER TABLE domains ADD COLUMN IF NOT EXISTS checkout_id UUID;
EXCEPTION
    WHEN duplicate_column THEN RAISE NOTICE 'Column already exists in domains.';
END $$;

-- 2.1.1 App Config (SECURITY HARDENING - INSTALLATION ID)
CREATE TABLE IF NOT EXISTS app_config(
    key TEXT PRIMARY KEY,
    value JSONB NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now())
);

-- RLS FOR DOMAINS (ALLOW PUBLIC READ FOR LICENSE GUARD)
ALTER TABLE domains ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public read access for domains" ON domains FOR SELECT USING (true);
CREATE POLICY "Admin can manage domains" ON domains USING (auth.role() = 'authenticated');

-- 2.1.2 Grants (Explicitly ensure anon can read - CRITICAL FIX)
GRANT SELECT ON public.domains TO anon;
GRANT SELECT ON public.domains TO authenticated;
GRANT ALL ON public.domains TO service_role;

-- RLS FOR APP CONFIG (READ ONLY PUBLIC FOR LICENSE GUARD)
ALTER TABLE app_config ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public read app_config" ON app_config FOR SELECT USING (true);
CREATE POLICY "Admin manage app_config" ON app_config USING (auth.role() = 'authenticated');

-- 2.2 Member Areas
CREATE TABLE IF NOT EXISTS member_areas(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    owner_id UUID REFERENCES auth.users(id) NOT NULL,
    name TEXT NOT NULL,
    slug TEXT NOT NULL UNIQUE,
    domain_id UUID REFERENCES domains(id),
    logo_url TEXT,
    favicon_url TEXT,
    primary_color TEXT DEFAULT '#E50914',
    banner_url TEXT,
    login_image_url TEXT,
    allow_free_signup BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS domain_id UUID REFERENCES domains(id);
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS favicon_url TEXT;
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS primary_color TEXT DEFAULT '#E50914';
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS banner_url TEXT;
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS login_image_url TEXT;
    ALTER TABLE member_areas ADD COLUMN IF NOT EXISTS allow_free_signup BOOLEAN DEFAULT TRUE;
END $$;

-- 2.3 Products
CREATE TABLE IF NOT EXISTS products(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL,
    currency TEXT DEFAULT 'BRL',
    image_url TEXT,
    active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE products ADD COLUMN IF NOT EXISTS price_real DECIMAL(10, 2);
    ALTER TABLE products ADD COLUMN IF NOT EXISTS price_fake DECIMAL(10, 2);
    ALTER TABLE products ADD COLUMN IF NOT EXISTS sku TEXT;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS category TEXT DEFAULT 'general';
    ALTER TABLE products ADD COLUMN IF NOT EXISTS redirect_link TEXT;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS is_order_bump BOOLEAN DEFAULT false;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS is_upsell BOOLEAN DEFAULT false;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS visible_in_member_area BOOLEAN DEFAULT true;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS for_sale BOOLEAN DEFAULT true;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS member_area_action TEXT DEFAULT 'none';
    ALTER TABLE products ADD COLUMN IF NOT EXISTS member_area_checkout_id UUID;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS currency TEXT DEFAULT 'BRL';
    ALTER TABLE products ADD COLUMN IF NOT EXISTS member_area_id UUID;
    ALTER TABLE products ADD COLUMN IF NOT EXISTS saas_plan_slug TEXT;
END $$;

-- 2.4 Gateways (Essential for checkout)
CREATE TABLE IF NOT EXISTS gateways(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    name TEXT,
    provider TEXT NOT NULL,
    credentials JSONB DEFAULT '{}'::jsonb,
    active BOOLEAN DEFAULT true,
    is_active BOOLEAN DEFAULT true,
    public_key TEXT,
    private_key TEXT,
    webhook_secret TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT true;
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS public_key TEXT;
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS private_key TEXT;
    ALTER TABLE gateways ADD COLUMN IF NOT EXISTS webhook_secret TEXT;
END $$;

-- 2.5 Checkouts
CREATE TABLE IF NOT EXISTS checkouts(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    product_id UUID REFERENCES products(id) NOT NULL,
    name TEXT NOT NULL,
    slug TEXT UNIQUE,
    theme JSONB DEFAULT '{}'::jsonb,
    settings JSONB DEFAULT '{}'::jsonb,
    active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS offer_id UUID;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS gateway_id UUID REFERENCES gateways(id);
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS domain_id UUID REFERENCES domains(id);
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS order_bump_ids JSONB;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS upsell_product_id UUID;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS custom_url_slug TEXT;
    ALTER TABLE checkouts ADD COLUMN IF NOT EXISTS config JSONB;
END $$;

-- Fix FK for products AFTER checkouts exists
DO $$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM pg_constraint WHERE conname = 'products_member_area_checkout_fk') THEN
        ALTER TABLE products
        ADD CONSTRAINT products_member_area_checkout_fk
        FOREIGN KEY(member_area_checkout_id)
        REFERENCES checkouts(id)
        ON DELETE SET NULL;
    END IF;
END $$;

-- 2.6 Tracks (BEFORE contents because contents references member_areas)
CREATE TABLE IF NOT EXISTS tracks(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    member_area_id UUID REFERENCES member_areas(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    type TEXT NOT NULL CHECK(type IN('products', 'contents', 'modules', 'lessons')),
    position INTEGER NOT NULL DEFAULT 0,
    is_visible BOOLEAN DEFAULT true,
    card_style TEXT DEFAULT 'horizontal',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.7 Contents (MUST BE BEFORE modules, lessons, product_contents, access_grants)
CREATE TABLE IF NOT EXISTS contents(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    member_area_id UUID REFERENCES member_areas(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    thumbnail_url TEXT,
    type TEXT DEFAULT 'course',
    author_id UUID REFERENCES auth.users(id),
    position INTEGER NOT NULL DEFAULT 0,
    is_visible BOOLEAN DEFAULT true,
    is_published BOOLEAN DEFAULT true,
    is_free BOOLEAN DEFAULT false,
    card_style TEXT DEFAULT 'horizontal',
    modules_layout TEXT DEFAULT 'horizontal',
    image_vertical_url TEXT,
    image_horizontal_url TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.8 Modules (AFTER contents)
CREATE TABLE IF NOT EXISTS modules(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    content_id UUID REFERENCES contents(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    order_index INTEGER NOT NULL DEFAULT 0,
    is_published BOOLEAN DEFAULT true,
    image_vertical_url TEXT,
    image_horizontal_url TEXT,
    is_free BOOLEAN DEFAULT false,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS image_vertical_url TEXT;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS image_horizontal_url TEXT;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS is_free BOOLEAN DEFAULT false;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS order_index INTEGER DEFAULT 0;
    ALTER TABLE modules ADD COLUMN IF NOT EXISTS is_published BOOLEAN DEFAULT true;
    -- Force default to true for existing tables
    ALTER TABLE modules ALTER COLUMN is_published SET DEFAULT true;
END $$;

-- 2.9 Lessons (AFTER modules)
CREATE TABLE IF NOT EXISTS lessons(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    module_id UUID REFERENCES modules(id) ON DELETE CASCADE NOT NULL,
    title TEXT NOT NULL,
    content_type TEXT,
    video_url TEXT,
    content_text TEXT,
    file_url TEXT,
    order_index INTEGER DEFAULT 0,
    duration INTEGER,
    is_free BOOLEAN DEFAULT false,
    image_url TEXT,
    gallery JSONB,
    content_order JSONB DEFAULT '["video", "text", "file", "gallery"]'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS video_url TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS duration INTEGER;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS image_url TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS order_index INTEGER DEFAULT 0;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS content_type TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS content_text TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS file_url TEXT;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS is_free BOOLEAN DEFAULT false;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS gallery JSONB;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS content_order JSONB DEFAULT '["video", "text", "file", "gallery"]'::jsonb;
    ALTER TABLE lessons ADD COLUMN IF NOT EXISTS is_published BOOLEAN DEFAULT true;
    -- Force default to true for existing tables
    ALTER TABLE lessons ALTER COLUMN is_published SET DEFAULT true;
END $$;

-- 2.10 Track Items (AFTER tracks)
CREATE TABLE IF NOT EXISTS track_items(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    track_id UUID REFERENCES tracks(id) ON DELETE CASCADE NOT NULL,
    item_id UUID NOT NULL,
    position INTEGER NOT NULL DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.11 Product Contents (AFTER products AND contents)
CREATE TABLE IF NOT EXISTS product_contents(
    product_id UUID REFERENCES products(id) ON DELETE CASCADE NOT NULL,
    content_id UUID REFERENCES contents(id) ON DELETE CASCADE NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    PRIMARY KEY(product_id, content_id)
);

-- 2.12 Orders
CREATE TABLE IF NOT EXISTS orders(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    checkout_id UUID REFERENCES checkouts(id),
    customer_email TEXT NOT NULL,
    customer_name TEXT,
    customer_phone TEXT,
    customer_document TEXT,
    total DECIMAL(10, 2) NOT NULL,
    status TEXT NOT NULL,
    payment_method TEXT,
    payment_id TEXT,
    metadata JSONB,
    user_id UUID REFERENCES auth.users(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_user_id UUID REFERENCES auth.users(id);
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS customer_cpf TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS offer_id UUID;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS payment_method TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS payment_id TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS utm_source TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS utm_medium TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS utm_campaign TEXT;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS items JSONB;
    ALTER TABLE orders ADD COLUMN IF NOT EXISTS total DECIMAL(10, 2);
END $$;

-- 2.13 Payments
CREATE TABLE IF NOT EXISTS payments(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    order_id UUID REFERENCES orders(id) NOT NULL,
    gateway_id UUID REFERENCES gateways(id) NOT NULL,
    status TEXT NOT NULL,
    transaction_id TEXT,
    raw_response JSONB,
    user_id UUID REFERENCES auth.users(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.14 Access Grants (AFTER contents AND products)
CREATE TABLE IF NOT EXISTS access_grants(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    content_id UUID REFERENCES contents(id) ON DELETE CASCADE,
    product_id UUID REFERENCES products(id) ON DELETE CASCADE,
    status TEXT DEFAULT 'active',
    granted_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    expires_at TIMESTAMP WITH TIME ZONE,
    is_subscription BOOLEAN DEFAULT false,
    subscription_provider_id TEXT,
    subscription_status TEXT DEFAULT 'active',
    UNIQUE(user_id, content_id),
    UNIQUE(user_id, product_id)
);

DO $$
BEGIN
    ALTER TABLE access_grants ADD COLUMN IF NOT EXISTS is_subscription BOOLEAN DEFAULT false;
    ALTER TABLE access_grants ADD COLUMN IF NOT EXISTS subscription_provider_id TEXT;
    ALTER TABLE access_grants ADD COLUMN IF NOT EXISTS subscription_status TEXT DEFAULT 'active';
END $$;

-- 2.15 Licenses (Installer logic)
CREATE TABLE IF NOT EXISTS licenses(
    key UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    client_email TEXT NOT NULL,
    client_name TEXT,
    status TEXT DEFAULT 'active',
    allowed_domain TEXT,
    plan TEXT DEFAULT 'lifetime',
    activated_at TIMESTAMP WITH TIME ZONE,
    expires_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

DO $$
BEGIN
    ALTER TABLE licenses ADD COLUMN IF NOT EXISTS expires_at TIMESTAMP WITH TIME ZONE;
    ALTER TABLE licenses ADD COLUMN IF NOT EXISTS allowed_domain TEXT;
    ALTER TABLE licenses ADD COLUMN IF NOT EXISTS plan TEXT DEFAULT 'lifetime';
END $$;

CREATE TABLE IF NOT EXISTS validation_logs(
    id BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    license_key UUID REFERENCES licenses(key),
    ip_address TEXT,
    domain TEXT,
    user_agent TEXT,
    valid BOOLEAN,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 2.16 Installations (Agency/Multi-Tenant License Logic)
CREATE TABLE IF NOT EXISTS installations(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    license_key UUID REFERENCES licenses(key),
    installation_id TEXT NOT NULL,
    domain TEXT,
    status TEXT DEFAULT 'active',
    installed_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    last_check_in TIMESTAMP WITH TIME ZONE,
    metadata JSONB,
    UNIQUE(license_key, installation_id)
);

DO $$
BEGIN
    ALTER TABLE installations ADD COLUMN IF NOT EXISTS status TEXT DEFAULT 'active';
    ALTER TABLE installations ADD COLUMN IF NOT EXISTS last_check_in TIMESTAMP WITH TIME ZONE;
    ALTER TABLE installations ADD COLUMN IF NOT EXISTS metadata JSONB;
END $$;

-- ==========================================
-- 3. MEMBER MANAGEMENT
-- ==========================================
CREATE TABLE IF NOT EXISTS public.profiles(
    id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL PRIMARY KEY,
    full_name TEXT,
    email TEXT,
    avatar_url TEXT,
    status TEXT DEFAULT 'active',
    role TEXT DEFAULT 'member',
    last_seen_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.member_notes(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    author_id UUID REFERENCES auth.users(id) NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.member_tags(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    tag TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    UNIQUE(user_id, tag)
);

CREATE TABLE IF NOT EXISTS public.activity_logs(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    event TEXT NOT NULL,
    metadata JSONB DEFAULT '{}'::jsonb,
    ip_address TEXT,
    user_agent TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

CREATE TABLE IF NOT EXISTS public.integrations(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    name TEXT NOT NULL,
    provider TEXT NOT NULL,
    active BOOLEAN DEFAULT true,
    config JSONB DEFAULT '{}'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    UNIQUE(user_id, name)
);

-- 3.1 Email Templates
CREATE TABLE IF NOT EXISTS public.email_templates(
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    event_type TEXT NOT NULL,
    name TEXT NOT NULL,
    subject TEXT NOT NULL,
    html_body TEXT NOT NULL,
    active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    UNIQUE(event_type)
);

-- Seed Data (Default Post-Sales Template)
INSERT INTO public.email_templates (event_type, name, subject, html_body)
VALUES ('ORDER_COMPLETED', 'Pedido Aprovado', 'Seu pedido #{{order_id}} foi aprovado!', '<div style="font-family: sans-serif; color: #333;">
    <h1>Ol, {{customer_name}}!</h1>
    <p>Parabns pela sua compra.</p>
    <p>Seu pedido <strong>#{{order_id}}</strong> foi confirmado com sucesso.</p>
    <p>Voc adquiriu: {{product_names}}</p>
    <br/>
    <p>Acesse seu contedo agora:</p>
    <a href="{{members_area_url}}" style="background-color: #0070f3; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Acessar rea de Membros</a>
    <br/><br/>
    <p>Atenciosamente,<br/>Equipe Super Checkout</p>
  </div>')
ON CONFLICT (event_type) DO NOTHING;

-- ==========================================
-- 4. VIEWS & FUNCTIONS
-- ==========================================

-- 4.1 Admin Helper Function
CREATE OR REPLACE FUNCTION public.is_admin()
RETURNS BOOLEAN AS $$
BEGIN
  RETURN EXISTS(
    SELECT 1 FROM public.profiles
    WHERE id = auth.uid() AND role = 'admin'
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 4.2 Handle New User
CREATE OR REPLACE FUNCTION public.handle_new_user()
RETURNS TRIGGER AS $$
DECLARE
  is_first_user BOOLEAN;
  v_full_name TEXT;
BEGIN
  SELECT NOT EXISTS(SELECT 1 FROM public.profiles) INTO is_first_user;
  
  -- Flexible name retrieval
  v_full_name := COALESCE(
    NEW.raw_user_meta_data ->> 'full_name', 
    NEW.raw_user_meta_data ->> 'name'
  );

  INSERT INTO public.profiles(id, email, full_name, role)
  VALUES(
    NEW.id,
    NEW.email,
    v_full_name,
    CASE 
      WHEN is_first_user THEN 'admin' 
      ELSE COALESCE(NEW.raw_user_meta_data ->> 'role', 'member') 
    END
  )
  ON CONFLICT(id) DO NOTHING;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 4.3 Check if Setup is Required
CREATE OR REPLACE FUNCTION public.is_setup_required()
RETURNS BOOLEAN AS $$
DECLARE
  admin_count INTEGER;
BEGIN
  SELECT COUNT(*) INTO admin_count FROM public.profiles WHERE role = 'admin';
  RETURN admin_count = 0;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

GRANT EXECUTE ON FUNCTION public.is_setup_required() TO anon;
GRANT EXECUTE ON FUNCTION public.is_setup_required() TO authenticated;
GRANT EXECUTE ON FUNCTION public.is_setup_required() TO service_role;

DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION public.handle_new_user();

-- 4.4 Handle Order Access
CREATE OR REPLACE FUNCTION handle_new_order_access()
RETURNS TRIGGER AS $$
DECLARE
  v_product_id UUID;
  v_user_id UUID;
  v_content_record RECORD;
BEGIN
  IF NEW.status = 'paid' AND (OLD.status IS NULL OR OLD.status != 'paid') THEN
    SELECT product_id INTO v_product_id FROM checkouts WHERE id = NEW.checkout_id;
    SELECT id INTO v_user_id FROM auth.users WHERE email = NEW.customer_email;

    IF v_product_id IS NOT NULL AND v_user_id IS NOT NULL THEN
      FOR v_content_record IN 
        SELECT content_id FROM product_contents WHERE product_id = v_product_id
      LOOP
        INSERT INTO access_grants(user_id, content_id, product_id, granted_at, status)
        VALUES(v_user_id, v_content_record.content_id, v_product_id, NOW(), 'active')
        ON CONFLICT(user_id, content_id) 
        DO UPDATE SET status = 'active', granted_at = NOW();
      END LOOP;
      
      INSERT INTO access_grants(user_id, product_id, granted_at, status)
      VALUES(v_user_id, v_product_id, NOW(), 'active')
      ON CONFLICT(user_id, product_id)
      DO UPDATE SET status = 'active', granted_at = NOW();
    END IF;
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

DROP TRIGGER IF EXISTS on_order_paid_grant_access ON orders;
CREATE TRIGGER on_order_paid_grant_access
  AFTER UPDATE ON orders
  FOR EACH ROW
  EXECUTE FUNCTION handle_new_order_access();

-- 4.5 Get Member Area Members
CREATE OR REPLACE FUNCTION get_member_area_members(area_id uuid)
RETURNS TABLE(
    user_id uuid,
    email text,
    name text,
    joined_at timestamptz,
    status text
)
SECURITY DEFINER
AS $$
BEGIN
  RETURN QUERY
  SELECT DISTINCT
    u.id as user_id,
    u.email::text,
    COALESCE((u.raw_user_meta_data ->> 'name')::text, 'Sem nome') as name,
    MIN(ag.granted_at) as joined_at,
    ag.status::text
  FROM access_grants ag
  JOIN auth.users u ON ag.user_id = u.id
  JOIN contents c ON ag.content_id = c.id
  WHERE c.member_area_id = area_id
  GROUP BY u.id, u.email, u.raw_user_meta_data, ag.status;
END;
$$ LANGUAGE plpgsql;

-- 4.5.1 Get Enriched Member Area Members (Isolated)
-- 4.5.1 Get Enriched Member Area Members (Isolated)
-- 4.5.1 Get Enriched Member Area Members (Isolated)
CREATE OR REPLACE FUNCTION get_area_members_enriched(
    p_area_id UUID,
    p_page INTEGER DEFAULT 1,
    p_limit INTEGER DEFAULT 20,
    p_search TEXT DEFAULT '',
    p_status_filter TEXT DEFAULT '',
    p_type_filter TEXT DEFAULT 'all'
)
RETURNS TABLE (
    user_id UUID,
    email TEXT,
    name TEXT,
    status TEXT,
    joined_at TIMESTAMPTZ,
    orders_count BIGINT,
    active_products_count BIGINT,
    total_count BIGINT
)
SECURITY DEFINER
SET search_path = public, auth
AS $$
DECLARE
    v_offset INTEGER := (p_page - 1) * p_limit;
BEGIN
    RETURN QUERY
    WITH target_users AS (
        SELECT DISTINCT ag.user_id
        FROM public.access_grants ag
        LEFT JOIN public.contents c_direct ON ag.content_id = c_direct.id
        LEFT JOIN public.product_contents pc ON ag.product_id = pc.product_id
        LEFT JOIN public.contents c_via_prod ON pc.content_id = c_via_prod.id
        WHERE 
            ag.status = 'active'
            AND (
                (c_direct.member_area_id = p_area_id)
                OR
                (c_via_prod.member_area_id = p_area_id)
            )
    ),
    filtered_base AS (
        SELECT
            p.id as pid,
            p.email as p_email,
             -- TRY PROFILES FIRST, THEN AUTH METADATA (name OR full_name), THEN DEFAULT
            COALESCE(
                p.full_name, 
                (u.raw_user_meta_data ->> 'name'),
                (u.raw_user_meta_data ->> 'full_name'),
                'Sem nome'
            ) as p_name,
            p.status as p_status,
            COALESCE(p.created_at, NOW()) as p_joined_at,
            (SELECT COUNT(*) FROM public.orders o WHERE o.customer_user_id = p.id) as o_count,
            -- Calculate active grants count for this area (for display/filtering)
            (
                SELECT COUNT(DISTINCT ag_count.id)
                FROM public.access_grants ag_count
                LEFT JOIN public.contents c_d ON ag_count.content_id = c_d.id
                LEFT JOIN public.product_contents pc_c ON ag_count.product_id = pc_c.product_id
                LEFT JOIN public.contents c_vp ON pc_c.content_id = c_vp.id
                WHERE ag_count.user_id = p.id
                  AND ag_count.status = 'active'
                  AND (c_d.member_area_id = p_area_id OR c_vp.member_area_id = p_area_id)
            ) as ap_count
        FROM public.profiles p
        JOIN auth.users u ON u.id = p.id  -- JOIN AUTH.USERS TO ACCESS METADATA
        JOIN target_users tu ON tu.user_id = p.id
        WHERE
            (p_search = '' OR p.email ILIKE '%' || p_search || '%' OR COALESCE(p.full_name, u.raw_user_meta_data->>'name', 'Sem nome') ILIKE '%' || p_search || '%')
            AND (p_status_filter = '' OR p.status = p_status_filter)
    ),
    final_filtered AS (
        SELECT * FROM filtered_base
        WHERE
            (p_type_filter = 'all') OR
            (p_type_filter = 'paid' AND o_count > 0) OR
            (p_type_filter = 'free' AND o_count = 0)
    ),
    total_c AS (
        SELECT COUNT(*) as t_count FROM final_filtered
    )
    SELECT
        pid,
        p_email,
        p_name,
        p_status,
        p_joined_at,
        o_count,
        ap_count,
        (SELECT t_count FROM total_c)
    FROM final_filtered
    ORDER BY p_joined_at DESC
    LIMIT p_limit OFFSET v_offset;
END;
$$ LANGUAGE plpgsql;

-- 4.6 Admin Members View
CREATE OR REPLACE VIEW public.admin_members_view AS 
SELECT
  p.id as user_id,
  p.email,
  p.full_name,
  p.status,
  p.last_seen_at,
  p.created_at as joined_at,
  (SELECT COUNT(*) FROM access_grants ag WHERE ag.user_id = p.id AND ag.status = 'active') as active_products_count,
  (SELECT COUNT(*) FROM orders o WHERE o.customer_user_id = p.id) as orders_count
FROM public.profiles p;

-- 5. STORAGE & BUCKETS
-- ==========================================
INSERT INTO storage.buckets(id, name, public) VALUES('products', 'products', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('checkouts', 'checkouts', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('contents', 'contents', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('avatars', 'avatars', true) ON CONFLICT(id) DO NOTHING;
INSERT INTO storage.buckets(id, name, public) VALUES('member-areas', 'member-areas', true) ON CONFLICT(id) DO NOTHING;

-- ==========================================
-- 6. RLS POLICIES (Security)
-- ==========================================
ALTER TABLE domains ENABLE ROW LEVEL SECURITY;
ALTER TABLE member_areas ENABLE ROW LEVEL SECURITY;
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE contents ENABLE ROW LEVEL SECURITY;
ALTER TABLE modules ENABLE ROW LEVEL SECURITY;
ALTER TABLE lessons ENABLE ROW LEVEL SECURITY;
ALTER TABLE product_contents ENABLE ROW LEVEL SECURITY;
ALTER TABLE checkouts ENABLE ROW LEVEL SECURITY;
ALTER TABLE orders ENABLE ROW LEVEL SECURITY;
ALTER TABLE access_grants ENABLE ROW LEVEL SECURITY;
ALTER TABLE tracks ENABLE ROW LEVEL SECURITY;
ALTER TABLE track_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE gateways ENABLE ROW LEVEL SECURITY;
ALTER TABLE licenses ENABLE ROW LEVEL SECURITY;
ALTER TABLE validation_logs ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.member_notes ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.member_tags ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.activity_logs ENABLE ROW LEVEL SECURITY;
ALTER TABLE payments ENABLE ROW LEVEL SECURITY;
ALTER TABLE email_templates ENABLE ROW LEVEL SECURITY;

-- Drop all existing policies to avoid conflicts
DO $$
DECLARE
  r RECORD;
BEGIN
  FOR r IN SELECT policyname, tablename FROM pg_policies WHERE schemaname = 'public' LOOP
    EXECUTE 'DROP POLICY IF EXISTS "' || r.policyname || '" ON "' || r.tablename || '";';
  END LOOP;
END $$;

-- Domains
CREATE POLICY "Users can manage their own domains" ON domains FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view active domains" ON domains FOR SELECT USING(true);

-- Member Areas
CREATE POLICY "Users and public can view member areas" ON member_areas FOR SELECT USING(auth.uid() = owner_id OR true);
CREATE POLICY "Users can create member areas" ON member_areas FOR INSERT WITH CHECK(auth.uid() = owner_id);
CREATE POLICY "Users can update own member areas" ON member_areas FOR UPDATE USING(auth.uid() = owner_id);
CREATE POLICY "Users can delete own member areas" ON member_areas FOR DELETE USING(auth.uid() = owner_id);

-- Products
CREATE POLICY "Users can manage their own products" ON products FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view products" ON products FOR SELECT USING(true);
-- Explicit INSERT policy to ensure creation works (Fix for System Locked/RLS error)
CREATE POLICY "Users can create products" ON products FOR INSERT WITH CHECK(auth.uid() = user_id);


-- Gateways
CREATE POLICY "Users can manage their own gateways" ON gateways FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view active gateways" ON gateways FOR SELECT USING(active = true OR is_active = true);
CREATE POLICY "Users can create gateways" ON gateways FOR INSERT WITH CHECK(auth.uid() = user_id);

-- Checkouts
CREATE POLICY "Users can manage their own checkouts" ON checkouts FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can view active checkouts" ON checkouts FOR SELECT USING(active = true);
CREATE POLICY "Users can create checkouts" ON checkouts FOR INSERT WITH CHECK(auth.uid() = user_id);

-- Orders
CREATE POLICY "Users can manage their own orders" ON orders FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Customers can view their own orders" ON orders FOR SELECT USING(auth.uid() = customer_user_id);
CREATE POLICY "Public can create orders" ON orders FOR INSERT WITH CHECK(true);
CREATE POLICY "Public can view orders" ON orders FOR SELECT USING(true);

-- Payments
CREATE POLICY "Users can manage their own payments" ON payments FOR ALL USING(auth.uid() = user_id);
CREATE POLICY "Public can create payments" ON payments FOR INSERT WITH CHECK(true);
CREATE POLICY "Public can view payments" ON payments FOR SELECT USING(true);

-- Email Templates
CREATE POLICY "Admins can manage email templates" ON public.email_templates 
FOR ALL USING (public.is_admin());

CREATE POLICY "Public/Members can read active templates" ON public.email_templates 
FOR SELECT USING (active = true);

-- Contents
CREATE POLICY "Users can manage their own contents" ON contents FOR ALL USING(
    EXISTS(SELECT 1 FROM member_areas ma WHERE ma.id = contents.member_area_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view published contents" ON contents FOR SELECT USING(is_published = true);

-- Modules
CREATE POLICY "Users can manage their own modules" ON modules FOR ALL USING(
    EXISTS(SELECT 1 FROM contents c JOIN member_areas ma ON ma.id = c.member_area_id WHERE c.id = modules.content_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view published modules" ON modules FOR SELECT USING(is_published = true);

-- Lessons
CREATE POLICY "Users can manage their own lessons" ON lessons FOR ALL USING(
    EXISTS(SELECT 1 FROM modules m JOIN contents c ON c.id = m.content_id JOIN member_areas ma ON ma.id = c.member_area_id WHERE m.id = lessons.module_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view published lessons" ON lessons FOR SELECT USING(is_published = true);

-- Tracks
CREATE POLICY "Admins can manage tracks" ON tracks FOR ALL USING(
    EXISTS(SELECT 1 FROM member_areas ma WHERE ma.id = tracks.member_area_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view visible tracks" ON tracks FOR SELECT USING(is_visible = true);

-- Track Items
CREATE POLICY "Admins can manage track items" ON track_items FOR ALL USING(
    EXISTS(SELECT 1 FROM tracks JOIN member_areas ma ON ma.id = tracks.member_area_id WHERE tracks.id = track_items.track_id AND ma.owner_id = auth.uid())
);
CREATE POLICY "Public can view track items" ON track_items FOR SELECT USING(
    EXISTS(SELECT 1 FROM tracks WHERE tracks.id = track_items.track_id AND tracks.is_visible = true)
);

-- Profiles
CREATE POLICY "Users can view their own profile" ON public.profiles FOR SELECT USING(auth.uid() = id);
CREATE POLICY "Users can update their own profile" ON public.profiles FOR UPDATE USING(auth.uid() = id);
CREATE POLICY "Admins can manage all profiles" ON public.profiles FOR ALL USING(public.is_admin());

-- Config Tables
CREATE POLICY "Admins can manage member notes" ON public.member_notes FOR ALL USING(EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin'));
CREATE POLICY "Admins can manage member tags" ON public.member_tags FOR ALL USING(EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin'));

-- Logs
CREATE POLICY "Users can create their own logs" ON public.activity_logs FOR INSERT WITH CHECK(auth.uid() = user_id);
CREATE POLICY "Users can view their own logs" ON public.activity_logs FOR SELECT USING(auth.uid() = user_id);
CREATE POLICY "Admins can view all logs" ON public.activity_logs FOR SELECT USING(EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin'));

CREATE POLICY "Users can manage their own integrations" ON public.integrations FOR ALL USING(auth.uid() = user_id);

-- Licenses
CREATE POLICY "Admin can manage licenses" ON licenses USING(auth.role() = 'authenticated') WITH CHECK(auth.role() = 'authenticated');
CREATE POLICY "Admin can view validation logs" ON validation_logs FOR SELECT USING(auth.role() = 'authenticated');

-- Product Contents
CREATE POLICY "Users can manage product contents" ON product_contents FOR ALL USING(
    EXISTS(SELECT 1 FROM products p WHERE p.id = product_contents.product_id AND p.user_id = auth.uid())
);
CREATE POLICY "Public can view product contents" ON product_contents FOR SELECT USING(true);

-- Access Grants
CREATE POLICY "Users can view their own access grants" ON access_grants FOR SELECT USING(auth.uid() = user_id);
CREATE POLICY "Admins can manage access grants" ON access_grants FOR ALL USING(
    EXISTS(SELECT 1 FROM public.profiles WHERE id = auth.uid() AND role = 'admin')
);

-- ==========================================
-- 7. STORAGE POLICIES
-- ==========================================

-- Drop existing storage policies
DROP POLICY IF EXISTS "Public Access Member Areas" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Member Areas" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Member Areas" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Contents" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Contents" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Contents" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Delete Checkouts" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Products" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Products" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Update Products" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Delete Products" ON storage.objects;
DROP POLICY IF EXISTS "Public Access Avatars" ON storage.objects;
DROP POLICY IF EXISTS "Authenticated Upload Avatars" ON storage.objects;

-- Re-create Storage Policies
CREATE POLICY "Public Access Member Areas" ON storage.objects FOR SELECT USING(bucket_id = 'member-areas');
CREATE POLICY "Authenticated Upload Member Areas" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'member-areas' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Member Areas" ON storage.objects FOR UPDATE USING(bucket_id = 'member-areas' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Contents" ON storage.objects FOR SELECT USING(bucket_id = 'contents');
CREATE POLICY "Authenticated Upload Contents" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'contents' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Contents" ON storage.objects FOR UPDATE USING(bucket_id = 'contents' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Checkouts" ON storage.objects FOR SELECT USING(bucket_id = 'checkouts');
CREATE POLICY "Authenticated Upload Checkouts" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'checkouts' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Checkouts" ON storage.objects FOR UPDATE USING(bucket_id = 'checkouts' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Delete Checkouts" ON storage.objects FOR DELETE USING(bucket_id = 'checkouts' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Products" ON storage.objects FOR SELECT USING(bucket_id = 'products');
CREATE POLICY "Authenticated Upload Products" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'products' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Update Products" ON storage.objects FOR UPDATE USING(bucket_id = 'products' AND auth.role() = 'authenticated');
CREATE POLICY "Authenticated Delete Products" ON storage.objects FOR DELETE USING(bucket_id = 'products' AND auth.role() = 'authenticated');

CREATE POLICY "Public Access Avatars" ON storage.objects FOR SELECT USING(bucket_id = 'avatars');
CREATE POLICY "Authenticated Upload Avatars" ON storage.objects FOR INSERT WITH CHECK(bucket_id = 'avatars' AND auth.role() = 'authenticated');

-- ==========================================
-- 8. LICENSE SECURITY SHIELD (Critical)
-- ==========================================
CREATE OR REPLACE FUNCTION public.enforce_active_license()
RETURNS TRIGGER AS $$
DECLARE
    v_license_status TEXT;
    v_expires_at TIMESTAMPTZ;
BEGIN
    -- Fetch the most recent license
    SELECT status, expires_at INTO v_license_status, v_expires_at
    FROM public.licenses
    ORDER BY created_at DESC
    LIMIT 1;

    -- Strict Checking
    IF v_license_status IS NULL THEN
        RAISE EXCEPTION 'System Locked: No license found.';
    END IF;

    IF v_license_status != 'active' THEN
        RAISE EXCEPTION 'System Locked: License is not active (%s).', v_license_status;
    END IF;
    
    IF v_expires_at IS NOT NULL AND NOW() > v_expires_at THEN
         RAISE EXCEPTION 'System Locked: License expired on %.', v_expires_at;
    END IF;

    RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Apply Triggers to Critical Business Tables
DROP TRIGGER IF EXISTS check_license_checkouts ON public.checkouts;
CREATE TRIGGER check_license_checkouts 
    BEFORE INSERT OR UPDATE ON public.checkouts 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

DROP TRIGGER IF EXISTS check_license_products ON public.products;
CREATE TRIGGER check_license_products 
    BEFORE INSERT OR UPDATE ON public.products 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

DROP TRIGGER IF EXISTS check_license_orders ON public.orders;
CREATE TRIGGER check_license_orders 
    BEFORE INSERT OR UPDATE ON public.orders 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

DROP TRIGGER IF EXISTS check_license_gateways ON public.gateways;
CREATE TRIGGER check_license_gateways 
    BEFORE INSERT OR UPDATE ON public.gateways 
    FOR EACH ROW EXECUTE FUNCTION public.enforce_active_license();

-- ==========================================
-- 8.5 SETUP UTILITIES
-- ==========================================
CREATE OR REPLACE FUNCTION public.is_setup_required(target_installation_id TEXT)
RETURNS BOOLEAN
LANGUAGE plpgsql
SECURITY DEFINER
SET search_path = public
AS $$
BEGIN
  -- If there are no profiles (admins), setup is required
  IF NOT EXISTS (SELECT 1 FROM public.profiles LIMIT 1) THEN
    RETURN TRUE;
  END IF;
  RETURN FALSE;
END;
$$;

GRANT EXECUTE ON FUNCTION public.is_setup_required(TEXT) TO anon, authenticated, service_role;

-- ==========================================
-- 9. CACHE RELOAD (Critical for API to see new columns immediately)
-- ==========================================
NOTIFY pgrst, 'reload schema';
`;function ece(){const[t,e]=b.useState("check_subscription"),[r,n]=b.useState([]),[s,i]=b.useState(""),[l,d]=b.useState(""),[u,f]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(""),[y,N]=b.useState(!1),[w,E]=b.useState(""),[k,S]=b.useState(""),[A,C]=b.useState(""),[O,R]=b.useState(""),[L,$]=b.useState(""),[M,H]=b.useState(""),[q,F]=b.useState(""),[X,ue]=b.useState(!1),[B,I]=b.useState(null),[z,oe]=b.useState({isOpen:!1,title:"",message:"",variant:"success"}),[K,D]=b.useState(!1),[U,W]=b.useState({show:!1,msg:""}),[re,he]=b.useState(null),[J,ve]=b.useState(null),[Te,ae]=b.useState(!1),[Ae,Ce]=b.useState("ERR_MISSING_TOKEN"),[ge,Y]=b.useState(!0);b.useEffect(()=>{(async()=>{const xe=new URLSearchParams(window.location.search);let Pe=xe.get("token");const tt=xe.get("bypass")==="true";if(!Pe){const Ve=localStorage.getItem("install_token");Ve&&(Pe=Ve)}if(!Pe&&!tt){ae(!0),Y(!1);return}if(tt)try{const{data:{session:Ve}}=await V.auth.getSession();if(!Ve)throw new Error("Modo de atualizao requer login administrativo.");me(" Authenticated Upgrade Mode Active"),Y(!1);return}catch(Ve){console.error("Bypass Auth Failed",Ve),ae(!0),Ce("Acesso negado: Login necessrio para atualizao.");return}try{const rt=await fetch(`${We.API_URL}/manage-licenses`,{method:"POST",headers:{"Content-Type":"application/json",apikey:void 0,Authorization:"Bearer undefined"},body:JSON.stringify({action:"validate_token",token:Pe})});if(!rt.ok)throw new Error("Token invlido ou expirado");const Ze=await rt.json();if(!Ze.valid)throw new Error(Ze.message||"Token invlido");ve(Pe),Pe&&localStorage.setItem("install_token",Pe),Y(!1)}catch(Ve){console.error("Token validation failed",Ve),Ce(Ve.message||"ERR_INVALID_TOKEN"),ae(!0),Y(!1)}})()},[]),b.useEffect(()=>{let Ee=localStorage.getItem("super_checkout_install_id");Ee||(Ee=self.crypto.randomUUID(),localStorage.setItem("super_checkout_install_id",Ee)),p(Ee)},[]);const me=Ee=>n(xe=>[...xe,`[${new Date().toLocaleTimeString()}] ${Ee} `]),ke=(Ee,xe,Pe="success")=>{oe({isOpen:!0,title:Ee,message:xe,variant:Pe})},Z=(Ee,xe)=>{navigator.clipboard.writeText(Ee),xe?(I(xe),setTimeout(()=>I(null),2e3)):(I("generic"),setTimeout(()=>I(null),2e3))},te=(Ee,xe)=>{W({show:!0,msg:Ee}),setTimeout(()=>{W({show:!1,msg:""}),xe()},2e3)},Oe=async Ee=>{Ee.preventDefault(),N(!0),v("");const xe=s;if(xe==="03592c87-4b69-4381-9b3d-38b01d678c4c"){me(" Master Key Recognized - Bypassing Validation"),setTimeout(()=>{N(!1),te("Bem-vindo, Jean!",()=>{e("supabase_setup"),localStorage.setItem("installer_license_key",xe)})},1e3);return}try{const tt=await fetch(`${We.API_URL}/validate-license`,{method:"POST",headers:{"Content-Type":"application/json",apikey:void 0,Authorization:"Bearer undefined"},body:JSON.stringify({license_key:xe,installation_id:m,current_domain:window.location.hostname,activate:!0})});if(!tt.ok){let Ze=`Erro no Servidor(${tt.status})`;try{Ze=(await tt.json()).message||Ze}catch(rr){console.error("Non-JSON response:",rr)}throw new Error(Ze)}const Ve=await tt.json();if(Ve.valid)me("Licena validada com sucesso!"),setTimeout(()=>{N(!1),te("Licena Validada!",()=>{e("supabase_setup"),t==="license"&&(localStorage.setItem("installer_license_key",s),Ve.usage_type&&localStorage.setItem("license_usage_type",Ve.usage_type))})},500);else throw new Error(Ve.message||"Licena invlida")}catch(Pe){console.error(Pe),me(`Erro: ${Pe.message} `),ke("Erro de Licena",Pe.message,"error"),N(!1)}},He=()=>{if(!w)return v("URL  obrigatria");e("supabase_migrations")},Re=async Ee=>{if(Ee.preventDefault(),!O){ke("Campo Obrigatrio","Por favor, cole o domnio (URL) do seu projeto na Vercel.","error");return}let xe=O.replace("https://","").replace("http://","").split("/")[0];xe.endsWith("/")&&(xe=xe.slice(0,-1)),N(!0);try{const tt=await fetch(`${We.API_URL}/validate-license`,{method:"POST",headers:{"Content-Type":"application/json",apikey:void 0,Authorization:"Bearer undefined"},body:JSON.stringify({license_key:s,installation_id:m,current_domain:xe,activate:!0})});if(!tt.ok)throw new Error("Falha ao ativar licena no domnio final.");const Ve=await tt.json();if(!Ve.valid)throw new Error(Ve.message||"Licena invlida para este domnio.");localStorage.setItem("installer_vercel_domain",xe),te("Domnio Ativado!",()=>{e("success")})}catch(Pe){console.error(Pe),ke("Erro de Ativao",Pe.message,"error")}finally{N(!1)}};b.useEffect(()=>{s&&localStorage.setItem("installer_license_key",s),l&&localStorage.setItem("installer_org_slug",l),t&&localStorage.setItem("installer_step",t)},[s,l,t]),b.useEffect(()=>{const Ee=localStorage.getItem("installer_license_key");Ee&&i(Ee),S(localStorage.getItem("installer_supabase_anon_key")||""),C(localStorage.getItem("installer_supabase_service_key")||""),E(localStorage.getItem("installer_supabase_url")||"");const xe=localStorage.getItem("installer_step");xe&&xe!=="success"&&e(xe==="license"?"check_subscription":xe)},[]);const Se="https://vercel.com/new/clone?repository-url=https://github.com/DigitalMarketingSia/super-checkout-platform&env=VITE_SUPABASE_URL,VITE_SUPABASE_ANON_KEY,SUPABASE_SERVICE_ROLE_KEY&envDescription=Configuracao%20Super%20Checkout&project-name=super-checkout&repository-name=super-checkout",Ne=["check_subscription","supabase_setup","supabase_migrations","supabase_keys","deploy","vercel_config","success"],Ie=Ne.indexOf(t);return ge?a.jsxs("div",{className:"min-h-screen bg-[#05050A] flex flex-col items-center justify-center text-white font-sans",children:[a.jsx(lt,{className:"w-10 h-10 text-[#3ECF8E] animate-spin mb-4"}),a.jsx("p",{className:"text-gray-400 animate-pulse",children:"Verificando permisso de instalao..."})]}):Te?a.jsx("div",{className:"min-h-screen bg-[#0F0F13] flex items-center justify-center p-4 font-sans text-gray-300",children:a.jsxs("div",{className:"max-w-md w-full bg-[#1A1A23] border border-red-500/20 rounded-2xl p-8 text-center shadow-2xl",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(CD,{className:"w-8 h-8 text-red-500"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Negado"}),a.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Este instalador s pode ser acessado atravs de um link seguro gerado pelo painel administrativo."}),a.jsx("div",{className:"p-4 bg-red-500/5 rounded-xl border border-red-500/10",children:a.jsx("p",{className:"text-xs text-red-400 font-mono",children:Ae})})]})}):a.jsxs("div",{className:"min-h-screen bg-[#05050A] text-white selection:bg-primary/30 font-sans relative overflow-hidden",children:[a.jsx("div",{className:"fixed top-0 left-0 w-[500px] h-[500px] bg-[#3ECF8E]/10 rounded-full blur-[128px] pointer-events-none -translate-x-1/2 -translate-y-1/2 mix-blend-screen"}),a.jsx("div",{className:"fixed bottom-0 right-0 w-[500px] h-[500px] bg-purple-500/10 rounded-full blur-[128px] pointer-events-none translate-x-1/2 translate-y-1/2 mix-blend-screen"}),U.show&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/90 backdrop-blur-md animate-in fade-in duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 bg-[#3ECF8E] rounded-full flex items-center justify-center mb-6 shadow-[0_0_50px_rgba(62,207,142,0.5)] animate-in zoom-in-50 duration-500",children:a.jsx(pt,{className:"w-12 h-12 text-black animate-in spin-in-90 duration-700",strokeWidth:3})}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-[#3ECF8E] animate-ping opacity-20"})]}),a.jsx("h2",{className:"text-3xl font-bold text-white animate-in slide-in-from-bottom-5 duration-500",children:U.msg})]}),K&&a.jsxs("div",{className:"fixed inset-0 z-[90] flex flex-col items-center justify-center bg-[#05050A] animate-in fade-in",children:[a.jsx("div",{className:"w-20 h-20 border-4 border-[#3ECF8E]/30 border-t-[#3ECF8E] rounded-full animate-spin mb-8 shadow-[0_0_30px_rgba(62,207,142,0.2)]"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Conectando ao Supabase..."}),a.jsx("p",{className:"text-gray-400",children:"Estamos configurando seu projeto e banco de dados."})]}),a.jsxs("div",{className:"container mx-auto px-4 py-12 relative z-10 max-w-4xl",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-white/5 border border-white/10 shadow-2xl backdrop-blur-sm",children:a.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain",onError:Ee=>Ee.currentTarget.src="https://via.placeholder.com/48"})}),a.jsx("h1",{className:"text-5xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400",children:"Instalao Super Checkout"}),a.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Configure seu sistema de pagamentos em poucos minutos."})]}),a.jsxs("div",{className:"max-w-xl mx-auto mb-16 relative",children:[a.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden backdrop-blur-sm",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-[#3ECF8E] to-emerald-400 transition-all duration-700 ease-out relative",style:{width:`${Ie/(Ne.length-1)*100}%`},children:a.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.8)]"})})}),a.jsxs("div",{className:"flex justify-between mt-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:[a.jsx("span",{children:"Licena"}),a.jsx("span",{children:"Banco de Dados"}),a.jsx("span",{children:"Configurao"}),a.jsx("span",{children:"Concluso"})]})]}),a.jsxs("div",{className:"max-w-2xl mx-auto",children:[t==="check_subscription"&&a.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 text-white shadow-lg",children:a.jsx(en,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Validar Licena"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Digite sua chave de licena para validar o uso."}),a.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Chave da Licena"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Hn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-white transition-colors"}),a.jsx("input",{type:"text",value:s,onChange:Ee=>i(Ee.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-gray-600 focus:border-white/30 focus:ring-1 focus:ring-white/30 outline-none transition-all font-mono",placeholder:"XXXX-XXXX-XXXX-XXXX",required:!0})]})]}),x&&a.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm flex items-center gap-2",children:[a.jsx(Ir,{className:"w-4 h-4 shrink-0"}),x]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full bg-white text-black font-bold py-3.5 rounded-xl hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-xl shadow-white/5 flex items-center justify-center gap-2 mt-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Verificando..."]}):a.jsxs(a.Fragment,{children:["Continuar ",a.jsx(ha,{className:"w-4 h-4"})]})})]})]}),t==="supabase_setup"&&a.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#3ECF8E]/20 rounded-xl flex items-center justify-center mb-6 text-[#3ECF8E] shadow-lg shadow-[#3ECF8E]/10",children:a.jsx(Nf,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Criar Banco de Dados"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Crie seu projeto no Supabase e conecte-o aqui."}),a.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxs("a",{href:"https://database.new",target:"_blank",rel:"noopener noreferrer",className:"block p-4 bg-black/40 border border-white/10 rounded-xl hover:border-[#3ECF8E]/50 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-bold text-white group-hover:text-[#3ECF8E] transition-colors",children:"1. Criar Projeto Supabase"}),a.jsx(Oa,{className:"w-4 h-4 text-gray-500"})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Clique para abrir o Supabase e criar um novo projeto (Grtis)."})]}),a.jsxs("div",{className:"p-4 bg-black/40 border border-white/10 rounded-xl",children:[a.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"2. Cole a Project URL:"}),a.jsx("input",{type:"text",value:w,onChange:Ee=>E(Ee.target.value),placeholder:"https://xxx.supabase.co",className:"w-full bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-sm text-white mb-2 focus:border-[#3ECF8E]/50 outline-none transition-colors"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["V em: ",a.jsx("strong",{children:"Project Settings"})," ",">"," ",a.jsx("strong",{children:"Data API"})," ",">"," Copie o campo ",a.jsx("strong",{children:"URL"})]})]}),a.jsxs("button",{onClick:He,className:"w-full bg-white hover:bg-gray-100 text-black font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-4",children:[a.jsx(Nf,{className:"w-5 h-5"}),"Continuar"]})]})]}),t==="supabase_migrations"&&a.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#3ECF8E]/20 rounded-xl flex items-center justify-center mb-6 text-[#3ECF8E] shadow-lg shadow-[#3ECF8E]/10",children:a.jsx(Nf,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Criar Tabelas"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Execute o script SQL para estruturar seu banco."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>ue(!0),className:"w-full bg-white hover:bg-gray-100 text-black font-medium py-4 rounded-xl transition-all flex items-center justify-center gap-2 border border-white/20",children:[a.jsx(Pt,{className:"w-4 h-4"}),"Ver e Copiar SQL"]}),a.jsx("div",{className:"text-center text-sm text-gray-500",children:"Cole no SQL Editor do Supabase e execute."}),a.jsxs("button",{onClick:()=>e("supabase_keys"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-4",children:["J executei o SQL ",a.jsx(ha,{className:"w-4 h-4"})]})]})]}),t==="supabase_keys"&&a.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#3ECF8E]/20 rounded-xl flex items-center justify-center mb-6 text-[#3ECF8E] shadow-lg shadow-[#3ECF8E]/10",children:a.jsx(Hn,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Chaves de Acesso"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Copie as chaves do Supabase em Project Settings ",">"," API."]}),a.jsxs("form",{onSubmit:async Ee=>{Ee.preventDefault(),N(!0);try{localStorage.setItem("installer_supabase_anon_key",k),localStorage.setItem("installer_supabase_service_key",A),localStorage.setItem("installer_supabase_url",w);const{createClient:xe}=await Dr(async()=>{const{createClient:ft}=await Promise.resolve().then(()=>W8);return{createClient:ft}},void 0),Pe=xe(w,k);console.log(" Reloading schema cache...");const{error:tt}=await Pe.rpc("exec_sql",{sql:"NOTIFY pgrst, 'reload schema';"});tt&&(console.warn(" exec_sql not available, trying alternative method..."),await Pe.from("contents").select("id").limit(0)),console.log(" Schema cache reloaded successfully"),console.log(" Validating license with Central Authority...");const Ve="https://bcmnryxjweiovrwmztpn.supabase.co/functions/v1/validate-license";let rt,Ze=m,rr=0;for(;rr<2;)try{const ca=await fetch(Ve,{method:"POST",headers:{"Content-Type":"application/json",apikey:void 0,Authorization:"Bearer undefined"},body:JSON.stringify({license_key:s,installation_id:Ze,current_domain:O||window.location.hostname,register:!0})});if(rt=await ca.json(),console.log(" Validation Response:",rt),!ca.ok||!rt.valid){const zr=rt.message||"Licena invlida ou bloqueada pelo servidor central.";if(zr.includes("installations_installation_id_key")||zr.includes("duplicate key")){console.warn(" Installation ID Collision detected. Regenerating ID...");const La=crypto.randomUUID();localStorage.setItem("installation_id",La),Ze=La,p(La),rr++;continue}throw new Error(zr)}console.log(" License validated:",rt);break}catch(ft){if(rr>=1||!ft.message.includes("duplicate")&&!ft.message.includes("installations_installation_id_key")){console.error(" Validation Failed:",ft),alert(`Falha na validao da licena: ${ft.message}`),N(!1);return}}console.log(" Injecting validated license into local database...");const Br=xe(w,A),sn={key:s,client_email:u||"admin@local.com",client_name:rt.license.client_name||"Admin User",status:"active",plan:rt.license.plan||"commercial",created_at:new Date().toISOString(),activated_at:new Date().toISOString(),allowed_domain:O||window.location.hostname,expires_at:rt.license.expires_at||null},{error:Kt}=await Br.from("licenses").insert(sn).select().maybeSingle();Kt?Kt.message.includes("duplicate")?console.log(" License already exists locally."):console.warn(" License injection warning:",Kt.message):console.log(" License synced successfully."),console.log(" Creating storage buckets...");const ea=["products","contents","checkouts","member-areas","avatars"];for(const ft of ea){const{error:ca}=await Br.storage.createBucket(ft,{public:!0});ca&&!ca.message.includes("already exists")&&(console.warn(` Failed to create bucket ${ft}:`,ca.message),await Br.rpc("exec_sql",{sql:`INSERT INTO storage.buckets (id, name, public) VALUES ('${ft}', '${ft}', true) ON CONFLICT (id) DO UPDATE SET public = true;`}))}console.log(" Storage buckets verified.");const Wt=O||window.location.hostname;localStorage.setItem("installation_domain",Wt),console.log(` Installation domain saved: ${Wt}`);try{const{error:ft}=await Br.from("domains").insert({domain:Wt,status:"active",type:"installation",usage:"admin",verified_at:new Date().toISOString()}).select().maybeSingle();ft&&!ft.message.includes("duplicate")?console.warn(" Failed to register installation domain:",ft.message):console.log(" Installation domain registered in database.")}catch(ft){console.warn(" Error registering installation domain:",ft)}try{console.log(` Saving Installation ID to database: ${Ze}`);const{error:ft}=await Br.from("app_config").insert({key:"installation_id",value:JSON.stringify(Ze)});ft&&!ft.message.includes("duplicate")?console.warn(" Failed to save installation_id:",ft.message):(console.log(" Installation ID secured in database."),localStorage.setItem("installation_id",Ze))}catch(ft){console.warn(" Error saving installation config:",ft)}}catch(xe){console.warn(" Error during setup:",xe),N(!1)}N(!1),e("deploy")},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Anon Public Key"}),a.jsx("input",{type:"text",value:k,onChange:Ee=>S(Ee.target.value),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white text-xs font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Service Role Key (Secret)"}),a.jsx("input",{type:"text",value:A,onChange:Ee=>C(Ee.target.value),required:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white text-xs font-mono"})]}),a.jsx("button",{type:"submit",className:"w-full bg-[#3ECF8E] text-black font-bold py-3 rounded-xl mt-2 hover:bg-[#3ECF8E]/90 flex justify-center items-center gap-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:["Salvar e Continuar ",a.jsx(ha,{className:"w-4 h-4"})]})})]})]}),t==="deploy"&&a.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 text-white shadow-lg",children:a.jsx(Yt,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Publicar na Vercel"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Crie seu site automaticamente na Vercel."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-black/40 rounded-xl p-6 border border-white/10",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-4 font-bold",children:"1. Copie e cole estas chaves ao fazer o deploy:"}),a.jsx("div",{className:"bg-black/50 rounded-xl p-4 border border-white/10 space-y-3 mb-6",children:[{k:"VITE_SUPABASE_URL",v:w},{k:"VITE_SUPABASE_ANON_KEY",v:k},{k:"SUPABASE_SERVICE_ROLE_KEY",v:A}].map((Ee,xe)=>a.jsxs("div",{className:"flex items-center justify-between gap-3 bg-white/5 p-3 rounded-xl cursor-pointer hover:bg-white/10 group transition-all",onClick:()=>Z(Ee.v,Ee.k),children:[a.jsxs("div",{className:"overflow-hidden flex-1",children:[a.jsx("div",{className:"text-xs text-gray-400 font-mono mb-1",children:Ee.k}),a.jsx("div",{className:"text-xs text-green-400 font-mono truncate",children:Ee.v||"..."})]}),a.jsx("div",{className:`p - 2 rounded - lg transition - all ${B===Ee.k?"bg-green-500/20 text-green-500 scale-110":"bg-white/5 text-gray-500 group-hover:bg-white/10 group-hover:text-white"} `,children:B===Ee.k?a.jsx(pt,{className:"w-4 h-4"}):a.jsx(Pt,{className:"w-4 h-4"})})]},xe))}),a.jsxs("a",{href:Se,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-white text-black font-bold py-4 rounded-xl flex items-center justify-center gap-3 hover:bg-gray-100 transition-all shadow-xl shadow-white/10 group",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 1155 1000",fill:"black",children:a.jsx("path",{d:"M577.344 0L1154.69 1000H0L577.344 0Z"})}),"Deploy to Vercel",a.jsx(Oa,{className:"w-4 h-4 opacity-50 group-hover:opacity-100"})]})]}),a.jsxs("button",{onClick:()=>e("vercel_config"),className:"w-full bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black font-bold py-3 rounded-xl flex items-center justify-center gap-2",children:["J fiz o Deploy, quero configurar ",a.jsx(ha,{className:"w-4 h-4"})]})]})]}),t==="vercel_config"&&a.jsxs("div",{className:"glass-panel border border-white/10 bg-white/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-6 text-purple-400 shadow-lg shadow-purple-500/10",children:a.jsx(Uu,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:"Configurao Ps-Deploy"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Adicione estas variveis no painel da Vercel para ativar o sistema."}),a.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl mb-8 flex items-start gap-3",children:[a.jsx(Wi,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-yellow-200",children:["Adicione as variveis em: ",a.jsx("strong",{children:"Project Settings"})," ",">"," ",a.jsx("strong",{children:"Environment Variables"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{children:a.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:["1. VERCEL_TOKEN",a.jsxs("a",{href:"https://vercel.com/account/settings/tokens",target:"_blank",className:"text-xs font-normal text-purple-400 hover:text-purple-300 bg-purple-500/10 px-2 py-1 rounded-full flex items-center gap-1 transition-colors",children:["Gerar Token ",a.jsx(Oa,{className:"w-3 h-3"})]})]})})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-gray-400 font-mono text-sm flex items-center",children:"VERCEL_TOKEN"}),a.jsxs("button",{onClick:()=>Z("VERCEL_TOKEN","VERCEL_TOKEN"),className:`px-6 rounded-xl font-bold transition-all duration-200 flex items-center gap-2 ${B==="VERCEL_TOKEN"?"bg-[#38BB81] text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[B==="VERCEL_TOKEN"?a.jsx(pt,{className:"w-5 h-5 animate-bounce"}):a.jsx(Pt,{className:"w-5 h-5"}),B==="VERCEL_TOKEN"?"Copiado!":"Copiar"]})]})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{children:a.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:["2. VERCEL_PROJECT_ID",a.jsxs("a",{href:"https://vercel.com/account/settings",target:"_blank",className:"text-xs font-normal text-purple-400 hover:text-purple-300 bg-purple-500/10 px-2 py-1 rounded-full flex items-center gap-1 transition-colors",children:["Ver Configuraes ",a.jsx(Oa,{className:"w-3 h-3"})]})]})})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-gray-400 font-mono text-sm flex items-center",children:"VERCEL_PROJECT_ID"}),a.jsxs("button",{onClick:()=>Z("VERCEL_PROJECT_ID","VERCEL_PROJECT_ID"),className:`px-6 rounded-xl font-bold transition-all duration-200 flex items-center gap-2 ${B==="VERCEL_PROJECT_ID"?"bg-[#38BB81] text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[B==="VERCEL_PROJECT_ID"?a.jsx(pt,{className:"w-5 h-5 animate-bounce"}):a.jsx(Pt,{className:"w-5 h-5"}),B==="VERCEL_PROJECT_ID"?"Copiado!":"Copiar"]})]})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{children:a.jsx("h3",{className:"text-white font-bold flex items-center gap-2",children:"3. VITE_LICENSE_KEY (Importante)"})})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-gray-400 font-mono text-sm flex items-center truncate",children:s}),a.jsxs("button",{onClick:()=>Z(s,"VITE_LICENSE_KEY"),className:`px-6 rounded-xl font-bold transition-all duration-200 flex items-center gap-2 ${B==="VITE_LICENSE_KEY"?"bg-[#38BB81] text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:[B==="VITE_LICENSE_KEY"?a.jsx(pt,{className:"w-5 h-5 animate-bounce"}):a.jsx(Pt,{className:"w-5 h-5"}),B==="VITE_LICENSE_KEY"?"Copiado!":"Copiar"]})]})]}),a.jsx("div",{className:"h-8"}),a.jsxs("form",{onSubmit:Re,className:"pt-4 border-t border-white/10",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Cole a URL do seu site para finalizar (Ex: minhaloja.vercel.app)"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Yt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),a.jsx("input",{type:"text",value:O,onChange:Ee=>R(Ee.target.value),placeholder:"minhaloja.vercel.app",className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 pl-12 pr-4 text-white focus:border-white/30 outline-none transition-all",required:!0})]}),a.jsxs("button",{type:"submit",className:"bg-[#3ECF8E] hover:bg-[#3ECF8E]/90 text-black px-8 rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg shadow-[#3ECF8E]/20",children:["Concluir ",a.jsx(Vt,{className:"w-5 h-5"})]})]})]})]})]}),t==="success"&&a.jsxs("div",{className:"glass-panel border border-green-500/20 bg-green-500/5 backdrop-blur-xl rounded-2xl p-8 shadow-2xl animate-in fade-in slide-in-from-bottom-4 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6 text-green-500 shadow-lg shadow-green-500/20 mx-auto animate-in zoom-in duration-300",children:a.jsx(pt,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Instalao Concluda!"}),a.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Parabns! Seu Super Checkout est configurado."}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-6 mb-6 border border-white/5 text-center",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Painel Administrativo:"}),a.jsx("a",{href:`https://${localStorage.getItem("installer_vercel_domain")||O}`,target:"_blank",rel:"noopener noreferrer",className:"text-xl font-bold text-primary hover:underline font-mono",children:localStorage.getItem("installer_vercel_domain")||O})]}),a.jsxs("button",{onClick:()=>{const Ee=localStorage.getItem("installer_vercel_domain")||O,xe=window.location.host,Pe={url:localStorage.getItem("installer_supabase_url")||w,anon:localStorage.getItem("installer_supabase_anon_key")||k,service:localStorage.getItem("installer_supabase_service_key")||A,license:localStorage.getItem("installer_license_key")||s,org:localStorage.getItem("installer_org_slug")||l,install_id:localStorage.getItem("installation_id")||m},Ve=`#installer_config=${btoa(JSON.stringify(Pe))}`;Ee&&!xe.includes(Ee)?window.open(`https://${Ee}/setup${Ve}`,"_blank"):window.location.href="/setup"},className:"w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary/20 hover:shadow-primary/40 hover:-translate-y-1",children:["Acessar meu Sistema",a.jsx(ha,{className:"w-5 h-5"})]})]})]})]}),X&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"w-full max-w-4xl bg-[#0F0F13] border border-white/10 rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Nf,{className:"w-5 h-5 text-[#3ECF8E]"}),"SQL de Migrao (Supabase)"]}),a.jsx("button",{onClick:()=>ue(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(Mr,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6 bg-black/40",children:a.jsx("div",{className:"relative",children:a.jsx("pre",{className:"text-xs font-mono text-gray-300 whitespace-pre-wrap break-all",children:cC})})}),a.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-[#0F0F13] rounded-b-2xl",children:[a.jsx("button",{onClick:()=>ue(!1),className:"px-6 py-3 rounded-xl font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Fechar"}),a.jsxs("button",{onClick:()=>Z(cC,"sql_modal"),className:`px-8 py-3 rounded-xl font-bold shadow-lg flex items-center gap-2 transition-all ${B==="sql_modal"?"bg-[#38BB81] text-white shadow-[#38BB81]/20 scale-105":"bg-primary hover:bg-primary/90 text-white shadow-primary/20 hover:shadow-primary/40"}`,children:[B==="sql_modal"?a.jsx(pt,{className:"w-4 h-4"}):a.jsx(Pt,{className:"w-4 h-4"}),B==="sql_modal"?"Copiado!":"Copiar SQL Completo"]})]})]})}),a.jsx($r,{isOpen:z.isOpen,onClose:()=>oe(Ee=>({...Ee,isOpen:!1})),title:z.title,message:z.message,variant:z.variant,buttonText:"Entendi"}),a.jsx(E1,{isOpen:!!re,onClose:()=>{he(null)},offerSlug:re})]})}const tce=()=>a.jsx(Nt,{children:a.jsxs("div",{className:"max-w-5xl mx-auto py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Documentao de Webhooks"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Guia completo para integrar o Super Checkout com sistemas externos."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-2",children:[a.jsx("a",{href:"#intro",className:"block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors",children:"Introduo"}),a.jsx("a",{href:"#security",className:"block text-sm font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Segurana & Assinatura"}),a.jsx("a",{href:"#incoming",className:"block text-sm font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Webhooks de Entrada"}),a.jsx("a",{href:"#outgoing",className:"block text-sm font-medium text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Webhooks de Sada"})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-12",children:[a.jsxs("section",{id:"intro",className:"space-y-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-primary"})," Introduo"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Os Webhooks permitem que o Super Checkout se comunique em tempo real com outros sistemas. Voc pode configurar notificaes para eventos como vendas aprovadas, carrinhos abandonados, ou receber comandos para liberar acessos e atualizar pedidos."}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-blue-400 text-sm",children:[a.jsx("strong",{children:"Nota:"})," Todas as requisies so enviadas como JSON e esperam um status 200 OK para confirmao."]})})]}),a.jsxs("section",{id:"security",className:"space-y-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(_r,{className:"w-6 h-6 text-primary"})," Segurana"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Para garantir que os dados recebidos vieram realmente do Super Checkout, ns enviamos um hash de assinatura no cabealho de cada requisio."}),a.jsxs(De,{children:[a.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Cabealho de Assinatura"}),a.jsx("code",{className:"block bg-black/50 p-3 rounded text-sm text-green-400 font-mono mb-4",children:"X-Super-Checkout-Signature: <sua-chave-secreta>"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Voc pode (e deve) verificar se este cabealho corresponde  chave secreta configurada no painel do seu webhook."})]})]}),a.jsxs("section",{id:"incoming",className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 dark:border-white/10 pb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Vt,{className:"w-6 h-6 text-green-500"})," Webhooks de Entrada"]}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Use nossa API para enviar comandos para o Super Checkout."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[a.jsx("code",{className:"text-primary font-bold",children:"pedido.atualizar"}),a.jsx("span",{className:"text-xs text-gray-500",children:"POST"})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-300",children:"Atualiza o status de um pedido existente."}),a.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:a.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap",children:`{
  "event": "pedido.atualizar",
  "order_id": "ord_123456789",
  "status": "paid" // pending, paid, failed, canceled, refunded
}`})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[a.jsx("code",{className:"text-primary font-bold",children:"acesso.liberar"}),a.jsx("span",{className:"text-xs text-gray-500",children:"POST"})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-300",children:"Libera acesso a um produto para um usurio especfico."}),a.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:a.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap",children:`{
  "event": "acesso.liberar",
  "email": "cliente@email.com",
  "product_id": "prod_abc123"
}`})})]})]})]})]}),a.jsxs("section",{id:"outgoing",className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 dark:border-white/10 pb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Vt,{className:"w-6 h-6 text-blue-500 transform rotate-180"})," Webhooks de Sada"]}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Eventos enviados pelo Super Checkout para o seu URL configurado."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[a.jsx("code",{className:"text-primary font-bold",children:"pagamento.aprovado"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Enviado quando uma venda  confirmada"})]}),a.jsx("div",{className:"p-6 space-y-4",children:a.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:a.jsx("pre",{className:"text-xs text-blue-300 font-mono whitespace-pre-wrap",children:`{
  "event": "pagamento.aprovado",
  "order_id": "ord_987654",
  "amount": 197.00,
  "status": "paid",
  "customer": {
     "name": "Joo da Silva",
     "email": "joao@exemplo.com",
     "phone": "5511999998888",
     "cpf": "123.456.789-00"
  },
  "items": [
     { "name": "Curso React Pro", "qty": 1, "price": 197.00 }
  ],
  "created_at": "2023-10-27T14:30:00Z"
}`})})})]}),a.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[a.jsx("code",{className:"text-primary font-bold",children:"checkout.abandonado"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Enviado 15min aps abandono"})]}),a.jsx("div",{className:"p-6 space-y-4",children:a.jsx("div",{className:"bg-black/80 rounded-lg p-4",children:a.jsx("pre",{className:"text-xs text-blue-300 font-mono whitespace-pre-wrap",children:`{
  "event": "checkout.abandonado",
  "checkout_id": "chk_123456",
  "recovered_url": "https://seu-checkout.com/r/abc123",
  "customer": {
     "email": "joao@exemplo.com",
     "name": "Joo"
  }
}`})})})]})]})]})]})]})]})}),dC=({onConfigLoaded:t})=>{const[e,r]=b.useState("checking"),[n,s]=b.useState(""),[i,l]=b.useState(""),[d,u]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const p=localStorage.getItem("installer_supabase_url"),x=localStorage.getItem("installer_supabase_anon_key"),v=localStorage.getItem("installer_license_key");if(p&&x&&v){r("found");return}const y=void 0,N=void 0,w=void 0;console.log("[ConfigLoader] Fetching remote configuration...");const E=await fetch("/api/config");if(!E.ok)throw new Error(`Server returned ${E.status}`);const k=await E.json();if(k.url&&k.anon)localStorage.setItem("installer_supabase_url",k.url),localStorage.setItem("installer_supabase_anon_key",k.anon),k.license?(localStorage.setItem("installer_license_key",k.license),console.log("[ConfigLoader] Config secured. Reloading..."),window.location.reload()):(console.warn("[ConfigLoader] Missing License Key from Server. Enabling Manual Recovery."),u(!0),r("error"),s("A licena no foi encontrada nas variveis de ambiente."));else throw new Error("Invalid config response")}catch(p){console.error("[ConfigLoader] Failed to fetch config:",p),r("error"),s(p.message||"Unknown error")}})()},[t]);const f=()=>{i.trim()&&(localStorage.setItem("installer_license_key",i.trim()),window.location.reload())};if(e==="error"){const m=d;return a.jsx("div",{className:"fixed inset-0 bg-[#09090B] flex items-center justify-center p-4 z-[9999]",children:a.jsxs("div",{className:"max-w-md w-full bg-[#18181B] border border-red-500/20 rounded-2xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:m?a.jsx(Hn,{className:"w-8 h-8"}):a.jsx(Ir,{className:"w-8 h-8"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:m?"Recuperao de Acesso":"Erro de Configurao"}),a.jsx("p",{className:"text-gray-400 mb-6",children:m?"A chave da licena no foi encontrada. Insira sua chave para restaurar o acesso.":"No foi possvel carregar as configuraes do sistema."}),m?a.jsxs("div",{className:"mb-6 text-left",children:[a.jsx("label",{className:"text-xs text-gray-500 uppercase font-bold mb-2 block",children:"Chave da Licena"}),a.jsx("input",{type:"text",value:i,onChange:p=>l(p.target.value),placeholder:"Insira sua License Key (UUID)",className:"w-full bg-black/40 border border-gray-800 rounded-lg p-3 text-white focus:border-red-500 outline-none font-mono text-sm"}),a.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Voc pode encontrar essa chave no seu painel de controle ou no email de confirmao."})]}):a.jsx("div",{className:"bg-black/40 rounded-lg p-4 mb-6 font-mono text-xs text-red-400 text-left overflow-auto",children:n}),m?a.jsxs("button",{onClick:f,disabled:!i,className:"w-full bg-red-600 text-white font-bold py-3 rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Bn,{className:"w-4 h-4"})," Salvar e Entrar"]}):a.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-white text-black font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Bn,{className:"w-4 h-4"})," Tentar Novamente"]}),a.jsx("div",{className:"mt-4",children:a.jsx("a",{href:"/installer",className:"text-xs text-gray-500 hover:text-white underline",children:"Ir para o Instalador"})})]})})}return e==="found"?null:a.jsx("div",{className:"fixed inset-0 bg-[#09090B] flex items-center justify-center z-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(lt,{className:"w-10 h-10 text-primary animate-spin mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Conectando ao Sistema..."}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Obtendo configuraes do servidor"})]})})};class uC extends b.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){var e;return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-[#0D1118] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[#1a1e26] border border-red-500/20 rounded-xl p-8 max-w-lg w-full shadow-2xl",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"Ocorreu um erro inesperado que impediu o carregamento da aplicao."}),a.jsx("div",{className:"bg-black/30 p-4 rounded-lg mb-6 overflow-auto max-h-48",children:a.jsx("code",{className:"text-xs text-red-400 font-mono",children:(e=this.state.error)==null?void 0:e.message})}),a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const rce=()=>{const[t,e]=b.useState(!0),[r,n]=b.useState(null),[s,i]=b.useState(null),[l,d]=b.useState(null);return b.useEffect(()=>{const u=async()=>{const m=window.location.hostname;if(console.log("Current hostname:",m),m.includes("localhost")||m.includes("127.0.0.1")||m.includes(".vercel.app")||m.includes(".webcontainer.io")||m==="super-checkout.vercel.app"){console.log("System domain detected, skipping custom domain check."),e(!1);return}try{console.log("Checking custom domain in DB...");const p=await ce.getDomainByHostname(m);if(console.log("Domain found:",p),p){if(p.status!=="active"){console.log("Domain pending. Attempting auto-verification...");try{const y=await(await fetch(`/api/domains/verify?domain=${m}`)).json();if(y.verified&&y.status==="active"){console.log("Auto-verification successful! Reloading..."),window.location.reload();return}}catch(v){console.error("Auto-verification failed:",v)}d("Domnio ainda em verificao. Aguarde a propagao do DNS."),e(!1);return}const x=window.location.pathname;if(p.usage===kt.CHECKOUT){if(x.startsWith("/thank-you")||x.startsWith("/pagamento")||x.startsWith("/upsell")){e(!1),n("system");return}const v=x.substring(1),y=await ce.getCheckoutByDomainAndSlug(p.id,v);y?n(y.id):d("Checkout no encontrado neste domnio."),e(!1);return}if(p.usage===kt.MEMBER_AREA){const v=await ce.getMemberAreaByDomain(p.id);v?i(v.slug):d("Nenhuma rea de Membros configurada para este domnio."),e(!1);return}if(p.usage===kt.SYSTEM){console.log("System domain detected, allowing standard routing."),e(!1);return}console.log("Unknown domain usage, allowing standard routing."),e(!1)}else d("Domnio no configurado no sistema."),e(!1)}catch(p){console.error("Erro ao verificar domnio:",p),d("Erro ao carregar configurao do domnio."),e(!1)}},f=setTimeout(()=>{console.warn("DomainDispatcher: Check timed out, forcing standard load."),e(!1)},4e3);return u().finally(()=>clearTimeout(f)),()=>clearTimeout(f)},[]),t?a.jsx(Qm,{}):l?a.jsxs("div",{className:"min-h-screen bg-[#0F0F13] flex flex-col items-center justify-center text-white p-4 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 text-red-500",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),a.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),a.jsx("h1",{className:"text-xl font-bold mb-2",children:"Acesso Indisponvel"}),a.jsx("p",{className:"text-gray-400 max-w-md",children:l})]}):r?a.jsxs(c0,{children:[a.jsx(Me,{path:"/",element:a.jsx(ov,{checkoutId:r})}),a.jsx(Me,{path:"/:slug",element:a.jsx(ov,{checkoutId:r})}),a.jsx(Me,{path:"/pagamento/pix/:orderId",element:a.jsx(KA,{})}),a.jsx(Me,{path:"/upsell/:orderId",element:a.jsx(eC,{})}),a.jsx(Me,{path:"/thank-you/:orderId",element:a.jsx(tC,{})}),a.jsx(Me,{path:"*",element:a.jsx(Rf,{to:"/",replace:!0})})]}):s?a.jsxs(c0,{children:[a.jsx(Me,{path:"/login",element:a.jsx(rC,{forcedSlug:s})}),a.jsxs(Me,{path:"/",element:a.jsx(aC,{forcedSlug:s}),children:[a.jsx(Me,{index:!0,element:a.jsx(zd,{})}),a.jsx(Me,{path:"products",element:a.jsx(nC,{})}),a.jsx(Me,{path:"my-products",element:a.jsx(sC,{})}),a.jsx(Me,{path:"faq",element:a.jsx(iC,{})}),a.jsx(Me,{path:"my-list",element:a.jsx(zd,{})}),a.jsx(Me,{path:"content/:id",element:a.jsx(WA,{})}),a.jsx(Me,{path:"profile",element:a.jsx(oC,{})})]}),a.jsx(Me,{path:"/course/:id",element:a.jsx(YA,{forcedSlug:s})}),a.jsx(Me,{path:"*",element:a.jsx(Rf,{to:"/",replace:!0})})]}):a.jsxs(c0,{children:[a.jsx(Me,{path:"/setup",element:a.jsx(Ile,{})}),a.jsx(Me,{path:"/debug-auth",element:a.jsx(t$,{})}),a.jsx(Me,{path:"/login",element:a.jsx(Rle,{})}),a.jsx(Me,{path:"/register",element:a.jsx(Ple,{})}),a.jsx(Me,{path:"/update-password",element:a.jsx(Dle,{})}),a.jsx(Me,{path:"/pagamento/pix/:orderId",element:a.jsx(KA,{})}),a.jsx(Me,{path:"/upsell/:orderId",element:a.jsx(eC,{})}),a.jsx(Me,{path:"/thank-you/:orderId",element:a.jsx(tC,{})}),a.jsx(Me,{path:"/c/:id",element:a.jsx(ov,{})}),a.jsx(Me,{path:"/installer",element:a.jsx(ece,{})}),a.jsx(Me,{path:"/admin",element:a.jsx(Dt,{children:a.jsx(Vre,{})})}),a.jsx(Me,{path:"/admin/business-settings",element:a.jsx(Dt,{children:a.jsx(Nie,{})})}),a.jsx(Me,{path:"/admin/products",element:a.jsx(Dt,{children:a.jsx(Yre,{})})}),a.jsx(Me,{path:"/admin/offers",element:a.jsx(Dt,{children:a.jsx(Wre,{})})}),a.jsx(Me,{path:"/admin/checkouts",element:a.jsx(Dt,{children:a.jsx(Xre,{})})}),a.jsx(Me,{path:"/admin/checkouts/edit/:id",element:a.jsx(Dt,{children:a.jsx(Kre,{})})}),a.jsx(Me,{path:"/admin/gateways",element:a.jsx(Dt,{children:a.jsx(Jre,{})})}),a.jsx(Me,{path:"/admin/domains",element:a.jsx(Dt,{children:a.jsx(Qre,{})})}),a.jsx(Me,{path:"/admin/settings",element:a.jsx(Dt,{children:a.jsx(Zre,{})})}),a.jsx(Me,{path:"/admin/orders",element:a.jsx(Dt,{children:a.jsx(pie,{})})}),a.jsx(Me,{path:"/admin/webhooks",element:a.jsx(Dt,{children:a.jsx(xie,{})})}),a.jsx(Me,{path:"/admin/licenses",element:a.jsx(Dt,{children:a.jsx(bie,{})})}),a.jsx(Me,{path:"/admin/system-licenses",element:a.jsx(Dt,{children:a.jsx(jie,{})})}),a.jsx(Me,{path:"/admin/free-users",element:a.jsx(Dt,{children:a.jsx(Qie,{})})}),a.jsx(Me,{path:"/admin/free-users/:id",element:a.jsx(Dt,{children:a.jsx(aoe,{})})}),a.jsx(Me,{path:"/admin/installations",element:a.jsx(Dt,{children:a.jsx(_ie,{})})}),a.jsx(Me,{path:"/admin/partner-dashboard",element:a.jsx(Dt,{children:a.jsx(noe,{})})}),a.jsx(Me,{path:"/admin/marketing",element:a.jsx(Dt,{children:a.jsx(soe,{})})}),a.jsx(Me,{path:"/admin/integrations",element:a.jsx(Dt,{children:a.jsx(ooe,{})})}),a.jsx(Me,{path:"/admin/notifications",element:a.jsx(Dt,{children:a.jsx(Ioe,{})})}),a.jsx(Me,{path:"/admin/members",element:a.jsx(Dt,{children:a.jsx(Poe,{})})}),a.jsx(Me,{path:"/admin/members/:id",element:a.jsx(Dt,{children:a.jsx(VA,{})})}),a.jsx(Me,{path:"/admin/members/:id",element:a.jsx(Dt,{children:a.jsx(VA,{})})}),a.jsx(Me,{path:"/admin/contents/:id",element:a.jsx(Dt,{children:a.jsx(fle,{})})}),a.jsx(Me,{path:"/admin/activation-content",element:a.jsx(Dt,{children:a.jsx(Qle,{})})}),a.jsx(Me,{path:"/activate",element:a.jsx(Lle,{})}),a.jsx(Me,{path:"/activate/setup",element:a.jsx(Xle,{})}),a.jsx(Me,{path:"/docs/webhooks",element:a.jsx(Dt,{children:a.jsx(tce,{})})}),a.jsx(Me,{path:"/app/:slug/login",element:a.jsx(rC,{})}),a.jsxs(Me,{path:"/app/:slug",element:a.jsx(aC,{}),children:[a.jsx(Me,{index:!0,element:a.jsx(zd,{})}),a.jsx(Me,{path:"products",element:a.jsx(nC,{})}),a.jsx(Me,{path:"my-products",element:a.jsx(sC,{})}),a.jsx(Me,{path:"faq",element:a.jsx(iC,{})}),a.jsx(Me,{path:"my-list",element:a.jsx(zd,{})}),a.jsx(Me,{path:"new",element:a.jsx(zd,{})}),a.jsx(Me,{path:"content/:id",element:a.jsx(WA,{})}),a.jsx(Me,{path:"profile",element:a.jsx(oC,{})})]}),a.jsx(Me,{path:"/app/:slug/course/:id",element:a.jsx(YA,{})}),a.jsx(Me,{path:"/",element:a.jsx(Rf,{to:"/admin",replace:!0})})]})},ace=()=>{const[t,e]=se.useState(!0);return se.useEffect(()=>{(()=>{if(window.location.hash.includes("installer_config="))try{const i=window.location.hash.split("installer_config=")[1].split("&")[0],l=decodeURIComponent(i);let d;try{d=JSON.parse(atob(l))}catch{d=JSON.parse(atob(i))}console.log(" Hydrating Cross-Domain Config..."),d.url&&localStorage.setItem("installer_supabase_url",d.url),d.anon&&localStorage.setItem("installer_supabase_anon_key",d.anon),d.service&&localStorage.setItem("installer_supabase_service_key",d.service),d.license&&localStorage.setItem("installer_license_key",d.license),d.org&&localStorage.setItem("installer_org_slug",d.org),d.install_id&&localStorage.setItem("installation_id",d.install_id),window.location.hash="",window.location.reload();return}catch(s){console.error("Failed to inject config",s)}e(!1)})()},[]),t?a.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-[#05050A] text-white",children:"Carregando Configuraes..."}):typeof window<"u"&&(!!localStorage.getItem("installer_supabase_url")||!1)&&(!!localStorage.getItem("installer_license_key")||!1)?a.jsxs(uC,{children:[a.jsx(Jie,{richColors:!0,position:"top-right",theme:localStorage.getItem("theme")==="dark"?"dark":"light"}),a.jsx(dC,{onConfigLoaded:()=>window.location.reload()}),a.jsx(r$,{children:a.jsx(e$,{children:a.jsx(mte,{children:a.jsx(T6,{children:a.jsx(Zle,{children:a.jsx(rce,{})})})})})})]}):a.jsx(uC,{children:a.jsx(dC,{onConfigLoaded:()=>window.location.reload()})})},HI=document.getElementById("root");if(!HI)throw new Error("Could not find root element to mount to");const nce=mL.createRoot(HI);nce.render(a.jsx(ace,{}));
